(self.webpackChunkshell=self.webpackChunkshell||[]).push([[792],{152(on,ct,$){"use strict";$.d(ct,{B:()=>ve});var L=$(3236),r=$(9974),R=$(4360);function ve(oe,ke=L.E){return(0,r.N)((Ae,ee)=>{let v=null,m=null,ie=null;const xe=()=>{if(v){v.unsubscribe(),v=null;const Le=m;m=null,ee.next(Le)}};function t(){const Le=ie+oe,Se=ke.now();if(Se<Le)return v=this.schedule(void 0,Le-Se),void ee.add(v);xe()}Ae.subscribe((0,R._)(ee,Le=>{m=Le,ie=ke.now(),v||(v=ke.schedule(t,oe),ee.add(v))},()=>{xe(),ee.complete()},void 0,()=>{m=v=null}))})}},177(on,ct,$){"use strict";$.d(ct,{AJ:()=>ve,UE:()=>ke,Xr:()=>v});var L=$(375);const ve="browser";function ke(rt){return rt===ve}let v=(()=>{class rt{static \u0275prov=(0,L.jDH)({token:rt,providedIn:"root",factory:()=>new m((0,L.WQX)(L.qQL),window)})}return rt})();class m{document;window;offset=()=>[0,0];constructor(Wt,Qt){this.document=Wt,this.window=Qt}setOffset(Wt){this.offset=Array.isArray(Wt)?()=>Wt:Wt}getScrollPosition(){return[this.window.scrollX,this.window.scrollY]}scrollToPosition(Wt,Qt){this.window.scrollTo({...Qt,left:Wt[0],top:Wt[1]})}scrollToAnchor(Wt,Qt){const Cn=function ie(rt,Wt){const Qt=rt.getElementById(Wt)||rt.getElementsByName(Wt)[0];if(Qt)return Qt;if("function"==typeof rt.createTreeWalker&&rt.body&&"function"==typeof rt.body.attachShadow){const Cn=rt.createTreeWalker(rt.body,NodeFilter.SHOW_ELEMENT);let ge=Cn.currentNode;for(;ge;){const Ye=ge.shadowRoot;if(Ye){const ot=Ye.getElementById(Wt)||Ye.querySelector(`[name="${Wt}"]`);if(ot)return ot}ge=Cn.nextNode()}}return null}(this.document,Wt);Cn&&(this.scrollToElement(Cn,Qt),Cn.focus())}setHistoryScrollRestoration(Wt){try{this.window.history.scrollRestoration=Wt}catch{console.warn((0,L.OsK)(2400,!1))}}scrollToElement(Wt,Qt){const Cn=Wt.getBoundingClientRect(),ge=Cn.left+this.window.pageXOffset,Ye=Cn.top+this.window.pageYOffset,ot=this.offset();this.window.scrollTo({...Qt,left:ge-ot[0],top:Ye-ot[1]})}}},274(on,ct,$){"use strict";$.d(ct,{H:()=>R});var L=$(1397),r=$(8071);function R(ve,oe){return(0,r.T)(oe)?(0,L.Z)(ve,oe,1):(0,L.Z)(ve,1)}},332(on,ct,$){var L;on.exports=(L=$(7656),$(2414),L.pad.AnsiX923={pad:function(r,R){var ve=r.sigBytes,oe=4*R,ke=oe-ve%oe,Ae=ve+ke-1;r.clamp(),r.words[Ae>>>2]|=ke<<24-Ae%4*8,r.sigBytes+=ke},unpad:function(r){r.sigBytes-=255&r.words[r.sigBytes-1>>>2]}},L.pad.Ansix923)},345(on,ct,$){"use strict";$.d(ct,{hE:()=>oe,up:()=>at});var L=$(375),r=$(5547);let oe=(()=>{class Bt{_doc;constructor(ht){this._doc=ht}getTitle(){return this._doc.title}setTitle(ht){this._doc.title=ht||""}static \u0275fac=function(Ke){return new(Ke||Bt)(L.KVO(L.qQL))};static \u0275prov=L.jDH({token:Bt,factory:Bt.\u0275fac,providedIn:"root"})}return Bt})(),at=(()=>{class Bt{static \u0275fac=function(Ke){return new(Ke||Bt)};static \u0275prov=L.jDH({token:Bt,factory:function(Ke){let Ge=null;return Ge=Ke?new(Ke||Bt):L.KVO(ze),Ge},providedIn:"root"})}return Bt})(),ze=(()=>{class Bt extends at{_doc;constructor(ht){super(),this._doc=ht}sanitize(ht,Ke){if(null==Ke)return null;switch(ht){case r.WPN.NONE:return Ke;case r.WPN.HTML:return(0,r.iWE)(Ke,"HTML")?(0,r.aCM)(Ke):(0,r.wr$)(this._doc,String(Ke)).toString();case r.WPN.STYLE:return(0,r.iWE)(Ke,"Style")?(0,r.aCM)(Ke):Ke;case r.WPN.SCRIPT:if((0,r.iWE)(Ke,"Script"))return(0,r.aCM)(Ke);throw new L.buA(5200,!1);case r.WPN.URL:return(0,r.iWE)(Ke,"URL")?(0,r.aCM)(Ke):(0,r.gil)(String(Ke));case r.WPN.RESOURCE_URL:if((0,r.iWE)(Ke,"ResourceURL"))return(0,r.aCM)(Ke);throw new L.buA(5201,!1);default:throw new L.buA(5202,!1)}}bypassSecurityTrustHtml(ht){return(0,r.PYC)(ht)}bypassSecurityTrustStyle(ht){return(0,r.rAh)(ht)}bypassSecurityTrustScript(ht){return(0,r.p2i)(ht)}bypassSecurityTrustUrl(ht){return(0,r.B1s)(ht)}bypassSecurityTrustResourceUrl(ht){return(0,r.RPW)(ht)}static \u0275fac=function(Ke){return new(Ke||Bt)(L.KVO(L.qQL))};static \u0275prov=L.jDH({token:Bt,factory:Bt.\u0275fac,providedIn:"root"})}return Bt})()},375(on,ct,$){"use strict";$.d(ct,{JEi:()=>ka,Isx:()=>Vs,EJG:()=>lr,Yrj:()=>Mr,VVG:()=>it,Y20:()=>le,SKP:()=>$t,hk6:()=>ku,eVN:()=>Is,b5C:()=>Sr,rQE:()=>zi,X5O:()=>ci,qFA:()=>Dl,qQL:()=>Nl,abz:()=>Js,tQN:()=>us,pcR:()=>ba,oMQ:()=>Po,Mlv:()=>pe,MZA:()=>Cs,M0L:()=>In,Z63:()=>qe,dTm:()=>Hs,VML:()=>Al,uvJ:()=>$o,zcH:()=>ac,bkB:()=>Zs,Wg1:()=>no,Yw1:()=>bs,jgP:()=>Bs,tcA:()=>Ce,ID:()=>zo,YEL:()=>fn,B9r:()=>Be,GBX:()=>Eo,ZTf:()=>uu,nKC:()=>oi,zZn:()=>Qa,rJ1:()=>mn,nfM:()=>sl,s6P:()=>_u,K29:()=>we,CQl:()=>Ai,p9y:()=>Ui,zSs:()=>vo,ONQ:()=>Li,hmW:()=>Vi,yAH:()=>Gi,SKi:()=>va,myG:()=>Mu,oTH:()=>xt,Czx:()=>Uo,f7T:()=>Ms,wVl:()=>Qi,GYQ:()=>Ec,u5s:()=>cc,rev:()=>Ja,Ds7:()=>Wo,e5P:()=>da,Iaj:()=>Ba,GpT:()=>er,buA:()=>Te,AQb:()=>Ru,kHH:()=>lu,jNX:()=>sn,eDl:()=>ls,qlT:()=>de,bm_:()=>Ys,RxE:()=>t,r4V:()=>Wu,ok8:()=>je,Evm:()=>du,laP:()=>at,EYC:()=>As,AbJ:()=>Su,ng7:()=>as,llW:()=>Fr,gsJ:()=>Ws,GZS:()=>ae,iYM:()=>bn,PEr:()=>wt,z7f:()=>kn,LZP:()=>On,Xln:()=>Ge,yzR:()=>Mt,TWe:()=>zt,LIA:()=>Ke,GWr:()=>yt,pbo:()=>Nt,bBq:()=>Ie,Af3:()=>po,zQk:()=>Jt,oZy:()=>Ot,tF7:()=>Er,ZFY:()=>ge,cP4:()=>Je,MdC:()=>St,XvL:()=>dt,KET:()=>me,Tkx:()=>qt,iw4:()=>Ft,tdH:()=>$u,pr_:()=>Jn,IAh:()=>Ze,U45:()=>Bt,WrV:()=>Dt,kNT:()=>mi,MI:()=>Xt,biv:()=>Ut,ZQF:()=>Xe,Cv0:()=>ht,W0r:()=>q,R2n:()=>O,O8q:()=>Ua,VKj:()=>xs,Rom:()=>I,z6V:()=>To,n$e:()=>Ht,hjC:()=>tr,Pz9:()=>bl,PQT:()=>Xr,VX4:()=>Bo,_Z$:()=>ss,N79:()=>Ya,xLP:()=>Co,QZP:()=>Pc,A7J:()=>Ei,BI7:()=>Hn,U7d:()=>oo,uXy:()=>Fn,nZS:()=>Fi,ihb:()=>jn,ID8:()=>dr,gv8:()=>ea,dwj:()=>rn,Bqz:()=>Vo,OsK:()=>Oe,Rfq:()=>gt,c$7:()=>Us,gxQ:()=>ou,ckz:()=>ll,kLh:()=>st,xUg:()=>_i,KdJ:()=>Ir,db4:()=>Yr,VPL:()=>dl,MT:()=>Ue,Z9v:()=>z,Ab:()=>xa,w7Z:()=>Pe,Mx4:()=>yl,veI:()=>ru,HaV:()=>Xi,Agf:()=>Mi,znI:()=>jl,wGu:()=>ho,ebl:()=>li,OAn:()=>ga,_0$:()=>wl,UaU:()=>di,vaC:()=>ur,d31:()=>Nn,ZRn:()=>$n,phH:()=>ui,WbQ:()=>$i,WB9:()=>ca,d_l:()=>Rl,vNG:()=>Jo,oyA:()=>Io,_px:()=>_a,CpD:()=>es,XRZ:()=>Yn,klJ:()=>ms,oKB:()=>hr,Fje:()=>Gl,b$O:()=>Zo,SMZ:()=>et,WQX:()=>qn,MzJ:()=>Cn,jXY:()=>yi,MME:()=>Es,JlV:()=>Zr,Qs1:()=>mt,srX:()=>Re,vOT:()=>Gr,YWB:()=>bu,EPY:()=>Va,yoD:()=>vr,P3H:()=>ic,Jzi:()=>en,rFz:()=>_c,JjR:()=>B,M6u:()=>Ia,KtD:()=>$l,muV:()=>fr,A0l:()=>K,q$2:()=>he,yP_:()=>Sl,EFk:()=>Ko,UhH:()=>tu,QuC:()=>Wi,Y3W:()=>ao,K7h:()=>zs,FRF:()=>Ks,ezK:()=>so,m7n:()=>El,niQ:()=>go,krE:()=>Fl,bll:()=>Pa,Hh6:()=>Xn,EmA:()=>dn,blu:()=>al,HAh:()=>Fo,WfI:()=>Os,xbp:()=>_s,jvu:()=>ws,Rc9:()=>fa,E6O:()=>qr,DyX:()=>kl,eFE:()=>wo,dMS:()=>ko,HUe:()=>xo,nl4:()=>Ve,N4e:()=>Ma,XaM:()=>pi,uiq:()=>Ol,l4E:()=>wu,Kw3:()=>ks,vQI:()=>V,RZ9:()=>se,GA0:()=>vt,iMd:()=>vu,Pfq:()=>cl,xyx:()=>W,a2B:()=>Qt,kcM:()=>Tr,DFp:()=>ln,P2g:()=>Uu,cBl:()=>iu,ypq:()=>fl,vPA:()=>uc,HO5:()=>cu,M_e:()=>gr,B22:()=>Tl,ik5:()=>_l,AsM:()=>It,PP7:()=>wi,$8:()=>Gt,$Hz:()=>lt,O8t:()=>D,zAe:()=>Gn,IvY:()=>En,_gW:()=>Ds,F1c:()=>ni,ITl:()=>uo,brz:()=>Si,jRZ:()=>pa,SX7:()=>Cl,jDH:()=>Pt,G2t:()=>Kt,fuf:()=>vl,cSN:()=>nu,KVO:()=>_r,dmw:()=>Ur,joV:()=>Du,By9:()=>xu,qSk:()=>su,Njj:()=>ul,eBV:()=>Xo});var L=$(5824),r=$(4412),R=$(1985),ve=$(1413),oe=$(8359);let ke;function Ae(){return ke}function ee(g){const A=ke;return ke=g,A}const m=Symbol("NotFound");function xe(g){return g===m||"\u0275NotFound"===g?.name}Error;class t{full;major;minor;patch;constructor(A){this.full=A;const U=A.split(".");this.major=U[0],this.minor=U[1],this.patch=U.slice(2).join(".")}}const je="https://angular.dev/best-practices/security#preventing-cross-site-scripting-xss";class Te extends Error{code;constructor(A,U){super(Oe(A,U)),this.code=A}}function Oe(g,A){return`${function be(g){return`NG0${Math.abs(g)}`}(g)}${A?": "+A:""}`}const at=globalThis;function et(){return!1}function st(g){for(let A in g)if(g[A]===st)return A;throw Error("")}function rn(g,A){for(const U in A)A.hasOwnProperty(U)&&!g.hasOwnProperty(U)&&(g[U]=A[U])}function It(g){if("string"==typeof g)return g;if(Array.isArray(g))return`[${g.map(It).join(", ")}]`;if(null==g)return""+g;const A=g.overriddenName||g.name;if(A)return`${A}`;const U=g.toString();if(null==U)return""+U;const ne=U.indexOf("\n");return ne>=0?U.slice(0,ne):U}function Ht(g,A){return g?A?`${g} ${A}`:g:A||""}const Me=st({__forward_ref__:st});function gt(g){return g.__forward_ref__=gt,g.toString=function(){return It(this())},g}function Ve(g){return en(g)?g():g}function en(g){return"function"==typeof g&&g.hasOwnProperty(Me)&&g.__forward_ref__===gt}function Bt(g,A){"number"!=typeof g&&Gt(A,typeof g,"number","===")}function Dt(g,A,U){Bt(g,"Expected a number"),function Et(g,A,U){g<=A||Gt(U,g,A,"<=")}(g,U,"Expected number to be less than or equal to"),Nt(g,A,"Expected number to be greater than or equal to")}function ht(g,A){"string"!=typeof g&&Gt(A,null===g?"null":typeof g,"string","===")}function Ke(g,A){"function"!=typeof g&&Gt(A,null===g?"null":typeof g,"function","===")}function Ge(g,A,U){g!=A&&Gt(U,g,A,"==")}function Ft(g,A,U){g==A&&Gt(U,g,A,"!=")}function Xe(g,A,U){g!==A&&Gt(U,g,A,"===")}function Ze(g,A,U){g===A&&Gt(U,g,A,"!==")}function dt(g,A,U){g<A||Gt(U,g,A,"<")}function yt(g,A,U){g>A||Gt(U,g,A,">")}function Nt(g,A,U){g>=A||Gt(U,g,A,">=")}function bn(g,A){null==g&&Gt(A,g,null,"!=")}function Gt(g,A,U,ne){throw new Error(`ASSERTION ERROR: ${g}`+(null==ne?"":` [Expected=> ${U} ${ne} ${A} <=Actual]`))}function kn(g){g instanceof Node||Gt(`The provided value must be an instance of a DOM Node but got ${It(g)}`)}function On(g){g instanceof Element||Gt(`The provided value must be an element but got ${It(g)}`)}function Er(g,A){bn(g,"Array must be defined.");const U=g.length;(A<0||A>=U)&&Gt(`Index expected to be less than ${U} but got ${A}`)}function mi(g,...A){if(-1!==A.indexOf(g))return!0;Gt(`Expected value to be one of ${JSON.stringify(A)} but was ${JSON.stringify(g)}.`)}function Jn(g){null!==(0,L.nR)()&&Gt(`${g}() should never be called in a reactive context.`)}function Pt(g){return{token:g.token,providedIn:g.providedIn||null,factory:g.factory,value:void 0}}function Kt(g){return{providers:g.providers||[],imports:g.imports||[]}}function Un(g){return function Pr(g,A){return g.hasOwnProperty(A)&&g[A]||null}(g,Gi)}function fr(g){return null!==Un(g)}function li(g){return g&&g.hasOwnProperty(Li)?g[Li]:null}const Gi=st({\u0275prov:st}),Li=st({\u0275inj:st});class oi{_desc;ngMetadataName="InjectionToken";\u0275prov;constructor(A,U){this._desc=A,this.\u0275prov=void 0,"number"==typeof U?this.__NG_ELEMENT_ID__=U:void 0!==U&&(this.\u0275prov=Pt({token:this,providedIn:U.providedIn||"root",factory:U.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}let yn;function or(){return Gt("getInjectorProfilerContext should never be called in production mode"),yn}function ln(g){Gt("setInjectorProfilerContext should never be called in production mode");const A=yn;return yn=g,A}const gn=[],zn=()=>{};function Tr(g){return Gt("setInjectorProfiler should never be called in production mode"),null!==g?(gn.includes(g)||gn.push(g),()=>function sr(g){const A=gn.indexOf(g);-1!==A&&gn.splice(A,1)}(g)):(gn.length=0,zn)}function Zn(g){Gt("Injector profiler should never be called in production mode");for(let A=0;A<gn.length;A++)(0,gn[A])(g)}function Fi(g,A=!1){let U;Gt("Injector profiler should never be called in production mode"),U="function"==typeof g||g instanceof oi?g:Ve(g.provide);let ne=g;g instanceof oi&&(ne=g.\u0275prov||g),Zn({type:2,context:or(),providerRecord:{token:U,provider:ne,isViewProvider:A}})}function oo(g){Gt("Injector profiler should never be called in production mode"),Zn({type:5,context:or(),token:g})}function Fn(g){Gt("Injector profiler should never be called in production mode"),Zn({type:1,context:or(),instance:{value:g}})}function Hn(g,A,U){Gt("Injector profiler should never be called in production mode"),Zn({type:0,context:or(),service:{token:g,value:A,flags:U}})}function Ei(g){Gt("Injector profiler should never be called in production mode"),Zn({type:4,context:or(),effectPhase:g})}function pi(g,A,U){Gt("runInInjectorProfilerContext should never be called in production mode");const ne=ln({injector:g,token:A});try{U()}finally{ln(ne)}}function fo(g){return g&&!!g.\u0275providers}const Ai=st({\u0275cmp:st}),Lr=st({\u0275dir:st}),Pi=st({\u0275pipe:st}),Vi=st({\u0275mod:st}),vo=st({\u0275fac:st}),Ui=st({__NG_ELEMENT_ID__:st}),Di=st({__NG_ENV_ID__:st});function ui(g){return Do(g),g[Vi]||null}function $i(g){const A=ui(g);if(!A)throw new Te(915,!1);return A}function _i(g){return Do(g),g[Ai]||null}function Mi(g){const A=Xi(g);if(!A)throw new Te(916,!1);return A}function Xi(g){return Do(g),g[Lr]||null}function Io(g){return Do(g),g[Pi]||null}function Do(g,A){if(null==g)throw new Te(-919,!1)}function Wi(g){const A=_i(g)||Xi(g)||Io(g);return null!==A&&A.standalone}function wo(g){return"string"==typeof g?g:null==g?"":String(g)}function wi(g){return"function"==typeof g?g.name||g.toString():"object"==typeof g&&null!=g&&"function"==typeof g.type?g.type.name||g.type.toString():wo(g)}function ss(g){const A=_i(g);return null!==A&&A.debugInfo?function yo(g){return g.filePath&&g.lineNumber?`${g.className} (at ${g.filePath}:${g.lineNumber})`:g.className}(A.debugInfo):wi(g)}const Ji=st({ngErrorCode:st}),Zi=st({ngErrorMessage:st}),qi=st({ngTokenPath:st});function Xr(g,A){return un("",-200,A)}function Bo(g,A){return function hn(g,A){return g.message=function Rr(g,A,U=[],ne=null){let Ee="";U&&U.length>1&&(Ee=` Path: ${U.join(" -> ")}.`);return Oe(A,`${g}${ne?` Source: ${ne}.`:""}${Ee}`)}(g[Zi]||g.message,g[Ji],g[qi],A),g}(Xr(0,A),null)}function lt(g,A){throw new Te(-201,!1)}function un(g,A,U){const ne=new Te(A,g);return ne[Ji]=A,ne[Zi]=g,U&&(ne[qi]=U),ne}let rt;function Wt(){return rt}function Qt(g){const A=rt;return rt=g,A}function Cn(g,A,U){const ne=Un(g);return ne&&"root"==ne.providedIn?void 0===ne.value?ne.value=ne.factory():ne.value:8&U?null:void 0!==A?A:void lt()}function ge(g){}const ot={},kt="__NG_DI_FLAG__";class Tn{injector;constructor(A){this.injector=A}retrieve(A,U){const ne=tr(U)||0;try{return this.injector.get(A,8&ne?null:ot,ne)}catch(Ee){if(xe(Ee))return Ee;throw Ee}}}function nr(g,A=0){const U=Ae();if(void 0===U)throw new Te(-203,!1);if(null===U)return Cn(g,void 0,A);{const ne=function Yi(g){return{optional:!!(8&g),host:!!(1&g),self:!!(2&g),skipSelf:!!(4&g)}}(A),Ee=U.retrieve(g,ne);if(xe(Ee)){if(ne.optional)return null;throw Ee}return Ee}}function _r(g,A=0){return(Wt()||nr)(Ve(g),A)}function Ur(g){throw new Te(202,!1)}function qn(g,A){return _r(g,tr(A))}function tr(g){return typeof g>"u"||"number"==typeof g?g:0|(g.optional&&8)|(g.host&&1)|(g.self&&2)|(g.skipSelf&&4)}function hi(g){const A=[];for(let U=0;U<g.length;U++){const ne=Ve(g[U]);if(Array.isArray(ne)){if(0===ne.length)throw new Te(900,!1);let Ee,tt=0;for(let bt=0;bt<ne.length;bt++){const Sn=ne[bt],xn=eo(Sn);"number"==typeof xn?-1===xn?Ee=Sn.token:tt|=xn:Ee=Sn}A.push(_r(Ee,tt))}else A.push(_r(ne))}return A}function To(g,A){return g[kt]=A,g.prototype[kt]=A,g}function eo(g){return g[kt]}function ho(g,A){return g.hasOwnProperty(vo)?g[vo]:null}function as(g,A,U){if(g.length!==A.length)return!1;for(let ne=0;ne<g.length;ne++){let Ee=g[ne],tt=A[ne];if(U&&(Ee=U(Ee),tt=U(tt)),tt!==Ee)return!1}return!0}function Vo(g){return g.flat(Number.POSITIVE_INFINITY)}function Co(g,A){g.forEach(U=>Array.isArray(U)?Co(U,A):A(U))}function As(g,A,U){A>=g.length?g.push(U):g.splice(A,0,U)}function qr(g,A){return A>=g.length-1?g.pop():g.splice(A,1)[0]}function Os(g,A){const U=[];for(let ne=0;ne<g;ne++)U.push(A);return U}function Ws(g,A,U){const ne=g.length-U;for(;A<ne;)g[A]=g[A+U],A++;for(;U--;)g.pop()}function Fr(g,A,U,ne){let Ee=g.length;if(Ee==A)g.push(U,ne);else if(1===Ee)g.push(ne,g[0]),g[0]=U;else{for(Ee--,g.push(g[Ee-1],g[Ee]);Ee>A;)g[Ee]=g[Ee-2],Ee--;g[A]=U,g[A+1]=ne}}function so(g,A,U){let ne=Ks(g,A);return ne>=0?g[1|ne]=U:(ne=~ne,Fr(g,ne,A,U)),ne}function zs(g,A){const U=Ks(g,A);if(U>=0)return g[1|U]}function Ks(g,A){return function Xs(g,A,U){let ne=0,Ee=g.length>>U;for(;Ee!==ne;){const tt=ne+(Ee-ne>>1),bt=g[tt<<U];if(A===bt)return tt<<U;bt>A?Ee=tt:ne=tt+1}return~(Ee<<U)}(g,A,1)}const Cs={},pe=[],qe=new oi(""),De=new oi("",-1),Be=new oi("");class xt{get(A,U=ot){if(U===ot){const Ee=un("",-201);throw Ee.name="\u0275NotFound",Ee}return U}}function dn(g){return{\u0275providers:g}}function hr(...g){return{\u0275providers:yi(0,g),\u0275fromNgModule:!0}}function yi(g,...A){const U=[],ne=new Set;let Ee;const tt=bt=>{U.push(bt)};return Co(A,bt=>{const Sn=bt;Si(Sn,tt,[],ne)&&(Ee||=[],Ee.push(Sn))}),void 0!==Ee&&bi(Ee,tt),U}function bi(g,A){for(let U=0;U<g.length;U++){const{ngModule:ne,providers:Ee}=g[U];Hi(Ee,tt=>{A(tt,ne)})}}function Si(g,A,U,ne){if(!(g=Ve(g)))return!1;let Ee=null,tt=li(g);const bt=!tt&&_i(g);if(tt||bt){if(bt&&!bt.standalone)return!1;Ee=g}else{const xn=g.ngModule;if(tt=li(xn),!tt)return!1;Ee=xn}const Sn=ne.has(Ee);if(bt){if(Sn)return!1;if(ne.add(Ee),bt.dependencies){const xn="function"==typeof bt.dependencies?bt.dependencies():bt.dependencies;for(const yr of xn)Si(yr,A,U,ne)}}else{if(!tt)return!1;{if(null!=tt.imports&&!Sn){let yr;ne.add(Ee);try{Co(tt.imports,Cr=>{Si(Cr,A,U,ne)&&(yr||=[],yr.push(Cr))})}finally{}void 0!==yr&&bi(yr,A)}if(!Sn){const yr=ho(Ee)||(()=>new Ee);A({provide:Ee,useFactory:yr,deps:pe},Ee),A({provide:Be,useValue:Ee,multi:!0},Ee),A({provide:qe,useValue:()=>_r(Ee),multi:!0},Ee)}const xn=tt.providers;if(null!=xn&&!Sn){const yr=g;Hi(xn,Cr=>{A(Cr,yr)})}}}return Ee!==g&&void 0!==g.providers}function Hi(g,A){for(let U of g)fo(U)&&(U=U.\u0275providers),Array.isArray(U)?Hi(U,A):A(U)}const zr=st({provide:String,useValue:st});function Ii(g){return null!==g&&"object"==typeof g&&zr in g}function ao(g){return"function"==typeof g}function Es(g){return!!g.useClass}const Eo=new oi(""),bo={},So={};let Ls;function ca(){return void 0===Ls&&(Ls=new xt),Ls}class $o{}class da extends $o{parent;source;scopes;records=new Map;_ngOnDestroyHooks=new Set;_onDestroyHooks=[];get destroyed(){return this._destroyed}_destroyed=!1;injectorDefTypes;constructor(A,U,ne,Ee){super(),this.parent=U,this.source=ne,this.scopes=Ee,Ea(A,bt=>this.processProvider(bt)),this.records.set(De,Qo(void 0,this)),Ee.has("environment")&&this.records.set($o,Qo(void 0,this));const tt=this.records.get(Eo);null!=tt&&"string"==typeof tt.value&&this.scopes.add(tt.value),this.injectorDefTypes=new Set(this.get(Be,pe,{self:!0}))}retrieve(A,U){const ne=tr(U)||0;try{return this.get(A,ot,ne)}catch(Ee){if(xe(Ee))return Ee;throw Ee}}destroy(){ps(this),this._destroyed=!0;const A=(0,L.Ht)(null);try{for(const ne of this._ngOnDestroyHooks)ne.ngOnDestroy();const U=this._onDestroyHooks;this._onDestroyHooks=[];for(const ne of U)ne()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),(0,L.Ht)(A)}}onDestroy(A){return ps(this),this._onDestroyHooks.push(A),()=>this.removeOnDestroy(A)}runInContext(A){ps(this);const U=ee(this),ne=Qt(void 0);try{return A()}finally{ee(U),Qt(ne)}}get(A,U=ot,ne){if(ps(this),A.hasOwnProperty(Di))return A[Di](this);const Ee=tr(ne),bt=ee(this),Sn=Qt(void 0);try{if(!(4&Ee)){let yr=this.records.get(A);if(void 0===yr){const Cr=function qa(g){return"function"==typeof g||"object"==typeof g&&"InjectionToken"===g.ngMetadataName}(A)&&Un(A);yr=Cr&&this.injectableDefInScope(Cr)?Qo(lo(A),bo):null,this.records.set(A,yr)}if(null!=yr)return this.hydrate(A,yr,Ee)}return(2&Ee?ca():this.parent).get(A,U=8&Ee&&U===ot?null:U)}catch(xn){const yr=function an(g){return g[Ji]}(xn);throw-200===yr||-201===yr?new Te(yr,null):xn}finally{Qt(Sn),ee(bt)}}resolveInjectorInitializers(){const A=(0,L.Ht)(null),U=ee(this),ne=Qt(void 0);try{const tt=this.get(qe,pe,{self:!0});for(const bt of tt)bt()}finally{ee(U),Qt(ne),(0,L.Ht)(A)}}toString(){const A=[],U=this.records;for(const ne of U.keys())A.push(It(ne));return`R3Injector[${A.join(", ")}]`}processProvider(A){let U=ao(A=Ve(A))?A:Ve(A&&A.provide);const ne=function Ro(g){return Ii(g)?Qo(void 0,g.useValue):Qo(fa(g),bo)}(A);if(!ao(A)&&!0===A.multi){let Ee=this.records.get(U);Ee||(Ee=Qo(void 0,bo,!0),Ee.factory=()=>hi(Ee.multi),this.records.set(U,Ee)),U=A,Ee.multi.push(A)}this.records.set(U,ne)}hydrate(A,U,ne){const Ee=(0,L.Ht)(null);try{if(U.value===So)throw Xr(It(A));return U.value===bo&&(U.value=So,U.value=U.factory(void 0,ne)),"object"==typeof U.value&&U.value&&function qs(g){return null!==g&&"object"==typeof g&&"function"==typeof g.ngOnDestroy}(U.value)&&this._ngOnDestroyHooks.add(U.value),U.value}finally{(0,L.Ht)(Ee)}}injectableDefInScope(A){if(!A.providedIn)return!1;const U=Ve(A.providedIn);return"string"==typeof U?"any"===U||this.scopes.has(U):this.injectorDefTypes.has(U)}removeOnDestroy(A){const U=this._onDestroyHooks.indexOf(A);-1!==U&&this._onDestroyHooks.splice(U,1)}}function lo(g){const A=Un(g),U=null!==A?A.factory:ho(g);if(null!==U)return U;if(g instanceof oi)throw new Te(204,!1);if(g instanceof Function)return function ol(g){if(g.length>0)throw new Te(204,!1);const U=function fi(g){return(g?.[Gi]??null)||null}(g);return null!==U?()=>U.factory(g):()=>new g}(g);throw new Te(204,!1)}function fa(g,A,U){let ne;if(ao(g)){const Ee=Ve(g);return ho(Ee)||lo(Ee)}if(Ii(g))ne=()=>Ve(g.useValue);else if(function Yo(g){return!(!g||!g.useFactory)}(g))ne=()=>g.useFactory(...hi(g.deps||[]));else if(function to(g){return!(!g||!g.useExisting)}(g))ne=(Ee,tt)=>_r(Ve(g.useExisting),void 0!==tt&&8&tt?8:void 0);else{const Ee=Ve(g&&(g.useClass||g.provide));if(!function La(g){return!!g.deps}(g))return ho(Ee)||lo(Ee);ne=()=>new Ee(...hi(g.deps))}return ne}function ps(g){if(g.destroyed)throw new Te(205,!1)}function Qo(g,A,U=!1){return{factory:g,value:A,multi:U?[]:void 0}}function Ea(g,A){for(const U of g)Array.isArray(U)?Ea(U,A):U&&fo(U)?Ea(U.\u0275providers,A):A(U)}function Ma(g,A){let U;g instanceof da?(ps(g),U=g):U=new Tn(g);const Ee=ee(U),tt=Qt(void 0);try{return A()}finally{ee(Ee),Qt(tt)}}function Ia(){return void 0!==Wt()||null!=Ae()}function po(g){if(!Ia())throw new Te(-203,!1)}const Bs=0,ls=1,no=2,Ms=3,we=4,de=5,Ce=6,it=7,$t=8,fn=9,In=10,er=11,lr=12,Mr=13,ci=14,Sr=15,zi=16,Qi=17,Wo=18,zo=19,Po=20,Uo=21,ba=22,us=23,Ba=24,ka=25,Vs=26,bs=27,Dl=6,_u=7,Ys=8,sl=9,le=10;function he(g){return Array.isArray(g)&&"object"==typeof g[1]}function K(g){return Array.isArray(g)&&!0===g[1]}function Re(g){return!!(4&g.flags)}function mt(g){return g.componentOffset>-1}function vr(g){return!(1&~g.flags)}function Zr(g){return!!g.template}function Ko(g){return!!(512&g[no])}function Va(g){return!(256&~g[no])}function xs(g,A){I(g,A[ls])}function Ua(g,A){const U=A+bs;Er(g,U),dt(U,g[ls].bindingStartIndex,"TNodes should be created before any bindings")}function I(g,A){O(g);const U=A.data;for(let ne=bs;ne<U.length;ne++)if(U[ne]===g)return;Gt("This TNode does not belong to this TView.")}function O(g){bn(g,"TNode must be defined"),g&&"object"==typeof g&&g.hasOwnProperty("directiveStylingLast")||Gt("Not of type TNode, got: "+g)}function q(g){bn(g,"Expected TIcu to be defined"),"number"!=typeof g.currentCaseLViewIndex&&Gt("Object is not of TIcu type.")}function ae(g,A="Type passed in is not ComponentType, it does not have '\u0275cmp' property."){_i(g)||Gt(A)}function me(g,A="Type passed in is not NgModuleType, it does not have '\u0275mod' property."){ui(g)||Gt(A)}function Ie(g){bn(g,"currentTNode should exist!"),bn(g.parent,"currentTNode should have a parent")}function Je(g){bn(g,"LContainer must be defined"),Ge(K(g),!0,"Expecting LContainer")}function St(g){bn(g,"LView must be defined"),Ge(he(g),!0,"Expecting LView")}function Mt(g,A){Ge(g.firstCreatePass,!0,A||"Should only be called in first create pass.")}function zt(g,A){Ge(g.firstUpdatePass,!0,"Should only be called in first update pass.")}function wt(g){(void 0===g.type||null==g.selectors||void 0===g.inputs)&&Gt("Expected a DirectiveDef/ComponentDef and this object does not seem to have the expected shape.")}function Jt(g,A){Vt(bs,g.bindingStartIndex,A)}function Ot(g,A){Vt(g[1].expandoStartIndex,g.length,A)}function Vt(g,A,U){g<=U&&U<A||Gt(`Index out of range (expecting ${g} <= ${U} < ${A})`)}function Ut(g,A){bn(g[Sr],"Component views should exist."),bn(g[Sr][de].projection,"Components with projection nodes (<ng-content>) must have projection slots defined.")}function Xt(g,A){bn(g,"Component views should always have a parent view (component's host view)")}function qt(g,A){Ot(g,A),Ot(g,A+8),Bt(g[A+0],"injectorIndex should point to a bloom filter"),Bt(g[A+1],"injectorIndex should point to a bloom filter"),Bt(g[A+2],"injectorIndex should point to a bloom filter"),Bt(g[A+3],"injectorIndex should point to a bloom filter"),Bt(g[A+4],"injectorIndex should point to a bloom filter"),Bt(g[A+5],"injectorIndex should point to a bloom filter"),Bt(g[A+6],"injectorIndex should point to a bloom filter"),Bt(g[A+7],"injectorIndex should point to a bloom filter"),Bt(g[A+8],"injectorIndex should point to parent injector")}const sn="svg",mn="math";function En(g){for(;Array.isArray(g);)g=g[Bs];return g}function Gn(g){for(;Array.isArray(g);){if("object"==typeof g[1])return g;g=g[Bs]}return null}function ur(g,A){return En(A[g])}function Nn(g,A){return En(A[g.index])}function $n(g,A){const U=null===g?-1:g.index;return-1!==U?En(A[U]):null}function Yn(g,A){return g.data[A]}function Xn(g,A){return g[A]}function gr(g,A,U,ne){U>=g.data.length&&(g.data[U]=null,g.blueprint[U]=null),A[U]=ne}function Ir(g,A){const U=A[g];return he(U)?U:U[Bs]}function Gr(g){return!(4&~g[no])}function ni(g){return!(128&~g[no])}function uo(g){return K(g[Ms])}function Yr(g,A){return null==A?null:g[A]}function xo(g){g[Qi]=0}function Fo(g){1024&g[no]||(g[no]|=1024,ni(g)&&al(g))}function pa(g,A){for(;g>0;)A=A[ci],g--;return A}function ko(g){return!!(9216&g[no]||g[Ba]?.dirty)}function Ds(g){g[In].changeDetectionScheduler?.notify(8),64&g[no]&&(g[no]|=1024),ko(g)&&al(g)}function al(g){g[In].changeDetectionScheduler?.notify(0);let A=wl(g);for(;null!==A&&!(8192&A[no])&&(A[no]|=8192,ni(A));)A=wl(A)}function _l(g,A){if(Va(g))throw new Te(911,!1);null===g[Uo]&&(g[Uo]=[]),g[Uo].push(A)}function kl(g,A){if(null===g[Uo])return;const U=g[Uo].indexOf(A);-1!==U&&g[Uo].splice(U,1)}function wl(g){const A=g[Ms];return K(A)?A[Ms]:A}function Rl(g){return g[it]??=[]}function Jo(g){return g.cleanup??=[]}function Tl(g,A,U,ne){const Ee=Rl(A);Ee.push(U),g.firstCreatePass&&Jo(g).push(ne,Ee.length-1)}const Qn={lFrame:No(null),bindingsEnabled:!0,skipHydrationRootTNode:null};var Is=function(g){return g[g.Off=0]="Off",g[g.Exhaustive=1]="Exhaustive",g[g.OnlyDirtyViews=2]="OnlyDirtyViews",g}(Is||{});let cs=0,Hl=!1;function jl(){return Qn.lFrame.elementDepthCount}function Gl(){Qn.lFrame.elementDepthCount++}function Ya(){Qn.lFrame.elementDepthCount--}function ll(){return Qn.bindingsEnabled}function $l(){return null!==Qn.skipHydrationRootTNode}function tu(g){return Qn.skipHydrationRootTNode===g}function nu(){Qn.bindingsEnabled=!0}function vl(){Qn.bindingsEnabled=!1}function Fl(){Qn.skipHydrationRootTNode=null}function ga(){return Qn.lFrame.lView}function ms(){return Qn.lFrame.tView}function Xo(g){return Qn.lFrame.contextLView=g,g[$t]}function ul(g){return Qn.lFrame.contextLView=null,g}function yl(){let g=ru();for(;null!==g&&64===g.type;)g=g.parent;return g}function ru(){return Qn.lFrame.currentTNode}function xa(){const g=Qn.lFrame,A=g.currentTNode;return g.isParent?A:A.parent}function vu(g,A){const U=Qn.lFrame;U.currentTNode=g,U.isParent=A}function bu(){return Qn.lFrame.isParent}function cl(){Qn.lFrame.isParent=!1}function dl(){return Qn.lFrame.contextLView}function _c(){return Gt("Must never be called in production mode"),cs!==Is.Off}function ic(){return Gt("Must never be called in production mode"),cs===Is.Exhaustive}function Uu(g){Gt("Must never be called in production mode"),cs=g}function Sl(){return Hl}function iu(g){const A=Hl;return Hl=g,A}function ou(){const g=Qn.lFrame;let A=g.bindingRootIndex;return-1===A&&(A=g.bindingRootIndex=g.tView.bindingStartIndex),A}function Us(){return Qn.lFrame.bindingIndex}function ks(g){return Qn.lFrame.bindingIndex=g}function _s(){return Qn.lFrame.bindingIndex++}function Zo(g){const A=Qn.lFrame,U=A.bindingIndex;return A.bindingIndex=A.bindingIndex+g,U}function B(){return Qn.lFrame.inI18n}function W(g){Qn.lFrame.inI18n=g}function V(g,A){const U=Qn.lFrame;U.bindingIndex=U.bindingRootIndex=g,se(A)}function z(){return Qn.lFrame.currentDirectiveIndex}function se(g){Qn.lFrame.currentDirectiveIndex=g}function Ue(g){const A=Qn.lFrame.currentDirectiveIndex;return-1===A?null:g[A]}function Pe(){return Qn.lFrame.currentQueryIndex}function vt(g){Qn.lFrame.currentQueryIndex=g}function nn(g){const A=g[ls];return 2===A.type?A.declTNode:1===A.type?g[de]:null}function jn(g,A,U){if(4&U){let Ee=A,tt=g;for(;!(Ee=Ee.parent,null!==Ee||1&U||(Ee=nn(tt),null===Ee||(tt=tt[ci],10&Ee.type))););if(null===Ee)return!1;A=Ee,g=tt}const ne=Qn.lFrame=ki();return ne.currentTNode=A,ne.lView=g,!0}function dr(g){const A=ki(),U=g[ls];Qn.lFrame=A,A.currentTNode=U.firstChild,A.lView=g,A.tView=U,A.contextLView=g,A.bindingIndex=U.bindingStartIndex,A.inI18n=!1}function ki(){const g=Qn.lFrame,A=null===g?null:g.child;return null===A?No(g):A}function No(g){const A={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:g,child:null,inI18n:!1};return null!==g&&(g.child=A),A}function ma(){const g=Qn.lFrame;return Qn.lFrame=g.parent,g.currentTNode=null,g.lView=null,g}const go=ma;function Pa(){const g=ma();g.isParent=!0,g.tView=null,g.selectedIndex=-1,g.contextLView=null,g.elementDepthCount=0,g.currentDirectiveIndex=-1,g.currentNamespace=null,g.bindingRootIndex=-1,g.bindingIndex=-1,g.currentQueryIndex=0}function ws(g){return(Qn.lFrame.contextLView=pa(g,Qn.lFrame.contextLView))[$t]}function _a(){return Qn.lFrame.selectedIndex}function fl(g){Qn.lFrame.selectedIndex=g}function es(){const g=Qn.lFrame;return Yn(g.tView,g.selectedIndex)}function su(){Qn.lFrame.currentNamespace=sn}function xu(){Qn.lFrame.currentNamespace=mn}function Du(){!function Qs(){Qn.lFrame.currentNamespace=null}()}function di(){return Qn.lFrame.currentNamespace}let Fa=!0;function Cl(){return Fa}function El(g){Fa=g}function au(g,A=null,U=null,ne){const Ee=bl(g,A,U,ne);return Ee.resolveInjectorInitializers(),Ee}function bl(g,A=null,U=null,ne,Ee=new Set){const tt=[U||pe,hr(g)];return ne=ne||("object"==typeof g?void 0:It(g)),new da(tt,A||ca(),ne||null,Ee)}class Qa{static THROW_IF_NOT_FOUND=ot;static NULL=new xt;static create(A,U){if(Array.isArray(A))return au({name:""},U,A,"");{const ne=A.name??"";return au({name:ne},A.parent,A.providers,ne)}}static \u0275prov=Pt({token:Qa,providedIn:"any",factory:()=>_r(De)});static __NG_ELEMENT_ID__=-1}const Nl=new oi("");let Js=(()=>class g{static __NG_ELEMENT_ID__=Da;static __NG_ENV_ID__=U=>U})();class Wl extends Js{_lView;constructor(A){super(),this._lView=A}get destroyed(){return Va(this._lView)}onDestroy(A){const U=this._lView;return _l(U,A),()=>kl(U,A)}}function Da(){return new Wl(ga())}const lu=!1;let Ja=(()=>{class g{taskId=0;pendingTasks=new Set;destroyed=!1;pendingTask=new r.t(!1);get hasPendingTasks(){return!this.destroyed&&this.pendingTask.value}get hasPendingTasksObservable(){return this.destroyed?new R.c(U=>{U.next(!1),U.complete()}):this.pendingTask}add(){!this.hasPendingTasks&&!this.destroyed&&this.pendingTask.next(!0);const U=this.taskId++;return this.pendingTasks.add(U),U}has(U){return this.pendingTasks.has(U)}remove(U){this.pendingTasks.delete(U),0===this.pendingTasks.size&&this.hasPendingTasks&&this.pendingTask.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks&&this.pendingTask.next(!1),this.destroyed=!0,this.pendingTask.unsubscribe()}static \u0275prov=Pt({token:g,providedIn:"root",factory:()=>new g})}return g})();const Zs=class hl extends ve.B{__isAsync;destroyRef=void 0;pendingTasks=void 0;constructor(A=!1){super(),this.__isAsync=A,Ia()&&(this.destroyRef=qn(Js,{optional:!0})??void 0,this.pendingTasks=qn(Ja,{optional:!0})??void 0)}emit(A){const U=(0,L.Ht)(null);try{super.next(A)}finally{(0,L.Ht)(U)}}subscribe(A,U,ne){let Ee=A,tt=U||(()=>null),bt=ne;if(A&&"object"==typeof A){const xn=A;Ee=xn.next?.bind(xn),tt=xn.error?.bind(xn),bt=xn.complete?.bind(xn)}this.__isAsync&&(tt=this.wrapInTimeout(tt),Ee&&(Ee=this.wrapInTimeout(Ee)),bt&&(bt=this.wrapInTimeout(bt)));const Sn=super.subscribe({next:Ee,error:tt,complete:bt});return A instanceof oe.yU&&A.add(Sn),Sn}wrapInTimeout(A){return U=>{const ne=this.pendingTasks?.add();setTimeout(()=>{try{A(U)}finally{void 0!==ne&&this.pendingTasks?.remove(ne)}})}}};function Hu(...g){}function wu(g){let A,U;function ne(){g=Hu;try{void 0!==U&&"function"==typeof cancelAnimationFrame&&cancelAnimationFrame(U),void 0!==A&&clearTimeout(A)}catch{}}return A=setTimeout(()=>{g(),ne()}),"function"==typeof requestAnimationFrame&&(U=requestAnimationFrame(()=>{g(),ne()})),()=>ne()}function Ol(g){return queueMicrotask(()=>g()),()=>{g=Hu}}const Tu="isAngularZone",Su=Tu+"_ID";let sc=0;class va{hasPendingMacrotasks=!1;hasPendingMicrotasks=!1;isStable=!0;onUnstable=new Zs(!1);onMicrotaskEmpty=new Zs(!1);onStable=new Zs(!1);onError=new Zs(!1);constructor(A){const{enableLongStackTrace:U=!1,shouldCoalesceEventChangeDetection:ne=!1,shouldCoalesceRunChangeDetection:Ee=!1,scheduleInRootZone:tt=lu}=A;if(typeof Zone>"u")throw new Te(908,!1);Zone.assertZonePatched();const bt=this;bt._nesting=0,bt._outer=bt._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(bt._inner=bt._inner.fork(new Zone.TaskTrackingZoneSpec)),U&&Zone.longStackTraceZoneSpec&&(bt._inner=bt._inner.fork(Zone.longStackTraceZoneSpec)),bt.shouldCoalesceEventChangeDetection=!Ee&&ne,bt.shouldCoalesceRunChangeDetection=Ee,bt.callbackScheduled=!1,bt.scheduleInRootZone=tt,function ju(g){const A=()=>{!function zc(g){function A(){wu(()=>{g.callbackScheduled=!1,Ha(g),g.isCheckStableRunning=!0,Au(g),g.isCheckStableRunning=!1})}g.isCheckStableRunning||g.callbackScheduled||(g.callbackScheduled=!0,g.scheduleInRootZone?Zone.root.run(()=>{A()}):g._outer.run(()=>{A()}),Ha(g))}(g)},U=sc++;g._inner=g._inner.fork({name:"angular",properties:{[Tu]:!0,[Su]:U,[Su+U]:!0},onInvokeTask:(ne,Ee,tt,bt,Sn,xn)=>{if(function Gu(g){return vc(g,"__ignore_ng_zone__")}(xn))return ne.invokeTask(tt,bt,Sn,xn);try{return ja(g),ne.invokeTask(tt,bt,Sn,xn)}finally{(g.shouldCoalesceEventChangeDetection&&"eventTask"===bt.type||g.shouldCoalesceRunChangeDetection)&&A(),Ll(g)}},onInvoke:(ne,Ee,tt,bt,Sn,xn,yr)=>{try{return ja(g),ne.invoke(tt,bt,Sn,xn,yr)}finally{g.shouldCoalesceRunChangeDetection&&!g.callbackScheduled&&!function Iu(g){return vc(g,"__scheduler_tick__")}(xn)&&A(),Ll(g)}},onHasTask:(ne,Ee,tt,bt)=>{ne.hasTask(tt,bt),Ee===tt&&("microTask"==bt.change?(g._hasPendingMicrotasks=bt.microTask,Ha(g),Au(g)):"macroTask"==bt.change&&(g.hasPendingMacrotasks=bt.macroTask))},onHandleError:(ne,Ee,tt,bt)=>(ne.handleError(tt,bt),g.runOutsideAngular(()=>g.onError.emit(bt)),!1)})}(bt)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get(Tu)}static assertInAngularZone(){if(!va.isInAngularZone())throw new Te(909,!1)}static assertNotInAngularZone(){if(va.isInAngularZone())throw new Te(909,!1)}run(A,U,ne){return this._inner.run(A,U,ne)}runTask(A,U,ne,Ee){const tt=this._inner,bt=tt.scheduleEventTask("NgZoneEvent: "+Ee,A,pl,Hu,Hu);try{return tt.runTask(bt,U,ne)}finally{tt.cancelTask(bt)}}runGuarded(A,U,ne){return this._inner.runGuarded(A,U,ne)}runOutsideAngular(A){return this._outer.run(A)}}const pl={};function Au(g){if(0==g._nesting&&!g.hasPendingMicrotasks&&!g.isStable)try{g._nesting++,g.onMicrotaskEmpty.emit(null)}finally{if(g._nesting--,!g.hasPendingMicrotasks)try{g.runOutsideAngular(()=>g.onStable.emit(null))}finally{g.isStable=!0}}}function Ha(g){g.hasPendingMicrotasks=!!(g._hasPendingMicrotasks||(g.shouldCoalesceEventChangeDetection||g.shouldCoalesceRunChangeDetection)&&!0===g.callbackScheduled)}function ja(g){g._nesting++,g.isStable&&(g.isStable=!1,g.onUnstable.emit(null))}function Ll(g){g._nesting--,Au(g)}class Mu{hasPendingMicrotasks=!1;hasPendingMacrotasks=!1;isStable=!0;onUnstable=new Zs;onMicrotaskEmpty=new Zs;onStable=new Zs;onError=new Zs;run(A,U,ne){return A.apply(U,ne)}runGuarded(A,U,ne){return A.apply(U,ne)}runOutsideAngular(A){return A()}runTask(A,U,ne,Ee){return A.apply(U,ne)}}function vc(g,A){return!(!Array.isArray(g)||1!==g.length)&&!0===g[0]?.data?.[A]}class ac{_console=console;handleError(A){this._console.error("ERROR",A)}}const uu=new oi("",{factory:()=>{const g=qn(va),A=qn($o);let U;return ne=>{g.runOutsideAngular(()=>{A.destroyed&&!U?setTimeout(()=>{throw ne}):(U??=A.get(ac),U.handleError(ne))})}}}),ea={provide:qe,useValue:()=>{qn(ac,{optional:!0})},multi:!0};function uc(g,A){const[U,ne,Ee]=(0,L.n5)(g,A?.equal),tt=U;return tt.set=ne,tt.update=Ee,tt.asReadonly=cu.bind(tt),tt}function cu(){const g=this[L.bh];if(void 0===g.readonlyFn){const A=()=>this();A[L.bh]=g,g.readonlyFn=A}return g.readonlyFn}function $u(g,A){if(null!==(0,L.nR)())throw new Te(-602,!1)}let Wu=(()=>class g{view;node;constructor(U,ne){this.view=U,this.node=ne}static __NG_ELEMENT_ID__=Cc})();function Cc(){return new Wu(ga(),yl())}class ku{}const du=new oi("",{factory:()=>!0}),Ec=new oi("",{factory:()=>!1}),Ru=new oi("");let cc=(()=>{class g{internalPendingTasks=qn(Ja);scheduler=qn(ku);errorHandler=qn(uu);add(){const U=this.internalPendingTasks.add();return()=>{this.internalPendingTasks.has(U)&&(this.scheduler.notify(11),this.internalPendingTasks.remove(U))}}run(U){const ne=this.add();U().catch(this.errorHandler).finally(ne)}static \u0275prov=Pt({token:g,providedIn:"root",factory:()=>new g})}return g})(),Al=(()=>{class g{static \u0275prov=Pt({token:g,providedIn:"root",factory:()=>new zu})}return g})();class zu{dirtyEffectCount=0;queues=new Map;add(A){this.enqueue(A),this.schedule(A)}schedule(A){A.dirty&&this.dirtyEffectCount++}remove(A){const ne=this.queues.get(A.zone);ne.has(A)&&(ne.delete(A),A.dirty&&this.dirtyEffectCount--)}enqueue(A){const U=A.zone;this.queues.has(U)||this.queues.set(U,new Set);const ne=this.queues.get(U);ne.has(A)||ne.add(A)}flush(){for(;this.dirtyEffectCount>0;){let A=!1;for(const[U,ne]of this.queues)A||=null===U?this.flushQueue(ne):U.run(()=>this.flushQueue(ne));A||(this.dirtyEffectCount=0)}}flushQueue(A){let U=!1;for(const ne of A)ne.dirty&&(this.dirtyEffectCount--,U=!0,ne.run());return U}}class Hs{[L.bh];constructor(A){this[L.bh]=A}destroy(){this[L.bh].destroy()}}function Pc(g,A){const U=A?.injector??qn(Qa);let Ee,ne=!0!==A?.manualCleanup?U.get(Js):null;const tt=U.get(Wu,null,{optional:!0}),bt=U.get(ku);return null!==tt?(Ee=function Fu(g,A,U){const ne=Object.create(Pu);return ne.view=g,ne.zone=typeof Zone<"u"?Zone.current:null,ne.notifier=A,ne.fn=S(ne,U),g[us]??=new Set,g[us].add(ne),ne.consumerMarkedDirty(ne),ne}(tt.view,bt,g),ne instanceof Wl&&ne._lView===tt.view&&(ne=null)):Ee=function j(g,A,U){const ne=Object.create(xc);return ne.fn=S(ne,g),ne.scheduler=A,ne.notifier=U,ne.zone=typeof Zone<"u"?Zone.current:null,ne.scheduler.add(ne),ne.notifier.notify(12),ne}(g,U.get(Al),bt),Ee.injector=U,null!==ne&&(Ee.onDestroyFns=[ne.onDestroy(()=>Ee.destroy())]),new Hs(Ee)}const bc={...L.vX,cleanupFns:void 0,zone:null,onDestroyFns:null,run(){const g=iu(!1);try{(0,L.lh)(this)}finally{iu(g)}},cleanup(){if(!this.cleanupFns?.length)return;const g=(0,L.Ht)(null);try{for(;this.cleanupFns.length;)this.cleanupFns.pop()()}finally{this.cleanupFns=[],(0,L.Ht)(g)}}},xc={...bc,consumerMarkedDirty(){this.scheduler.schedule(this),this.notifier.notify(12)},destroy(){if((0,L.XR)(this),null!==this.onDestroyFns)for(const g of this.onDestroyFns)g();this.cleanup(),this.scheduler.remove(this)}},Pu={...bc,consumerMarkedDirty(){this.view[no]|=8192,al(this.view),this.notifier.notify(13)},destroy(){if((0,L.XR)(this),null!==this.onDestroyFns)for(const g of this.onDestroyFns)g();this.cleanup(),this.view[us]?.delete(this)}};function S(g,A){return()=>{A(U=>(g.cleanupFns??=[]).push(U))}}function D(g){return(0,L.O8)(g)}},447(on,ct,$){var L;on.exports=(L=$(7656),function(){var R=L,ve=R.lib,oe=ve.WordArray,ke=ve.Hasher,Ae=R.algo,ee=oe.create([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13]),v=oe.create([5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11]),m=oe.create([11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6]),ie=oe.create([8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11]),xe=oe.create([0,1518500249,1859775393,2400959708,2840853838]),t=oe.create([1352829926,1548603684,1836072691,2053994217,0]),Le=Ae.RIPEMD160=ke.extend({_doReset:function(){this._hash=oe.create([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(ze,et){for(var st=0;st<16;st++){var rn=et+st,It=ze[rn];ze[rn]=16711935&(It<<8|It>>>24)|4278255360&(It<<24|It>>>8)}var Dt,ht,Ke,Ge,Ft,Xe,Ze,dt,Et,yt,Nt,Ht=this._hash.words,At=xe.words,Me=t.words,gt=ee.words,Ve=v.words,en=m.words,Bt=ie.words;for(Xe=Dt=Ht[0],Ze=ht=Ht[1],dt=Ke=Ht[2],Et=Ge=Ht[3],yt=Ft=Ht[4],st=0;st<80;st+=1)Nt=Dt+ze[et+gt[st]]|0,Nt+=st<16?Se(ht,Ke,Ge)+At[0]:st<32?je(ht,Ke,Ge)+At[1]:st<48?Te(ht,Ke,Ge)+At[2]:st<64?be(ht,Ke,Ge)+At[3]:Oe(ht,Ke,Ge)+At[4],Nt=(Nt=at(Nt|=0,en[st]))+Ft|0,Dt=Ft,Ft=Ge,Ge=at(Ke,10),Ke=ht,ht=Nt,Nt=Xe+ze[et+Ve[st]]|0,Nt+=st<16?Oe(Ze,dt,Et)+Me[0]:st<32?be(Ze,dt,Et)+Me[1]:st<48?Te(Ze,dt,Et)+Me[2]:st<64?je(Ze,dt,Et)+Me[3]:Se(Ze,dt,Et)+Me[4],Nt=(Nt=at(Nt|=0,Bt[st]))+yt|0,Xe=yt,yt=Et,Et=at(dt,10),dt=Ze,Ze=Nt;Nt=Ht[1]+Ke+Et|0,Ht[1]=Ht[2]+Ge+yt|0,Ht[2]=Ht[3]+Ft+Xe|0,Ht[3]=Ht[4]+Dt+Ze|0,Ht[4]=Ht[0]+ht+dt|0,Ht[0]=Nt},_doFinalize:function(){var ze=this._data,et=ze.words,st=8*this._nDataBytes,rn=8*ze.sigBytes;et[rn>>>5]|=128<<24-rn%32,et[14+(rn+64>>>9<<4)]=16711935&(st<<8|st>>>24)|4278255360&(st<<24|st>>>8),ze.sigBytes=4*(et.length+1),this._process();for(var It=this._hash,Ht=It.words,At=0;At<5;At++){var Me=Ht[At];Ht[At]=16711935&(Me<<8|Me>>>24)|4278255360&(Me<<24|Me>>>8)}return It},clone:function(){var ze=ke.clone.call(this);return ze._hash=this._hash.clone(),ze}});function Se(ze,et,st){return ze^et^st}function je(ze,et,st){return ze&et|~ze&st}function Te(ze,et,st){return(ze|~et)^st}function be(ze,et,st){return ze&st|et&~st}function Oe(ze,et,st){return ze^(et|~st)}function at(ze,et){return ze<<et|ze>>>32-et}R.RIPEMD160=ke._createHelper(Le),R.HmacRIPEMD160=ke._createHmacHelper(Le)}(Math),L.RIPEMD160)},467(on,ct,$){"use strict";function L(R,ve,oe,ke,Ae,ee,v){try{var m=R[ee](v),ie=m.value}catch(xe){return void oe(xe)}m.done?ve(ie):Promise.resolve(ie).then(ke,Ae)}function r(R){return function(){var ve=this,oe=arguments;return new Promise(function(ke,Ae){var ee=R.apply(ve,oe);function v(ie){L(ee,ke,Ae,v,m,"next",ie)}function m(ie){L(ee,ke,Ae,v,m,"throw",ie)}v(void 0)})}}$.d(ct,{A:()=>r})},477(){},591(on,ct,$){"use strict";function L(r){return new TypeError(`You provided ${null!==r&&"object"==typeof r?"an invalid object":`'${r}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}$.d(ct,{L:()=>L})},885(on,ct,$){var L;on.exports=(L=$(7656),$(4501),function(){var r=L,ve=r.lib.Hasher,oe=r.x64,ke=oe.Word,Ae=oe.WordArray,ee=r.algo;function v(){return ke.create.apply(ke,arguments)}var m=[v(1116352408,3609767458),v(1899447441,602891725),v(3049323471,3964484399),v(3921009573,2173295548),v(961987163,4081628472),v(1508970993,3053834265),v(2453635748,2937671579),v(2870763221,3664609560),v(3624381080,2734883394),v(310598401,1164996542),v(607225278,1323610764),v(1426881987,3590304994),v(1925078388,4068182383),v(2162078206,991336113),v(2614888103,633803317),v(3248222580,3479774868),v(3835390401,2666613458),v(4022224774,944711139),v(264347078,2341262773),v(604807628,2007800933),v(770255983,1495990901),v(1249150122,1856431235),v(1555081692,3175218132),v(1996064986,2198950837),v(2554220882,3999719339),v(2821834349,766784016),v(2952996808,2566594879),v(3210313671,3203337956),v(3336571891,1034457026),v(3584528711,2466948901),v(113926993,3758326383),v(338241895,168717936),v(666307205,1188179964),v(773529912,1546045734),v(1294757372,1522805485),v(1396182291,2643833823),v(1695183700,2343527390),v(1986661051,1014477480),v(2177026350,1206759142),v(2456956037,344077627),v(2730485921,1290863460),v(2820302411,3158454273),v(3259730800,3505952657),v(3345764771,106217008),v(3516065817,3606008344),v(3600352804,1432725776),v(4094571909,1467031594),v(275423344,851169720),v(430227734,3100823752),v(506948616,1363258195),v(659060556,3750685593),v(883997877,3785050280),v(958139571,3318307427),v(1322822218,3812723403),v(1537002063,2003034995),v(1747873779,3602036899),v(1955562222,1575990012),v(2024104815,1125592928),v(2227730452,2716904306),v(2361852424,442776044),v(2428436474,593698344),v(2756734187,3733110249),v(3204031479,2999351573),v(3329325298,3815920427),v(3391569614,3928383900),v(3515267271,566280711),v(3940187606,3454069534),v(4118630271,4000239992),v(116418474,1914138554),v(174292421,2731055270),v(289380356,3203993006),v(460393269,320620315),v(685471733,587496836),v(852142971,1086792851),v(1017036298,365543100),v(1126000580,2618297676),v(1288033470,3409855158),v(1501505948,4234509866),v(1607167915,987167468),v(1816402316,1246189591)],ie=[];!function(){for(var t=0;t<80;t++)ie[t]=v()}();var xe=ee.SHA512=ve.extend({_doReset:function(){this._hash=new Ae.init([new ke.init(1779033703,4089235720),new ke.init(3144134277,2227873595),new ke.init(1013904242,4271175723),new ke.init(2773480762,1595750129),new ke.init(1359893119,2917565137),new ke.init(2600822924,725511199),new ke.init(528734635,4215389547),new ke.init(1541459225,327033209)])},_doProcessBlock:function(t,Le){for(var Se=this._hash.words,je=Se[0],Te=Se[1],be=Se[2],Oe=Se[3],at=Se[4],ze=Se[5],et=Se[6],st=Se[7],rn=je.high,It=je.low,Ht=Te.high,At=Te.low,Me=be.high,gt=be.low,Ve=Oe.high,en=Oe.low,Bt=at.high,Dt=at.low,ht=ze.high,Ke=ze.low,Ge=et.high,Ft=et.low,Xe=st.high,Ze=st.low,dt=rn,Et=It,yt=Ht,Nt=At,wn=Me,bn=gt,Gt=Ve,kn=en,On=Bt,Er=Dt,mi=ht,Jn=Ke,Pt=Ge,Kt=Ft,Un=Xe,fr=Ze,Pr=0;Pr<80;Pr++){var fi,li,Gi=ie[Pr];if(Pr<16)li=Gi.high=0|t[Le+2*Pr],fi=Gi.low=0|t[Le+2*Pr+1];else{var Li=ie[Pr-15],oi=Li.high,yn=Li.low,ln=(yn>>>1|oi<<31)^(yn>>>8|oi<<24)^(yn>>>7|oi<<25),gn=ie[Pr-2],zn=gn.high,sr=gn.low,Zn=(sr>>>19|zn<<13)^(sr<<3|zn>>>29)^(sr>>>6|zn<<26),Fi=ie[Pr-7],Hn=ie[Pr-16],Ei=Hn.low;Gi.high=li=(li=(li=((oi>>>1|yn<<31)^(oi>>>8|yn<<24)^oi>>>7)+Fi.high+((fi=ln+Fi.low)>>>0<ln>>>0?1:0))+((zn>>>19|sr<<13)^(zn<<3|sr>>>29)^zn>>>6)+((fi+=Zn)>>>0<Zn>>>0?1:0))+Hn.high+((fi+=Ei)>>>0<Ei>>>0?1:0),Gi.low=fi}var _i,pi=On&mi^~On&Pt,fo=Er&Jn^~Er&Kt,Ai=dt&yt^dt&wn^yt&wn,Vi=(Et>>>28|dt<<4)^(Et<<30|dt>>>2)^(Et<<25|dt>>>7),Di=m[Pr],$i=Di.low,Mi=Un+((On>>>14|Er<<18)^(On>>>18|Er<<14)^(On<<23|Er>>>9))+((_i=fr+((Er>>>14|On<<18)^(Er>>>18|On<<14)^(Er<<23|On>>>9)))>>>0<fr>>>0?1:0),Xi=Vi+(Et&Nt^Et&bn^Nt&bn);Un=Pt,fr=Kt,Pt=mi,Kt=Jn,mi=On,Jn=Er,On=Gt+(Mi=(Mi=(Mi=Mi+pi+((_i+=fo)>>>0<fo>>>0?1:0))+Di.high+((_i+=$i)>>>0<$i>>>0?1:0))+li+((_i+=fi)>>>0<fi>>>0?1:0))+((Er=kn+_i|0)>>>0<kn>>>0?1:0)|0,Gt=wn,kn=bn,wn=yt,bn=Nt,yt=dt,Nt=Et,dt=Mi+(((dt>>>28|Et<<4)^(dt<<30|Et>>>2)^(dt<<25|Et>>>7))+Ai+(Xi>>>0<Vi>>>0?1:0))+((Et=_i+Xi|0)>>>0<_i>>>0?1:0)|0}It=je.low=It+Et,je.high=rn+dt+(It>>>0<Et>>>0?1:0),At=Te.low=At+Nt,Te.high=Ht+yt+(At>>>0<Nt>>>0?1:0),gt=be.low=gt+bn,be.high=Me+wn+(gt>>>0<bn>>>0?1:0),en=Oe.low=en+kn,Oe.high=Ve+Gt+(en>>>0<kn>>>0?1:0),Dt=at.low=Dt+Er,at.high=Bt+On+(Dt>>>0<Er>>>0?1:0),Ke=ze.low=Ke+Jn,ze.high=ht+mi+(Ke>>>0<Jn>>>0?1:0),Ft=et.low=Ft+Kt,et.high=Ge+Pt+(Ft>>>0<Kt>>>0?1:0),Ze=st.low=Ze+fr,st.high=Xe+Un+(Ze>>>0<fr>>>0?1:0)},_doFinalize:function(){var t=this._data,Le=t.words,Se=8*this._nDataBytes,je=8*t.sigBytes;return Le[je>>>5]|=128<<24-je%32,Le[30+(je+128>>>10<<5)]=Math.floor(Se/4294967296),Le[31+(je+128>>>10<<5)]=Se,t.sigBytes=4*Le.length,this._process(),this._hash.toX32()},clone:function(){var t=ve.clone.call(this);return t._hash=this._hash.clone(),t},blockSize:32});r.SHA512=ve._createHelper(xe),r.HmacSHA512=ve._createHmacHelper(xe)}(),L.SHA512)},980(on,ct,$){"use strict";$.d(ct,{j:()=>r});var L=$(9974);function r(R){return(0,L.N)((ve,oe)=>{try{ve.subscribe(oe)}finally{oe.add(R)}})}},983(on,ct,$){"use strict";$.d(ct,{w:()=>r});const r=new($(1985).c)(oe=>oe.complete())},1026(on,ct,$){"use strict";$.d(ct,{$:()=>L});const L={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},1057(on,ct,$){var L;on.exports=(L=$(7656),$(2414),L.mode.CTRGladman=function(){var r=L.lib.BlockCipherMode.extend();function R(ke){if(255&~(ke>>24))ke+=1<<24;else{var Ae=ke>>16&255,ee=ke>>8&255,v=255&ke;255===Ae?(Ae=0,255===ee?(ee=0,255===v?v=0:++v):++ee):++Ae,ke=0,ke+=Ae<<16,ke+=ee<<8,ke+=v}return ke}var oe=r.Encryptor=r.extend({processBlock:function(ke,Ae){var ee=this._cipher,v=ee.blockSize,m=this._iv,ie=this._counter;m&&(ie=this._counter=m.slice(0),this._iv=void 0),function ve(ke){return 0===(ke[0]=R(ke[0]))&&(ke[1]=R(ke[1])),ke}(ie);var xe=ie.slice(0);ee.encryptBlock(xe,0);for(var t=0;t<v;t++)ke[Ae+t]^=xe[t]}});return r.Decryptor=oe,r}(),L.mode.CTRGladman)},1203(on,ct,$){"use strict";$.d(ct,{F:()=>r,m:()=>R});var L=$(3669);function r(...ve){return R(ve)}function R(ve){return 0===ve.length?L.D:1===ve.length?ve[0]:function(ke){return ve.reduce((Ae,ee)=>ee(Ae),ke)}}},1382(on){on.exports=function(){"use strict";var ct=navigator.userAgent,$=navigator.platform,L=/gecko\/\d/i.test(ct),r=/MSIE \d/.test(ct),R=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(ct),ve=/Edge\/(\d+)/.exec(ct),oe=r||R||ve,ke=oe&&(r?document.documentMode||6:+(ve||R)[1]),Ae=!ve&&/WebKit\//.test(ct),ee=Ae&&/Qt\/\d+\.\d+/.test(ct),v=!ve&&/Chrome\/(\d+)/.exec(ct),m=v&&+v[1],ie=/Opera\//.test(ct),xe=/Apple Computer/.test(navigator.vendor),t=/Mac OS X 1\d\D([8-9]|\d\d)\D/.test(ct),Le=/PhantomJS/.test(ct),Se=xe&&(/Mobile\/\w+/.test(ct)||navigator.maxTouchPoints>2),je=/Android/.test(ct),Te=Se||je||/webOS|BlackBerry|Opera Mini|Opera Mobi|IEMobile/i.test(ct),be=Se||/Mac/.test($),Oe=/\bCrOS\b/.test(ct),at=/win/i.test($),ze=ie&&ct.match(/Version\/(\d*\.\d*)/);ze&&(ze=Number(ze[1])),ze&&ze>=15&&(ie=!1,Ae=!0);var et=be&&(ee||ie&&(null==ze||ze<12.11)),st=L||oe&&ke>=9;function rn(o){return new RegExp("(^|\\s)"+o+"(?:$|\\s)\\s*")}var Ve,It=function(o,d){var C=o.className,y=rn(d).exec(C);if(y){var x=C.slice(y.index+y[0].length);o.className=C.slice(0,y.index)+(x?y[1]+x:"")}};function Ht(o){for(var d=o.childNodes.length;d>0;--d)o.removeChild(o.firstChild);return o}function At(o,d){return Ht(o).appendChild(d)}function Me(o,d,C,y){var x=document.createElement(o);if(C&&(x.className=C),y&&(x.style.cssText=y),"string"==typeof d)x.appendChild(document.createTextNode(d));else if(d)for(var F=0;F<d.length;++F)x.appendChild(d[F]);return x}function gt(o,d,C,y){var x=Me(o,d,C,y);return x.setAttribute("role","presentation"),x}function en(o,d){if(3==d.nodeType&&(d=d.parentNode),o.contains)return o.contains(d);do{if(11==d.nodeType&&(d=d.host),d==o)return!0}while(d=d.parentNode)}function Bt(o){var C,d=o.ownerDocument||o;try{C=o.activeElement}catch{C=d.body||null}for(;C&&C.shadowRoot&&C.shadowRoot.activeElement;)C=C.shadowRoot.activeElement;return C}function Dt(o,d){var C=o.className;rn(d).test(C)||(o.className+=(C?" ":"")+d)}function ht(o,d){for(var C=o.split(" "),y=0;y<C.length;y++)C[y]&&!rn(C[y]).test(d)&&(d+=" "+C[y]);return d}Ve=document.createRange?function(o,d,C,y){var x=document.createRange();return x.setEnd(y||o,C),x.setStart(o,d),x}:function(o,d,C){var y=document.body.createTextRange();try{y.moveToElementText(o.parentNode)}catch{return y}return y.collapse(!0),y.moveEnd("character",C),y.moveStart("character",d),y};var Ke=function(o){o.select()};function Ge(o){return o.display.wrapper.ownerDocument}function Ft(o){return Xe(o.display.wrapper)}function Xe(o){return o.getRootNode?o.getRootNode():o.ownerDocument}function Ze(o){return Ge(o).defaultView}function dt(o){var d=Array.prototype.slice.call(arguments,1);return function(){return o.apply(null,d)}}function Et(o,d,C){for(var y in d||(d={}),o)o.hasOwnProperty(y)&&(!1!==C||!d.hasOwnProperty(y))&&(d[y]=o[y]);return d}function yt(o,d,C,y,x){null==d&&-1==(d=o.search(/[^\s\u00a0]/))&&(d=o.length);for(var F=y||0,X=x||0;;){var Z=o.indexOf("\t",F);if(Z<0||Z>=d)return X+(d-F);X+=Z-F,X+=C-X%C,F=Z+1}}Se?Ke=function(o){o.selectionStart=0,o.selectionEnd=o.value.length}:oe&&(Ke=function(o){try{o.select()}catch{}});var Nt=function(){this.id=null,this.f=null,this.time=0,this.handler=dt(this.onTimeout,this)};function wn(o,d){for(var C=0;C<o.length;++C)if(o[C]==d)return C;return-1}Nt.prototype.onTimeout=function(o){o.id=0,o.time<=+new Date?o.f():setTimeout(o.handler,o.time-+new Date)},Nt.prototype.set=function(o,d){this.f=d;var C=+new Date+o;(!this.id||C<this.time)&&(clearTimeout(this.id),this.id=setTimeout(this.handler,o),this.time=C)};var Gt={toString:function(){return"CodeMirror.Pass"}},kn={scroll:!1},On={origin:"*mouse"},Er={origin:"+move"};function mi(o,d,C){for(var y=0,x=0;;){var F=o.indexOf("\t",y);-1==F&&(F=o.length);var X=F-y;if(F==o.length||x+X>=d)return y+Math.min(X,d-x);if(x+=F-y,y=F+1,(x+=C-x%C)>=d)return y}}var Jn=[""];function Pt(o){for(;Jn.length<=o;)Jn.push(Kt(Jn)+" ");return Jn[o]}function Kt(o){return o[o.length-1]}function Un(o,d){for(var C=[],y=0;y<o.length;y++)C[y]=d(o[y],y);return C}function Pr(){}function fi(o,d){var C;return Object.create?C=Object.create(o):(Pr.prototype=o,C=new Pr),d&&Et(d,C),C}var li=/[\u00df\u0587\u0590-\u05f4\u0600-\u06ff\u3040-\u309f\u30a0-\u30ff\u3400-\u4db5\u4e00-\u9fcc\uac00-\ud7af]/;function Gi(o){return/\w/.test(o)||o>"\x80"&&(o.toUpperCase()!=o.toLowerCase()||li.test(o))}function Li(o,d){return d?!!(d.source.indexOf("\\w")>-1&&Gi(o))||d.test(o):Gi(o)}function oi(o){for(var d in o)if(o.hasOwnProperty(d)&&o[d])return!1;return!0}var yn=/[\u0300-\u036f\u0483-\u0489\u0591-\u05bd\u05bf\u05c1\u05c2\u05c4\u05c5\u05c7\u0610-\u061a\u064b-\u065e\u0670\u06d6-\u06dc\u06de-\u06e4\u06e7\u06e8\u06ea-\u06ed\u0711\u0730-\u074a\u07a6-\u07b0\u07eb-\u07f3\u0816-\u0819\u081b-\u0823\u0825-\u0827\u0829-\u082d\u0900-\u0902\u093c\u0941-\u0948\u094d\u0951-\u0955\u0962\u0963\u0981\u09bc\u09be\u09c1-\u09c4\u09cd\u09d7\u09e2\u09e3\u0a01\u0a02\u0a3c\u0a41\u0a42\u0a47\u0a48\u0a4b-\u0a4d\u0a51\u0a70\u0a71\u0a75\u0a81\u0a82\u0abc\u0ac1-\u0ac5\u0ac7\u0ac8\u0acd\u0ae2\u0ae3\u0b01\u0b3c\u0b3e\u0b3f\u0b41-\u0b44\u0b4d\u0b56\u0b57\u0b62\u0b63\u0b82\u0bbe\u0bc0\u0bcd\u0bd7\u0c3e-\u0c40\u0c46-\u0c48\u0c4a-\u0c4d\u0c55\u0c56\u0c62\u0c63\u0cbc\u0cbf\u0cc2\u0cc6\u0ccc\u0ccd\u0cd5\u0cd6\u0ce2\u0ce3\u0d3e\u0d41-\u0d44\u0d4d\u0d57\u0d62\u0d63\u0dca\u0dcf\u0dd2-\u0dd4\u0dd6\u0ddf\u0e31\u0e34-\u0e3a\u0e47-\u0e4e\u0eb1\u0eb4-\u0eb9\u0ebb\u0ebc\u0ec8-\u0ecd\u0f18\u0f19\u0f35\u0f37\u0f39\u0f71-\u0f7e\u0f80-\u0f84\u0f86\u0f87\u0f90-\u0f97\u0f99-\u0fbc\u0fc6\u102d-\u1030\u1032-\u1037\u1039\u103a\u103d\u103e\u1058\u1059\u105e-\u1060\u1071-\u1074\u1082\u1085\u1086\u108d\u109d\u135f\u1712-\u1714\u1732-\u1734\u1752\u1753\u1772\u1773\u17b7-\u17bd\u17c6\u17c9-\u17d3\u17dd\u180b-\u180d\u18a9\u1920-\u1922\u1927\u1928\u1932\u1939-\u193b\u1a17\u1a18\u1a56\u1a58-\u1a5e\u1a60\u1a62\u1a65-\u1a6c\u1a73-\u1a7c\u1a7f\u1b00-\u1b03\u1b34\u1b36-\u1b3a\u1b3c\u1b42\u1b6b-\u1b73\u1b80\u1b81\u1ba2-\u1ba5\u1ba8\u1ba9\u1c2c-\u1c33\u1c36\u1c37\u1cd0-\u1cd2\u1cd4-\u1ce0\u1ce2-\u1ce8\u1ced\u1dc0-\u1de6\u1dfd-\u1dff\u200c\u200d\u20d0-\u20f0\u2cef-\u2cf1\u2de0-\u2dff\u302a-\u302f\u3099\u309a\ua66f-\ua672\ua67c\ua67d\ua6f0\ua6f1\ua802\ua806\ua80b\ua825\ua826\ua8c4\ua8e0-\ua8f1\ua926-\ua92d\ua947-\ua951\ua980-\ua982\ua9b3\ua9b6-\ua9b9\ua9bc\uaa29-\uaa2e\uaa31\uaa32\uaa35\uaa36\uaa43\uaa4c\uaab0\uaab2-\uaab4\uaab7\uaab8\uaabe\uaabf\uaac1\uabe5\uabe8\uabed\udc00-\udfff\ufb1e\ufe00-\ufe0f\ufe20-\ufe26\uff9e\uff9f]/;function or(o){return o.charCodeAt(0)>=768&&yn.test(o)}function ln(o,d,C){for(;(C<0?d>0:d<o.length)&&or(o.charAt(d));)d+=C;return d}function gn(o,d,C){for(var y=d>C?-1:1;;){if(d==C)return d;var x=(d+C)/2,F=y<0?Math.ceil(x):Math.floor(x);if(F==d)return o(F)?d:C;o(F)?C=F:d=F+y}}var sr=null;function Tr(o,d,C){var y;sr=null;for(var x=0;x<o.length;++x){var F=o[x];if(F.from<d&&F.to>d)return x;F.to==d&&(F.from!=F.to&&"before"==C?y=x:sr=x),F.from==d&&(F.from!=F.to&&"before"!=C?y=x:sr=x)}return y??sr}var Zn=function(){function C(ye){return ye<=247?"bbbbbbbbbtstwsbbbbbbbbbbbbbbssstwNN%%%NNNNNN,N,N1111111111NNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNbbbbbbsbbbbbbbbbbbbbbbbbbbbbbbbbb,N%%%%NNNNLNNNNN%%11NLNNN1LNNNNNLLLLLLLLLLLLLLLLLLLLLLLNLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLN".charAt(ye):1424<=ye&&ye<=1524?"R":1536<=ye&&ye<=1785?"nnnnnnNNr%%r,rNNmmmmmmmmmmmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmmmmmmmmmmmmmmmnnnnnnnnnn%nnrrrmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmnNmmmmmmrrmmNmmmmrr1111111111".charAt(ye-1536):1774<=ye&&ye<=2220?"r":8192<=ye&&ye<=8203?"w":8204==ye?"b":"L"}var y=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/,x=/[stwN]/,F=/[LRr]/,X=/[Lb1n]/,Z=/[1n]/;function ue(ye,nt,ft){this.level=ye,this.from=nt,this.to=ft}return function(ye,nt){var ft="ltr"==nt?"L":"R";if(0==ye.length||"ltr"==nt&&!y.test(ye))return!1;for(var jt=ye.length,Lt=[],_n=0;_n<jt;++_n)Lt.push(C(ye.charCodeAt(_n)));for(var An=0,Bn=ft;An<jt;++An){var Kn=Lt[An];"m"==Kn?Lt[An]=Bn:Bn=Kn}for(var mr=0,ar=ft;mr<jt;++mr){var xr=Lt[mr];"1"==xr&&"r"==ar?Lt[mr]="n":F.test(xr)&&(ar=xr,"r"==xr&&(Lt[mr]="R"))}for(var Qr=1,Hr=Lt[0];Qr<jt-1;++Qr){var Ri=Lt[Qr];"+"==Ri&&"1"==Hr&&"1"==Lt[Qr+1]?Lt[Qr]="1":","==Ri&&Hr==Lt[Qr+1]&&("1"==Hr||"n"==Hr)&&(Lt[Qr]=Hr),Hr=Ri}for(var Lo=0;Lo<jt;++Lo){var Ps=Lt[Lo];if(","==Ps)Lt[Lo]="N";else if("%"==Ps){var rs=void 0;for(rs=Lo+1;rs<jt&&"%"==Lt[rs];++rs);for(var na=Lo&&"!"==Lt[Lo-1]||rs<jt&&"1"==Lt[rs]?"1":"N",rl=Lo;rl<rs;++rl)Lt[rl]=na;Lo=rs-1}}for(var Fs=0,il=ft;Fs<jt;++Fs){var Gs=Lt[Fs];"L"==il&&"1"==Gs?Lt[Fs]="L":F.test(Gs)&&(il=Gs)}for(var Na=0;Na<jt;++Na)if(x.test(Lt[Na])){var ra=void 0;for(ra=Na+1;ra<jt&&x.test(Lt[ra]);++ra);for(var Ts="L"==(Na?Lt[Na-1]:ft),gc=Ts==("L"==(ra<jt?Lt[ra]:ft))?Ts?"L":"R":ft,fu=Na;fu<ra;++fu)Lt[fu]=gc;Na=ra-1}for(var Cu,ia=[],Ss=0;Ss<jt;)if(X.test(Lt[Ss])){var ud=Ss;for(++Ss;Ss<jt&&X.test(Lt[Ss]);++Ss);ia.push(new ue(0,ud,Ss))}else{var Bu=Ss,Tc=ia.length,mc="rtl"==nt?1:0;for(++Ss;Ss<jt&&"L"!=Lt[Ss];++Ss);for(var Aa=Bu;Aa<Ss;)if(Z.test(Lt[Aa])){Bu<Aa&&(ia.splice(Tc,0,new ue(1,Bu,Aa)),Tc+=mc);var kr=Aa;for(++Aa;Aa<Ss&&Z.test(Lt[Aa]);++Aa);ia.splice(Tc,0,new ue(2,kr,Aa)),Tc+=mc,Bu=Aa}else++Aa;Bu<Ss&&ia.splice(Tc,0,new ue(1,Bu,Ss))}return"ltr"==nt&&(1==ia[0].level&&(Cu=ye.match(/^\s+/))&&(ia[0].from=Cu[0].length,ia.unshift(new ue(0,0,Cu[0].length))),1==Kt(ia).level&&(Cu=ye.match(/\s+$/))&&(Kt(ia).to-=Cu[0].length,ia.push(new ue(0,jt-Cu[0].length,jt)))),"rtl"==nt?ia.reverse():ia}}();function Fi(o,d){var C=o.order;return null==C&&(C=o.order=Zn(o.text,d)),C}var oo=[],Fn=function(o,d,C){if(o.addEventListener)o.addEventListener(d,C,!1);else if(o.attachEvent)o.attachEvent("on"+d,C);else{var y=o._handlers||(o._handlers={});y[d]=(y[d]||oo).concat(C)}};function Hn(o,d){return o._handlers&&o._handlers[d]||oo}function Bi(o,d,C){if(o.removeEventListener)o.removeEventListener(d,C,!1);else if(o.detachEvent)o.detachEvent("on"+d,C);else{var y=o._handlers,x=y&&y[d];if(x){var F=wn(x,C);F>-1&&(y[d]=x.slice(0,F).concat(x.slice(F+1)))}}}function Ei(o,d){var C=Hn(o,d);if(C.length)for(var y=Array.prototype.slice.call(arguments,2),x=0;x<C.length;++x)C[x].apply(null,y)}function pi(o,d,C){return"string"==typeof d&&(d={type:d,preventDefault:function(){this.defaultPrevented=!0}}),Ei(o,C||d.type,o,d),vo(d)||d.codemirrorIgnore}function fo(o){var d=o._handlers&&o._handlers.cursorActivity;if(d)for(var C=o.curOp.cursorActivityHandlers||(o.curOp.cursorActivityHandlers=[]),y=0;y<d.length;++y)-1==wn(C,d[y])&&C.push(d[y])}function Ai(o,d){return Hn(o,d).length>0}function Lr(o){o.prototype.on=function(d,C){Fn(this,d,C)},o.prototype.off=function(d,C){Bi(this,d,C)}}function Pi(o){o.preventDefault?o.preventDefault():o.returnValue=!1}function Vi(o){o.stopPropagation?o.stopPropagation():o.cancelBubble=!0}function vo(o){return null!=o.defaultPrevented?o.defaultPrevented:0==o.returnValue}function Ui(o){Pi(o),Vi(o)}function Di(o){return o.target||o.srcElement}function ui(o){var d=o.which;return null==d&&(1&o.button?d=1:2&o.button?d=3:4&o.button&&(d=2)),be&&o.ctrlKey&&1==d&&(d=3),d}var _i,Xi,$i=function(){if(oe&&ke<9)return!1;var o=Me("div");return"draggable"in o||"dragDrop"in o}();function Mi(o){if(null==_i){var d=Me("span","\u200b");At(o,Me("span",[d,document.createTextNode("x")])),0!=o.firstChild.offsetHeight&&(_i=d.offsetWidth<=1&&d.offsetHeight>2&&!(oe&&ke<8))}var C=_i?Me("span","\u200b"):Me("span","\xa0",null,"display: inline-block; width: 1px; margin-right: -1px");return C.setAttribute("cm-text",""),C}function Io(o){if(null!=Xi)return Xi;var d=At(o,document.createTextNode("A\u062eA")),C=Ve(d,0,1).getBoundingClientRect(),y=Ve(d,1,2).getBoundingClientRect();return Ht(o),!(!C||C.left==C.right)&&(Xi=y.right-C.right<3)}var o,Do=3!="\n\nb".split(/\n/).length?function(o){for(var d=0,C=[],y=o.length;d<=y;){var x=o.indexOf("\n",d);-1==x&&(x=o.length);var F=o.slice(d,"\r"==o.charAt(x-1)?x-1:x),X=F.indexOf("\r");-1!=X?(C.push(F.slice(0,X)),d+=X+1):(C.push(F),d=x+1)}return C}:function(o){return o.split(/\r\n?|\n/)},Wi=window.getSelection?function(o){try{return o.selectionStart!=o.selectionEnd}catch{return!1}}:function(o){var d;try{d=o.ownerDocument.selection.createRange()}catch{}return!(!d||d.parentElement()!=o)&&0!=d.compareEndPoints("StartToEnd",d)},wo="oncopy"in(o=Me("div"))||(o.setAttribute("oncopy","return;"),"function"==typeof o.oncopy),wi=null;var yo={},Ji={};function Zi(o,d){arguments.length>2&&(d.dependencies=Array.prototype.slice.call(arguments,2)),yo[o]=d}function Xr(o){if("string"==typeof o&&Ji.hasOwnProperty(o))o=Ji[o];else if(o&&"string"==typeof o.name&&Ji.hasOwnProperty(o.name)){var d=Ji[o.name];"string"==typeof d&&(d={name:d}),(o=fi(d,o)).name=d.name}else{if("string"==typeof o&&/^[\w\-]+\/[\w\-]+\+xml$/.test(o))return Xr("application/xml");if("string"==typeof o&&/^[\w\-]+\/[\w\-]+\+json$/.test(o))return Xr("application/json")}return"string"==typeof o?{name:o}:o||{name:"null"}}function Bo(o,d){d=Xr(d);var C=yo[d.name];if(!C)return Bo(o,"text/plain");var y=C(o,d);if(He.hasOwnProperty(d.name)){var x=He[d.name];for(var F in x)x.hasOwnProperty(F)&&(y.hasOwnProperty(F)&&(y["_"+F]=y[F]),y[F]=x[F])}if(y.name=d.name,d.helperType&&(y.helperType=d.helperType),d.modeProps)for(var X in d.modeProps)y[X]=d.modeProps[X];return y}var He={};function pt(o,d){Et(d,He.hasOwnProperty(o)?He[o]:He[o]={})}function lt(o,d){if(!0===d)return d;if(o.copyState)return o.copyState(d);var C={};for(var y in d){var x=d[y];x instanceof Array&&(x=x.concat([])),C[y]=x}return C}function tn(o,d){for(var C;o.innerMode&&(C=o.innerMode(d))&&C.mode!=o;)d=C.state,o=C.mode;return C||{mode:o,state:d}}function hn(o,d,C){return!o.startState||o.startState(d,C)}var un=function(o,d,C){this.pos=this.start=0,this.string=o,this.tabSize=d||8,this.lastColumnPos=this.lastColumnValue=0,this.lineStart=0,this.lineOracle=C};function an(o,d){if((d-=o.first)<0||d>=o.size)throw new Error("There is no line "+(d+o.first)+" in the document.");for(var C=o;!C.lines;)for(var y=0;;++y){var x=C.children[y],F=x.chunkSize();if(d<F){C=x;break}d-=F}return C.lines[d]}function Rr(o,d,C){var y=[],x=d.line;return o.iter(d.line,C.line+1,function(F){var X=F.text;x==C.line&&(X=X.slice(0,C.ch)),x==d.line&&(X=X.slice(d.ch)),y.push(X),++x}),y}function rt(o,d,C){var y=[];return o.iter(d,C,function(x){y.push(x.text)}),y}function Wt(o,d){var C=d-o.height;if(C)for(var y=o;y;y=y.parent)y.height+=C}function Qt(o){if(null==o.parent)return null;for(var d=o.parent,C=wn(d.lines,o),y=d.parent;y;d=y,y=y.parent)for(var x=0;y.children[x]!=d;++x)C+=y.children[x].chunkSize();return C+d.first}function Cn(o,d){var C=o.first;e:do{for(var y=0;y<o.children.length;++y){var x=o.children[y],F=x.height;if(d<F){o=x;continue e}d-=F,C+=x.chunkSize()}return C}while(!o.lines);for(var X=0;X<o.lines.length;++X){var ue=o.lines[X].height;if(d<ue)break;d-=ue}return C+X}function ge(o,d){return d>=o.first&&d<o.first+o.size}function Ye(o,d){return String(o.lineNumberFormatter(d+o.firstLineNumber))}function ot(o,d,C){if(void 0===C&&(C=null),!(this instanceof ot))return new ot(o,d,C);this.line=o,this.ch=d,this.sticky=C}function kt(o,d){return o.line-d.line||o.ch-d.ch}function Tn(o,d){return o.sticky==d.sticky&&0==kt(o,d)}function nr(o){return ot(o.line,o.ch)}function _r(o,d){return kt(o,d)<0?d:o}function Ur(o,d){return kt(o,d)<0?o:d}function qn(o,d){return Math.max(o.first,Math.min(d,o.first+o.size-1))}function tr(o,d){if(d.line<o.first)return ot(o.first,0);var C=o.first+o.size-1;return d.line>C?ot(C,an(o,C).text.length):function Yi(o,d){var C=o.ch;return null==C||C>d?ot(o.line,d):C<0?ot(o.line,0):o}(d,an(o,d.line).text.length)}function hi(o,d){for(var C=[],y=0;y<d.length;y++)C[y]=tr(o,d[y]);return C}un.prototype.eol=function(){return this.pos>=this.string.length},un.prototype.sol=function(){return this.pos==this.lineStart},un.prototype.peek=function(){return this.string.charAt(this.pos)||void 0},un.prototype.next=function(){if(this.pos<this.string.length)return this.string.charAt(this.pos++)},un.prototype.eat=function(o){var d=this.string.charAt(this.pos);if("string"==typeof o?d==o:d&&(o.test?o.test(d):o(d)))return++this.pos,d},un.prototype.eatWhile=function(o){for(var d=this.pos;this.eat(o););return this.pos>d},un.prototype.eatSpace=function(){for(var o=this.pos;/[\s\u00a0]/.test(this.string.charAt(this.pos));)++this.pos;return this.pos>o},un.prototype.skipToEnd=function(){this.pos=this.string.length},un.prototype.skipTo=function(o){var d=this.string.indexOf(o,this.pos);if(d>-1)return this.pos=d,!0},un.prototype.backUp=function(o){this.pos-=o},un.prototype.column=function(){return this.lastColumnPos<this.start&&(this.lastColumnValue=yt(this.string,this.start,this.tabSize,this.lastColumnPos,this.lastColumnValue),this.lastColumnPos=this.start),this.lastColumnValue-(this.lineStart?yt(this.string,this.lineStart,this.tabSize):0)},un.prototype.indentation=function(){return yt(this.string,null,this.tabSize)-(this.lineStart?yt(this.string,this.lineStart,this.tabSize):0)},un.prototype.match=function(o,d,C){if("string"!=typeof o){var F=this.string.slice(this.pos).match(o);return F&&F.index>0?null:(F&&!1!==d&&(this.pos+=F[0].length),F)}var y=function(X){return C?X.toLowerCase():X};if(y(this.string.substr(this.pos,o.length))==y(o))return!1!==d&&(this.pos+=o.length),!0},un.prototype.current=function(){return this.string.slice(this.start,this.pos)},un.prototype.hideFirstChars=function(o,d){this.lineStart+=o;try{return d()}finally{this.lineStart-=o}},un.prototype.lookAhead=function(o){var d=this.lineOracle;return d&&d.lookAhead(o)},un.prototype.baseToken=function(){var o=this.lineOracle;return o&&o.baseToken(this.pos)};var To=function(o,d){this.state=o,this.lookAhead=d},eo=function(o,d,C,y){this.state=d,this.doc=o,this.line=C,this.maxLookAhead=y||0,this.baseTokens=null,this.baseTokenPos=1};function ho(o,d,C,y){var x=[o.state.modeGen],F={};so(o,d.text,o.doc.mode,C,function(ye,nt){return x.push(ye,nt)},F,y);for(var X=C.state,Z=function(ye){C.baseTokens=x;var nt=o.state.overlays[ye],ft=1,jt=0;C.state=!0,so(o,d.text,nt.mode,C,function(Lt,_n){for(var An=ft;jt<Lt;){var Bn=x[ft];Bn>Lt&&x.splice(ft,1,Lt,x[ft+1],Bn),ft+=2,jt=Math.min(Lt,Bn)}if(_n)if(nt.opaque)x.splice(An,ft-An,Lt,"overlay "+_n),ft=An+2;else for(;An<ft;An+=2){var Kn=x[An+1];x[An+1]=(Kn?Kn+" ":"")+"overlay "+_n}},F),C.state=X,C.baseTokens=null,C.baseTokenPos=1},ue=0;ue<o.state.overlays.length;++ue)Z(ue);return{styles:x,classes:F.bgClass||F.textClass?F:null}}function as(o,d,C){if(!d.styles||d.styles[0]!=o.state.modeGen){var y=Vo(o,Qt(d)),x=d.text.length>o.options.maxHighlightLength&&lt(o.doc.mode,y.state),F=ho(o,d,y);x&&(y.state=x),d.stateAfter=y.save(!x),d.styles=F.styles,F.classes?d.styleClasses=F.classes:d.styleClasses&&(d.styleClasses=null),C===o.doc.highlightFrontier&&(o.doc.modeFrontier=Math.max(o.doc.modeFrontier,++o.doc.highlightFrontier))}return d.styles}function Vo(o,d,C){var y=o.doc,x=o.display;if(!y.mode.startState)return new eo(y,!0,d);var F=function zs(o,d,C){for(var y,x,F=o.doc,X=C?-1:d-(o.doc.mode.innerMode?1e3:100),Z=d;Z>X;--Z){if(Z<=F.first)return F.first;var ue=an(F,Z-1),ye=ue.stateAfter;if(ye&&(!C||Z+(ye instanceof To?ye.lookAhead:0)<=F.modeFrontier))return Z;var nt=yt(ue.text,null,o.options.tabSize);(null==x||y>nt)&&(x=Z-1,y=nt)}return x}(o,d,C),X=F>y.first&&an(y,F-1).stateAfter,Z=X?eo.fromSaved(y,X,F):new eo(y,hn(y.mode),F);return y.iter(F,d,function(ue){Co(o,ue.text,Z);var ye=Z.line;ue.stateAfter=ye==d-1||ye%5==0||ye>=x.viewFrom&&ye<x.viewTo?Z.save():null,Z.nextLine()}),C&&(y.modeFrontier=Z.line),Z}function Co(o,d,C,y){var x=o.doc.mode,F=new un(d,o.options.tabSize,C);for(F.start=F.pos=y||0,""==d&&As(x,C.state);!F.eol();)qr(x,F,C.state),F.start=F.pos}function As(o,d){if(o.blankLine)return o.blankLine(d);if(o.innerMode){var C=tn(o,d);if(C.mode.blankLine)return C.mode.blankLine(C.state)}}function qr(o,d,C,y){for(var x=0;x<10;x++){y&&(y[0]=tn(o,C).mode);var F=o.token(d,C);if(d.pos>d.start)return F}throw new Error("Mode "+o.name+" failed to advance stream.")}eo.prototype.lookAhead=function(o){var d=this.doc.getLine(this.line+o);return null!=d&&o>this.maxLookAhead&&(this.maxLookAhead=o),d},eo.prototype.baseToken=function(o){if(!this.baseTokens)return null;for(;this.baseTokens[this.baseTokenPos]<=o;)this.baseTokenPos+=2;var d=this.baseTokens[this.baseTokenPos+1];return{type:d&&d.replace(/( |^)overlay .*/,""),size:this.baseTokens[this.baseTokenPos]-o}},eo.prototype.nextLine=function(){this.line++,this.maxLookAhead>0&&this.maxLookAhead--},eo.fromSaved=function(o,d,C){return d instanceof To?new eo(o,lt(o.mode,d.state),C,d.lookAhead):new eo(o,lt(o.mode,d),C)},eo.prototype.save=function(o){var d=!1!==o?lt(this.doc.mode,this.state):this.state;return this.maxLookAhead>0?new To(d,this.maxLookAhead):d};var Os=function(o,d,C){this.start=o.start,this.end=o.pos,this.string=o.current(),this.type=d||null,this.state=C};function Ws(o,d,C,y){var X,nt,x=o.doc,F=x.mode,Z=an(x,(d=tr(x,d)).line),ue=Vo(o,d.line,C),ye=new un(Z.text,o.options.tabSize,ue);for(y&&(nt=[]);(y||ye.pos<d.ch)&&!ye.eol();)ye.start=ye.pos,X=qr(F,ye,ue.state),y&&nt.push(new Os(ye,X,lt(x.mode,ue.state)));return y?nt:new Os(ye,X,ue.state)}function Fr(o,d){if(o)for(;;){var C=o.match(/(?:^|\s+)line-(background-)?(\S+)/);if(!C)break;o=o.slice(0,C.index)+o.slice(C.index+C[0].length);var y=C[1]?"bgClass":"textClass";null==d[y]?d[y]=C[2]:new RegExp("(?:^|\\s)"+C[2]+"(?:$|\\s)").test(d[y])||(d[y]+=" "+C[2])}return o}function so(o,d,C,y,x,F,X){var Z=C.flattenSpans;null==Z&&(Z=o.options.flattenSpans);var ft,ue=0,ye=null,nt=new un(d,o.options.tabSize,y),jt=o.options.addModeClass&&[null];for(""==d&&Fr(As(C,y.state),F);!nt.eol();){if(nt.pos>o.options.maxHighlightLength?(Z=!1,X&&Co(o,d,y,nt.pos),nt.pos=d.length,ft=null):ft=Fr(qr(C,nt,y.state,jt),F),jt){var Lt=jt[0].name;Lt&&(ft="m-"+(ft?Lt+" "+ft:Lt))}if(!Z||ye!=ft){for(;ue<nt.start;)x(ue=Math.min(nt.start,ue+5e3),ye);ye=ft}nt.start=nt.pos}for(;ue<nt.pos;){var _n=Math.min(nt.pos,ue+5e3);x(_n,ye),ue=_n}}var Xs=!1,Cs=!1;function De(o,d,C){this.marker=o,this.from=d,this.to=C}function Be(o,d){if(o)for(var C=0;C<o.length;++C){var y=o[C];if(y.marker==d)return y}}function xt(o,d){for(var C,y=0;y<o.length;++y)o[y]!=d&&(C||(C=[])).push(o[y]);return C}function yi(o,d){if(d.full)return null;var C=ge(o,d.from.line)&&an(o,d.from.line).markedSpans,y=ge(o,d.to.line)&&an(o,d.to.line).markedSpans;if(!C&&!y)return null;var x=d.from.ch,F=d.to.ch,X=0==kt(d.from,d.to),Z=function Ln(o,d,C){var y;if(o)for(var x=0;x<o.length;++x){var F=o[x],X=F.marker;null!=F.from&&!(X.inclusiveLeft?F.from<=d:F.from<d)&&(F.from!=d||"bookmark"!=X.type||C&&F.marker.insertLeft)||(y||(y=[])).push(new De(X,F.from,null==F.to||(X.inclusiveRight?F.to>=d:F.to>d)?null:F.to))}return y}(C,x,X),ue=function hr(o,d,C){var y;if(o)for(var x=0;x<o.length;++x){var F=o[x],X=F.marker;(null==F.to||(X.inclusiveRight?F.to>=d:F.to>d)||F.from==d&&"bookmark"==X.type&&(!C||F.marker.insertLeft))&&(y||(y=[])).push(new De(X,null==F.from||(X.inclusiveLeft?F.from<=d:F.from<d)?null:F.from-d,null==F.to?null:F.to-d))}return y}(y,F,X),ye=1==d.text.length,nt=Kt(d.text).length+(ye?x:0);if(Z)for(var ft=0;ft<Z.length;++ft){var jt=Z[ft];if(null==jt.to){var Lt=Be(ue,jt.marker);Lt?ye&&(jt.to=null==Lt.to?null:Lt.to+nt):jt.to=x}}if(ue)for(var _n=0;_n<ue.length;++_n){var An=ue[_n];null!=An.to&&(An.to+=nt),null==An.from?Be(Z,An.marker)||(An.from=nt,ye&&(Z||(Z=[])).push(An)):(An.from+=nt,ye&&(Z||(Z=[])).push(An))}Z&&(Z=bi(Z)),ue&&ue!=Z&&(ue=bi(ue));var Kn=[Z];if(!ye){var ar,mr=d.text.length-2;if(mr>0&&Z)for(var xr=0;xr<Z.length;++xr)null==Z[xr].to&&(ar||(ar=[])).push(new De(Z[xr].marker,null,null));for(var Qr=0;Qr<mr;++Qr)Kn.push(ar);Kn.push(ue)}return Kn}function bi(o){for(var d=0;d<o.length;++d){var C=o[d];null!=C.from&&C.from==C.to&&!1!==C.marker.clearWhenEmpty&&o.splice(d--,1)}return o.length?o:null}function ti(o){var d=o.markedSpans;if(d){for(var C=0;C<d.length;++C)d[C].marker.detachLine(o);o.markedSpans=null}}function Hi(o,d){if(d){for(var C=0;C<d.length;++C)d[C].marker.attachLine(o);o.markedSpans=d}}function zr(o){return o.inclusiveLeft?-1:0}function Ii(o){return o.inclusiveRight?1:0}function to(o,d){var C=o.lines.length-d.lines.length;if(0!=C)return C;var y=o.find(),x=d.find(),F=kt(y.from,x.from)||zr(o)-zr(d);return F?-F:kt(y.to,x.to)||Ii(o)-Ii(d)||d.id-o.id}function Yo(o,d){var y,C=Cs&&o.markedSpans;if(C)for(var x=void 0,F=0;F<C.length;++F)(x=C[F]).marker.collapsed&&null==(d?x.from:x.to)&&(!y||to(y,x.marker)<0)&&(y=x.marker);return y}function ao(o){return Yo(o,!0)}function Es(o){return Yo(o,!1)}function Eo(o,d){var y,C=Cs&&o.markedSpans;if(C)for(var x=0;x<C.length;++x){var F=C[x];F.marker.collapsed&&(null==F.from||F.from<d)&&(null==F.to||F.to>d)&&(!y||to(y,F.marker)<0)&&(y=F.marker)}return y}function bo(o,d,C,y,x){var F=an(o,d),X=Cs&&F.markedSpans;if(X)for(var Z=0;Z<X.length;++Z){var ue=X[Z];if(ue.marker.collapsed){var ye=ue.marker.find(0),nt=kt(ye.from,C)||zr(ue.marker)-zr(x),ft=kt(ye.to,y)||Ii(ue.marker)-Ii(x);if(!(nt>=0&&ft<=0||nt<=0&&ft>=0)&&(nt<=0&&(ue.marker.inclusiveRight&&x.inclusiveLeft?kt(ye.to,C)>=0:kt(ye.to,C)>0)||nt>=0&&(ue.marker.inclusiveRight&&x.inclusiveLeft?kt(ye.from,y)<=0:kt(ye.from,y)<0)))return!0}}}function So(o){for(var d;d=ao(o);)o=d.find(-1,!0).line;return o}function $o(o,d){var C=an(o,d),y=So(C);return C==y?d:Qt(y)}function da(o,d){if(d>o.lastLine())return d;var y,C=an(o,d);if(!lo(o,C))return d;for(;y=Es(C);)C=y.find(1,!0).line;return Qt(C)+1}function lo(o,d){var C=Cs&&d.markedSpans;if(C)for(var y=void 0,x=0;x<C.length;++x)if((y=C[x]).marker.collapsed){if(null==y.from)return!0;if(!y.marker.widgetNode&&0==y.from&&y.marker.inclusiveLeft&&ol(o,d,y))return!0}}function ol(o,d,C){if(null==C.to){var y=C.marker.find(1,!0);return ol(o,y.line,Be(y.line.markedSpans,C.marker))}if(C.marker.inclusiveRight&&C.to==d.text.length)return!0;for(var x=void 0,F=0;F<d.markedSpans.length;++F)if((x=d.markedSpans[F]).marker.collapsed&&!x.marker.widgetNode&&x.from==C.to&&(null==x.to||x.to!=C.from)&&(x.marker.inclusiveLeft||C.marker.inclusiveRight)&&ol(o,d,x))return!0}function Ro(o){for(var d=0,C=(o=So(o)).parent,y=0;y<C.lines.length;++y){var x=C.lines[y];if(x==o)break;d+=x.height}for(var F=C.parent;F;F=(C=F).parent)for(var X=0;X<F.children.length;++X){var Z=F.children[X];if(Z==C)break;d+=Z.height}return d}function fa(o){if(0==o.height)return 0;for(var C,d=o.text.length,y=o;C=ao(y);){var x=C.find(0,!0);y=x.from.line,d+=x.from.ch-x.to.ch}for(y=o;C=Es(y);){var F=C.find(0,!0);d-=y.text.length-F.from.ch,d+=(y=F.to.line).text.length-F.to.ch}return d}function ps(o){var d=o.display,C=o.doc;d.maxLine=an(C,C.first),d.maxLineLength=fa(d.maxLine),d.maxLineChanged=!0,C.iter(function(y){var x=fa(y);x>d.maxLineLength&&(d.maxLineLength=x,d.maxLine=y)})}var Qo=function(o,d,C){this.text=o,Hi(this,d),this.height=C?C(this):1};function qs(o){o.parent=null,ti(o)}Qo.prototype.lineNo=function(){return Qt(this)},Lr(Qo);var qa={},Ea={};function Ma(o,d){if(!o||/^\s*$/.test(o))return null;var C=d.addModeClass?Ea:qa;return C[o]||(C[o]=o.replace(/\S+/g,"cm-$&"))}function Ia(o,d){var C=gt("span",null,null,Ae?"padding-right: .1px":null),y={pre:gt("pre",[C],"CodeMirror-line"),content:C,col:0,pos:0,cm:o,trailingSpace:!1,splitSpaces:o.getOption("lineWrapping")};d.measure={};for(var x=0;x<=(d.rest?d.rest.length:0);x++){var F=x?d.rest[x-1]:d.line,X=void 0;y.pos=0,y.addToken=Bs,Io(o.display.measure)&&(X=Fi(F,o.doc.direction))&&(y.addToken=no(y.addToken,X)),y.map=[],we(F,y,as(o,F,d!=o.display.externalMeasured&&Qt(F))),F.styleClasses&&(F.styleClasses.bgClass&&(y.bgClass=ht(F.styleClasses.bgClass,y.bgClass||"")),F.styleClasses.textClass&&(y.textClass=ht(F.styleClasses.textClass,y.textClass||""))),0==y.map.length&&y.map.push(0,0,y.content.appendChild(Mi(o.display.measure))),0==x?(d.measure.map=y.map,d.measure.cache={}):((d.measure.maps||(d.measure.maps=[])).push(y.map),(d.measure.caches||(d.measure.caches=[])).push({}))}if(Ae){var ue=y.content.lastChild;(/\bcm-tab\b/.test(ue.className)||ue.querySelector&&ue.querySelector(".cm-tab"))&&(y.content.className="cm-tab-wrap-hack")}return Ei(o,"renderLine",o,d.line,y.pre),y.pre.className&&(y.textClass=ht(y.pre.className,y.textClass||"")),y}function po(o){var d=Me("span","\u2022","cm-invalidchar");return d.title="\\u"+o.charCodeAt(0).toString(16),d.setAttribute("aria-label",d.title),d}function Bs(o,d,C,y,x,F,X){if(d){var nt,Z=o.splitSpaces?function ls(o,d){if(o.length>1&&!/  /.test(o))return o;for(var C=d,y="",x=0;x<o.length;x++){var F=o.charAt(x);" "==F&&C&&(x==o.length-1||32==o.charCodeAt(x+1))&&(F="\xa0"),y+=F,C=" "==F}return y}(d,o.trailingSpace):d,ue=o.cm.state.specialChars,ye=!1;if(ue.test(d)){nt=document.createDocumentFragment();for(var ft=0;;){ue.lastIndex=ft;var jt=ue.exec(d),Lt=jt?jt.index-ft:d.length-ft;if(Lt){var _n=document.createTextNode(Z.slice(ft,ft+Lt));nt.appendChild(oe&&ke<9?Me("span",[_n]):_n),o.map.push(o.pos,o.pos+Lt,_n),o.col+=Lt,o.pos+=Lt}if(!jt)break;ft+=Lt+1;var An=void 0;if("\t"==jt[0]){var Bn=o.cm.options.tabSize,Kn=Bn-o.col%Bn;(An=nt.appendChild(Me("span",Pt(Kn),"cm-tab"))).setAttribute("role","presentation"),An.setAttribute("cm-text","\t"),o.col+=Kn}else"\r"==jt[0]||"\n"==jt[0]?((An=nt.appendChild(Me("span","\r"==jt[0]?"\u240d":"\u2424","cm-invalidchar"))).setAttribute("cm-text",jt[0]),o.col+=1):((An=o.cm.options.specialCharPlaceholder(jt[0])).setAttribute("cm-text",jt[0]),nt.appendChild(oe&&ke<9?Me("span",[An]):An),o.col+=1);o.map.push(o.pos,o.pos+1,An),o.pos++}}else o.col+=d.length,nt=document.createTextNode(Z),o.map.push(o.pos,o.pos+d.length,nt),oe&&ke<9&&(ye=!0),o.pos+=d.length;if(o.trailingSpace=32==Z.charCodeAt(d.length-1),C||y||x||ye||F||X){var mr=C||"";y&&(mr+=y),x&&(mr+=x);var ar=Me("span",[nt],mr,F);if(X)for(var xr in X)X.hasOwnProperty(xr)&&"style"!=xr&&"class"!=xr&&ar.setAttribute(xr,X[xr]);return o.content.appendChild(ar)}o.content.appendChild(nt)}}function no(o,d){return function(C,y,x,F,X,Z,ue){x=x?x+" cm-force-border":"cm-force-border";for(var ye=C.pos,nt=ye+y.length;;){for(var ft=void 0,jt=0;jt<d.length&&!((ft=d[jt]).to>ye&&ft.from<=ye);jt++);if(ft.to>=nt)return o(C,y,x,F,X,Z,ue);o(C,y.slice(0,ft.to-ye),x,F,null,Z,ue),F=null,y=y.slice(ft.to-ye),ye=ft.to}}}function Ms(o,d,C,y){var x=!y&&C.widgetNode;x&&o.map.push(o.pos,o.pos+d,x),!y&&o.cm.display.input.needsContentAttribute&&(x||(x=o.content.appendChild(document.createElement("span"))),x.setAttribute("cm-marker",C.id)),x&&(o.cm.display.input.setUneditable(x),o.content.appendChild(x)),o.pos+=d,o.trailingSpace=!1}function we(o,d,C){var y=o.markedSpans,x=o.text,F=0;if(y)for(var ft,jt,_n,An,Bn,Kn,mr,Z=x.length,ue=0,ye=1,nt="",Lt=0;;){if(Lt==ue){_n=An=Bn=jt="",mr=null,Kn=null,Lt=1/0;for(var ar=[],xr=void 0,Qr=0;Qr<y.length;++Qr){var Hr=y[Qr],Ri=Hr.marker;if("bookmark"==Ri.type&&Hr.from==ue&&Ri.widgetNode)ar.push(Ri);else if(Hr.from<=ue&&(null==Hr.to||Hr.to>ue||Ri.collapsed&&Hr.to==ue&&Hr.from==ue)){if(null!=Hr.to&&Hr.to!=ue&&Lt>Hr.to&&(Lt=Hr.to,An=""),Ri.className&&(_n+=" "+Ri.className),Ri.css&&(jt=(jt?jt+";":"")+Ri.css),Ri.startStyle&&Hr.from==ue&&(Bn+=" "+Ri.startStyle),Ri.endStyle&&Hr.to==Lt&&(xr||(xr=[])).push(Ri.endStyle,Hr.to),Ri.title&&((mr||(mr={})).title=Ri.title),Ri.attributes)for(var Lo in Ri.attributes)(mr||(mr={}))[Lo]=Ri.attributes[Lo];Ri.collapsed&&(!Kn||to(Kn.marker,Ri)<0)&&(Kn=Hr)}else Hr.from>ue&&Lt>Hr.from&&(Lt=Hr.from)}if(xr)for(var Ps=0;Ps<xr.length;Ps+=2)xr[Ps+1]==Lt&&(An+=" "+xr[Ps]);if(!Kn||Kn.from==ue)for(var rs=0;rs<ar.length;++rs)Ms(d,0,ar[rs]);if(Kn&&(Kn.from||0)==ue){if(Ms(d,(null==Kn.to?Z+1:Kn.to)-ue,Kn.marker,null==Kn.from),null==Kn.to)return;Kn.to==ue&&(Kn=!1)}}if(ue>=Z)break;for(var na=Math.min(Z,Lt);;){if(nt){var rl=ue+nt.length;if(!Kn){var Fs=rl>na?nt.slice(0,na-ue):nt;d.addToken(d,Fs,ft?ft+_n:_n,Bn,ue+Fs.length==Lt?An:"",jt,mr)}if(rl>=na){nt=nt.slice(na-ue),ue=na;break}ue=rl,Bn=""}nt=x.slice(F,F=C[ye++]),ft=Ma(C[ye++],d.cm.options)}}else for(var X=1;X<C.length;X+=2)d.addToken(d,x.slice(F,F=C[X]),Ma(C[X+1],d.cm.options))}function de(o,d,C){this.line=d,this.rest=function ca(o){for(var d,C;d=Es(o);)o=d.find(1,!0).line,(C||(C=[])).push(o);return C}(d),this.size=this.rest?Qt(Kt(this.rest))-C+1:1,this.node=this.text=null,this.hidden=lo(o,d)}function Ce(o,d,C){for(var x,y=[],F=d;F<C;F=x){var X=new de(o.doc,an(o.doc,F),F);x=F+X.size,y.push(X)}return y}var it=null;var er=null;function lr(o,d){var C=Hn(o,d);if(C.length){var x,y=Array.prototype.slice.call(arguments,2);it?x=it.delayedCallbacks:er?x=er:(x=er=[],setTimeout(Mr,0));for(var F=function(Z){x.push(function(){return C[Z].apply(null,y)})},X=0;X<C.length;++X)F(X)}}function Mr(){var o=er;er=null;for(var d=0;d<o.length;++d)o[d]()}function ci(o,d,C,y){for(var x=0;x<d.changes.length;x++){var F=d.changes[x];"text"==F?Wo(o,d):"gutter"==F?Po(o,d,C,y):"class"==F?zo(o,d):"widget"==F&&Uo(o,d,y)}d.changes=null}function Sr(o){return o.node==o.text&&(o.node=Me("div",null,null,"position: relative"),o.text.parentNode&&o.text.parentNode.replaceChild(o.node,o.text),o.node.appendChild(o.text),oe&&ke<8&&(o.node.style.zIndex=2)),o.node}function Qi(o,d){var C=o.display.externalMeasured;return C&&C.line==d.line?(o.display.externalMeasured=null,d.measure=C.measure,C.built):Ia(o,d)}function Wo(o,d){var C=d.text.className,y=Qi(o,d);d.text==d.node&&(d.node=y.pre),d.text.parentNode.replaceChild(y.pre,d.text),d.text=y.pre,y.bgClass!=d.bgClass||y.textClass!=d.textClass?(d.bgClass=y.bgClass,d.textClass=y.textClass,zo(o,d)):C&&(d.text.className=C)}function zo(o,d){(function zi(o,d){var C=d.bgClass?d.bgClass+" "+(d.line.bgClass||""):d.line.bgClass;if(C&&(C+=" CodeMirror-linebackground"),d.background)C?d.background.className=C:(d.background.parentNode.removeChild(d.background),d.background=null);else if(C){var y=Sr(d);d.background=y.insertBefore(Me("div",null,C),y.firstChild),o.display.input.setUneditable(d.background)}})(o,d),d.line.wrapClass?Sr(d).className=d.line.wrapClass:d.node!=d.text&&(d.node.className=""),d.text.className=(d.textClass?d.textClass+" "+(d.line.textClass||""):d.line.textClass)||""}function Po(o,d,C,y){if(d.gutter&&(d.node.removeChild(d.gutter),d.gutter=null),d.gutterBackground&&(d.node.removeChild(d.gutterBackground),d.gutterBackground=null),d.line.gutterClass){var x=Sr(d);d.gutterBackground=Me("div",null,"CodeMirror-gutter-background "+d.line.gutterClass,"left: "+(o.options.fixedGutter?y.fixedPos:-y.gutterTotalWidth)+"px; width: "+y.gutterTotalWidth+"px"),o.display.input.setUneditable(d.gutterBackground),x.insertBefore(d.gutterBackground,d.text)}var F=d.line.gutterMarkers;if(o.options.lineNumbers||F){var X=Sr(d),Z=d.gutter=Me("div",null,"CodeMirror-gutter-wrapper","left: "+(o.options.fixedGutter?y.fixedPos:-y.gutterTotalWidth)+"px");if(Z.setAttribute("aria-hidden","true"),o.display.input.setUneditable(Z),X.insertBefore(Z,d.text),d.line.gutterClass&&(Z.className+=" "+d.line.gutterClass),o.options.lineNumbers&&(!F||!F["CodeMirror-linenumbers"])&&(d.lineNumber=Z.appendChild(Me("div",Ye(o.options,C),"CodeMirror-linenumber CodeMirror-gutter-elt","left: "+y.gutterLeft["CodeMirror-linenumbers"]+"px; width: "+o.display.lineNumInnerWidth+"px"))),F)for(var ue=0;ue<o.display.gutterSpecs.length;++ue){var ye=o.display.gutterSpecs[ue].className,nt=F.hasOwnProperty(ye)&&F[ye];nt&&Z.appendChild(Me("div",[nt],"CodeMirror-gutter-elt","left: "+y.gutterLeft[ye]+"px; width: "+y.gutterWidth[ye]+"px"))}}}function Uo(o,d,C){d.alignable&&(d.alignable=null);for(var y=rn("CodeMirror-linewidget"),x=d.node.firstChild,F=void 0;x;x=F)F=x.nextSibling,y.test(x.className)&&d.node.removeChild(x);us(o,d,C)}function ba(o,d,C,y){var x=Qi(o,d);return d.text=d.node=x.pre,x.bgClass&&(d.bgClass=x.bgClass),x.textClass&&(d.textClass=x.textClass),zo(o,d),Po(o,d,C,y),us(o,d,y),d.node}function us(o,d,C){if(Ba(o,d.line,d,C,!0),d.rest)for(var y=0;y<d.rest.length;y++)Ba(o,d.rest[y],d,C,!1)}function Ba(o,d,C,y,x){if(d.widgets)for(var F=Sr(C),X=0,Z=d.widgets;X<Z.length;++X){var ue=Z[X],ye=Me("div",[ue.node],"CodeMirror-linewidget"+(ue.className?" "+ue.className:""));ue.handleMouseEvents||ye.setAttribute("cm-ignore-events","true"),ka(ue,ye,C,y),o.display.input.setUneditable(ye),x&&ue.above?F.insertBefore(ye,C.gutter||C.text):F.appendChild(ye),lr(ue,"redraw")}}function ka(o,d,C,y){if(o.noHScroll){(C.alignable||(C.alignable=[])).push(d);var x=y.wrapperWidth;d.style.left=y.fixedPos+"px",o.coverGutter||(x-=y.gutterTotalWidth,d.style.paddingLeft=y.gutterTotalWidth+"px"),d.style.width=x+"px"}o.coverGutter&&(d.style.zIndex=5,d.style.position="relative",o.noHScroll||(d.style.marginLeft=-y.gutterTotalWidth+"px"))}function Vs(o){if(null!=o.height)return o.height;var d=o.doc.cm;if(!d)return 0;if(!en(document.body,o.node)){var C="position: relative;";o.coverGutter&&(C+="margin-left: -"+d.display.gutters.offsetWidth+"px;"),o.noHScroll&&(C+="width: "+d.display.wrapper.clientWidth+"px;"),At(d.display.measure,Me("div",[o.node],null,C))}return o.height=o.node.parentNode.offsetHeight}function bs(o,d){for(var C=Di(d);C!=o.wrapper;C=C.parentNode)if(!C||1==C.nodeType&&"true"==C.getAttribute("cm-ignore-events")||C.parentNode==o.sizer&&C!=o.mover)return!0}function Ra(o){return o.lineSpace.offsetTop}function Dl(o){return o.mover.offsetHeight-o.lineSpace.offsetHeight}function _u(o){if(o.cachedPaddingH)return o.cachedPaddingH;var d=At(o.measure,Me("pre","x","CodeMirror-line-like")),C=window.getComputedStyle?window.getComputedStyle(d):d.currentStyle,y={left:parseInt(C.paddingLeft),right:parseInt(C.paddingRight)};return!isNaN(y.left)&&!isNaN(y.right)&&(o.cachedPaddingH=y),y}function Ys(o){return 50-o.display.nativeBarWidth}function sl(o){return o.display.scroller.clientWidth-Ys(o)-o.display.barWidth}function le(o){return o.display.scroller.clientHeight-Ys(o)-o.display.barHeight}function K(o,d,C){if(o.line==d)return{map:o.measure.map,cache:o.measure.cache};if(o.rest){for(var y=0;y<o.rest.length;y++)if(o.rest[y]==d)return{map:o.measure.maps[y],cache:o.measure.caches[y]};for(var x=0;x<o.rest.length;x++)if(Qt(o.rest[x])>C)return{map:o.measure.maps[x],cache:o.measure.caches[x],before:!0}}}function mt(o,d,C,y){return Ko(o,Zr(o,d),C,y)}function vr(o,d){if(d>=o.display.viewFrom&&d<o.display.viewTo)return o.display.view[gr(o,d)];var C=o.display.externalMeasured;return C&&d>=C.lineN&&d<C.lineN+C.size?C:void 0}function Zr(o,d){var C=Qt(d),y=vr(o,C);y&&!y.text?y=null:y&&y.changes&&(ci(o,y,C,ur(o)),o.curOp.forceUpdate=!0),y||(y=function Re(o,d){var C=Qt(d=So(d)),y=o.display.externalMeasured=new de(o.doc,d,C);y.lineN=C;var x=y.built=Ia(o,y);return y.text=x.pre,At(o.display.lineMeasure,x.pre),y}(o,d));var x=K(y,d,C);return{line:d,view:y,rect:null,map:x.map,cache:x.cache,before:x.before,hasHeights:!1}}function Ko(o,d,C,y,x){d.before&&(C=-1);var X,F=C+(y||"");return d.cache.hasOwnProperty(F)?X=d.cache[F]:(d.rect||(d.rect=d.view.text.getBoundingClientRect()),d.hasHeights||(function he(o,d,C){var y=o.options.lineWrapping,x=y&&sl(o);if(!d.measure.heights||y&&d.measure.width!=x){var F=d.measure.heights=[];if(y){d.measure.width=x;for(var X=d.text.firstChild.getClientRects(),Z=0;Z<X.length-1;Z++){var ue=X[Z],ye=X[Z+1];Math.abs(ue.bottom-ye.bottom)>2&&F.push((ue.bottom+ye.top)/2-C.top)}}F.push(C.bottom-C.top)}}(o,d.view,d.rect),d.hasHeights=!0),(X=function xs(o,d,C,y){var ye,x=ha(d.map,C,y),F=x.node,X=x.start,Z=x.end,ue=x.collapse;if(3==F.nodeType){for(var nt=0;nt<4;nt++){for(;X&&or(d.line.text.charAt(x.coverStart+X));)--X;for(;x.coverStart+Z<x.coverEnd&&or(d.line.text.charAt(x.coverStart+Z));)++Z;if((ye=oe&&ke<9&&0==X&&Z==x.coverEnd-x.coverStart?F.parentNode.getBoundingClientRect():Va(Ve(F,X,Z).getClientRects(),y)).left||ye.right||0==X)break;Z=X,X-=1,ue="right"}oe&&ke<11&&(ye=function Ua(o,d){if(!window.screen||null==screen.logicalXDPI||screen.logicalXDPI==screen.deviceXDPI||!function ss(o){if(null!=wi)return wi;var d=At(o,Me("span","x")),C=d.getBoundingClientRect(),y=Ve(d,0,1).getBoundingClientRect();return wi=Math.abs(C.left-y.left)>1}(o))return d;var C=screen.logicalXDPI/screen.deviceXDPI,y=screen.logicalYDPI/screen.deviceYDPI;return{left:d.left*C,right:d.right*C,top:d.top*y,bottom:d.bottom*y}}(o.display.measure,ye))}else{var ft;X>0&&(ue=y="right"),ye=o.options.lineWrapping&&(ft=F.getClientRects()).length>1?ft["right"==y?ft.length-1:0]:F.getBoundingClientRect()}if(oe&&ke<9&&!X&&(!ye||!ye.left&&!ye.right)){var jt=F.parentNode.getClientRects()[0];ye=jt?{left:jt.left,right:jt.left+Gn(o.display),top:jt.top,bottom:jt.bottom}:gs}for(var Lt=ye.top-d.rect.top,_n=ye.bottom-d.rect.top,An=(Lt+_n)/2,Bn=d.view.measure.heights,Kn=0;Kn<Bn.length-1&&!(An<Bn[Kn]);Kn++);var xr={left:("right"==ue?ye.right:ye.left)-d.rect.left,right:("left"==ue?ye.left:ye.right)-d.rect.left,top:Kn?Bn[Kn-1]:0,bottom:Bn[Kn]};return!ye.left&&!ye.right&&(xr.bogus=!0),o.options.singleCursorHeightPerLine||(xr.rtop=Lt,xr.rbottom=_n),xr}(o,d,C,y)).bogus||(d.cache[F]=X)),{left:X.left,right:X.right,top:x?X.rtop:X.top,bottom:x?X.rbottom:X.bottom}}var mn,gs={left:0,right:0,top:0,bottom:0};function ha(o,d,C){for(var y,x,F,X,Z,ue,ye=0;ye<o.length;ye+=3)if(ue=o[ye+1],d<(Z=o[ye])?(x=0,F=1,X="left"):d<ue?F=1+(x=d-Z):(ye==o.length-3||d==ue&&o[ye+3]>d)&&(x=(F=ue-Z)-1,d>=ue&&(X="right")),null!=x){if(y=o[ye+2],Z==ue&&C==(y.insertLeft?"left":"right")&&(X=C),"left"==C&&0==x)for(;ye&&o[ye-2]==o[ye-3]&&o[ye-1].insertLeft;)y=o[2+(ye-=3)],X="left";if("right"==C&&x==ue-Z)for(;ye<o.length-3&&o[ye+3]==o[ye+4]&&!o[ye+5].insertLeft;)y=o[(ye+=3)+2],X="right";break}return{node:y,start:x,end:F,collapse:X,coverStart:Z,coverEnd:ue}}function Va(o,d){var C=gs;if("left"==d)for(var y=0;y<o.length&&(C=o[y]).left==C.right;y++);else for(var x=o.length-1;x>=0&&(C=o[x]).left==C.right;x--);return C}function I(o){if(o.measure&&(o.measure.cache={},o.measure.heights=null,o.rest))for(var d=0;d<o.rest.length;d++)o.measure.caches[d]={}}function O(o){o.display.externalMeasure=null,Ht(o.display.lineMeasure);for(var d=0;d<o.display.view.length;d++)I(o.display.view[d])}function q(o){O(o),o.display.cachedCharWidth=o.display.cachedTextHeight=o.display.cachedPaddingH=null,o.options.lineWrapping||(o.display.maxLineChanged=!0),o.display.lineNumChars=null}function ae(o){return v&&je?-(o.body.getBoundingClientRect().left-parseInt(getComputedStyle(o.body).marginLeft)):o.defaultView.pageXOffset||(o.documentElement||o.body).scrollLeft}function me(o){return v&&je?-(o.body.getBoundingClientRect().top-parseInt(getComputedStyle(o.body).marginTop)):o.defaultView.pageYOffset||(o.documentElement||o.body).scrollTop}function Ie(o){var C=So(o).widgets,y=0;if(C)for(var x=0;x<C.length;++x)C[x].above&&(y+=Vs(C[x]));return y}function Je(o,d,C,y,x){if(!x){var F=Ie(d);C.top+=F,C.bottom+=F}if("line"==y)return C;y||(y="local");var X=Ro(d);if("local"==y?X+=Ra(o.display):X-=o.display.viewOffset,"page"==y||"window"==y){var Z=o.display.lineSpace.getBoundingClientRect();X+=Z.top+("window"==y?0:me(Ge(o)));var ue=Z.left+("window"==y?0:ae(Ge(o)));C.left+=ue,C.right+=ue}return C.top+=X,C.bottom+=X,C}function _t(o,d,C){if("div"==C)return d;var y=d.left,x=d.top;if("page"==C)y-=ae(Ge(o)),x-=me(Ge(o));else if("local"==C||!C){var F=o.display.sizer.getBoundingClientRect();y+=F.left,x+=F.top}var X=o.display.lineSpace.getBoundingClientRect();return{left:y-X.left,top:x-X.top}}function St(o,d,C,y,x){return y||(y=an(o.doc,d.line)),Je(o,y,mt(o,y,d.ch,x),C)}function Mt(o,d,C,y,x,F){function X(_n,An){var Bn=Ko(o,x,_n,An?"right":"left",F);return An?Bn.left=Bn.right:Bn.right=Bn.left,Je(o,y,Bn,C)}y=y||an(o.doc,d.line),x||(x=Zr(o,y));var Z=Fi(y,o.doc.direction),ue=d.ch,ye=d.sticky;if(ue>=y.text.length?(ue=y.text.length,ye="before"):ue<=0&&(ue=0,ye="after"),!Z)return X("before"==ye?ue-1:ue,"before"==ye);function nt(_n,An,Bn){return X(Bn?_n-1:_n,1==Z[An].level!=Bn)}var ft=Tr(Z,ue,ye),jt=sr,Lt=nt(ue,ft,"before"==ye);return null!=jt&&(Lt.other=nt(ue,jt,"before"!=ye)),Lt}function zt(o,d){var C=0;d=tr(o.doc,d),o.options.lineWrapping||(C=Gn(o.display)*d.ch);var y=an(o.doc,d.line),x=Ro(y)+Ra(o.display);return{left:C,right:C,top:x,bottom:x+y.height}}function wt(o,d,C,y,x){var F=ot(o,d,C);return F.xRel=x,y&&(F.outside=y),F}function Jt(o,d,C){var y=o.doc;if((C+=o.display.viewOffset)<0)return wt(y.first,0,null,-1,-1);var x=Cn(y,C),F=y.first+y.size-1;if(x>F)return wt(y.first+y.size-1,an(y,F).text.length,null,1,1);d<0&&(d=0);for(var X=an(y,x);;){var Z=Xt(o,X,x,d,C),ue=Eo(X,Z.ch+(Z.xRel>0||Z.outside>0?1:0));if(!ue)return Z;var ye=ue.find(1);if(ye.line==x)return ye;X=an(y,x=ye.line)}}function Ot(o,d,C,y){y-=Ie(d);var x=d.text.length,F=gn(function(X){return Ko(o,C,X-1).bottom<=y},x,0);return{begin:F,end:x=gn(function(X){return Ko(o,C,X).top>y},F,x)}}function Vt(o,d,C,y){return C||(C=Zr(o,d)),Ot(o,d,C,Je(o,d,Ko(o,C,y),"line").top)}function Ut(o,d,C,y){return!(o.bottom<=C)&&(o.top>C||(y?o.left:o.right)>d)}function Xt(o,d,C,y,x){x-=Ro(d);var F=Zr(o,d),X=Ie(d),Z=0,ue=d.text.length,ye=!0,nt=Fi(d,o.doc.direction);if(nt){var ft=(o.options.lineWrapping?sn:qt)(o,d,C,F,nt,y,x);Z=(ye=1!=ft.level)?ft.from:ft.to-1,ue=ye?ft.to:ft.from-1}var An,Bn,jt=null,Lt=null,_n=gn(function(Qr){var Hr=Ko(o,F,Qr);return Hr.top+=X,Hr.bottom+=X,!!Ut(Hr,y,x,!1)&&(Hr.top<=x&&Hr.left<=y&&(jt=Qr,Lt=Hr),!0)},Z,ue),Kn=!1;if(Lt){var mr=y-Lt.left<Lt.right-y,ar=mr==ye;_n=jt+(ar?0:1),Bn=ar?"after":"before",An=mr?Lt.left:Lt.right}else{!ye&&(_n==ue||_n==Z)&&_n++,Bn=0==_n?"after":_n==d.text.length?"before":Ko(o,F,_n-(ye?1:0)).bottom+X<=x==ye?"after":"before";var xr=Mt(o,ot(C,_n,Bn),"line",d,F);An=xr.left,Kn=x<xr.top?-1:x>=xr.bottom?1:0}return wt(C,_n=ln(d.text,_n,1),Bn,Kn,y-An)}function qt(o,d,C,y,x,F,X){var Z=gn(function(ft){var jt=x[ft],Lt=1!=jt.level;return Ut(Mt(o,ot(C,Lt?jt.to:jt.from,Lt?"before":"after"),"line",d,y),F,X,!0)},0,x.length-1),ue=x[Z];if(Z>0){var ye=1!=ue.level,nt=Mt(o,ot(C,ye?ue.from:ue.to,ye?"after":"before"),"line",d,y);Ut(nt,F,X,!0)&&nt.top>X&&(ue=x[Z-1])}return ue}function sn(o,d,C,y,x,F,X){var Z=Ot(o,d,y,X),ue=Z.begin,ye=Z.end;/\s/.test(d.text.charAt(ye-1))&&ye--;for(var nt=null,ft=null,jt=0;jt<x.length;jt++){var Lt=x[jt];if(!(Lt.from>=ye||Lt.to<=ue)){var An=Ko(o,y,1!=Lt.level?Math.min(ye,Lt.to)-1:Math.max(ue,Lt.from)).right,Bn=An<F?F-An+1e9:An-F;(!nt||ft>Bn)&&(nt=Lt,ft=Bn)}}return nt||(nt=x[x.length-1]),nt.from<ue&&(nt={from:ue,to:nt.to,level:nt.level}),nt.to>ye&&(nt={from:nt.from,to:ye,level:nt.level}),nt}function En(o){if(null!=o.cachedTextHeight)return o.cachedTextHeight;if(null==mn){mn=Me("pre",null,"CodeMirror-line-like");for(var d=0;d<49;++d)mn.appendChild(document.createTextNode("x")),mn.appendChild(Me("br"));mn.appendChild(document.createTextNode("x"))}At(o.measure,mn);var C=mn.offsetHeight/50;return C>3&&(o.cachedTextHeight=C),Ht(o.measure),C||1}function Gn(o){if(null!=o.cachedCharWidth)return o.cachedCharWidth;var d=Me("span","xxxxxxxxxx"),C=Me("pre",[d],"CodeMirror-line-like");At(o.measure,C);var y=d.getBoundingClientRect(),x=(y.right-y.left)/10;return x>2&&(o.cachedCharWidth=x),x||10}function ur(o){for(var d=o.display,C={},y={},x=d.gutters.clientLeft,F=d.gutters.firstChild,X=0;F;F=F.nextSibling,++X){var Z=o.display.gutterSpecs[X].className;C[Z]=F.offsetLeft+F.clientLeft+x,y[Z]=F.clientWidth}return{fixedPos:Nn(d),gutterTotalWidth:d.gutters.offsetWidth,gutterLeft:C,gutterWidth:y,wrapperWidth:d.wrapper.clientWidth}}function Nn(o){return o.scroller.getBoundingClientRect().left-o.sizer.getBoundingClientRect().left}function $n(o){var d=En(o.display),C=o.options.lineWrapping,y=C&&Math.max(5,o.display.scroller.clientWidth/Gn(o.display)-3);return function(x){if(lo(o.doc,x))return 0;var F=0;if(x.widgets)for(var X=0;X<x.widgets.length;X++)x.widgets[X].height&&(F+=x.widgets[X].height);return C?F+(Math.ceil(x.text.length/y)||1)*d:F+d}}function Yn(o){var d=o.doc,C=$n(o);d.iter(function(y){var x=C(y);x!=y.height&&Wt(y,x)})}function Xn(o,d,C,y){var x=o.display;if(!C&&"true"==Di(d).getAttribute("cm-not-content"))return null;var F,X,Z=x.lineSpace.getBoundingClientRect();try{F=d.clientX-Z.left,X=d.clientY-Z.top}catch{return null}var ye,ue=Jt(o,F,X);if(y&&ue.xRel>0&&(ye=an(o.doc,ue.line).text).length==ue.ch){var nt=yt(ye,ye.length,o.options.tabSize)-ye.length;ue=ot(ue.line,Math.max(0,Math.round((F-_u(o.display).left)/Gn(o.display))-nt))}return ue}function gr(o,d){if(d>=o.display.viewTo||(d-=o.display.viewFrom)<0)return null;for(var C=o.display.view,y=0;y<C.length;y++)if((d-=C[y].size)<0)return y}function Ir(o,d,C,y){null==d&&(d=o.doc.first),null==C&&(C=o.doc.first+o.doc.size),y||(y=0);var x=o.display;if(y&&C<x.viewTo&&(null==x.updateLineNumbers||x.updateLineNumbers>d)&&(x.updateLineNumbers=d),o.curOp.viewChanged=!0,d>=x.viewTo)Cs&&$o(o.doc,d)<x.viewTo&&ni(o);else if(C<=x.viewFrom)Cs&&da(o.doc,C+y)>x.viewFrom?ni(o):(x.viewFrom+=y,x.viewTo+=y);else if(d<=x.viewFrom&&C>=x.viewTo)ni(o);else if(d<=x.viewFrom){var F=uo(o,C,C+y,1);F?(x.view=x.view.slice(F.index),x.viewFrom=F.lineN,x.viewTo+=y):ni(o)}else if(C>=x.viewTo){var X=uo(o,d,d,-1);X?(x.view=x.view.slice(0,X.index),x.viewTo=X.lineN):ni(o)}else{var Z=uo(o,d,d,-1),ue=uo(o,C,C+y,1);Z&&ue?(x.view=x.view.slice(0,Z.index).concat(Ce(o,Z.lineN,ue.lineN)).concat(x.view.slice(ue.index)),x.viewTo+=y):ni(o)}var ye=x.externalMeasured;ye&&(C<ye.lineN?ye.lineN+=y:d<ye.lineN+ye.size&&(x.externalMeasured=null))}function Gr(o,d,C){o.curOp.viewChanged=!0;var y=o.display,x=o.display.externalMeasured;if(x&&d>=x.lineN&&d<x.lineN+x.size&&(y.externalMeasured=null),!(d<y.viewFrom||d>=y.viewTo)){var F=y.view[gr(o,d)];if(null!=F.node){var X=F.changes||(F.changes=[]);-1==wn(X,C)&&X.push(C)}}}function ni(o){o.display.viewFrom=o.display.viewTo=o.doc.first,o.display.view=[],o.display.viewOffset=0}function uo(o,d,C,y){var F,x=gr(o,d),X=o.display.view;if(!Cs||C==o.doc.first+o.doc.size)return{index:x,lineN:C};for(var Z=o.display.viewFrom,ue=0;ue<x;ue++)Z+=X[ue].size;if(Z!=d){if(y>0){if(x==X.length-1)return null;F=Z+X[x].size-d,x++}else F=Z-d;d+=F,C+=F}for(;$o(o.doc,C)!=C;){if(x==(y<0?0:X.length-1))return null;C+=y*X[x-(y<0?1:0)].size,x+=y}return{index:x,lineN:C}}function xo(o){for(var d=o.display.view,C=0,y=0;y<d.length;y++){var x=d[y];!x.hidden&&(!x.node||x.changes)&&++C}return C}function Fo(o){o.display.input.showSelection(o.display.input.prepareSelection())}function pa(o,d){void 0===d&&(d=!0);var C=o.doc,y={},x=y.cursors=document.createDocumentFragment(),F=y.selection=document.createDocumentFragment(),X=o.options.$customCursor;X&&(d=!0);for(var Z=0;Z<C.sel.ranges.length;Z++)if(d||Z!=C.sel.primIndex){var ue=C.sel.ranges[Z];if(!(ue.from().line>=o.display.viewTo||ue.to().line<o.display.viewFrom)){var ye=ue.empty();if(X){var nt=X(o,ue);nt&&ko(o,nt,x)}else(ye||o.options.showCursorWhenSelecting)&&ko(o,ue.head,x);ye||al(o,ue,F)}}return y}function ko(o,d,C){var y=Mt(o,d,"div",null,null,!o.options.singleCursorHeightPerLine),x=C.appendChild(Me("div","\xa0","CodeMirror-cursor"));if(x.style.left=y.left+"px",x.style.top=y.top+"px",x.style.height=Math.max(0,y.bottom-y.top)*o.options.cursorHeight+"px",/\bcm-fat-cursor\b/.test(o.getWrapperElement().className)){var F=St(o,d,"div",null,null),X=F.right-F.left;x.style.width=(X>0?X:o.defaultCharWidth())+"px"}if(y.other){var Z=C.appendChild(Me("div","\xa0","CodeMirror-cursor CodeMirror-secondarycursor"));Z.style.display="",Z.style.left=y.other.left+"px",Z.style.top=y.other.top+"px",Z.style.height=.85*(y.other.bottom-y.other.top)+"px"}}function Ds(o,d){return o.top-d.top||o.left-d.left}function al(o,d,C){var y=o.display,x=o.doc,F=document.createDocumentFragment(),X=_u(o.display),Z=X.left,ue=Math.max(y.sizerWidth,sl(o)-y.sizer.offsetLeft)-X.right,ye="ltr"==x.direction;function nt(ar,xr,Qr,Hr){xr<0&&(xr=0),xr=Math.round(xr),Hr=Math.round(Hr),F.appendChild(Me("div",null,"CodeMirror-selected","position: absolute; left: "+ar+"px;\n                             top: "+xr+"px; width: "+(Qr??ue-ar)+"px;\n                             height: "+(Hr-xr)+"px"))}function ft(ar,xr,Qr){var Lo,Ps,Hr=an(x,ar),Ri=Hr.text.length;function rs(Fs,il){return St(o,ot(ar,Fs),"div",Hr,il)}function na(Fs,il,Gs){var Na=Vt(o,Hr,null,Fs),ra="ltr"==il==("after"==Gs)?"left":"right";return rs("after"==Gs?Na.begin:Na.end-(/\s/.test(Hr.text.charAt(Na.end-1))?2:1),ra)[ra]}var rl=Fi(Hr,x.direction);return function zn(o,d,C,y){if(!o)return y(d,C,"ltr",0);for(var x=!1,F=0;F<o.length;++F){var X=o[F];(X.from<C&&X.to>d||d==C&&X.to==d)&&(y(Math.max(X.from,d),Math.min(X.to,C),1==X.level?"rtl":"ltr",F),x=!0)}x||y(d,C,"ltr")}(rl,xr||0,Qr??Ri,function(Fs,il,Gs,Na){var ra="ltr"==Gs,Ts=rs(Fs,ra?"left":"right"),Sa=rs(il-1,ra?"right":"left"),gc=null==xr&&0==Fs,fu=null==Qr&&il==Ri,ia=0==Na,Cu=!rl||Na==rl.length-1;if(Sa.top-Ts.top<=3){var Bu=(ye?gc:fu)&&ia?Z:(ra?Ts:Sa).left;nt(Bu,Ts.top,((ye?fu:gc)&&Cu?ue:(ra?Sa:Ts).right)-Bu,Ts.bottom)}else{var mc,Aa,kr,Vu;ra?(mc=ye&&gc&&ia?Z:Ts.left,Aa=ye?ue:na(Fs,Gs,"before"),kr=ye?Z:na(il,Gs,"after"),Vu=ye&&fu&&Cu?ue:Sa.right):(mc=ye?na(Fs,Gs,"before"):Z,Aa=!ye&&gc&&ia?ue:Ts.right,kr=!ye&&fu&&Cu?Z:Sa.left,Vu=ye?na(il,Gs,"after"):ue),nt(mc,Ts.top,Aa-mc,Ts.bottom),Ts.bottom<Sa.top&&nt(Z,Ts.bottom,null,Sa.top),nt(kr,Sa.top,Vu-kr,Sa.bottom)}(!Lo||Ds(Ts,Lo)<0)&&(Lo=Ts),Ds(Sa,Lo)<0&&(Lo=Sa),(!Ps||Ds(Ts,Ps)<0)&&(Ps=Ts),Ds(Sa,Ps)<0&&(Ps=Sa)}),{start:Lo,end:Ps}}var jt=d.from(),Lt=d.to();if(jt.line==Lt.line)ft(jt.line,jt.ch,Lt.ch);else{var _n=an(x,jt.line),An=an(x,Lt.line),Bn=So(_n)==So(An),Kn=ft(jt.line,jt.ch,Bn?_n.text.length+1:null).end,mr=ft(Lt.line,Bn?0:null,Lt.ch).start;Bn&&(Kn.top<mr.top-2?(nt(Kn.right,Kn.top,null,Kn.bottom),nt(Z,mr.top,mr.left,mr.bottom)):nt(Kn.right,Kn.top,mr.left-Kn.right,Kn.bottom)),Kn.bottom<mr.top&&nt(Z,Kn.bottom,null,mr.top)}C.appendChild(F)}function _l(o){if(o.state.focused){var d=o.display;clearInterval(d.blinker);var C=!0;d.cursorDiv.style.visibility="",o.options.cursorBlinkRate>0?d.blinker=setInterval(function(){o.hasFocus()||Jo(o),d.cursorDiv.style.visibility=(C=!C)?"":"hidden"},o.options.cursorBlinkRate):o.options.cursorBlinkRate<0&&(d.cursorDiv.style.visibility="hidden")}}function kl(o){o.hasFocus()||(o.display.input.focus(),o.state.focused||Rl(o))}function wl(o){o.state.delayingBlurEvent=!0,setTimeout(function(){o.state.delayingBlurEvent&&(o.state.delayingBlurEvent=!1,o.state.focused&&Jo(o))},100)}function Rl(o,d){o.state.delayingBlurEvent&&!o.state.draggingText&&(o.state.delayingBlurEvent=!1),"nocursor"!=o.options.readOnly&&(o.state.focused||(Ei(o,"focus",o,d),o.state.focused=!0,Dt(o.display.wrapper,"CodeMirror-focused"),!o.curOp&&o.display.selForContextMenu!=o.doc.sel&&(o.display.input.reset(),Ae&&setTimeout(function(){return o.display.input.reset(!0)},20)),o.display.input.receivedFocus()),_l(o))}function Jo(o,d){o.state.delayingBlurEvent||(o.state.focused&&(Ei(o,"blur",o,d),o.state.focused=!1,It(o.display.wrapper,"CodeMirror-focused")),clearInterval(o.display.blinker),setTimeout(function(){o.state.focused||(o.display.shift=!1)},150))}function Tl(o){for(var d=o.display,C=d.lineDiv.offsetTop,y=Math.max(0,d.scroller.getBoundingClientRect().top),x=d.lineDiv.getBoundingClientRect().top,F=0,X=0;X<d.view.length;X++){var Z=d.view[X],ue=o.options.lineWrapping,ye=void 0,nt=0;if(!Z.hidden){if(x+=Z.line.height,oe&&ke<8){var ft=Z.node.offsetTop+Z.node.offsetHeight;ye=ft-C,C=ft}else{var jt=Z.node.getBoundingClientRect();ye=jt.bottom-jt.top,!ue&&Z.text.firstChild&&(nt=Z.text.firstChild.getBoundingClientRect().right-jt.left-1)}var Lt=Z.line.height-ye;if((Lt>.005||Lt<-.005)&&(x<y&&(F-=Lt),Wt(Z.line,ye),Qn(Z.line),Z.rest))for(var _n=0;_n<Z.rest.length;_n++)Qn(Z.rest[_n]);if(nt>o.display.sizerWidth){var An=Math.ceil(nt/Gn(o.display));An>o.display.maxLineLength&&(o.display.maxLineLength=An,o.display.maxLine=Z.line,o.display.maxLineChanged=!0)}}}Math.abs(F)>2&&(d.scroller.scrollTop+=F)}function Qn(o){if(o.widgets)for(var d=0;d<o.widgets.length;++d){var C=o.widgets[d],y=C.node.parentNode;y&&(C.height=y.offsetHeight)}}function Is(o,d,C){var y=C&&null!=C.top?Math.max(0,C.top):o.scroller.scrollTop;y=Math.floor(y-Ra(o));var x=C&&null!=C.bottom?C.bottom:y+o.wrapper.clientHeight,F=Cn(d,y),X=Cn(d,x);if(C&&C.ensure){var Z=C.ensure.from.line,ue=C.ensure.to.line;Z<F?(F=Z,X=Cn(d,Ro(an(d,Z))+o.wrapper.clientHeight)):Math.min(ue,d.lastLine())>=X&&(F=Cn(d,Ro(an(d,ue))-o.wrapper.clientHeight),X=ue)}return{from:F,to:Math.max(X,F+1)}}function Gl(o,d){var C=o.display,y=En(o.display);d.top<0&&(d.top=0);var x=o.curOp&&null!=o.curOp.scrollTop?o.curOp.scrollTop:C.scroller.scrollTop,F=le(o),X={};d.bottom-d.top>F&&(d.bottom=d.top+F);var Z=o.doc.height+Dl(C),ye=d.bottom>Z-y;if(d.top<x)X.scrollTop=d.top<y?0:d.top;else if(d.bottom>x+F){var nt=Math.min(d.top,(ye?Z:d.bottom)-F);nt!=x&&(X.scrollTop=nt)}var ft=o.options.fixedGutter?0:C.gutters.offsetWidth,jt=o.curOp&&null!=o.curOp.scrollLeft?o.curOp.scrollLeft:C.scroller.scrollLeft-ft,Lt=sl(o)-C.gutters.offsetWidth,_n=d.right-d.left>Lt;return _n&&(d.right=d.left+Lt),d.left<10?X.scrollLeft=0:d.left<jt?X.scrollLeft=Math.max(0,d.left+ft-(_n?0:10)):d.right>Lt+jt-3&&(X.scrollLeft=d.right+(_n?0:10)-Lt),X}function Ya(o,d){null!=d&&(nu(o),o.curOp.scrollTop=(null==o.curOp.scrollTop?o.doc.scrollTop:o.curOp.scrollTop)+d)}function ll(o){nu(o);var d=o.getCursor();o.curOp.scrollToPos={from:d,to:d,margin:o.options.cursorScrollMargin}}function $l(o,d,C){(null!=d||null!=C)&&nu(o),null!=d&&(o.curOp.scrollLeft=d),null!=C&&(o.curOp.scrollTop=C)}function nu(o){var d=o.curOp.scrollToPos;d&&(o.curOp.scrollToPos=null,Pl(o,zt(o,d.from),zt(o,d.to),d.margin))}function Pl(o,d,C,y){var x=Gl(o,{left:Math.min(d.left,C.left),top:Math.min(d.top,C.top)-y,right:Math.max(d.right,C.right),bottom:Math.max(d.bottom,C.bottom)+y});$l(o,x.scrollLeft,x.scrollTop)}function vl(o,d){Math.abs(o.doc.scrollTop-d)<2||(L||nn(o,{top:d}),Fl(o,d,!0),L&&nn(o),B(o,100))}function Fl(o,d,C){d=Math.max(0,Math.min(o.display.scroller.scrollHeight-o.display.scroller.clientHeight,d)),(o.display.scroller.scrollTop!=d||C)&&(o.doc.scrollTop=d,o.display.scrollbars.setScrollTop(d),o.display.scroller.scrollTop!=d&&(o.display.scroller.scrollTop=d))}function ga(o,d,C,y){d=Math.max(0,Math.min(d,o.display.scroller.scrollWidth-o.display.scroller.clientWidth)),(!(C?d==o.doc.scrollLeft:Math.abs(o.doc.scrollLeft-d)<2)||y)&&(o.doc.scrollLeft=d,No(o),o.display.scroller.scrollLeft!=d&&(o.display.scroller.scrollLeft=d),o.display.scrollbars.setScrollLeft(d))}function ms(o){var d=o.display,C=d.gutters.offsetWidth,y=Math.round(o.doc.height+Dl(o.display));return{clientHeight:d.scroller.clientHeight,viewHeight:d.wrapper.clientHeight,scrollWidth:d.scroller.scrollWidth,clientWidth:d.scroller.clientWidth,viewWidth:d.wrapper.clientWidth,barLeft:o.options.fixedGutter?C:0,docHeight:y,scrollHeight:y+Ys(o)+d.barHeight,nativeBarWidth:d.nativeBarWidth,gutterWidth:C}}var Xo=function(o,d,C){this.cm=C;var y=this.vert=Me("div",[Me("div",null,null,"min-width: 1px")],"CodeMirror-vscrollbar"),x=this.horiz=Me("div",[Me("div",null,null,"height: 100%; min-height: 1px")],"CodeMirror-hscrollbar");y.tabIndex=x.tabIndex=-1,o(y),o(x),Fn(y,"scroll",function(){y.clientHeight&&d(y.scrollTop,"vertical")}),Fn(x,"scroll",function(){x.clientWidth&&d(x.scrollLeft,"horizontal")}),this.checkedZeroWidth=!1,oe&&ke<8&&(this.horiz.style.minHeight=this.vert.style.minWidth="18px")};Xo.prototype.update=function(o){var d=o.scrollWidth>o.clientWidth+1,C=o.scrollHeight>o.clientHeight+1,y=o.nativeBarWidth;return C?(this.vert.style.display="block",this.vert.style.bottom=d?y+"px":"0",this.vert.firstChild.style.height=Math.max(0,o.scrollHeight-o.clientHeight+(o.viewHeight-(d?y:0)))+"px"):(this.vert.scrollTop=0,this.vert.style.display="",this.vert.firstChild.style.height="0"),d?(this.horiz.style.display="block",this.horiz.style.right=C?y+"px":"0",this.horiz.style.left=o.barLeft+"px",this.horiz.firstChild.style.width=Math.max(0,o.scrollWidth-o.clientWidth+(o.viewWidth-o.barLeft-(C?y:0)))+"px"):(this.horiz.style.display="",this.horiz.firstChild.style.width="0"),!this.checkedZeroWidth&&o.clientHeight>0&&(0==y&&this.zeroWidthHack(),this.checkedZeroWidth=!0),{right:C?y:0,bottom:d?y:0}},Xo.prototype.setScrollLeft=function(o){this.horiz.scrollLeft!=o&&(this.horiz.scrollLeft=o),this.disableHoriz&&this.enableZeroWidthBar(this.horiz,this.disableHoriz,"horiz")},Xo.prototype.setScrollTop=function(o){this.vert.scrollTop!=o&&(this.vert.scrollTop=o),this.disableVert&&this.enableZeroWidthBar(this.vert,this.disableVert,"vert")},Xo.prototype.zeroWidthHack=function(){this.horiz.style.height=this.vert.style.width=be&&!t?"12px":"18px",this.horiz.style.visibility=this.vert.style.visibility="hidden",this.disableHoriz=new Nt,this.disableVert=new Nt},Xo.prototype.enableZeroWidthBar=function(o,d,C){o.style.visibility="",d.set(1e3,function y(){var x=o.getBoundingClientRect();("vert"==C?document.elementFromPoint(x.right-1,(x.top+x.bottom)/2):document.elementFromPoint((x.right+x.left)/2,x.bottom-1))!=o?o.style.visibility="hidden":d.set(1e3,y)})},Xo.prototype.clear=function(){var o=this.horiz.parentNode;o.removeChild(this.horiz),o.removeChild(this.vert)};var ul=function(){};function yl(o,d){d||(d=ms(o));var C=o.display.barWidth,y=o.display.barHeight;ru(o,d);for(var x=0;x<4&&C!=o.display.barWidth||y!=o.display.barHeight;x++)C!=o.display.barWidth&&o.options.lineWrapping&&Tl(o),ru(o,ms(o)),C=o.display.barWidth,y=o.display.barHeight}function ru(o,d){var C=o.display,y=C.scrollbars.update(d);C.sizer.style.paddingRight=(C.barWidth=y.right)+"px",C.sizer.style.paddingBottom=(C.barHeight=y.bottom)+"px",C.heightForcer.style.borderBottom=y.bottom+"px solid transparent",y.right&&y.bottom?(C.scrollbarFiller.style.display="block",C.scrollbarFiller.style.height=y.bottom+"px",C.scrollbarFiller.style.width=y.right+"px"):C.scrollbarFiller.style.display="",y.bottom&&o.options.coverGutterNextToScrollbar&&o.options.fixedGutter?(C.gutterFiller.style.display="block",C.gutterFiller.style.height=y.bottom+"px",C.gutterFiller.style.width=d.gutterWidth+"px"):C.gutterFiller.style.display=""}ul.prototype.update=function(){return{bottom:0,right:0}},ul.prototype.setScrollLeft=function(){},ul.prototype.setScrollTop=function(){},ul.prototype.clear=function(){};var xa={native:Xo,null:ul};function vu(o){o.display.scrollbars&&(o.display.scrollbars.clear(),o.display.scrollbars.addClass&&It(o.display.wrapper,o.display.scrollbars.addClass)),o.display.scrollbars=new xa[o.options.scrollbarStyle](function(d){o.display.wrapper.insertBefore(d,o.display.scrollbarFiller),Fn(d,"mousedown",function(){o.state.focused&&setTimeout(function(){return o.display.input.focus()},0)}),d.setAttribute("cm-not-content","true")},function(d,C){"horizontal"==C?ga(o,d):vl(o,d)},o),o.display.scrollbars.addClass&&Dt(o.display.wrapper,o.display.scrollbars.addClass)}var bu=0;function cl(o){o.curOp={cm:o,viewChanged:!1,startHeight:o.doc.height,forceUpdate:!1,updateInput:0,typing:!1,changeObjs:null,cursorActivityHandlers:null,cursorActivityCalled:0,selectionChanged:!1,updateMaxLine:!1,scrollLeft:null,scrollTop:null,scrollToPos:null,focus:!1,id:++bu,markArrays:null},function $t(o){it?it.ops.push(o):o.ownsGroup=it={ops:[o],delayedCallbacks:[]}}(o.curOp)}function dl(o){var d=o.curOp;d&&function In(o,d){var C=o.ownsGroup;if(C)try{!function fn(o){var d=o.delayedCallbacks,C=0;do{for(;C<d.length;C++)d[C].call(null);for(var y=0;y<o.ops.length;y++){var x=o.ops[y];if(x.cursorActivityHandlers)for(;x.cursorActivityCalled<x.cursorActivityHandlers.length;)x.cursorActivityHandlers[x.cursorActivityCalled++].call(null,x.cm)}}while(C<d.length)}(C)}finally{it=null,d(C)}}(d,function(C){for(var y=0;y<C.ops.length;y++)C.ops[y].cm.curOp=null;!function _c(o){for(var d=o.ops,C=0;C<d.length;C++)ic(d[C]);for(var y=0;y<d.length;y++)Uu(d[y]);for(var x=0;x<d.length;x++)Sl(d[x]);for(var F=0;F<d.length;F++)iu(d[F]);for(var X=0;X<d.length;X++)ou(d[X])}(C)})}function ic(o){var d=o.cm,C=d.display;(function z(o){var d=o.display;!d.scrollbarsClipped&&d.scroller.offsetWidth&&(d.nativeBarWidth=d.scroller.offsetWidth-d.scroller.clientWidth,d.heightForcer.style.height=Ys(o)+"px",d.sizer.style.marginBottom=-d.nativeBarWidth+"px",d.sizer.style.borderRightWidth=Ys(o)+"px",d.scrollbarsClipped=!0)})(d),o.updateMaxLine&&ps(d),o.mustUpdate=o.viewChanged||o.forceUpdate||null!=o.scrollTop||o.scrollToPos&&(o.scrollToPos.from.line<C.viewFrom||o.scrollToPos.to.line>=C.viewTo)||C.maxLineChanged&&d.options.lineWrapping,o.update=o.mustUpdate&&new V(d,o.mustUpdate&&{top:o.scrollTop,ensure:o.scrollToPos},o.forceUpdate)}function Uu(o){o.updatedDisplay=o.mustUpdate&&Pe(o.cm,o.update)}function Sl(o){var d=o.cm,C=d.display;o.updatedDisplay&&Tl(d),o.barMeasure=ms(d),C.maxLineChanged&&!d.options.lineWrapping&&(o.adjustWidthTo=mt(d,C.maxLine,C.maxLine.text.length).left+3,d.display.sizerWidth=o.adjustWidthTo,o.barMeasure.scrollWidth=Math.max(C.scroller.clientWidth,C.sizer.offsetLeft+o.adjustWidthTo+Ys(d)+d.display.barWidth),o.maxScrollLeft=Math.max(0,C.sizer.offsetLeft+o.adjustWidthTo-sl(d))),(o.updatedDisplay||o.selectionChanged)&&(o.preparedSelection=C.input.prepareSelection())}function iu(o){var d=o.cm;null!=o.adjustWidthTo&&(d.display.sizer.style.minWidth=o.adjustWidthTo+"px",o.maxScrollLeft<d.doc.scrollLeft&&ga(d,Math.min(d.display.scroller.scrollLeft,o.maxScrollLeft),!0),d.display.maxLineChanged=!1);var C=o.focus&&o.focus==Bt(Ft(d));o.preparedSelection&&d.display.input.showSelection(o.preparedSelection,C),(o.updatedDisplay||o.startHeight!=d.doc.height)&&yl(d,o.barMeasure),o.updatedDisplay&&ki(d,o.barMeasure),o.selectionChanged&&_l(d),d.state.focused&&o.updateInput&&d.display.input.reset(o.typing),C&&kl(o.cm)}function ou(o){var d=o.cm,C=d.display,y=d.doc;o.updatedDisplay&&vt(d,o.update),null!=C.wheelStartX&&(null!=o.scrollTop||null!=o.scrollLeft||o.scrollToPos)&&(C.wheelStartX=C.wheelStartY=null),null!=o.scrollTop&&Fl(d,o.scrollTop,o.forceScroll),null!=o.scrollLeft&&ga(d,o.scrollLeft,!0,!0),o.scrollToPos&&function cs(o,d){if(!pi(o,"scrollCursorIntoView")){var C=o.display,y=C.sizer.getBoundingClientRect(),x=null,F=C.wrapper.ownerDocument;if(d.top+y.top<0?x=!0:d.bottom+y.top>(F.defaultView.innerHeight||F.documentElement.clientHeight)&&(x=!1),null!=x&&!Le){var X=Me("div","\u200b",null,"position: absolute;\n                         top: "+(d.top-C.viewOffset-Ra(o.display))+"px;\n                         height: "+(d.bottom-d.top+Ys(o)+C.barHeight)+"px;\n                         left: "+d.left+"px; width: "+Math.max(2,d.right-d.left)+"px;");o.display.lineSpace.appendChild(X),X.scrollIntoView(x),o.display.lineSpace.removeChild(X)}}}(d,function Hl(o,d,C,y){var x;null==y&&(y=0),!o.options.lineWrapping&&d==C&&(C="before"==d.sticky?ot(d.line,d.ch+1,"before"):d,d=d.ch?ot(d.line,"before"==d.sticky?d.ch-1:d.ch,"after"):d);for(var F=0;F<5;F++){var X=!1,Z=Mt(o,d),ue=C&&C!=d?Mt(o,C):Z,ye=Gl(o,x={left:Math.min(Z.left,ue.left),top:Math.min(Z.top,ue.top)-y,right:Math.max(Z.left,ue.left),bottom:Math.max(Z.bottom,ue.bottom)+y}),nt=o.doc.scrollTop,ft=o.doc.scrollLeft;if(null!=ye.scrollTop&&(vl(o,ye.scrollTop),Math.abs(o.doc.scrollTop-nt)>1&&(X=!0)),null!=ye.scrollLeft&&(ga(o,ye.scrollLeft),Math.abs(o.doc.scrollLeft-ft)>1&&(X=!0)),!X)break}return x}(d,tr(y,o.scrollToPos.from),tr(y,o.scrollToPos.to),o.scrollToPos.margin));var F=o.maybeHiddenMarkers,X=o.maybeUnhiddenMarkers;if(F)for(var Z=0;Z<F.length;++Z)F[Z].lines.length||Ei(F[Z],"hide");if(X)for(var ue=0;ue<X.length;++ue)X[ue].lines.length&&Ei(X[ue],"unhide");C.wrapper.offsetHeight&&(y.scrollTop=d.display.scroller.scrollTop),o.changeObjs&&Ei(d,"changes",d,o.changeObjs),o.update&&o.update.finish()}function Us(o,d){if(o.curOp)return d();cl(o);try{return d()}finally{dl(o)}}function ks(o,d){return function(){if(o.curOp)return d.apply(o,arguments);cl(o);try{return d.apply(o,arguments)}finally{dl(o)}}}function _s(o){return function(){if(this.curOp)return o.apply(this,arguments);cl(this);try{return o.apply(this,arguments)}finally{dl(this)}}}function Zo(o){return function(){var d=this.cm;if(!d||d.curOp)return o.apply(this,arguments);cl(d);try{return o.apply(this,arguments)}finally{dl(d)}}}function B(o,d){o.doc.highlightFrontier<o.display.viewTo&&o.state.highlight.set(d,dt(W,o))}function W(o){var d=o.doc;if(!(d.highlightFrontier>=o.display.viewTo)){var C=+new Date+o.options.workTime,y=Vo(o,d.highlightFrontier),x=[];d.iter(y.line,Math.min(d.first+d.size,o.display.viewTo+500),function(F){if(y.line>=o.display.viewFrom){var X=F.styles,Z=F.text.length>o.options.maxHighlightLength?lt(d.mode,y.state):null,ue=ho(o,F,y,!0);Z&&(y.state=Z),F.styles=ue.styles;var ye=F.styleClasses,nt=ue.classes;nt?F.styleClasses=nt:ye&&(F.styleClasses=null);for(var ft=!X||X.length!=F.styles.length||ye!=nt&&(!ye||!nt||ye.bgClass!=nt.bgClass||ye.textClass!=nt.textClass),jt=0;!ft&&jt<X.length;++jt)ft=X[jt]!=F.styles[jt];ft&&x.push(y.line),F.stateAfter=y.save(),y.nextLine()}else F.text.length<=o.options.maxHighlightLength&&Co(o,F.text,y),F.stateAfter=y.line%5==0?y.save():null,y.nextLine();if(+new Date>C)return B(o,o.options.workDelay),!0}),d.highlightFrontier=y.line,d.modeFrontier=Math.max(d.modeFrontier,y.line),x.length&&Us(o,function(){for(var F=0;F<x.length;F++)Gr(o,x[F],"text")})}}var V=function(o,d,C){var y=o.display;this.viewport=d,this.visible=Is(y,o.doc,d),this.editorIsHidden=!y.wrapper.offsetWidth,this.wrapperHeight=y.wrapper.clientHeight,this.wrapperWidth=y.wrapper.clientWidth,this.oldDisplayWidth=sl(o),this.force=C,this.dims=ur(o),this.events=[]};function Pe(o,d){var C=o.display,y=o.doc;if(d.editorIsHidden)return ni(o),!1;if(!d.force&&d.visible.from>=C.viewFrom&&d.visible.to<=C.viewTo&&(null==C.updateLineNumbers||C.updateLineNumbers>=C.viewTo)&&C.renderedView==C.view&&0==xo(o))return!1;ma(o)&&(ni(o),d.dims=ur(o));var x=y.first+y.size,F=Math.max(d.visible.from-o.options.viewportMargin,y.first),X=Math.min(x,d.visible.to+o.options.viewportMargin);C.viewFrom<F&&F-C.viewFrom<20&&(F=Math.max(y.first,C.viewFrom)),C.viewTo>X&&C.viewTo-X<20&&(X=Math.min(x,C.viewTo)),Cs&&(F=$o(o.doc,F),X=da(o.doc,X));var Z=F!=C.viewFrom||X!=C.viewTo||C.lastWrapHeight!=d.wrapperHeight||C.lastWrapWidth!=d.wrapperWidth;(function Yr(o,d,C){var y=o.display;0==y.view.length||d>=y.viewTo||C<=y.viewFrom?(y.view=Ce(o,d,C),y.viewFrom=d):(y.viewFrom>d?y.view=Ce(o,d,y.viewFrom).concat(y.view):y.viewFrom<d&&(y.view=y.view.slice(gr(o,d))),y.viewFrom=d,y.viewTo<C?y.view=y.view.concat(Ce(o,y.viewTo,C)):y.viewTo>C&&(y.view=y.view.slice(0,gr(o,C)))),y.viewTo=C})(o,F,X),C.viewOffset=Ro(an(o.doc,C.viewFrom)),o.display.mover.style.top=C.viewOffset+"px";var ue=xo(o);if(!Z&&0==ue&&!d.force&&C.renderedView==C.view&&(null==C.updateLineNumbers||C.updateLineNumbers>=C.viewTo))return!1;var ye=function se(o){if(o.hasFocus())return null;var d=Bt(Ft(o));if(!d||!en(o.display.lineDiv,d))return null;var C={activeElt:d};if(window.getSelection){var y=Ze(o).getSelection();y.anchorNode&&y.extend&&en(o.display.lineDiv,y.anchorNode)&&(C.anchorNode=y.anchorNode,C.anchorOffset=y.anchorOffset,C.focusNode=y.focusNode,C.focusOffset=y.focusOffset)}return C}(o);return ue>4&&(C.lineDiv.style.display="none"),function jn(o,d,C){var y=o.display,x=o.options.lineNumbers,F=y.lineDiv,X=F.firstChild;function Z(_n){var An=_n.nextSibling;return Ae&&be&&o.display.currentWheelTarget==_n?_n.style.display="none":_n.parentNode.removeChild(_n),An}for(var ue=y.view,ye=y.viewFrom,nt=0;nt<ue.length;nt++){var ft=ue[nt];if(!ft.hidden)if(ft.node&&ft.node.parentNode==F){for(;X!=ft.node;)X=Z(X);var Lt=x&&null!=d&&d<=ye&&ft.lineNumber;ft.changes&&(wn(ft.changes,"gutter")>-1&&(Lt=!1),ci(o,ft,ye,C)),Lt&&(Ht(ft.lineNumber),ft.lineNumber.appendChild(document.createTextNode(Ye(o.options,ye)))),X=ft.node.nextSibling}else{var jt=ba(o,ft,ye,C);F.insertBefore(jt,X)}ye+=ft.size}for(;X;)X=Z(X)}(o,C.updateLineNumbers,d.dims),ue>4&&(C.lineDiv.style.display=""),C.renderedView=C.view,function Ue(o){if(o&&o.activeElt&&o.activeElt!=Bt(Xe(o.activeElt))&&(o.activeElt.focus(),!/^(INPUT|TEXTAREA)$/.test(o.activeElt.nodeName)&&o.anchorNode&&en(document.body,o.anchorNode)&&en(document.body,o.focusNode))){var d=o.activeElt.ownerDocument,C=d.defaultView.getSelection(),y=d.createRange();y.setEnd(o.anchorNode,o.anchorOffset),y.collapse(!1),C.removeAllRanges(),C.addRange(y),C.extend(o.focusNode,o.focusOffset)}}(ye),Ht(C.cursorDiv),Ht(C.selectionDiv),C.gutters.style.height=C.sizer.style.minHeight=0,Z&&(C.lastWrapHeight=d.wrapperHeight,C.lastWrapWidth=d.wrapperWidth,B(o,400)),C.updateLineNumbers=null,!0}function vt(o,d){for(var C=d.viewport,y=!0;;y=!1){if(y&&o.options.lineWrapping&&d.oldDisplayWidth!=sl(o))y&&(d.visible=Is(o.display,o.doc,C));else if(C&&null!=C.top&&(C={top:Math.min(o.doc.height+Dl(o.display)-le(o),C.top)}),d.visible=Is(o.display,o.doc,C),d.visible.from>=o.display.viewFrom&&d.visible.to<=o.display.viewTo)break;if(!Pe(o,d))break;Tl(o);var x=ms(o);Fo(o),yl(o,x),ki(o,x),d.force=!1}d.signal(o,"update",o),(o.display.viewFrom!=o.display.reportedViewFrom||o.display.viewTo!=o.display.reportedViewTo)&&(d.signal(o,"viewportChange",o,o.display.viewFrom,o.display.viewTo),o.display.reportedViewFrom=o.display.viewFrom,o.display.reportedViewTo=o.display.viewTo)}function nn(o,d){var C=new V(o,d);if(Pe(o,C)){Tl(o),vt(o,C);var y=ms(o);Fo(o),yl(o,y),ki(o,y),C.finish()}}function dr(o){o.sizer.style.marginLeft=o.gutters.offsetWidth+"px",lr(o,"gutterChanged",o)}function ki(o,d){o.display.sizer.style.minHeight=d.docHeight+"px",o.display.heightForcer.style.top=d.docHeight+"px",o.display.gutters.style.height=d.docHeight+o.display.barHeight+Ys(o)+"px"}function No(o){var d=o.display,C=d.view;if(d.alignWidgets||d.gutters.firstChild&&o.options.fixedGutter){for(var y=Nn(d)-d.scroller.scrollLeft+o.doc.scrollLeft,x=d.gutters.offsetWidth,F=y+"px",X=0;X<C.length;X++)if(!C[X].hidden){o.options.fixedGutter&&(C[X].gutter&&(C[X].gutter.style.left=F),C[X].gutterBackground&&(C[X].gutterBackground.style.left=F));var Z=C[X].alignable;if(Z)for(var ue=0;ue<Z.length;ue++)Z[ue].style.left=F}o.options.fixedGutter&&(d.gutters.style.left=y+x+"px")}}function ma(o){if(!o.options.lineNumbers)return!1;var d=o.doc,C=Ye(o.options,d.first+d.size-1),y=o.display;if(C.length!=y.lineNumChars){var x=y.measure.appendChild(Me("div",[Me("div",C)],"CodeMirror-linenumber CodeMirror-gutter-elt")),F=x.firstChild.offsetWidth,X=x.offsetWidth-F;return y.lineGutter.style.width="",y.lineNumInnerWidth=Math.max(F,y.lineGutter.offsetWidth-X)+1,y.lineNumWidth=y.lineNumInnerWidth+X,y.lineNumChars=y.lineNumInnerWidth?C.length:-1,y.lineGutter.style.width=y.lineNumWidth+"px",dr(o.display),!0}return!1}function go(o,d){for(var C=[],y=!1,x=0;x<o.length;x++){var F=o[x],X=null;if("string"!=typeof F&&(X=F.style,F=F.className),"CodeMirror-linenumbers"==F){if(!d)continue;y=!0}C.push({className:F,style:X})}return d&&!y&&C.push({className:"CodeMirror-linenumbers",style:null}),C}function Pa(o){var d=o.gutters,C=o.gutterSpecs;Ht(d),o.lineGutter=null;for(var y=0;y<C.length;++y){var x=C[y],F=x.className,X=x.style,Z=d.appendChild(Me("div",null,"CodeMirror-gutter "+F));X&&(Z.style.cssText=X),"CodeMirror-linenumbers"==F&&(o.lineGutter=Z,Z.style.width=(o.lineNumWidth||1)+"px")}d.style.display=C.length?"":"none",dr(o)}function ws(o){Pa(o.display),Ir(o),No(o)}function _a(o,d,C,y){var x=this;this.input=C,x.scrollbarFiller=Me("div",null,"CodeMirror-scrollbar-filler"),x.scrollbarFiller.setAttribute("cm-not-content","true"),x.gutterFiller=Me("div",null,"CodeMirror-gutter-filler"),x.gutterFiller.setAttribute("cm-not-content","true"),x.lineDiv=gt("div",null,"CodeMirror-code"),x.selectionDiv=Me("div",null,null,"position: relative; z-index: 1"),x.cursorDiv=Me("div",null,"CodeMirror-cursors"),x.measure=Me("div",null,"CodeMirror-measure"),x.lineMeasure=Me("div",null,"CodeMirror-measure"),x.lineSpace=gt("div",[x.measure,x.lineMeasure,x.selectionDiv,x.cursorDiv,x.lineDiv],null,"position: relative; outline: none");var F=gt("div",[x.lineSpace],"CodeMirror-lines");x.mover=Me("div",[F],null,"position: relative"),x.sizer=Me("div",[x.mover],"CodeMirror-sizer"),x.sizerWidth=null,x.heightForcer=Me("div",null,null,"position: absolute; height: 50px; width: 1px;"),x.gutters=Me("div",null,"CodeMirror-gutters"),x.lineGutter=null,x.scroller=Me("div",[x.sizer,x.heightForcer,x.gutters],"CodeMirror-scroll"),x.scroller.setAttribute("tabIndex","-1"),x.wrapper=Me("div",[x.scrollbarFiller,x.gutterFiller,x.scroller],"CodeMirror"),v&&m>=105&&(x.wrapper.style.clipPath="inset(0px)"),x.wrapper.setAttribute("translate","no"),oe&&ke<8&&(x.gutters.style.zIndex=-1,x.scroller.style.paddingRight=0),!Ae&&!(L&&Te)&&(x.scroller.draggable=!0),o&&(o.appendChild?o.appendChild(x.wrapper):o(x.wrapper)),x.viewFrom=x.viewTo=d.first,x.reportedViewFrom=x.reportedViewTo=d.first,x.view=[],x.renderedView=null,x.externalMeasured=null,x.viewOffset=0,x.lastWrapHeight=x.lastWrapWidth=0,x.updateLineNumbers=null,x.nativeBarWidth=x.barHeight=x.barWidth=0,x.scrollbarsClipped=!1,x.lineNumWidth=x.lineNumInnerWidth=x.lineNumChars=null,x.alignWidgets=!1,x.cachedCharWidth=x.cachedTextHeight=x.cachedPaddingH=null,x.maxLine=null,x.maxLineLength=0,x.maxLineChanged=!1,x.wheelDX=x.wheelDY=x.wheelStartX=x.wheelStartY=null,x.shift=!1,x.selForContextMenu=null,x.activeTouch=null,x.gutterSpecs=go(y.gutters,y.lineNumbers),Pa(x),C.init(x)}V.prototype.signal=function(o,d){Ai(o,d)&&this.events.push(arguments)},V.prototype.finish=function(){for(var o=0;o<this.events.length;o++)Ei.apply(null,this.events[o])};var fl=0,es=null;function su(o){var d=o.wheelDeltaX,C=o.wheelDeltaY;return null==d&&o.detail&&o.axis==o.HORIZONTAL_AXIS&&(d=o.detail),null==C&&o.detail&&o.axis==o.VERTICAL_AXIS?C=o.detail:null==C&&(C=o.wheelDelta),{x:d,y:C}}function xu(o){var d=su(o);return d.x*=es,d.y*=es,d}function Du(o,d){v&&102==m&&(null==o.display.chromeScrollHack?o.display.sizer.style.pointerEvents="none":clearTimeout(o.display.chromeScrollHack),o.display.chromeScrollHack=setTimeout(function(){o.display.chromeScrollHack=null,o.display.sizer.style.pointerEvents=""},100));var C=su(d),y=C.x,x=C.y,F=es;0===d.deltaMode&&(y=d.deltaX,x=d.deltaY,F=1);var X=o.display,Z=X.scroller,ye=Z.scrollHeight>Z.clientHeight;if(y&&Z.scrollWidth>Z.clientWidth||x&&ye){if(x&&be&&Ae)e:for(var nt=d.target,ft=X.view;nt!=Z;nt=nt.parentNode)for(var jt=0;jt<ft.length;jt++)if(ft[jt].node==nt){o.display.currentWheelTarget=nt;break e}if(y&&!L&&!ie&&null!=F)return x&&ye&&vl(o,Math.max(0,Z.scrollTop+x*F)),ga(o,Math.max(0,Z.scrollLeft+y*F)),(!x||x&&ye)&&Pi(d),void(X.wheelStartX=null);if(x&&null!=F){var Lt=x*F,_n=o.doc.scrollTop,An=_n+X.wrapper.clientHeight;Lt<0?_n=Math.max(0,_n+Lt-50):An=Math.min(o.doc.height,An+Lt+50),nn(o,{top:_n,bottom:An})}fl<20&&0!==d.deltaMode&&(null==X.wheelStartX?(X.wheelStartX=Z.scrollLeft,X.wheelStartY=Z.scrollTop,X.wheelDX=y,X.wheelDY=x,setTimeout(function(){if(null!=X.wheelStartX){var Bn=Z.scrollLeft-X.wheelStartX,Kn=Z.scrollTop-X.wheelStartY,mr=Kn&&X.wheelDY&&Kn/X.wheelDY||Bn&&X.wheelDX&&Bn/X.wheelDX;X.wheelStartX=X.wheelStartY=null,mr&&(es=(es*fl+mr)/(fl+1),++fl)}},200)):(X.wheelDX+=y,X.wheelDY+=x))}}oe?es=-.53:L?es=15:v?es=-.7:xe&&(es=-1/3);var Qs=function(o,d){this.ranges=o,this.primIndex=d};Qs.prototype.primary=function(){return this.ranges[this.primIndex]},Qs.prototype.equals=function(o){if(o==this)return!0;if(o.primIndex!=this.primIndex||o.ranges.length!=this.ranges.length)return!1;for(var d=0;d<this.ranges.length;d++){var C=this.ranges[d],y=o.ranges[d];if(!Tn(C.anchor,y.anchor)||!Tn(C.head,y.head))return!1}return!0},Qs.prototype.deepCopy=function(){for(var o=[],d=0;d<this.ranges.length;d++)o[d]=new di(nr(this.ranges[d].anchor),nr(this.ranges[d].head));return new Qs(o,this.primIndex)},Qs.prototype.somethingSelected=function(){for(var o=0;o<this.ranges.length;o++)if(!this.ranges[o].empty())return!0;return!1},Qs.prototype.contains=function(o,d){d||(d=o);for(var C=0;C<this.ranges.length;C++){var y=this.ranges[C];if(kt(d,y.from())>=0&&kt(o,y.to())<=0)return C}return-1};var di=function(o,d){this.anchor=o,this.head=d};function Fa(o,d,C){var y=o&&o.options.selectionsMayTouch,x=d[C];d.sort(function(jt,Lt){return kt(jt.from(),Lt.from())}),C=wn(d,x);for(var F=1;F<d.length;F++){var X=d[F],Z=d[F-1],ue=kt(Z.to(),X.from());if(y&&!X.empty()?ue>0:ue>=0){var ye=Ur(Z.from(),X.from()),nt=_r(Z.to(),X.to()),ft=Z.empty()?X.from()==X.head:Z.from()==Z.head;F<=C&&--C,d.splice(--F,2,new di(ft?nt:ye,ft?ye:nt))}}return new Qs(d,C)}function Cl(o,d){return new Qs([new di(o,d||o)],0)}function El(o){return o.text?ot(o.from.line+o.text.length-1,Kt(o.text).length+(1==o.text.length?o.from.ch:0)):o.to}function au(o,d){if(kt(o,d.from)<0)return o;if(kt(o,d.to)<=0)return El(d);var C=o.line+d.text.length-(d.to.line-d.from.line)-1,y=o.ch;return o.line==d.to.line&&(y+=El(d).ch-d.to.ch),ot(C,y)}function bl(o,d){for(var C=[],y=0;y<o.sel.ranges.length;y++){var x=o.sel.ranges[y];C.push(new di(au(x.anchor,d),au(x.head,d)))}return Fa(o.cm,C,o.sel.primIndex)}function Qa(o,d,C){return o.line==d.line?ot(C.line,o.ch-d.ch+C.ch):ot(C.line+(o.line-d.line),o.ch)}function Js(o){o.doc.mode=Bo(o.options,o.doc.modeOption),Wl(o)}function Wl(o){o.doc.iter(function(d){d.stateAfter&&(d.stateAfter=null),d.styles&&(d.styles=null)}),o.doc.modeFrontier=o.doc.highlightFrontier=o.doc.first,B(o,100),o.state.modeGen++,o.curOp&&Ir(o)}function Da(o,d){return 0==d.from.ch&&0==d.to.ch&&""==Kt(d.text)&&(!o.cm||o.cm.options.wholeLineUpdateBefore)}function lu(o,d,C,y){function x(mr){return C?C[mr]:null}function F(mr,ar,xr){(function La(o,d,C,y){o.text=d,o.stateAfter&&(o.stateAfter=null),o.styles&&(o.styles=null),null!=o.order&&(o.order=null),ti(o),Hi(o,C);var x=y?y(o):1;x!=o.height&&Wt(o,x)})(mr,ar,xr,y),lr(mr,"change",mr,d)}function X(mr,ar){for(var xr=[],Qr=mr;Qr<ar;++Qr)xr.push(new Qo(ye[Qr],x(Qr),y));return xr}var Z=d.from,ue=d.to,ye=d.text,nt=an(o,Z.line),ft=an(o,ue.line),jt=Kt(ye),Lt=x(ye.length-1),_n=ue.line-Z.line;if(d.full)o.insert(0,X(0,ye.length)),o.remove(ye.length,o.size-ye.length);else if(Da(o,d)){var An=X(0,ye.length-1);F(ft,ft.text,Lt),_n&&o.remove(Z.line,_n),An.length&&o.insert(Z.line,An)}else if(nt==ft)if(1==ye.length)F(nt,nt.text.slice(0,Z.ch)+jt+nt.text.slice(ue.ch),Lt);else{var Bn=X(1,ye.length-1);Bn.push(new Qo(jt+nt.text.slice(ue.ch),Lt,y)),F(nt,nt.text.slice(0,Z.ch)+ye[0],x(0)),o.insert(Z.line+1,Bn)}else if(1==ye.length)F(nt,nt.text.slice(0,Z.ch)+ye[0]+ft.text.slice(ue.ch),x(0)),o.remove(Z.line+1,_n);else{F(nt,nt.text.slice(0,Z.ch)+ye[0],x(0)),F(ft,jt+ft.text.slice(ue.ch),Lt);var Kn=X(1,ye.length-1);_n>1&&o.remove(Z.line+1,_n-1),o.insert(Z.line+1,Kn)}lr(o,"change",o,d)}function Ja(o,d,C){!function y(x,F,X){if(x.linked)for(var Z=0;Z<x.linked.length;++Z){var ue=x.linked[Z];if(ue.doc!=F){var ye=X&&ue.sharedHist;C&&!ye||(d(ue.doc,ye),y(ue.doc,x,ye))}}}(o,null,!0)}function hl(o,d){if(d.cm)throw new Error("This document is already in use.");o.doc=d,d.cm=o,Yn(o),Js(o),Zs(o),o.options.direction=d.direction,o.options.lineWrapping||ps(o),o.options.mode=d.modeOption,Ir(o)}function Zs(o){("rtl"==o.doc.direction?Dt:It)(o.display.lineDiv,"CodeMirror-rtl")}function wu(o){this.done=[],this.undone=[],this.undoDepth=o?o.undoDepth:1/0,this.lastModTime=this.lastSelTime=0,this.lastOp=this.lastSelOp=null,this.lastOrigin=this.lastSelOrigin=null,this.generation=this.maxGeneration=o?o.maxGeneration:1}function Ol(o,d){var C={from:nr(d.from),to:El(d),text:Rr(o,d.from,d.to)};return Au(o,C,d.from.line,d.to.line+1),Ja(o,function(y){return Au(y,C,d.from.line,d.to.line+1)},!0),C}function oc(o){for(;o.length&&Kt(o).ranges;)o.pop()}function Su(o,d,C,y){var x=o.history;x.undone.length=0;var X,Z,F=+new Date;if((x.lastOp==y||x.lastOrigin==d.origin&&d.origin&&("+"==d.origin.charAt(0)&&x.lastModTime>F-(o.cm?o.cm.options.historyEventDelay:500)||"*"==d.origin.charAt(0)))&&(X=function Tu(o,d){return d?(oc(o.done),Kt(o.done)):o.done.length&&!Kt(o.done).ranges?Kt(o.done):o.done.length>1&&!o.done[o.done.length-2].ranges?(o.done.pop(),Kt(o.done)):void 0}(x,x.lastOp==y)))Z=Kt(X.changes),0==kt(d.from,d.to)&&0==kt(d.from,Z.to)?Z.to=El(d):X.changes.push(Ol(o,d));else{var ue=Kt(x.done);for((!ue||!ue.ranges)&&pl(o.sel,x.done),X={changes:[Ol(o,d)],generation:x.generation},x.done.push(X);x.done.length>x.undoDepth;)x.done.shift(),x.done[0].ranges||x.done.shift()}x.done.push(C),x.generation=++x.maxGeneration,x.lastModTime=x.lastSelTime=F,x.lastOp=x.lastSelOp=y,x.lastOrigin=x.lastSelOrigin=d.origin,Z||Ei(o,"historyAdded")}function va(o,d,C,y){var x=o.history,F=y&&y.origin;C==x.lastSelOp||F&&x.lastSelOrigin==F&&(x.lastModTime==x.lastSelTime&&x.lastOrigin==F||function sc(o,d,C,y){var x=d.charAt(0);return"*"==x||"+"==x&&C.ranges.length==y.ranges.length&&C.somethingSelected()==y.somethingSelected()&&new Date-o.history.lastSelTime<=(o.cm?o.cm.options.historyEventDelay:500)}(o,F,Kt(x.done),d))?x.done[x.done.length-1]=d:pl(d,x.done),x.lastSelTime=+new Date,x.lastSelOrigin=F,x.lastSelOp=C,y&&!1!==y.clearRedo&&oc(x.undone)}function pl(o,d){var C=Kt(d);C&&C.ranges&&C.equals(o)||d.push(o)}function Au(o,d,C,y){var x=d["spans_"+o.id],F=0;o.iter(Math.max(o.first,C),Math.min(o.first+o.size,y),function(X){X.markedSpans&&((x||(x=d["spans_"+o.id]={}))[F]=X.markedSpans),++F})}function zc(o){if(!o)return null;for(var d,C=0;C<o.length;++C)o[C].marker.explicitlyCleared?d||(d=o.slice(0,C)):d&&d.push(o[C]);return d?d.length?d:null:o}function Ha(o,d){var C=function ju(o,d){var C=d["spans_"+o.id];if(!C)return null;for(var y=[],x=0;x<d.text.length;++x)y.push(zc(C[x]));return y}(o,d),y=yi(o,d);if(!C)return y;if(!y)return C;for(var x=0;x<C.length;++x){var F=C[x],X=y[x];if(F&&X)e:for(var Z=0;Z<X.length;++Z){for(var ue=X[Z],ye=0;ye<F.length;++ye)if(F[ye].marker==ue.marker)continue e;F.push(ue)}else X&&(C[x]=X)}return C}function ja(o,d,C){for(var y=[],x=0;x<o.length;++x){var F=o[x];if(F.ranges)y.push(C?Qs.prototype.deepCopy.call(F):F);else{var X=F.changes,Z=[];y.push({changes:Z});for(var ue=0;ue<X.length;++ue){var ye=X[ue],nt=void 0;if(Z.push({from:ye.from,to:ye.to,text:ye.text}),d)for(var ft in ye)(nt=ft.match(/^spans_(\d+)$/))&&wn(d,Number(nt[1]))>-1&&(Kt(Z)[ft]=ye[ft],delete ye[ft])}}}return y}function Ll(o,d,C,y){if(y){var x=o.anchor;if(C){var F=kt(d,x)<0;F!=kt(C,x)<0?(x=d,d=C):F!=kt(d,C)<0&&(d=C)}return new di(x,d)}return new di(C||d,d)}function Mu(o,d,C,y,x){null==x&&(x=o.cm&&(o.cm.display.shift||o.extend)),ea(o,new Qs([Ll(o.sel.primary(),d,C,x)],0),y)}function Gu(o,d,C){for(var y=[],x=o.cm&&(o.cm.display.shift||o.extend),F=0;F<o.sel.ranges.length;F++)y[F]=Ll(o.sel.ranges[F],d[F],null,x);ea(o,Fa(o.cm,y,o.sel.primIndex),C)}function Iu(o,d,C,y){var x=o.sel.ranges.slice(0);x[d]=C,ea(o,Fa(o.cm,x,o.sel.primIndex),y)}function vc(o,d,C,y){ea(o,Cl(d,C),y)}function uu(o,d,C){var y=o.history.done,x=Kt(y);x&&x.ranges?(y[y.length-1]=d,yc(o,d,C)):ea(o,d,C)}function ea(o,d,C){yc(o,d,C),va(o,o.sel,o.cm?o.cm.curOp.id:NaN,C)}function yc(o,d,C){(Ai(o,"beforeSelectionChange")||o.cm&&Ai(o.cm,"beforeSelectionChange"))&&(d=function ac(o,d,C){var y={ranges:d.ranges,update:function(x){this.ranges=[];for(var F=0;F<x.length;F++)this.ranges[F]=new di(tr(o,x[F].anchor),tr(o,x[F].head))},origin:C&&C.origin};return Ei(o,"beforeSelectionChange",o,y),o.cm&&Ei(o.cm,"beforeSelectionChange",o.cm,y),y.ranges!=d.ranges?Fa(o.cm,y.ranges,y.ranges.length-1):d}(o,d,C));var y=C&&C.bias||(kt(d.primary().head,o.sel.primary().head)<0?-1:1);yu(o,uc(o,d,y,!0)),(!C||!1!==C.scroll)&&o.cm&&"nocursor"!=o.cm.getOption("readOnly")&&ll(o.cm)}function yu(o,d){d.equals(o.sel)||(o.sel=d,o.cm&&(o.cm.curOp.updateInput=1,o.cm.curOp.selectionChanged=!0,fo(o.cm)),lr(o,"cursorActivity",o))}function lc(o){yu(o,uc(o,o.sel,null,!1))}function uc(o,d,C,y){for(var x,F=0;F<d.ranges.length;F++){var X=d.ranges[F],Z=d.ranges.length==o.sel.ranges.length&&o.sel.ranges[F],ue=$u(o,X.anchor,Z&&Z.anchor,C,y),ye=X.head==X.anchor?ue:$u(o,X.head,Z&&Z.head,C,y);(x||ue!=X.anchor||ye!=X.head)&&(x||(x=d.ranges.slice(0,F)),x[F]=new di(ue,ye))}return x?Fa(o.cm,x,d.primIndex):d}function cu(o,d,C,y,x){var F=an(o,d.line);if(F.markedSpans)for(var X=0;X<F.markedSpans.length;++X){var Z=F.markedSpans[X],ue=Z.marker,ye="selectLeft"in ue?!ue.selectLeft:ue.inclusiveLeft,nt="selectRight"in ue?!ue.selectRight:ue.inclusiveRight;if((null==Z.from||(ye?Z.from<=d.ch:Z.from<d.ch))&&(null==Z.to||(nt?Z.to>=d.ch:Z.to>d.ch))){if(x&&(Ei(ue,"beforeCursorEnter"),ue.explicitlyCleared)){if(F.markedSpans){--X;continue}break}if(!ue.atomic)continue;if(C){var ft=ue.find(y<0?1:-1),jt=void 0;if((y<0?nt:ye)&&(ft=Wu(o,ft,-y,ft&&ft.line==d.line?F:null)),ft&&ft.line==d.line&&(jt=kt(ft,C))&&(y<0?jt<0:jt>0))return cu(o,ft,d,y,x)}var Lt=ue.find(y<0?-1:1);return(y<0?ye:nt)&&(Lt=Wu(o,Lt,y,Lt.line==d.line?F:null)),Lt?cu(o,Lt,d,y,x):null}}return d}function $u(o,d,C,y,x){var F=y||1;return cu(o,d,C,F,x)||!x&&cu(o,d,C,F,!0)||cu(o,d,C,-F,x)||!x&&cu(o,d,C,-F,!0)||(o.cantEdit=!0,ot(o.first,0))}function Wu(o,d,C,y){return C<0&&0==d.ch?d.line>o.first?tr(o,ot(d.line-1)):null:C>0&&d.ch==(y||an(o,d.line)).text.length?d.line<o.first+o.size-1?ot(d.line+1,0):null:new ot(d.line,d.ch+C)}function Cc(o){o.setSelection(ot(o.firstLine(),0),ot(o.lastLine()),kn)}function ku(o,d,C){var y={canceled:!1,from:d.from,to:d.to,text:d.text,origin:d.origin,cancel:function(){return y.canceled=!0}};return C&&(y.update=function(x,F,X,Z){x&&(y.from=tr(o,x)),F&&(y.to=tr(o,F)),X&&(y.text=X),void 0!==Z&&(y.origin=Z)}),Ei(o,"beforeChange",o,y),o.cm&&Ei(o.cm,"beforeChange",o.cm,y),y.canceled?(o.cm&&(o.cm.curOp.updateInput=2),null):{from:y.from,to:y.to,text:y.text,origin:y.origin}}function du(o,d,C){if(o.cm){if(!o.cm.curOp)return ks(o.cm,du)(o,d,C);if(o.cm.state.suppressEdits)return}if(!(Ai(o,"beforeChange")||o.cm&&Ai(o.cm,"beforeChange"))||(d=ku(o,d,!0))){var y=Xs&&!C&&function Si(o,d,C){var y=null;if(o.iter(d.line,C.line+1,function(Lt){if(Lt.markedSpans)for(var _n=0;_n<Lt.markedSpans.length;++_n){var An=Lt.markedSpans[_n].marker;An.readOnly&&(!y||-1==wn(y,An))&&(y||(y=[])).push(An)}}),!y)return null;for(var x=[{from:d,to:C}],F=0;F<y.length;++F)for(var X=y[F],Z=X.find(0),ue=0;ue<x.length;++ue){var ye=x[ue];if(!(kt(ye.to,Z.from)<0||kt(ye.from,Z.to)>0)){var nt=[ue,1],ft=kt(ye.from,Z.from),jt=kt(ye.to,Z.to);(ft<0||!X.inclusiveLeft&&!ft)&&nt.push({from:ye.from,to:Z.from}),(jt>0||!X.inclusiveRight&&!jt)&&nt.push({from:Z.to,to:ye.to}),x.splice.apply(x,nt),ue+=nt.length-3}}return x}(o,d.from,d.to);if(y)for(var x=y.length-1;x>=0;--x)Ec(o,{from:y[x].from,to:y[x].to,text:x?[""]:d.text,origin:d.origin});else Ec(o,d)}}function Ec(o,d){if(1!=d.text.length||""!=d.text[0]||0!=kt(d.from,d.to)){var C=bl(o,d);Su(o,d,C,o.cm?o.cm.curOp.id:NaN),Al(o,d,C,yi(o,d));var y=[];Ja(o,function(x,F){!F&&-1==wn(y,x.history)&&(xc(x.history,d),y.push(x.history)),Al(x,d,null,yi(x,d))})}}function Ru(o,d,C){var y=o.cm&&o.cm.state.suppressEdits;if(!y||C){for(var F,x=o.history,X=o.sel,Z="undo"==d?x.done:x.undone,ue="undo"==d?x.undone:x.done,ye=0;ye<Z.length&&(F=Z[ye],!(C?F.ranges&&!F.equals(o.sel):!F.ranges));ye++);if(ye!=Z.length){for(x.lastOrigin=x.lastSelOrigin=null;;){if(!(F=Z.pop()).ranges){if(y)return void Z.push(F);break}if(pl(F,ue),C&&!F.equals(o.sel))return void ea(o,F,{clearRedo:!1});X=F}var nt=[];pl(X,ue),ue.push({changes:nt,generation:x.generation}),x.generation=F.generation||++x.maxGeneration;for(var ft=Ai(o,"beforeChange")||o.cm&&Ai(o.cm,"beforeChange"),jt=function(An){var Bn=F.changes[An];if(Bn.origin=d,ft&&!ku(o,Bn,!1))return Z.length=0,{};nt.push(Ol(o,Bn));var Kn=An?bl(o,Bn):Kt(Z);Al(o,Bn,Kn,Ha(o,Bn)),!An&&o.cm&&o.cm.scrollIntoView({from:Bn.from,to:El(Bn)});var mr=[];Ja(o,function(ar,xr){!xr&&-1==wn(mr,ar.history)&&(xc(ar.history,Bn),mr.push(ar.history)),Al(ar,Bn,null,Ha(ar,Bn))})},Lt=F.changes.length-1;Lt>=0;--Lt){var _n=jt(Lt);if(_n)return _n.v}}}}function cc(o,d){if(0!=d&&(o.first+=d,o.sel=new Qs(Un(o.sel.ranges,function(x){return new di(ot(x.anchor.line+d,x.anchor.ch),ot(x.head.line+d,x.head.ch))}),o.sel.primIndex),o.cm)){Ir(o.cm,o.first,o.first-d,d);for(var C=o.cm.display,y=C.viewFrom;y<C.viewTo;y++)Gr(o.cm,y,"gutter")}}function Al(o,d,C,y){if(o.cm&&!o.cm.curOp)return ks(o.cm,Al)(o,d,C,y);if(d.to.line<o.first)cc(o,d.text.length-1-(d.to.line-d.from.line));else if(!(d.from.line>o.lastLine())){if(d.from.line<o.first){var x=d.text.length-1-(o.first-d.from.line);cc(o,x),d={from:ot(o.first,0),to:ot(d.to.line+x,d.to.ch),text:[Kt(d.text)],origin:d.origin}}var F=o.lastLine();d.to.line>F&&(d={from:d.from,to:ot(F,an(o,F).text.length),text:[d.text[0]],origin:d.origin}),d.removed=Rr(o,d.from,d.to),C||(C=bl(o,d)),o.cm?function zu(o,d,C){var y=o.doc,x=o.display,F=d.from,X=d.to,Z=!1,ue=F.line;o.options.lineWrapping||(ue=Qt(So(an(y,F.line))),y.iter(ue,X.line+1,function(Lt){if(Lt==x.maxLine)return Z=!0,!0})),y.sel.contains(d.from,d.to)>-1&&fo(o),lu(y,d,C,$n(o)),o.options.lineWrapping||(y.iter(ue,F.line+d.text.length,function(Lt){var _n=fa(Lt);_n>x.maxLineLength&&(x.maxLine=Lt,x.maxLineLength=_n,x.maxLineChanged=!0,Z=!1)}),Z&&(o.curOp.updateMaxLine=!0)),function Ks(o,d){if(o.modeFrontier=Math.min(o.modeFrontier,d),!(o.highlightFrontier<d-10)){for(var C=o.first,y=d-1;y>C;y--){var x=an(o,y).stateAfter;if(x&&(!(x instanceof To)||y+x.lookAhead<d)){C=y+1;break}}o.highlightFrontier=Math.min(o.highlightFrontier,C)}}(y,F.line),B(o,400);var ye=d.text.length-(X.line-F.line)-1;d.full?Ir(o):F.line!=X.line||1!=d.text.length||Da(o.doc,d)?Ir(o,F.line,X.line+1,ye):Gr(o,F.line,"text");var nt=Ai(o,"changes"),ft=Ai(o,"change");if(ft||nt){var jt={from:F,to:X,text:d.text,removed:d.removed,origin:d.origin};ft&&lr(o,"change",o,jt),nt&&(o.curOp.changeObjs||(o.curOp.changeObjs=[])).push(jt)}o.display.selForContextMenu=null}(o.cm,d,y):lu(o,d,y),yc(o,C,kn),o.cantEdit&&$u(o,ot(o.firstLine(),0))&&(o.cantEdit=!1)}}function Hs(o,d,C,y,x){var F;y||(y=C),kt(y,C)<0&&(C=(F=[y,C])[0],y=F[1]),"string"==typeof d&&(d=o.splitLines(d)),du(o,{from:C,to:y,text:d,origin:x})}function Pc(o,d,C,y){C<o.line?o.line+=y:d<o.line&&(o.line=d,o.ch=0)}function bc(o,d,C,y){for(var x=0;x<o.length;++x){var F=o[x],X=!0;if(F.ranges){F.copied||((F=o[x]=F.deepCopy()).copied=!0);for(var Z=0;Z<F.ranges.length;Z++)Pc(F.ranges[Z].anchor,d,C,y),Pc(F.ranges[Z].head,d,C,y)}else{for(var ue=0;ue<F.changes.length;++ue){var ye=F.changes[ue];if(C<ye.from.line)ye.from=ot(ye.from.line+y,ye.from.ch),ye.to=ot(ye.to.line+y,ye.to.ch);else if(d<=ye.to.line){X=!1;break}}X||(o.splice(0,x+1),x=0)}}}function xc(o,d){var C=d.from.line,y=d.to.line,x=d.text.length-(y-C)-1;bc(o.done,C,y,x),bc(o.undone,C,y,x)}function Pu(o,d,C,y){var x=d,F=d;return"number"==typeof d?F=an(o,qn(o,d)):x=Qt(d),null==x?null:(y(F,x)&&o.cm&&Gr(o.cm,x,C),F)}function Fu(o){this.lines=o,this.parent=null;for(var d=0,C=0;C<o.length;++C)o[C].parent=this,d+=o[C].height;this.height=d}function j(o){this.children=o;for(var d=0,C=0,y=0;y<o.length;++y){var x=o[y];d+=x.chunkSize(),C+=x.height,x.parent=this}this.size=d,this.height=C,this.parent=null}di.prototype.from=function(){return Ur(this.anchor,this.head)},di.prototype.to=function(){return _r(this.anchor,this.head)},di.prototype.empty=function(){return this.head.line==this.anchor.line&&this.head.ch==this.anchor.ch},Fu.prototype={chunkSize:function(){return this.lines.length},removeInner:function(o,d){for(var C=o,y=o+d;C<y;++C){var x=this.lines[C];this.height-=x.height,qs(x),lr(x,"delete")}this.lines.splice(o,d)},collapse:function(o){o.push.apply(o,this.lines)},insertInner:function(o,d,C){this.height+=C,this.lines=this.lines.slice(0,o).concat(d).concat(this.lines.slice(o));for(var y=0;y<d.length;++y)d[y].parent=this},iterN:function(o,d,C){for(var y=o+d;o<y;++o)if(C(this.lines[o]))return!0}},j.prototype={chunkSize:function(){return this.size},removeInner:function(o,d){this.size-=d;for(var C=0;C<this.children.length;++C){var y=this.children[C],x=y.chunkSize();if(o<x){var F=Math.min(d,x-o),X=y.height;if(y.removeInner(o,F),this.height-=X-y.height,x==F&&(this.children.splice(C--,1),y.parent=null),0==(d-=F))break;o=0}else o-=x}if(this.size-d<25&&(this.children.length>1||!(this.children[0]instanceof Fu))){var Z=[];this.collapse(Z),this.children=[new Fu(Z)],this.children[0].parent=this}},collapse:function(o){for(var d=0;d<this.children.length;++d)this.children[d].collapse(o)},insertInner:function(o,d,C){this.size+=d.length,this.height+=C;for(var y=0;y<this.children.length;++y){var x=this.children[y],F=x.chunkSize();if(o<=F){if(x.insertInner(o,d,C),x.lines&&x.lines.length>50){for(var X=x.lines.length%25+25,Z=X;Z<x.lines.length;){var ue=new Fu(x.lines.slice(Z,Z+=25));x.height-=ue.height,this.children.splice(++y,0,ue),ue.parent=this}x.lines=x.lines.slice(0,X),this.maybeSpill()}break}o-=F}},maybeSpill:function(){if(!(this.children.length<=10)){var o=this;do{var C=new j(o.children.splice(o.children.length-5,5));if(o.parent){o.size-=C.size,o.height-=C.height;var x=wn(o.parent.children,o);o.parent.children.splice(x+1,0,C)}else{var y=new j(o.children);y.parent=o,o.children=[y,C],o=y}C.parent=o.parent}while(o.children.length>10);o.parent.maybeSpill()}},iterN:function(o,d,C){for(var y=0;y<this.children.length;++y){var x=this.children[y],F=x.chunkSize();if(o<F){var X=Math.min(d,F-o);if(x.iterN(o,X,C))return!0;if(0==(d-=X))break;o=0}else o-=F}}};var S=function(o,d,C){if(C)for(var y in C)C.hasOwnProperty(y)&&(this[y]=C[y]);this.doc=o,this.node=d};function D(o,d,C){Ro(d)<(o.curOp&&o.curOp.scrollTop||o.doc.scrollTop)&&Ya(o,C)}S.prototype.clear=function(){var o=this.doc.cm,d=this.line.widgets,C=this.line,y=Qt(C);if(null!=y&&d){for(var x=0;x<d.length;++x)d[x]==this&&d.splice(x--,1);d.length||(C.widgets=null);var F=Vs(this);Wt(C,Math.max(0,C.height-F)),o&&(Us(o,function(){D(o,C,-F),Gr(o,y,"widget")}),lr(o,"lineWidgetCleared",o,this,y))}},S.prototype.changed=function(){var o=this,d=this.height,C=this.doc.cm,y=this.line;this.height=null;var x=Vs(this)-d;x&&(lo(this.doc,y)||Wt(y,y.height+x),C&&Us(C,function(){C.curOp.forceUpdate=!0,D(C,y,x),lr(C,"lineWidgetChanged",C,o,Qt(y))}))},Lr(S);var A=0,U=function(o,d){this.lines=[],this.type=d,this.doc=o,this.id=++A};function ne(o,d,C,y,x){if(y&&y.shared)return function tt(o,d,C,y,x){(y=Et(y)).shared=!1;var F=[ne(o,d,C,y,x)],X=F[0],Z=y.widgetNode;return Ja(o,function(ue){Z&&(y.widgetNode=Z.cloneNode(!0)),F.push(ne(ue,tr(ue,d),tr(ue,C),y,x));for(var ye=0;ye<ue.linked.length;++ye)if(ue.linked[ye].isParent)return;X=Kt(F)}),new Ee(F,X)}(o,d,C,y,x);if(o.cm&&!o.cm.curOp)return ks(o.cm,ne)(o,d,C,y,x);var F=new U(o,x),X=kt(d,C);if(y&&Et(y,F,!1),X>0||0==X&&!1!==F.clearWhenEmpty)return F;if(F.replacedWith&&(F.collapsed=!0,F.widgetNode=gt("span",[F.replacedWith],"CodeMirror-widget"),y.handleMouseEvents||F.widgetNode.setAttribute("cm-ignore-events","true"),y.insertLeft&&(F.widgetNode.insertLeft=!0)),F.collapsed){if(bo(o,d.line,d,C,F)||d.line!=C.line&&bo(o,C.line,d,C,F))throw new Error("Inserting collapsed marker partially overlapping an existing one");!function qe(){Cs=!0}()}F.addToHistory&&Su(o,{from:d,to:C,origin:"markText"},o.sel,NaN);var ye,Z=d.line,ue=o.cm;if(o.iter(Z,C.line+1,function(ft){ue&&F.collapsed&&!ue.options.lineWrapping&&So(ft)==ue.display.maxLine&&(ye=!0),F.collapsed&&Z!=d.line&&Wt(ft,0),function dn(o,d,C){var y=C&&window.WeakSet&&(C.markedSpans||(C.markedSpans=new WeakSet));y&&o.markedSpans&&y.has(o.markedSpans)?o.markedSpans.push(d):(o.markedSpans=o.markedSpans?o.markedSpans.concat([d]):[d],y&&y.add(o.markedSpans)),d.marker.attachLine(o)}(ft,new De(F,Z==d.line?d.ch:null,Z==C.line?C.ch:null),o.cm&&o.cm.curOp),++Z}),F.collapsed&&o.iter(d.line,C.line+1,function(ft){lo(o,ft)&&Wt(ft,0)}),F.clearOnEnter&&Fn(F,"beforeCursorEnter",function(){return F.clear()}),F.readOnly&&(function pe(){Xs=!0}(),(o.history.done.length||o.history.undone.length)&&o.clearHistory()),F.collapsed&&(F.id=++A,F.atomic=!0),ue){if(ye&&(ue.curOp.updateMaxLine=!0),F.collapsed)Ir(ue,d.line,C.line+1);else if(F.className||F.startStyle||F.endStyle||F.css||F.attributes||F.title)for(var nt=d.line;nt<=C.line;nt++)Gr(ue,nt,"text");F.atomic&&lc(ue.doc),lr(ue,"markerAdded",ue,F)}return F}U.prototype.clear=function(){if(!this.explicitlyCleared){var o=this.doc.cm,d=o&&!o.curOp;if(d&&cl(o),Ai(this,"clear")){var C=this.find();C&&lr(this,"clear",C.from,C.to)}for(var y=null,x=null,F=0;F<this.lines.length;++F){var X=this.lines[F],Z=Be(X.markedSpans,this);o&&!this.collapsed?Gr(o,Qt(X),"text"):o&&(null!=Z.to&&(x=Qt(X)),null!=Z.from&&(y=Qt(X))),X.markedSpans=xt(X.markedSpans,Z),null==Z.from&&this.collapsed&&!lo(this.doc,X)&&o&&Wt(X,En(o.display))}if(o&&this.collapsed&&!o.options.lineWrapping)for(var ue=0;ue<this.lines.length;++ue){var ye=So(this.lines[ue]),nt=fa(ye);nt>o.display.maxLineLength&&(o.display.maxLine=ye,o.display.maxLineLength=nt,o.display.maxLineChanged=!0)}null!=y&&o&&this.collapsed&&Ir(o,y,x+1),this.lines.length=0,this.explicitlyCleared=!0,this.atomic&&this.doc.cantEdit&&(this.doc.cantEdit=!1,o&&lc(o.doc)),o&&lr(o,"markerCleared",o,this,y,x),d&&dl(o),this.parent&&this.parent.clear()}},U.prototype.find=function(o,d){null==o&&"bookmark"==this.type&&(o=1);for(var C,y,x=0;x<this.lines.length;++x){var F=this.lines[x],X=Be(F.markedSpans,this);if(null!=X.from&&(C=ot(d?F:Qt(F),X.from),-1==o))return C;if(null!=X.to&&(y=ot(d?F:Qt(F),X.to),1==o))return y}return C&&{from:C,to:y}},U.prototype.changed=function(){var o=this,d=this.find(-1,!0),C=this,y=this.doc.cm;!d||!y||Us(y,function(){var x=d.line,F=Qt(d.line),X=vr(y,F);if(X&&(I(X),y.curOp.selectionChanged=y.curOp.forceUpdate=!0),y.curOp.updateMaxLine=!0,!lo(C.doc,x)&&null!=C.height){var Z=C.height;C.height=null;var ue=Vs(C)-Z;ue&&Wt(x,x.height+ue)}lr(y,"markerChanged",y,o)})},U.prototype.attachLine=function(o){if(!this.lines.length&&this.doc.cm){var d=this.doc.cm.curOp;(!d.maybeHiddenMarkers||-1==wn(d.maybeHiddenMarkers,this))&&(d.maybeUnhiddenMarkers||(d.maybeUnhiddenMarkers=[])).push(this)}this.lines.push(o)},U.prototype.detachLine=function(o){if(this.lines.splice(wn(this.lines,o),1),!this.lines.length&&this.doc.cm){var d=this.doc.cm.curOp;(d.maybeHiddenMarkers||(d.maybeHiddenMarkers=[])).push(this)}},Lr(U);var Ee=function(o,d){this.markers=o,this.primary=d;for(var C=0;C<o.length;++C)o[C].parent=this};function bt(o){return o.findMarks(ot(o.first,0),o.clipPos(ot(o.lastLine())),function(d){return d.parent})}function xn(o){for(var d=function(y){var x=o[y],F=[x.primary.doc];Ja(x.primary.doc,function(ue){return F.push(ue)});for(var X=0;X<x.markers.length;X++){var Z=x.markers[X];-1==wn(F,Z.doc)&&(Z.parent=null,x.markers.splice(X--,1))}},C=0;C<o.length;C++)d(C)}Ee.prototype.clear=function(){if(!this.explicitlyCleared){this.explicitlyCleared=!0;for(var o=0;o<this.markers.length;++o)this.markers[o].clear();lr(this,"clear")}},Ee.prototype.find=function(o,d){return this.primary.find(o,d)},Lr(Ee);var yr=0,Cr=function(o,d,C,y,x){if(!(this instanceof Cr))return new Cr(o,d,C,y,x);null==C&&(C=0),j.call(this,[new Fu([new Qo("",null)])]),this.first=C,this.scrollTop=this.scrollLeft=0,this.cantEdit=!1,this.cleanGeneration=1,this.modeFrontier=this.highlightFrontier=C;var F=ot(C,0);this.sel=Cl(F),this.history=new wu(null),this.id=++yr,this.modeOption=d,this.lineSep=y,this.direction="rtl"==x?"rtl":"ltr",this.extend=!1,"string"==typeof o&&(o=this.splitLines(o)),lu(this,{from:F,to:F,text:o}),ea(this,Cl(F),kn)};Cr.prototype=fi(j.prototype,{constructor:Cr,iter:function(o,d,C){C?this.iterN(o-this.first,d-o,C):this.iterN(this.first,this.first+this.size,o)},insert:function(o,d){for(var C=0,y=0;y<d.length;++y)C+=d[y].height;this.insertInner(o-this.first,d,C)},remove:function(o,d){this.removeInner(o-this.first,d)},getValue:function(o){var d=rt(this,this.first,this.first+this.size);return!1===o?d:d.join(o||this.lineSeparator())},setValue:Zo(function(o){var d=ot(this.first,0),C=this.first+this.size-1;du(this,{from:d,to:ot(C,an(this,C).text.length),text:this.splitLines(o),origin:"setValue",full:!0},!0),this.cm&&$l(this.cm,0,0),ea(this,Cl(d),kn)}),replaceRange:function(o,d,C,y){Hs(this,o,d=tr(this,d),C=C?tr(this,C):d,y)},getRange:function(o,d,C){var y=Rr(this,tr(this,o),tr(this,d));return!1===C?y:y.join(""===C?"":C||this.lineSeparator())},getLine:function(o){var d=this.getLineHandle(o);return d&&d.text},getLineHandle:function(o){if(ge(this,o))return an(this,o)},getLineNumber:function(o){return Qt(o)},getLineHandleVisualStart:function(o){return"number"==typeof o&&(o=an(this,o)),So(o)},lineCount:function(){return this.size},firstLine:function(){return this.first},lastLine:function(){return this.first+this.size-1},clipPos:function(o){return tr(this,o)},getCursor:function(o){var d=this.sel.primary();return null==o||"head"==o?d.head:"anchor"==o?d.anchor:"end"==o||"to"==o||!1===o?d.to():d.from()},listSelections:function(){return this.sel.ranges},somethingSelected:function(){return this.sel.somethingSelected()},setCursor:Zo(function(o,d,C){vc(this,tr(this,"number"==typeof o?ot(o,d||0):o),null,C)}),setSelection:Zo(function(o,d,C){vc(this,tr(this,o),tr(this,d||o),C)}),extendSelection:Zo(function(o,d,C){Mu(this,tr(this,o),d&&tr(this,d),C)}),extendSelections:Zo(function(o,d){Gu(this,hi(this,o),d)}),extendSelectionsBy:Zo(function(o,d){Gu(this,hi(this,Un(this.sel.ranges,o)),d)}),setSelections:Zo(function(o,d,C){if(o.length){for(var y=[],x=0;x<o.length;x++)y[x]=new di(tr(this,o[x].anchor),tr(this,o[x].head||o[x].anchor));null==d&&(d=Math.min(o.length-1,this.sel.primIndex)),ea(this,Fa(this.cm,y,d),C)}}),addSelection:Zo(function(o,d,C){var y=this.sel.ranges.slice(0);y.push(new di(tr(this,o),tr(this,d||o))),ea(this,Fa(this.cm,y,y.length-1),C)}),getSelection:function(o){for(var C,d=this.sel.ranges,y=0;y<d.length;y++){var x=Rr(this,d[y].from(),d[y].to());C=C?C.concat(x):x}return!1===o?C:C.join(o||this.lineSeparator())},getSelections:function(o){for(var d=[],C=this.sel.ranges,y=0;y<C.length;y++){var x=Rr(this,C[y].from(),C[y].to());!1!==o&&(x=x.join(o||this.lineSeparator())),d[y]=x}return d},replaceSelection:function(o,d,C){for(var y=[],x=0;x<this.sel.ranges.length;x++)y[x]=o;this.replaceSelections(y,d,C||"+input")},replaceSelections:Zo(function(o,d,C){for(var y=[],x=this.sel,F=0;F<x.ranges.length;F++){var X=x.ranges[F];y[F]={from:X.from(),to:X.to(),text:this.splitLines(o[F]),origin:C}}for(var Z=d&&"end"!=d&&function Nl(o,d,C){for(var y=[],x=ot(o.first,0),F=x,X=0;X<d.length;X++){var Z=d[X],ue=Qa(Z.from,x,F),ye=Qa(El(Z),x,F);if(x=Z.to,F=ye,"around"==C){var nt=o.sel.ranges[X],ft=kt(nt.head,nt.anchor)<0;y[X]=new di(ft?ye:ue,ft?ue:ye)}else y[X]=new di(ue,ue)}return new Qs(y,o.sel.primIndex)}(this,y,d),ue=y.length-1;ue>=0;ue--)du(this,y[ue]);Z?uu(this,Z):this.cm&&ll(this.cm)}),undo:Zo(function(){Ru(this,"undo")}),redo:Zo(function(){Ru(this,"redo")}),undoSelection:Zo(function(){Ru(this,"undo",!0)}),redoSelection:Zo(function(){Ru(this,"redo",!0)}),setExtending:function(o){this.extend=o},getExtending:function(){return this.extend},historySize:function(){for(var o=this.history,d=0,C=0,y=0;y<o.done.length;y++)o.done[y].ranges||++d;for(var x=0;x<o.undone.length;x++)o.undone[x].ranges||++C;return{undo:d,redo:C}},clearHistory:function(){var o=this;this.history=new wu(this.history),Ja(this,function(d){return d.history=o.history},!0)},markClean:function(){this.cleanGeneration=this.changeGeneration(!0)},changeGeneration:function(o){return o&&(this.history.lastOp=this.history.lastSelOp=this.history.lastOrigin=null),this.history.generation},isClean:function(o){return this.history.generation==(o||this.cleanGeneration)},getHistory:function(){return{done:ja(this.history.done),undone:ja(this.history.undone)}},setHistory:function(o){var d=this.history=new wu(this.history);d.done=ja(o.done.slice(0),null,!0),d.undone=ja(o.undone.slice(0),null,!0)},setGutterMarker:Zo(function(o,d,C){return Pu(this,o,"gutter",function(y){var x=y.gutterMarkers||(y.gutterMarkers={});return x[d]=C,!C&&oi(x)&&(y.gutterMarkers=null),!0})}),clearGutter:Zo(function(o){var d=this;this.iter(function(C){C.gutterMarkers&&C.gutterMarkers[o]&&Pu(d,C,"gutter",function(){return C.gutterMarkers[o]=null,oi(C.gutterMarkers)&&(C.gutterMarkers=null),!0})})}),lineInfo:function(o){var d;if("number"==typeof o){if(!(ge(this,o)&&(d=o,o=an(this,o))))return null}else if(null==(d=Qt(o)))return null;return{line:d,handle:o,text:o.text,gutterMarkers:o.gutterMarkers,textClass:o.textClass,bgClass:o.bgClass,wrapClass:o.wrapClass,widgets:o.widgets}},addLineClass:Zo(function(o,d,C){return Pu(this,o,"gutter"==d?"gutter":"class",function(y){var x="text"==d?"textClass":"background"==d?"bgClass":"gutter"==d?"gutterClass":"wrapClass";if(y[x]){if(rn(C).test(y[x]))return!1;y[x]+=" "+C}else y[x]=C;return!0})}),removeLineClass:Zo(function(o,d,C){return Pu(this,o,"gutter"==d?"gutter":"class",function(y){var x="text"==d?"textClass":"background"==d?"bgClass":"gutter"==d?"gutterClass":"wrapClass",F=y[x];if(!F)return!1;if(null==C)y[x]=null;else{var X=F.match(rn(C));if(!X)return!1;var Z=X.index+X[0].length;y[x]=F.slice(0,X.index)+(X.index&&Z!=F.length?" ":"")+F.slice(Z)||null}return!0})}),addLineWidget:Zo(function(o,d,C){return function g(o,d,C,y){var x=new S(o,C,y),F=o.cm;return F&&x.noHScroll&&(F.display.alignWidgets=!0),Pu(o,d,"widget",function(X){var Z=X.widgets||(X.widgets=[]);if(null==x.insertAt?Z.push(x):Z.splice(Math.min(Z.length,Math.max(0,x.insertAt)),0,x),x.line=X,F&&!lo(o,X)){var ue=Ro(X)<o.scrollTop;Wt(X,X.height+Vs(x)),ue&&Ya(F,x.height),F.curOp.forceUpdate=!0}return!0}),F&&lr(F,"lineWidgetAdded",F,x,"number"==typeof d?d:Qt(d)),x}(this,o,d,C)}),removeLineWidget:function(o){o.clear()},markText:function(o,d,C){return ne(this,tr(this,o),tr(this,d),C,C&&C.type||"range")},setBookmark:function(o,d){var C={replacedWith:d&&(null==d.nodeType?d.widget:d),insertLeft:d&&d.insertLeft,clearWhenEmpty:!1,shared:d&&d.shared,handleMouseEvents:d&&d.handleMouseEvents};return ne(this,o=tr(this,o),o,C,"bookmark")},findMarksAt:function(o){var d=[],C=an(this,(o=tr(this,o)).line).markedSpans;if(C)for(var y=0;y<C.length;++y){var x=C[y];(null==x.from||x.from<=o.ch)&&(null==x.to||x.to>=o.ch)&&d.push(x.marker.parent||x.marker)}return d},findMarks:function(o,d,C){o=tr(this,o),d=tr(this,d);var y=[],x=o.line;return this.iter(o.line,d.line+1,function(F){var X=F.markedSpans;if(X)for(var Z=0;Z<X.length;Z++){var ue=X[Z];!(null!=ue.to&&x==o.line&&o.ch>=ue.to||null==ue.from&&x!=o.line||null!=ue.from&&x==d.line&&ue.from>=d.ch)&&(!C||C(ue.marker))&&y.push(ue.marker.parent||ue.marker)}++x}),y},getAllMarks:function(){var o=[];return this.iter(function(d){var C=d.markedSpans;if(C)for(var y=0;y<C.length;++y)null!=C[y].from&&o.push(C[y].marker)}),o},posFromIndex:function(o){var d,C=this.first,y=this.lineSeparator().length;return this.iter(function(x){var F=x.text.length+y;if(F>o)return d=o,!0;o-=F,++C}),tr(this,ot(C,d))},indexFromPos:function(o){var d=(o=tr(this,o)).ch;if(o.line<this.first||o.ch<0)return 0;var C=this.lineSeparator().length;return this.iter(this.first,o.line,function(y){d+=y.text.length+C}),d},copy:function(o){var d=new Cr(rt(this,this.first,this.first+this.size),this.modeOption,this.first,this.lineSep,this.direction);return d.scrollTop=this.scrollTop,d.scrollLeft=this.scrollLeft,d.sel=this.sel,d.extend=!1,o&&(d.history.undoDepth=this.history.undoDepth,d.setHistory(this.getHistory())),d},linkedDoc:function(o){o||(o={});var d=this.first,C=this.first+this.size;null!=o.from&&o.from>d&&(d=o.from),null!=o.to&&o.to<C&&(C=o.to);var y=new Cr(rt(this,d,C),o.mode||this.modeOption,d,this.lineSep,this.direction);return o.sharedHist&&(y.history=this.history),(this.linked||(this.linked=[])).push({doc:y,sharedHist:o.sharedHist}),y.linked=[{doc:this,isParent:!0,sharedHist:o.sharedHist}],function Sn(o,d){for(var C=0;C<d.length;C++){var y=d[C],x=y.find(),F=o.clipPos(x.from),X=o.clipPos(x.to);if(kt(F,X)){var Z=ne(o,F,X,y.primary,y.primary.type);y.markers.push(Z),Z.parent=y}}}(y,bt(this)),y},unlinkDoc:function(o){if(o instanceof Oo&&(o=o.doc),this.linked)for(var d=0;d<this.linked.length;++d)if(this.linked[d].doc==o){this.linked.splice(d,1),o.unlinkDoc(this),xn(bt(this));break}if(o.history==this.history){var y=[o.id];Ja(o,function(x){return y.push(x.id)},!0),o.history=new wu(null),o.history.done=ja(this.history.done,y),o.history.undone=ja(this.history.undone,y)}},iterLinkedDocs:function(o){Ja(this,o)},getMode:function(){return this.mode},getEditor:function(){return this.cm},splitLines:function(o){return this.lineSep?o.split(this.lineSep):Do(o)},lineSeparator:function(){return this.lineSep||"\n"},setDirection:Zo(function(o){"rtl"!=o&&(o="ltr"),o!=this.direction&&(this.direction=o,this.iter(function(d){return d.order=null}),this.cm&&function Hu(o){Us(o,function(){Zs(o),Ir(o)})}(this.cm))})}),Cr.prototype.eachLine=Cr.prototype.iter;var Kr=0;function ii(o){var d=this;if(vs(d),!pi(d,o)&&!bs(d.display,o)){Pi(o),oe&&(Kr=+new Date);var C=Xn(d,o,!0),y=o.dataTransfer.files;if(C&&!d.isReadOnly())if(y&&y.length&&window.FileReader&&window.File)for(var x=y.length,F=Array(x),X=0,Z=function(){++X==x&&ks(d,function(){var Lt={from:C=tr(d.doc,C),to:C,text:d.doc.splitLines(F.filter(function(_n){return null!=_n}).join(d.doc.lineSeparator())),origin:"paste"};du(d.doc,Lt),uu(d.doc,Cl(tr(d.doc,C),tr(d.doc,El(Lt))))})()},ue=function(Lt,_n){if(d.options.allowDropFileTypes&&-1==wn(d.options.allowDropFileTypes,Lt.type))Z();else{var An=new FileReader;An.onerror=function(){return Z()},An.onload=function(){var Bn=An.result;/[\x00-\x08\x0e-\x1f]{2}/.test(Bn)||(F[_n]=Bn),Z()},An.readAsText(Lt)}},ye=0;ye<y.length;ye++)ue(y[ye],ye);else{if(d.state.draggingText&&d.doc.sel.contains(C)>-1)return d.state.draggingText(o),void setTimeout(function(){return d.display.input.focus()},20);try{var nt=o.dataTransfer.getData("Text");if(nt){var ft;if(d.state.draggingText&&!d.state.draggingText.copy&&(ft=d.listSelections()),yc(d.doc,Cl(C,C)),ft)for(var jt=0;jt<ft.length;++jt)Hs(d.doc,"",ft[jt].anchor,ft[jt].head,"drag");d.replaceSelection(nt,"around","paste"),d.display.input.focus()}}catch{}}}}function vs(o){o.display.dragCursor&&(o.display.lineSpace.removeChild(o.display.dragCursor),o.display.dragCursor=null)}function Ga(o){if(document.getElementsByClassName){for(var d=document.getElementsByClassName("CodeMirror"),C=[],y=0;y<d.length;y++){var x=d[y].CodeMirror;x&&C.push(x)}C.length&&C[0].operation(function(){for(var F=0;F<C.length;F++)o(C[F])})}}var wa=!1;function Nu(){wa||(function zl(){var o;Fn(window,"resize",function(){null==o&&(o=setTimeout(function(){o=null,Ga(Za)},100))}),Fn(window,"blur",function(){return Ga(Jo)})}(),wa=!0)}function Za(o){var d=o.display;d.cachedCharWidth=d.cachedTextHeight=d.cachedPaddingH=null,d.scrollbarsClipped=!1,o.setSize()}for(var Rs={3:"Pause",8:"Backspace",9:"Tab",13:"Enter",16:"Shift",17:"Ctrl",18:"Alt",19:"Pause",20:"CapsLock",27:"Esc",32:"Space",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"Left",38:"Up",39:"Right",40:"Down",44:"PrintScrn",45:"Insert",46:"Delete",59:";",61:"=",91:"Mod",92:"Mod",93:"Mod",106:"*",107:"=",109:"-",110:".",111:"/",145:"ScrollLock",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'",224:"Mod",63232:"Up",63233:"Down",63234:"Left",63235:"Right",63272:"Delete",63273:"Home",63275:"End",63276:"PageUp",63277:"PageDown",63302:"Insert"},Kl=0;Kl<10;Kl++)Rs[Kl+48]=Rs[Kl+96]=String(Kl);for(var $a=65;$a<=90;$a++)Rs[$a]=String.fromCharCode($a);for(var Xl=1;Xl<=12;Xl++)Rs[Xl+111]=Rs[Xl+63235]="F"+Xl;var ya={};function Bl(o){var d=o.split(/-(?!$)/);o=d[d.length-1];for(var C,y,x,F,X=0;X<d.length-1;X++){var Z=d[X];if(/^(cmd|meta|m)$/i.test(Z))F=!0;else if(/^a(lt)?$/i.test(Z))C=!0;else if(/^(c|ctrl|control)$/i.test(Z))y=!0;else{if(!/^s(hift)?$/i.test(Z))throw new Error("Unrecognized modifier name: "+Z);x=!0}}return C&&(o="Alt-"+o),y&&(o="Ctrl-"+o),F&&(o="Cmd-"+o),x&&(o="Shift-"+o),o}function _d(o){var d={};for(var C in o)if(o.hasOwnProperty(C)){var y=o[C];if(/^(name|fallthrough|(de|at)tach)$/.test(C))continue;if("..."==y){delete o[C];continue}for(var x=Un(C.split(" "),Bl),F=0;F<x.length;F++){var X=void 0,Z=void 0;F==x.length-1?(Z=x.join(" "),X=y):(Z=x.slice(0,F+1).join(" "),X="...");var ue=d[Z];if(ue){if(ue!=X)throw new Error("Inconsistent bindings for "+Z)}else d[Z]=X}delete o[C]}for(var ye in d)o[ye]=d[ye];return o}function Ku(o,d,C,y){var x=(d=ro(d)).call?d.call(o,y):d[o];if(!1===x)return"nothing";if("..."===x)return"multi";if(null!=x&&C(x))return"handled";if(d.fallthrough){if("[object Array]"!=Object.prototype.toString.call(d.fallthrough))return Ku(o,d.fallthrough,C,y);for(var F=0;F<d.fallthrough.length;F++){var X=Ku(o,d.fallthrough[F],C,y);if(X)return X}}}function Br(o){var d="string"==typeof o?o:Rs[o.keyCode];return"Ctrl"==d||"Alt"==d||"Shift"==d||"Mod"==d}function si(o,d,C){var y=o;return d.altKey&&"Alt"!=y&&(o="Alt-"+o),(et?d.metaKey:d.ctrlKey)&&"Ctrl"!=y&&(o="Ctrl-"+o),(et?d.ctrlKey:d.metaKey)&&"Mod"!=y&&(o="Cmd-"+o),!C&&d.shiftKey&&"Shift"!=y&&(o="Shift-"+o),o}function gi(o,d){if(ie&&34==o.keyCode&&o.char)return!1;var C=Rs[o.keyCode];return null!=C&&!o.altGraphKey&&(3==o.keyCode&&o.code&&(C=o.code),si(C,o,d))}function ro(o){return"string"==typeof o?ya[o]:o}function fs(o,d){for(var C=o.doc.sel.ranges,y=[],x=0;x<C.length;x++){for(var F=d(C[x]);y.length&&kt(F.from,Kt(y).to)<=0;){var X=y.pop();if(kt(X.from,F.from)<0){F.from=X.from;break}}y.push(F)}Us(o,function(){for(var Z=y.length-1;Z>=0;Z--)Hs(o.doc,"",y[Z].from,y[Z].to,"+delete");ll(o)})}function el(o,d,C){var y=ln(o.text,d+C,C);return y<0||y>o.text.length?null:y}function js(o,d,C){var y=el(o,d.ch,C);return null==y?null:new ot(d.line,y,C<0?"after":"before")}function Wa(o,d,C,y,x){if(o){"rtl"==d.doc.direction&&(x=-x);var F=Fi(C,d.doc.direction);if(F){var ye,X=x<0?Kt(F):F[0],ue=x<0==(1==X.level)?"after":"before";if(X.level>0||"rtl"==d.doc.direction){var nt=Zr(d,C),ft=Ko(d,nt,ye=x<0?C.text.length-1:0).top;ye=gn(function(jt){return Ko(d,nt,jt).top==ft},x<0==(1==X.level)?X.from:X.to-1,ye),"before"==ue&&(ye=el(C,ye,1))}else ye=x<0?X.to:X.from;return new ot(y,ye,ue)}}return new ot(y,x<0?C.text.length:0,x<0?"before":"after")}ya.basic={Left:"goCharLeft",Right:"goCharRight",Up:"goLineUp",Down:"goLineDown",End:"goLineEnd",Home:"goLineStartSmart",PageUp:"goPageUp",PageDown:"goPageDown",Delete:"delCharAfter",Backspace:"delCharBefore","Shift-Backspace":"delCharBefore",Tab:"defaultTab","Shift-Tab":"indentAuto",Enter:"newlineAndIndent",Insert:"toggleOverwrite",Esc:"singleSelection"},ya.pcDefault={"Ctrl-A":"selectAll","Ctrl-D":"deleteLine","Ctrl-Z":"undo","Shift-Ctrl-Z":"redo","Ctrl-Y":"redo","Ctrl-Home":"goDocStart","Ctrl-End":"goDocEnd","Ctrl-Up":"goLineUp","Ctrl-Down":"goLineDown","Ctrl-Left":"goGroupLeft","Ctrl-Right":"goGroupRight","Alt-Left":"goLineStart","Alt-Right":"goLineEnd","Ctrl-Backspace":"delGroupBefore","Ctrl-Delete":"delGroupAfter","Ctrl-S":"save","Ctrl-F":"find","Ctrl-G":"findNext","Shift-Ctrl-G":"findPrev","Shift-Ctrl-F":"replace","Shift-Ctrl-R":"replaceAll","Ctrl-[":"indentLess","Ctrl-]":"indentMore","Ctrl-U":"undoSelection","Shift-Ctrl-U":"redoSelection","Alt-U":"redoSelection",fallthrough:"basic"},ya.emacsy={"Ctrl-F":"goCharRight","Ctrl-B":"goCharLeft","Ctrl-P":"goLineUp","Ctrl-N":"goLineDown","Ctrl-A":"goLineStart","Ctrl-E":"goLineEnd","Ctrl-V":"goPageDown","Shift-Ctrl-V":"goPageUp","Ctrl-D":"delCharAfter","Ctrl-H":"delCharBefore","Alt-Backspace":"delWordBefore","Ctrl-K":"killLine","Ctrl-T":"transposeChars","Ctrl-O":"openLine"},ya.macDefault={"Cmd-A":"selectAll","Cmd-D":"deleteLine","Cmd-Z":"undo","Shift-Cmd-Z":"redo","Cmd-Y":"redo","Cmd-Home":"goDocStart","Cmd-Up":"goDocStart","Cmd-End":"goDocEnd","Cmd-Down":"goDocEnd","Alt-Left":"goGroupLeft","Alt-Right":"goGroupRight","Cmd-Left":"goLineLeft","Cmd-Right":"goLineRight","Alt-Backspace":"delGroupBefore","Ctrl-Alt-Backspace":"delGroupAfter","Alt-Delete":"delGroupAfter","Cmd-S":"save","Cmd-F":"find","Cmd-G":"findNext","Shift-Cmd-G":"findPrev","Cmd-Alt-F":"replace","Shift-Cmd-Alt-F":"replaceAll","Cmd-[":"indentLess","Cmd-]":"indentMore","Cmd-Backspace":"delWrappedLineLeft","Cmd-Delete":"delWrappedLineRight","Cmd-U":"undoSelection","Shift-Cmd-U":"redoSelection","Ctrl-Up":"goDocStart","Ctrl-Down":"goDocEnd",fallthrough:["basic","emacsy"]},ya.default=be?ya.macDefault:ya.pcDefault;var ts={selectAll:Cc,singleSelection:function(o){return o.setSelection(o.getCursor("anchor"),o.getCursor("head"),kn)},killLine:function(o){return fs(o,function(d){if(d.empty()){var C=an(o.doc,d.head.line).text.length;return d.head.ch==C&&d.head.line<o.lastLine()?{from:d.head,to:ot(d.head.line+1,0)}:{from:d.head,to:ot(d.head.line,C)}}return{from:d.from(),to:d.to()}})},deleteLine:function(o){return fs(o,function(d){return{from:ot(d.from().line,0),to:tr(o.doc,ot(d.to().line+1,0))}})},delLineLeft:function(o){return fs(o,function(d){return{from:ot(d.from().line,0),to:d.from()}})},delWrappedLineLeft:function(o){return fs(o,function(d){var C=o.charCoords(d.head,"div").top+5;return{from:o.coordsChar({left:0,top:C},"div"),to:d.from()}})},delWrappedLineRight:function(o){return fs(o,function(d){var C=o.charCoords(d.head,"div").top+5,y=o.coordsChar({left:o.display.lineDiv.offsetWidth+100,top:C},"div");return{from:d.from(),to:y}})},undo:function(o){return o.undo()},redo:function(o){return o.redo()},undoSelection:function(o){return o.undoSelection()},redoSelection:function(o){return o.redoSelection()},goDocStart:function(o){return o.extendSelection(ot(o.firstLine(),0))},goDocEnd:function(o){return o.extendSelection(ot(o.lastLine()))},goLineStart:function(o){return o.extendSelectionsBy(function(d){return ns(o,d.head.line)},{origin:"+move",bias:1})},goLineStartSmart:function(o){return o.extendSelectionsBy(function(d){return ql(o,d.head)},{origin:"+move",bias:1})},goLineEnd:function(o){return o.extendSelectionsBy(function(d){return function Ta(o,d){var C=an(o.doc,d),y=function Ls(o){for(var d;d=Es(o);)o=d.find(1,!0).line;return o}(C);return y!=C&&(d=Qt(y)),Wa(!0,o,C,d,-1)}(o,d.head.line)},{origin:"+move",bias:-1})},goLineRight:function(o){return o.extendSelectionsBy(function(d){var C=o.cursorCoords(d.head,"div").top+5;return o.coordsChar({left:o.display.lineDiv.offsetWidth+100,top:C},"div")},Er)},goLineLeft:function(o){return o.extendSelectionsBy(function(d){var C=o.cursorCoords(d.head,"div").top+5;return o.coordsChar({left:0,top:C},"div")},Er)},goLineLeftSmart:function(o){return o.extendSelectionsBy(function(d){var C=o.cursorCoords(d.head,"div").top+5,y=o.coordsChar({left:0,top:C},"div");return y.ch<o.getLine(y.line).search(/\S/)?ql(o,d.head):y},Er)},goLineUp:function(o){return o.moveV(-1,"line")},goLineDown:function(o){return o.moveV(1,"line")},goPageUp:function(o){return o.moveV(-1,"page")},goPageDown:function(o){return o.moveV(1,"page")},goCharLeft:function(o){return o.moveH(-1,"char")},goCharRight:function(o){return o.moveH(1,"char")},goColumnLeft:function(o){return o.moveH(-1,"column")},goColumnRight:function(o){return o.moveH(1,"column")},goWordLeft:function(o){return o.moveH(-1,"word")},goGroupRight:function(o){return o.moveH(1,"group")},goGroupLeft:function(o){return o.moveH(-1,"group")},goWordRight:function(o){return o.moveH(1,"word")},delCharBefore:function(o){return o.deleteH(-1,"codepoint")},delCharAfter:function(o){return o.deleteH(1,"char")},delWordBefore:function(o){return o.deleteH(-1,"word")},delWordAfter:function(o){return o.deleteH(1,"word")},delGroupBefore:function(o){return o.deleteH(-1,"group")},delGroupAfter:function(o){return o.deleteH(1,"group")},indentAuto:function(o){return o.indentSelection("smart")},indentMore:function(o){return o.indentSelection("add")},indentLess:function(o){return o.indentSelection("subtract")},insertTab:function(o){return o.replaceSelection("\t")},insertSoftTab:function(o){for(var d=[],C=o.listSelections(),y=o.options.tabSize,x=0;x<C.length;x++){var F=C[x].from(),X=yt(o.getLine(F.line),F.ch,y);d.push(Pt(y-X%y))}o.replaceSelections(d)},defaultTab:function(o){o.somethingSelected()?o.indentSelection("add"):o.execCommand("insertTab")},transposeChars:function(o){return Us(o,function(){for(var d=o.listSelections(),C=[],y=0;y<d.length;y++)if(d[y].empty()){var x=d[y].head,F=an(o.doc,x.line).text;if(F)if(x.ch==F.length&&(x=new ot(x.line,x.ch-1)),x.ch>0)x=new ot(x.line,x.ch+1),o.replaceRange(F.charAt(x.ch-1)+F.charAt(x.ch-2),ot(x.line,x.ch-2),x,"+transpose");else if(x.line>o.doc.first){var X=an(o.doc,x.line-1).text;X&&(x=new ot(x.line,1),o.replaceRange(F.charAt(0)+o.doc.lineSeparator()+X.charAt(X.length-1),ot(x.line-1,X.length-1),x,"+transpose"))}C.push(new di(x,x))}o.setSelections(C)})},newlineAndIndent:function(o){return Us(o,function(){for(var d=o.listSelections(),C=d.length-1;C>=0;C--)o.replaceRange(o.doc.lineSeparator(),d[C].anchor,d[C].head,"+input");d=o.listSelections();for(var y=0;y<d.length;y++)o.indentLine(d[y].from().line,null,!0);ll(o)})},openLine:function(o){return o.replaceSelection("\n","start")},toggleOverwrite:function(o){return o.toggleOverwrite()}};function ns(o,d){var C=an(o.doc,d),y=So(C);return y!=C&&(d=Qt(y)),Wa(!0,o,y,d,1)}function ql(o,d){var C=ns(o,d.line),y=an(o.doc,C.line),x=Fi(y,o.doc.direction);if(!x||0==x[0].level){var F=Math.max(C.ch,y.text.search(/\S/));return ot(C.line,d.line==C.line&&d.ch<=F&&d.ch?0:F,C.sticky)}return C}function Ca(o,d,C){if("string"==typeof d&&!(d=ts[d]))return!1;o.display.input.ensurePolled();var y=o.display.shift,x=!1;try{o.isReadOnly()&&(o.state.suppressEdits=!0),C&&(o.display.shift=!1),x=d(o)!=Gt}finally{o.display.shift=y,o.state.suppressEdits=!1}return x}var Kc=new Nt;function Ml(o,d,C,y){var x=o.state.keySeq;if(x){if(Br(d))return"handled";if(/\'$/.test(d)?o.state.keySeq=null:Kc.set(50,function(){o.state.keySeq==x&&(o.state.keySeq=null,o.display.input.reset())}),Xc(o,x+" "+d,C,y))return!0}return Xc(o,d,C,y)}function Xc(o,d,C,y){var x=function Xu(o,d,C){for(var y=0;y<o.state.keyMaps.length;y++){var x=Ku(d,o.state.keyMaps[y],C,o);if(x)return x}return o.options.extraKeys&&Ku(d,o.options.extraKeys,C,o)||Ku(d,o.options.keyMap,C,o)}(o,d,y);return"multi"==x&&(o.state.keySeq=d),"handled"==x&&lr(o,"keyHandled",o,d,C),("handled"==x||"multi"==x)&&(Pi(C),_l(o)),!!x}function vd(o,d){var C=gi(d,!0);return!!C&&(d.shiftKey&&!o.state.keySeq?Ml(o,"Shift-"+C,d,function(y){return Ca(o,y,!0)})||Ml(o,C,d,function(y){if("string"==typeof y?/^go[A-Z]/.test(y):y.motion)return Ca(o,y)}):Ml(o,C,d,function(y){return Ca(o,y)}))}var qc=null;function Dc(o){var d=this;if(!(o.target&&o.target!=d.display.input.getField()||(d.curOp.focus=Bt(Ft(d)),pi(d,o)))){oe&&ke<11&&27==o.keyCode&&(o.returnValue=!1);var C=o.keyCode;d.display.shift=16==C||o.shiftKey;var y=vd(d,o);ie&&(qc=y?C:null,!y&&88==C&&!wo&&(be?o.metaKey:o.ctrlKey)&&d.replaceSelection("",null,"cut")),L&&!be&&!y&&46==C&&o.shiftKey&&!o.ctrlKey&&document.execCommand&&document.execCommand("cut"),18==C&&!/\bCodeMirror-crosshair\b/.test(d.display.lineDiv.className)&&function yd(o){var d=o.display.lineDiv;function C(y){(18==y.keyCode||!y.altKey)&&(It(d,"CodeMirror-crosshair"),Bi(document,"keyup",C),Bi(document,"mouseover",C))}Dt(d,"CodeMirror-crosshair"),Fn(document,"keyup",C),Fn(document,"mouseover",C)}(d)}}function jd(o){16==o.keyCode&&(this.doc.sel.shift=!1),pi(this,o)}function Yc(o){var d=this;if(!(o.target&&o.target!=d.display.input.getField()||bs(d.display,o)||pi(d,o)||o.ctrlKey&&!o.altKey||be&&o.metaKey)){var C=o.keyCode,y=o.charCode;if(ie&&C==qc)return qc=null,void Pi(o);if(!ie||o.which&&!(o.which<10)||!vd(d,o)){var x=String.fromCharCode(y??C);"\b"!=x&&(function gf(o,d,C){return Ml(o,"'"+C+"'",d,function(y){return Ca(o,y,!0)})}(d,o,x)||d.display.input.onKeyPress(o))}}}var Fc,Qc,Cd=function(o,d,C){this.time=o,this.pos=d,this.button=C};function Gd(o){var d=this,C=d.display;if(!(pi(d,o)||C.activeTouch&&C.input.supportsTouch())){if(C.input.ensurePolled(),C.shift=o.shiftKey,bs(C,o))return void(Ae||(C.scroller.draggable=!1,setTimeout(function(){return C.scroller.draggable=!0},100)));if(!Ou(d,o)){var y=Xn(d,o),x=ui(o),F=y?function rh(o,d){var C=+new Date;return Qc&&Qc.compare(C,o,d)?(Fc=Qc=null,"triple"):Fc&&Fc.compare(C,o,d)?(Qc=new Cd(C,o,d),Fc=null,"double"):(Fc=new Cd(C,o,d),Qc=null,"single")}(y,x):"single";Ze(d).focus(),1==x&&d.state.selectingText&&d.state.selectingText(o),(!y||!function Nc(o,d,C,y,x){var F="Click";return"double"==y?F="Double"+F:"triple"==y&&(F="Triple"+F),Ml(o,si(F=(1==d?"Left":2==d?"Middle":"Right")+F,x),x,function(X){if("string"==typeof X&&(X=ts[X]),!X)return!1;var Z=!1;try{o.isReadOnly()&&(o.state.suppressEdits=!0),Z=X(o,C)!=Gt}finally{o.state.suppressEdits=!1}return Z})}(d,x,y,F,o))&&(1==x?y?function Ed(o,d,C,y){oe?setTimeout(dt(kl,o),0):o.curOp.focus=Bt(Ft(o));var X,x=function $d(o,d,C){var y=o.getOption("configureMouse"),x=y?y(o,d,C):{};return null==x.unit&&(x.unit=(Oe?C.shiftKey&&C.metaKey:C.altKey)?"rectangle":"single"==d?"char":"double"==d?"word":"line"),(null==x.extend||o.doc.extend)&&(x.extend=o.doc.extend||C.shiftKey),null==x.addNew&&(x.addNew=be?C.metaKey:C.ctrlKey),null==x.moveOnDrag&&(x.moveOnDrag=!(be?C.altKey:C.ctrlKey)),x}(o,C,y),F=o.doc.sel;o.options.dragDrop&&$i&&!o.isReadOnly()&&"single"==C&&(X=F.contains(d))>-1&&(kt((X=F.ranges[X]).from(),d)<0||d.xRel>0)&&(kt(X.to(),d)>0||d.xRel<0)?function mf(o,d,C,y){var x=o.display,F=!1,X=ks(o,function(ye){Ae&&(x.scroller.draggable=!1),o.state.draggingText=!1,o.state.delayingBlurEvent&&(o.hasFocus()?o.state.delayingBlurEvent=!1:wl(o)),Bi(x.wrapper.ownerDocument,"mouseup",X),Bi(x.wrapper.ownerDocument,"mousemove",Z),Bi(x.scroller,"dragstart",ue),Bi(x.scroller,"drop",X),F||(Pi(ye),y.addNew||Mu(o.doc,C,null,null,y.extend),Ae&&!xe||oe&&9==ke?setTimeout(function(){x.wrapper.ownerDocument.body.focus({preventScroll:!0}),x.input.focus()},20):x.input.focus())}),Z=function(ye){F=F||Math.abs(d.clientX-ye.clientX)+Math.abs(d.clientY-ye.clientY)>=10},ue=function(){return F=!0};Ae&&(x.scroller.draggable=!0),o.state.draggingText=X,X.copy=!y.moveOnDrag,Fn(x.wrapper.ownerDocument,"mouseup",X),Fn(x.wrapper.ownerDocument,"mousemove",Z),Fn(x.scroller,"dragstart",ue),Fn(x.scroller,"drop",X),o.state.delayingBlurEvent=!0,setTimeout(function(){return x.input.focus()},20),x.scroller.dragDrop&&x.scroller.dragDrop()}(o,y,d,x):function Ho(o,d,C,y){oe&&wl(o);var x=o.display,F=o.doc;Pi(d);var X,Z,ue=F.sel,ye=ue.ranges;if(y.addNew&&!y.extend?(Z=F.sel.contains(C),X=Z>-1?ye[Z]:new di(C,C)):(X=F.sel.primary(),Z=F.sel.primIndex),"rectangle"==y.unit)y.addNew||(X=new di(C,C)),C=Xn(o,d,!0,!0),Z=-1;else{var nt=Jc(o,C,y.unit);X=y.extend?Ll(X,nt.anchor,nt.head,y.extend):nt}y.addNew?-1==Z?(Z=ye.length,ea(F,Fa(o,ye.concat([X]),Z),{scroll:!1,origin:"*mouse"})):ye.length>1&&ye[Z].empty()&&"char"==y.unit&&!y.extend?(ea(F,Fa(o,ye.slice(0,Z).concat(ye.slice(Z+1)),0),{scroll:!1,origin:"*mouse"}),ue=F.sel):Iu(F,Z,X,On):(Z=0,ea(F,new Qs([X],0),On),ue=F.sel);var ft=C;function jt(ar){if(0!=kt(ft,ar))if(ft=ar,"rectangle"==y.unit){for(var xr=[],Qr=o.options.tabSize,Hr=yt(an(F,C.line).text,C.ch,Qr),Ri=yt(an(F,ar.line).text,ar.ch,Qr),Lo=Math.min(Hr,Ri),Ps=Math.max(Hr,Ri),rs=Math.min(C.line,ar.line),na=Math.min(o.lastLine(),Math.max(C.line,ar.line));rs<=na;rs++){var rl=an(F,rs).text,Fs=mi(rl,Lo,Qr);Lo==Ps?xr.push(new di(ot(rs,Fs),ot(rs,Fs))):rl.length>Fs&&xr.push(new di(ot(rs,Fs),ot(rs,mi(rl,Ps,Qr))))}xr.length||xr.push(new di(C,C)),ea(F,Fa(o,ue.ranges.slice(0,Z).concat(xr),Z),{origin:"*mouse",scroll:!1}),o.scrollIntoView(ar)}else{var ra,il=X,Gs=Jc(o,ar,y.unit),Na=il.anchor;kt(Gs.anchor,Na)>0?(ra=Gs.head,Na=Ur(il.from(),Gs.anchor)):(ra=Gs.anchor,Na=_r(il.to(),Gs.head));var Ts=ue.ranges.slice(0);Ts[Z]=function Oc(o,d){var C=d.anchor,y=d.head,x=an(o.doc,C.line);if(0==kt(C,y)&&C.sticky==y.sticky)return d;var F=Fi(x);if(!F)return d;var X=Tr(F,C.ch,C.sticky),Z=F[X];if(Z.from!=C.ch&&Z.to!=C.ch)return d;var ye,ue=X+(Z.from==C.ch==(1!=Z.level)?0:1);if(0==ue||ue==F.length)return d;if(y.line!=C.line)ye=(y.line-C.line)*("ltr"==o.doc.direction?1:-1)>0;else{var nt=Tr(F,y.ch,y.sticky),ft=nt-X||(y.ch-C.ch)*(1==Z.level?-1:1);ye=nt==ue-1||nt==ue?ft<0:ft>0}var jt=F[ue+(ye?-1:0)],Lt=ye==(1==jt.level),_n=Lt?jt.from:jt.to,An=Lt?"after":"before";return C.ch==_n&&C.sticky==An?d:new di(new ot(C.line,_n,An),y)}(o,new di(tr(F,Na),ra)),ea(F,Fa(o,Ts,Z),On)}}var Lt=x.wrapper.getBoundingClientRect(),_n=0;function An(ar){var xr=++_n,Qr=Xn(o,ar,!0,"rectangle"==y.unit);if(Qr)if(0!=kt(Qr,ft)){o.curOp.focus=Bt(Ft(o)),jt(Qr);var Hr=Is(x,F);(Qr.line>=Hr.to||Qr.line<Hr.from)&&setTimeout(ks(o,function(){_n==xr&&An(ar)}),150)}else{var Ri=ar.clientY<Lt.top?-20:ar.clientY>Lt.bottom?20:0;Ri&&setTimeout(ks(o,function(){_n==xr&&(x.scroller.scrollTop+=Ri,An(ar))}),50)}}function Bn(ar){o.state.selectingText=!1,_n=1/0,ar&&(Pi(ar),x.input.focus()),Bi(x.wrapper.ownerDocument,"mousemove",Kn),Bi(x.wrapper.ownerDocument,"mouseup",mr),F.history.lastSelOrigin=null}var Kn=ks(o,function(ar){0!==ar.buttons&&ui(ar)?An(ar):Bn(ar)}),mr=ks(o,Bn);o.state.selectingText=mr,Fn(x.wrapper.ownerDocument,"mousemove",Kn),Fn(x.wrapper.ownerDocument,"mouseup",mr)}(o,y,d,x)}(d,y,F,o):Di(o)==C.scroller&&Pi(o):2==x?(y&&Mu(d.doc,y),setTimeout(function(){return C.input.focus()},20)):3==x&&(st?d.display.input.onContextMenu(o):wl(d)))}}}function Jc(o,d,C){if("char"==C)return new di(d,d);if("word"==C)return o.findWordAt(d);if("line"==C)return new di(ot(d.line,0),tr(o.doc,ot(d.line+1,0)));var y=C(o,d);return new di(y.from,y.to)}function bd(o,d,C,y){var x,F;if(d.touches)x=d.touches[0].clientX,F=d.touches[0].clientY;else try{x=d.clientX,F=d.clientY}catch{return!1}if(x>=Math.floor(o.display.gutters.getBoundingClientRect().right))return!1;y&&Pi(d);var X=o.display,Z=X.lineDiv.getBoundingClientRect();if(F>Z.bottom||!Ai(o,C))return vo(d);F-=Z.top-X.viewOffset;for(var ue=0;ue<o.display.gutterSpecs.length;++ue){var ye=X.gutters.childNodes[ue];if(ye&&ye.getBoundingClientRect().right>=x)return Ei(o,C,o,Cn(o.doc,F),o.display.gutterSpecs[ue].className,d),vo(d)}}function Ou(o,d){return bd(o,d,"gutterClick",!0)}function wc(o,d){bs(o.display,d)||function _f(o,d){return!!Ai(o,"gutterContextMenu")&&bd(o,d,"gutterContextMenu",!1)}(o,d)||pi(o,d,"contextmenu")||st||o.display.input.onContextMenu(d)}function Lc(o){o.display.wrapper.className=o.display.wrapper.className.replace(/\s*cm-s-\S+/g,"")+o.options.theme.replace(/(^|\s)\s*/g," cm-s-"),q(o)}Cd.prototype.compare=function(o,d,C){return this.time+400>o&&0==kt(d,this.pos)&&C==this.button};var Il={toString:function(){return"CodeMirror.Init"}},Bc={},Zc={};function ed(o,d,C){if(!d!=!(C&&C!=Il)){var x=o.display.dragFunctions,F=d?Fn:Bi;F(o.display.scroller,"dragstart",x.start),F(o.display.scroller,"dragenter",x.enter),F(o.display.scroller,"dragover",x.over),F(o.display.scroller,"dragleave",x.leave),F(o.display.scroller,"drop",x.drop)}}function dc(o){o.options.lineWrapping?(Dt(o.display.wrapper,"CodeMirror-wrap"),o.display.sizer.style.minWidth="",o.display.sizerWidth=null):(It(o.display.wrapper,"CodeMirror-wrap"),ps(o)),Yn(o),Ir(o),q(o),setTimeout(function(){return yl(o)},100)}function Oo(o,d){var C=this;if(!(this instanceof Oo))return new Oo(o,d);this.options=d=d?Et(d):{},Et(Bc,d,!1);var y=d.value;"string"==typeof y?y=new Cr(y,d.mode,null,d.lineSeparator,d.direction):d.mode&&(y.modeOption=d.mode),this.doc=y;var x=new Oo.inputStyles[d.inputStyle](this),F=this.display=new _a(o,y,x,d);for(var X in F.wrapper.CodeMirror=this,Lc(this),d.lineWrapping&&(this.display.wrapper.className+=" CodeMirror-wrap"),vu(this),this.state={keyMaps:[],overlays:[],modeGen:0,overwrite:!1,delayingBlurEvent:!1,focused:!1,suppressEdits:!1,pasteIncoming:-1,cutIncoming:-1,selectingText:!1,draggingText:!1,highlight:new Nt,keySeq:null,specialChars:null},d.autofocus&&!Te&&F.input.focus(),oe&&ke<11&&setTimeout(function(){return C.display.input.reset(!0)},20),function Vc(o){var d=o.display;Fn(d.scroller,"mousedown",ks(o,Gd)),Fn(d.scroller,"dblclick",oe&&ke<11?ks(o,function(ue){if(!pi(o,ue)){var ye=Xn(o,ue);if(ye&&!Ou(o,ue)&&!bs(o.display,ue)){Pi(ue);var nt=o.findWordAt(ye);Mu(o.doc,nt.anchor,nt.head)}}}):function(ue){return pi(o,ue)||Pi(ue)}),Fn(d.scroller,"contextmenu",function(ue){return wc(o,ue)}),Fn(d.input.getField(),"contextmenu",function(ue){d.scroller.contains(ue.target)||wc(o,ue)});var C,y={end:0};function x(){d.activeTouch&&(C=setTimeout(function(){return d.activeTouch=null},1e3),(y=d.activeTouch).end=+new Date)}function F(ue){if(1!=ue.touches.length)return!1;var ye=ue.touches[0];return ye.radiusX<=1&&ye.radiusY<=1}function X(ue,ye){if(null==ye.left)return!0;var nt=ye.left-ue.left,ft=ye.top-ue.top;return nt*nt+ft*ft>400}Fn(d.scroller,"touchstart",function(ue){if(!pi(o,ue)&&!F(ue)&&!Ou(o,ue)){d.input.ensurePolled(),clearTimeout(C);var ye=+new Date;d.activeTouch={start:ye,moved:!1,prev:ye-y.end<=300?y:null},1==ue.touches.length&&(d.activeTouch.left=ue.touches[0].pageX,d.activeTouch.top=ue.touches[0].pageY)}}),Fn(d.scroller,"touchmove",function(){d.activeTouch&&(d.activeTouch.moved=!0)}),Fn(d.scroller,"touchend",function(ue){var ye=d.activeTouch;if(ye&&!bs(d,ue)&&null!=ye.left&&!ye.moved&&new Date-ye.start<300){var ft,nt=o.coordsChar(d.activeTouch,"page");ft=!ye.prev||X(ye,ye.prev)?new di(nt,nt):!ye.prev.prev||X(ye,ye.prev.prev)?o.findWordAt(nt):new di(ot(nt.line,0),tr(o.doc,ot(nt.line+1,0))),o.setSelection(ft.anchor,ft.head),o.focus(),Pi(ue)}x()}),Fn(d.scroller,"touchcancel",x),Fn(d.scroller,"scroll",function(){d.scroller.clientHeight&&(vl(o,d.scroller.scrollTop),ga(o,d.scroller.scrollLeft,!0),Ei(o,"scroll",o))}),Fn(d.scroller,"mousewheel",function(ue){return Du(o,ue)}),Fn(d.scroller,"DOMMouseScroll",function(ue){return Du(o,ue)}),Fn(d.wrapper,"scroll",function(){return d.wrapper.scrollTop=d.wrapper.scrollLeft=0}),d.dragFunctions={enter:function(ue){pi(o,ue)||Ui(ue)},over:function(ue){pi(o,ue)||(function ds(o,d){var C=Xn(o,d);if(C){var y=document.createDocumentFragment();ko(o,C,y),o.display.dragCursor||(o.display.dragCursor=Me("div",null,"CodeMirror-cursors CodeMirror-dragcursors"),o.display.lineSpace.insertBefore(o.display.dragCursor,o.display.cursorDiv)),At(o.display.dragCursor,y)}}(o,ue),Ui(ue))},start:function(ue){return function mo(o,d){if(oe&&(!o.state.draggingText||+new Date-Kr<100))Ui(d);else if(!pi(o,d)&&!bs(o.display,d)&&(d.dataTransfer.setData("Text",o.getSelection()),d.dataTransfer.effectAllowed="copyMove",d.dataTransfer.setDragImage&&!xe)){var C=Me("img",null,null,"position: fixed; left: 0; top: 0;");C.src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==",ie&&(C.width=C.height=1,o.display.wrapper.appendChild(C),C._top=C.offsetTop),d.dataTransfer.setDragImage(C,0,0),ie&&C.parentNode.removeChild(C)}}(o,ue)},drop:ks(o,ii),leave:function(ue){pi(o,ue)||vs(o)}};var Z=d.input.getField();Fn(Z,"keyup",function(ue){return jd.call(o,ue)}),Fn(Z,"keydown",ks(o,Dc)),Fn(Z,"keypress",ks(o,Yc)),Fn(Z,"focus",function(ue){return Rl(o,ue)}),Fn(Z,"blur",function(ue){return Jo(o,ue)})}(this),Nu(),cl(this),this.curOp.forceUpdate=!0,hl(this,y),d.autofocus&&!Te||this.hasFocus()?setTimeout(function(){C.hasFocus()&&!C.state.focused&&Rl(C)},20):Jo(this),Zc)Zc.hasOwnProperty(X)&&Zc[X](this,d[X],Il);ma(this),d.finishInit&&d.finishInit(this);for(var Z=0;Z<fc.length;++Z)fc[Z](this);dl(this),Ae&&d.lineWrapping&&"optimizelegibility"==getComputedStyle(F.lineDiv).textRendering&&(F.lineDiv.style.textRendering="auto")}Oo.defaults=Bc,Oo.optionHandlers=Zc;var fc=[];function Uc(o,d,C,y){var F,x=o.doc;null==C&&(C="add"),"smart"==C&&(x.mode.indent?F=Vo(o,d).state:C="prev");var X=o.options.tabSize,Z=an(x,d),ue=yt(Z.text,null,X);Z.stateAfter&&(Z.stateAfter=null);var nt,ye=Z.text.match(/^\s*/)[0];if(y||/\S/.test(Z.text)){if("smart"==C&&((nt=x.mode.indent(F,Z.text.slice(ye.length),Z.text))==Gt||nt>150)){if(!y)return;C="prev"}}else nt=0,C="not";"prev"==C?nt=d>x.first?yt(an(x,d-1).text,null,X):0:"add"==C?nt=ue+o.options.indentUnit:"subtract"==C?nt=ue-o.options.indentUnit:"number"==typeof C&&(nt=ue+C),nt=Math.max(0,nt);var ft="",jt=0;if(o.options.indentWithTabs)for(var Lt=Math.floor(nt/X);Lt;--Lt)jt+=X,ft+="\t";if(jt<nt&&(ft+=Pt(nt-jt)),ft!=ye)return Hs(x,ft,ot(d,0),ot(d,ye.length),"+input"),Z.stateAfter=null,!0;for(var _n=0;_n<x.sel.ranges.length;_n++){var An=x.sel.ranges[_n];if(An.head.line==d&&An.head.ch<ye.length){var Bn=ot(d,ye.length);Iu(x,_n,new di(Bn,Bn));break}}}Oo.defineInitHook=function(o){return fc.push(o)};var tl=null;function Lu(o){tl=o}function td(o,d,C,y,x){var F=o.doc;o.display.shift=!1,y||(y=F.sel);var X=+new Date-200,Z="paste"==x||o.state.pasteIncoming>X,ue=Do(d),ye=null;if(Z&&y.ranges.length>1)if(tl&&tl.text.join("\n")==d){if(y.ranges.length%tl.text.length==0){ye=[];for(var nt=0;nt<tl.text.length;nt++)ye.push(F.splitLines(tl.text[nt]))}}else ue.length==y.ranges.length&&o.options.pasteLinesPerSelection&&(ye=Un(ue,function(Kn){return[Kn]}));for(var ft=o.curOp.updateInput,jt=y.ranges.length-1;jt>=0;jt--){var Lt=y.ranges[jt],_n=Lt.from(),An=Lt.to();Lt.empty()&&(C&&C>0?_n=ot(_n.line,_n.ch-C):o.state.overwrite&&!Z?An=ot(An.line,Math.min(an(F,An.line).text.length,An.ch+Kt(ue).length)):Z&&tl&&tl.lineWise&&tl.text.join("\n")==ue.join("\n")&&(_n=An=ot(_n.line,0)));var Bn={from:_n,to:An,text:ye?ye[jt%ye.length]:ue,origin:x||(Z?"paste":o.state.cutIncoming>X?"cut":"+input")};du(o.doc,Bn),lr(o,"inputRead",o,Bn)}d&&!Z&&nd(o,d),ll(o),o.curOp.updateInput<2&&(o.curOp.updateInput=ft),o.curOp.typing=!0,o.state.pasteIncoming=o.state.cutIncoming=-1}function xd(o,d){var C=o.clipboardData&&o.clipboardData.getData("Text");if(C)return o.preventDefault(),!d.isReadOnly()&&!d.options.disableInput&&d.hasFocus()&&Us(d,function(){return td(d,C,0,null,"paste")}),!0}function nd(o,d){if(o.options.electricChars&&o.options.smartIndent)for(var C=o.doc.sel,y=C.ranges.length-1;y>=0;y--){var x=C.ranges[y];if(!(x.head.ch>100||y&&C.ranges[y-1].head.line==x.head.line)){var F=o.getModeAt(x.head),X=!1;if(F.electricChars){for(var Z=0;Z<F.electricChars.length;Z++)if(d.indexOf(F.electricChars.charAt(Z))>-1){X=Uc(o,x.head.line,"smart");break}}else F.electricInput&&F.electricInput.test(an(o.doc,x.head.line).text.slice(0,x.head.ch))&&(X=Uc(o,x.head.line,"smart"));X&&lr(o,"electricInput",o,x.head.line)}}}function hc(o){for(var d=[],C=[],y=0;y<o.doc.sel.ranges.length;y++){var x=o.doc.sel.ranges[y].head.line,F={anchor:ot(x,0),head:ot(x+1,0)};C.push(F),d.push(o.getRange(F.anchor,F.head))}return{text:d,ranges:C}}function rd(o,d,C,y){o.setAttribute("autocorrect",C?"on":"off"),o.setAttribute("autocapitalize",y?"on":"off"),o.setAttribute("spellcheck",!!d)}function id(){var o=Me("textarea",null,null,"position: absolute; bottom: -1em; padding: 0; width: 1px; height: 1em; min-height: 1em; outline: none"),d=Me("div",[o],null,"overflow: hidden; position: relative; width: 3px; height: 0px;");return Ae?o.style.width="1000px":o.setAttribute("wrap","off"),Se&&(o.style.border="1px solid black"),d}function qu(o,d,C,y,x){var F=d,X=C,Z=an(o,d.line),ue=x&&"rtl"==o.direction?-C:C;function nt(mr){var ar;if("codepoint"==y){var xr=Z.text.charCodeAt(d.ch+(C>0?0:-1));ar=isNaN(xr)?null:new ot(d.line,Math.max(0,Math.min(Z.text.length,d.ch+C*((C>0?xr>=55296&&xr<56320:xr>=56320&&xr<57343)?2:1))),-C)}else ar=x?function hs(o,d,C,y){var x=Fi(d,o.doc.direction);if(!x)return js(d,C,y);C.ch>=d.text.length?(C.ch=d.text.length,C.sticky="before"):C.ch<=0&&(C.ch=0,C.sticky="after");var F=Tr(x,C.ch,C.sticky),X=x[F];if("ltr"==o.doc.direction&&X.level%2==0&&(y>0?X.to>C.ch:X.from<C.ch))return js(d,C,y);var ue,Z=function(Kn,mr){return el(d,Kn instanceof ot?Kn.ch:Kn,mr)},ye=function(Kn){return o.options.lineWrapping?(ue=ue||Zr(o,d),Vt(o,d,ue,Kn)):{begin:0,end:d.text.length}},nt=ye("before"==C.sticky?Z(C,-1):C.ch);if("rtl"==o.doc.direction||1==X.level){var ft=1==X.level==y<0,jt=Z(C,ft?1:-1);if(null!=jt&&(ft?jt<=X.to&&jt<=nt.end:jt>=X.from&&jt>=nt.begin))return new ot(C.line,jt,ft?"before":"after")}var _n=function(Kn,mr,ar){for(var xr=function(Lo,Ps){return Ps?new ot(C.line,Z(Lo,1),"before"):new ot(C.line,Lo,"after")};Kn>=0&&Kn<x.length;Kn+=mr){var Qr=x[Kn],Hr=mr>0==(1!=Qr.level),Ri=Hr?ar.begin:Z(ar.end,-1);if(Qr.from<=Ri&&Ri<Qr.to||(Ri=Hr?Qr.from:Z(Qr.to,-1),ar.begin<=Ri&&Ri<ar.end))return xr(Ri,Hr)}},An=_n(F+y,y,nt);if(An)return An;var Bn=y>0?nt.end:Z(nt.begin,-1);return null==Bn||y>0&&Bn==d.text.length||!(An=_n(y>0?0:x.length-1,y,ye(Bn)))?null:An}(o.cm,Z,d,C):js(Z,d,C);if(null==ar){if(mr||!function ye(){var mr=d.line+ue;return!(mr<o.first||mr>=o.first+o.size)&&(d=new ot(mr,d.ch,d.sticky),Z=an(o,mr))}())return!1;d=Wa(x,o.cm,Z,d.line,ue)}else d=ar;return!0}if("char"==y||"codepoint"==y)nt();else if("column"==y)nt(!0);else if("word"==y||"group"==y)for(var ft=null,jt="group"==y,Lt=o.cm&&o.cm.getHelper(d,"wordChars"),_n=!0;!(C<0)||nt(!_n);_n=!1){var An=Z.text.charAt(d.ch)||"\n",Bn=Li(An,Lt)?"w":jt&&"\n"==An?"n":!jt||/\s/.test(An)?null:"p";if(jt&&!_n&&!Bn&&(Bn="s"),ft&&ft!=Bn){C<0&&(C=1,nt(),d.sticky="after");break}if(Bn&&(ft=Bn),C>0&&!nt(!_n))break}var Kn=$u(o,d,F,X,!0);return Tn(F,Kn)&&(Kn.hitSide=!0),Kn}function od(o,d,C,y){var X,ye,x=o.doc,F=d.left;if("page"==y){var Z=Math.min(o.display.wrapper.clientHeight,Ze(o).innerHeight||x(o).documentElement.clientHeight),ue=Math.max(Z-.5*En(o.display),3);X=(C>0?d.bottom:d.top)+C*ue}else"line"==y&&(X=C>0?d.bottom+3:d.top-3);for(;(ye=Jt(o,F,X)).outside;){if(C<0?X<=0:X>=x.height){ye.hitSide=!0;break}X+=5*C}return ye}var Ao=function(o){this.cm=o,this.lastAnchorNode=this.lastAnchorOffset=this.lastFocusNode=this.lastFocusOffset=null,this.polling=new Nt,this.composing=null,this.gracePeriod=!1,this.readDOMTimeout=null};function sd(o,d){var C=vr(o,d.line);if(!C||C.hidden)return null;var y=an(o.doc,d.line),x=K(C,y,d.line),F=Fi(y,o.doc.direction),X="left";F&&(X=Tr(F,d.ch)%2?"right":"left");var ue=ha(x.map,d.ch,X);return ue.offset="right"==ue.collapse?ue.end:ue.start,ue}function pc(o,d){return d&&(o.bad=!0),o}function ad(o,d,C){var y;if(d==o.display.lineDiv){if(!(y=o.display.lineDiv.childNodes[C]))return pc(o.clipPos(ot(o.display.viewTo-1)),!0);d=null,C=0}else for(y=d;;y=y.parentNode){if(!y||y==o.display.lineDiv)return null;if(y.parentNode&&y.parentNode==o.display.lineDiv)break}for(var x=0;x<o.display.view.length;x++){var F=o.display.view[x];if(F.node==y)return ld(F,d,C)}}function ld(o,d,C){var y=o.text.firstChild,x=!1;if(!d||!en(y,d))return pc(ot(Qt(o.line),0),!0);if(d==y&&(x=!0,d=y.childNodes[C],C=0,!d)){var F=o.rest?Kt(o.rest):o.line;return pc(ot(Qt(F),F.text.length),x)}var X=3==d.nodeType?d:null,Z=d;for(!X&&1==d.childNodes.length&&3==d.firstChild.nodeType&&(X=d.firstChild,C&&(C=X.nodeValue.length));Z.parentNode!=y;)Z=Z.parentNode;var ue=o.measure,ye=ue.maps;function nt(Bn,Kn,mr){for(var ar=-1;ar<(ye?ye.length:0);ar++)for(var xr=ar<0?ue.map:ye[ar],Qr=0;Qr<xr.length;Qr+=3){var Hr=xr[Qr+2];if(Hr==Bn||Hr==Kn){var Ri=Qt(ar<0?o.line:o.rest[ar]),Lo=xr[Qr]+mr;return(mr<0||Hr!=Bn)&&(Lo=xr[Qr+(mr?1:0)]),ot(Ri,Lo)}}}var ft=nt(X,Z,C);if(ft)return pc(ft,x);for(var jt=Z.nextSibling,Lt=X?X.nodeValue.length-C:0;jt;jt=jt.nextSibling){if(ft=nt(jt,jt.firstChild,0))return pc(ot(ft.line,ft.ch-Lt),x);Lt+=jt.textContent.length}for(var _n=Z.previousSibling,An=C;_n;_n=_n.previousSibling){if(ft=nt(_n,_n.firstChild,-1))return pc(ot(ft.line,ft.ch+An),x);An+=_n.textContent.length}}Ao.prototype.init=function(o){var d=this,C=this,y=C.cm,x=C.div=o.lineDiv;function F(Z){for(var ue=Z.target;ue;ue=ue.parentNode){if(ue==x)return!0;if(/\bCodeMirror-(?:line)?widget\b/.test(ue.className))break}return!1}function X(Z){if(F(Z)&&!pi(y,Z)){if(y.somethingSelected())Lu({lineWise:!1,text:y.getSelections()}),"cut"==Z.type&&y.replaceSelection("",null,"cut");else{if(!y.options.lineWiseCopyCut)return;var ue=hc(y);Lu({lineWise:!0,text:ue.text}),"cut"==Z.type&&y.operation(function(){y.setSelections(ue.ranges,0,kn),y.replaceSelection("",null,"cut")})}if(Z.clipboardData){Z.clipboardData.clearData();var ye=tl.text.join("\n");if(Z.clipboardData.setData("Text",ye),Z.clipboardData.getData("Text")==ye)return void Z.preventDefault()}var nt=id(),ft=nt.firstChild;rd(ft),y.display.lineSpace.insertBefore(nt,y.display.lineSpace.firstChild),ft.value=tl.text.join("\n");var jt=Bt(Xe(x));Ke(ft),setTimeout(function(){y.display.lineSpace.removeChild(nt),jt.focus(),jt==x&&C.showPrimarySelection()},50)}}x.contentEditable=!0,rd(x,y.options.spellcheck,y.options.autocorrect,y.options.autocapitalize),Fn(x,"paste",function(Z){!F(Z)||pi(y,Z)||xd(Z,y)||ke<=11&&setTimeout(ks(y,function(){return d.updateFromDOM()}),20)}),Fn(x,"compositionstart",function(Z){d.composing={data:Z.data,done:!1}}),Fn(x,"compositionupdate",function(Z){d.composing||(d.composing={data:Z.data,done:!1})}),Fn(x,"compositionend",function(Z){d.composing&&(Z.data!=d.composing.data&&d.readFromDOMSoon(),d.composing.done=!0)}),Fn(x,"touchstart",function(){return C.forceCompositionEnd()}),Fn(x,"input",function(){d.composing||d.readFromDOMSoon()}),Fn(x,"copy",X),Fn(x,"cut",X)},Ao.prototype.screenReaderLabelChanged=function(o){o?this.div.setAttribute("aria-label",o):this.div.removeAttribute("aria-label")},Ao.prototype.prepareSelection=function(){var o=pa(this.cm,!1);return o.focus=Bt(Xe(this.div))==this.div,o},Ao.prototype.showSelection=function(o,d){!o||!this.cm.display.view.length||((o.focus||d)&&this.showPrimarySelection(),this.showMultipleSelections(o))},Ao.prototype.getSelection=function(){return this.cm.display.wrapper.ownerDocument.getSelection()},Ao.prototype.showPrimarySelection=function(){var o=this.getSelection(),d=this.cm,C=d.doc.sel.primary(),y=C.from(),x=C.to();if(d.display.viewTo==d.display.viewFrom||y.line>=d.display.viewTo||x.line<d.display.viewFrom)o.removeAllRanges();else{var F=ad(d,o.anchorNode,o.anchorOffset),X=ad(d,o.focusNode,o.focusOffset);if(!F||F.bad||!X||X.bad||0!=kt(Ur(F,X),y)||0!=kt(_r(F,X),x)){var Z=d.display.view,ue=y.line>=d.display.viewFrom&&sd(d,y)||{node:Z[0].measure.map[2],offset:0},ye=x.line<d.display.viewTo&&sd(d,x);if(!ye){var nt=Z[Z.length-1].measure,ft=nt.maps?nt.maps[nt.maps.length-1]:nt.map;ye={node:ft[ft.length-1],offset:ft[ft.length-2]-ft[ft.length-3]}}if(!ue||!ye)return void o.removeAllRanges();var Lt,jt=o.rangeCount&&o.getRangeAt(0);try{Lt=Ve(ue.node,ue.offset,ye.offset,ye.node)}catch{}Lt&&(!L&&d.state.focused?(o.collapse(ue.node,ue.offset),Lt.collapsed||(o.removeAllRanges(),o.addRange(Lt))):(o.removeAllRanges(),o.addRange(Lt)),jt&&null==o.anchorNode?o.addRange(jt):L&&this.startGracePeriod()),this.rememberSelection()}}},Ao.prototype.startGracePeriod=function(){var o=this;clearTimeout(this.gracePeriod),this.gracePeriod=setTimeout(function(){o.gracePeriod=!1,o.selectionChanged()&&o.cm.operation(function(){return o.cm.curOp.selectionChanged=!0})},20)},Ao.prototype.showMultipleSelections=function(o){At(this.cm.display.cursorDiv,o.cursors),At(this.cm.display.selectionDiv,o.selection)},Ao.prototype.rememberSelection=function(){var o=this.getSelection();this.lastAnchorNode=o.anchorNode,this.lastAnchorOffset=o.anchorOffset,this.lastFocusNode=o.focusNode,this.lastFocusOffset=o.focusOffset},Ao.prototype.selectionInEditor=function(){var o=this.getSelection();if(!o.rangeCount)return!1;var d=o.getRangeAt(0).commonAncestorContainer;return en(this.div,d)},Ao.prototype.focus=function(){"nocursor"!=this.cm.options.readOnly&&((!this.selectionInEditor()||Bt(Xe(this.div))!=this.div)&&this.showSelection(this.prepareSelection(),!0),this.div.focus())},Ao.prototype.blur=function(){this.div.blur()},Ao.prototype.getField=function(){return this.div},Ao.prototype.supportsTouch=function(){return!0},Ao.prototype.receivedFocus=function(){var o=this,d=this;this.selectionInEditor()?setTimeout(function(){return o.pollSelection()},20):Us(this.cm,function(){return d.cm.curOp.selectionChanged=!0}),this.polling.set(this.cm.options.pollInterval,function C(){d.cm.state.focused&&(d.pollSelection(),d.polling.set(d.cm.options.pollInterval,C))})},Ao.prototype.selectionChanged=function(){var o=this.getSelection();return o.anchorNode!=this.lastAnchorNode||o.anchorOffset!=this.lastAnchorOffset||o.focusNode!=this.lastFocusNode||o.focusOffset!=this.lastFocusOffset},Ao.prototype.pollSelection=function(){if(null==this.readDOMTimeout&&!this.gracePeriod&&this.selectionChanged()){var o=this.getSelection(),d=this.cm;if(je&&v&&this.cm.display.gutterSpecs.length&&function nl(o){for(var d=o;d;d=d.parentNode)if(/CodeMirror-gutter-wrapper/.test(d.className))return!0;return!1}(o.anchorNode))return this.cm.triggerOnKeyDown({type:"keydown",keyCode:8,preventDefault:Math.abs}),this.blur(),void this.focus();if(!this.composing){this.rememberSelection();var C=ad(d,o.anchorNode,o.anchorOffset),y=ad(d,o.focusNode,o.focusOffset);C&&y&&Us(d,function(){ea(d.doc,Cl(C,y),kn),(C.bad||y.bad)&&(d.curOp.selectionChanged=!0)})}}},Ao.prototype.pollContent=function(){null!=this.readDOMTimeout&&(clearTimeout(this.readDOMTimeout),this.readDOMTimeout=null);var F,X,Z,o=this.cm,d=o.display,C=o.doc.sel.primary(),y=C.from(),x=C.to();if(0==y.ch&&y.line>o.firstLine()&&(y=ot(y.line-1,an(o.doc,y.line-1).length)),x.ch==an(o.doc,x.line).text.length&&x.line<o.lastLine()&&(x=ot(x.line+1,0)),y.line<d.viewFrom||x.line>d.viewTo-1)return!1;y.line==d.viewFrom||0==(F=gr(o,y.line))?(X=Qt(d.view[0].line),Z=d.view[0].node):(X=Qt(d.view[F].line),Z=d.view[F-1].node.nextSibling);var ye,nt,ue=gr(o,x.line);if(ue==d.view.length-1?(ye=d.viewTo-1,nt=d.lineDiv.lastChild):(ye=Qt(d.view[ue+1].line)-1,nt=d.view[ue+1].node.previousSibling),!Z)return!1;for(var ft=o.doc.splitLines(function zd(o,d,C,y,x){var F="",X=!1,Z=o.doc.lineSeparator(),ue=!1;function nt(){X&&(F+=Z,ue&&(F+=Z),X=ue=!1)}function ft(Lt){Lt&&(nt(),F+=Lt)}function jt(Lt){if(1==Lt.nodeType){var _n=Lt.getAttribute("cm-text");if(_n)return void ft(_n);var Bn,An=Lt.getAttribute("cm-marker");if(An){var Kn=o.findMarks(ot(y,0),ot(x+1,0),function ye(Lt){return function(_n){return _n.id==Lt}}(+An));return void(Kn.length&&(Bn=Kn[0].find(0))&&ft(Rr(o.doc,Bn.from,Bn.to).join(Z)))}if("false"==Lt.getAttribute("contenteditable"))return;var mr=/^(pre|div|p|li|table|br)$/i.test(Lt.nodeName);if(!/^br$/i.test(Lt.nodeName)&&0==Lt.textContent.length)return;mr&&nt();for(var ar=0;ar<Lt.childNodes.length;ar++)jt(Lt.childNodes[ar]);/^(pre|p)$/i.test(Lt.nodeName)&&(ue=!0),mr&&(X=!0)}else 3==Lt.nodeType&&ft(Lt.nodeValue.replace(/\u200b/g,"").replace(/\u00a0/g," "))}for(;jt(d),d!=C;)d=d.nextSibling,ue=!1;return F}(o,Z,nt,X,ye)),jt=Rr(o.doc,ot(X,0),ot(ye,an(o.doc,ye).text.length));ft.length>1&&jt.length>1;)if(Kt(ft)==Kt(jt))ft.pop(),jt.pop(),ye--;else{if(ft[0]!=jt[0])break;ft.shift(),jt.shift(),X++}for(var Lt=0,_n=0,An=ft[0],Bn=jt[0],Kn=Math.min(An.length,Bn.length);Lt<Kn&&An.charCodeAt(Lt)==Bn.charCodeAt(Lt);)++Lt;for(var mr=Kt(ft),ar=Kt(jt),xr=Math.min(mr.length-(1==ft.length?Lt:0),ar.length-(1==jt.length?Lt:0));_n<xr&&mr.charCodeAt(mr.length-_n-1)==ar.charCodeAt(ar.length-_n-1);)++_n;if(1==ft.length&&1==jt.length&&X==y.line)for(;Lt&&Lt>y.ch&&mr.charCodeAt(mr.length-_n-1)==ar.charCodeAt(ar.length-_n-1);)Lt--,_n++;ft[ft.length-1]=mr.slice(0,mr.length-_n).replace(/^\u200b+/,""),ft[0]=ft[0].slice(Lt).replace(/\u200b+$/,"");var Qr=ot(X,Lt),Hr=ot(ye,jt.length?Kt(jt).length-_n:0);return ft.length>1||ft[0]||kt(Qr,Hr)?(Hs(o.doc,ft,Qr,Hr,"+input"),!0):void 0},Ao.prototype.ensurePolled=function(){this.forceCompositionEnd()},Ao.prototype.reset=function(){this.forceCompositionEnd()},Ao.prototype.forceCompositionEnd=function(){this.composing&&(clearTimeout(this.readDOMTimeout),this.composing=null,this.updateFromDOM(),this.div.blur(),this.div.focus())},Ao.prototype.readFromDOMSoon=function(){var o=this;null==this.readDOMTimeout&&(this.readDOMTimeout=setTimeout(function(){if(o.readDOMTimeout=null,o.composing){if(!o.composing.done)return;o.composing=null}o.updateFromDOM()},80))},Ao.prototype.updateFromDOM=function(){var o=this;(this.cm.isReadOnly()||!this.pollContent())&&Us(this.cm,function(){return Ir(o.cm)})},Ao.prototype.setUneditable=function(o){o.contentEditable="false"},Ao.prototype.onKeyPress=function(o){0==o.charCode||this.composing||(o.preventDefault(),this.cm.isReadOnly()||ks(this.cm,td)(this.cm,String.fromCharCode(null==o.charCode?o.keyCode:o.charCode),0))},Ao.prototype.readOnlyChanged=function(o){this.div.contentEditable=String("nocursor"!=o)},Ao.prototype.onContextMenu=function(){},Ao.prototype.resetPosition=function(){},Ao.prototype.needsContentAttribute=!0;var ta=function(o){this.cm=o,this.prevInput="",this.pollingFast=!1,this.polling=new Nt,this.hasSelection=!1,this.composing=null,this.resetting=!1};ta.prototype.init=function(o){var d=this,C=this,y=this.cm;this.createField(o);var x=this.textarea;function F(X){if(!pi(y,X)){if(y.somethingSelected())Lu({lineWise:!1,text:y.getSelections()});else{if(!y.options.lineWiseCopyCut)return;var Z=hc(y);Lu({lineWise:!0,text:Z.text}),"cut"==X.type?y.setSelections(Z.ranges,null,kn):(C.prevInput="",x.value=Z.text.join("\n"),Ke(x))}"cut"==X.type&&(y.state.cutIncoming=+new Date)}}o.wrapper.insertBefore(this.wrapper,o.wrapper.firstChild),Se&&(x.style.width="0px"),Fn(x,"input",function(){oe&&ke>=9&&d.hasSelection&&(d.hasSelection=null),C.poll()}),Fn(x,"paste",function(X){pi(y,X)||xd(X,y)||(y.state.pasteIncoming=+new Date,C.fastPoll())}),Fn(x,"cut",F),Fn(x,"copy",F),Fn(o.scroller,"paste",function(X){if(!bs(o,X)&&!pi(y,X)){if(!x.dispatchEvent)return y.state.pasteIncoming=+new Date,void C.focus();var Z=new Event("paste");Z.clipboardData=X.clipboardData,x.dispatchEvent(Z)}}),Fn(o.lineSpace,"selectstart",function(X){bs(o,X)||Pi(X)}),Fn(x,"compositionstart",function(){var X=y.getCursor("from");C.composing&&C.composing.range.clear(),C.composing={start:X,range:y.markText(X,y.getCursor("to"),{className:"CodeMirror-composing"})}}),Fn(x,"compositionend",function(){C.composing&&(C.poll(),C.composing.range.clear(),C.composing=null)})},ta.prototype.createField=function(o){this.wrapper=id(),this.textarea=this.wrapper.firstChild;var d=this.cm.options;rd(this.textarea,d.spellcheck,d.autocorrect,d.autocapitalize)},ta.prototype.screenReaderLabelChanged=function(o){o?this.textarea.setAttribute("aria-label",o):this.textarea.removeAttribute("aria-label")},ta.prototype.prepareSelection=function(){var o=this.cm,d=o.display,C=o.doc,y=pa(o);if(o.options.moveInputWithCursor){var x=Mt(o,C.sel.primary().head,"div"),F=d.wrapper.getBoundingClientRect(),X=d.lineDiv.getBoundingClientRect();y.teTop=Math.max(0,Math.min(d.wrapper.clientHeight-10,x.top+X.top-F.top)),y.teLeft=Math.max(0,Math.min(d.wrapper.clientWidth-10,x.left+X.left-F.left))}return y},ta.prototype.showSelection=function(o){var C=this.cm.display;At(C.cursorDiv,o.cursors),At(C.selectionDiv,o.selection),null!=o.teTop&&(this.wrapper.style.top=o.teTop+"px",this.wrapper.style.left=o.teLeft+"px")},ta.prototype.reset=function(o){if(!(this.contextMenuPending||this.composing&&o)){var d=this.cm;if(this.resetting=!0,d.somethingSelected()){this.prevInput="";var C=d.getSelection();this.textarea.value=C,d.state.focused&&Ke(this.textarea),oe&&ke>=9&&(this.hasSelection=C)}else o||(this.prevInput=this.textarea.value="",oe&&ke>=9&&(this.hasSelection=null));this.resetting=!1}},ta.prototype.getField=function(){return this.textarea},ta.prototype.supportsTouch=function(){return!1},ta.prototype.focus=function(){if("nocursor"!=this.cm.options.readOnly&&(!Te||Bt(Xe(this.textarea))!=this.textarea))try{this.textarea.focus()}catch{}},ta.prototype.blur=function(){this.textarea.blur()},ta.prototype.resetPosition=function(){this.wrapper.style.top=this.wrapper.style.left=0},ta.prototype.receivedFocus=function(){this.slowPoll()},ta.prototype.slowPoll=function(){var o=this;this.pollingFast||this.polling.set(this.cm.options.pollInterval,function(){o.poll(),o.cm.state.focused&&o.slowPoll()})},ta.prototype.fastPoll=function(){var o=!1,d=this;d.pollingFast=!0,d.polling.set(20,function C(){d.poll()||o?(d.pollingFast=!1,d.slowPoll()):(o=!0,d.polling.set(60,C))})},ta.prototype.poll=function(){var o=this,d=this.cm,C=this.textarea,y=this.prevInput;if(this.contextMenuPending||this.resetting||!d.state.focused||Wi(C)&&!y&&!this.composing||d.isReadOnly()||d.options.disableInput||d.state.keySeq)return!1;var x=C.value;if(x==y&&!d.somethingSelected())return!1;if(oe&&ke>=9&&this.hasSelection===x||be&&/[\uf700-\uf7ff]/.test(x))return d.display.input.reset(),!1;if(d.doc.sel==d.display.selForContextMenu){var F=x.charCodeAt(0);if(8203==F&&!y&&(y="\u200b"),8666==F)return this.reset(),this.cm.execCommand("undo")}for(var X=0,Z=Math.min(y.length,x.length);X<Z&&y.charCodeAt(X)==x.charCodeAt(X);)++X;return Us(d,function(){td(d,x.slice(X),y.length-X,null,o.composing?"*compose":null),x.length>1e3||x.indexOf("\n")>-1?C.value=o.prevInput="":o.prevInput=x,o.composing&&(o.composing.range.clear(),o.composing.range=d.markText(o.composing.start,d.getCursor("to"),{className:"CodeMirror-composing"}))}),!0},ta.prototype.ensurePolled=function(){this.pollingFast&&this.poll()&&(this.pollingFast=!1)},ta.prototype.onKeyPress=function(){oe&&ke>=9&&(this.hasSelection=null),this.fastPoll()},ta.prototype.onContextMenu=function(o){var d=this,C=d.cm,y=C.display,x=d.textarea;d.contextMenuPending&&d.contextMenuPending();var F=Xn(C,o),X=y.scroller.scrollTop;if(F&&!ie){C.options.resetSelectionOnContextMenu&&-1==C.doc.sel.contains(F)&&ks(C,ea)(C.doc,Cl(F),kn);var ft,ue=x.style.cssText,ye=d.wrapper.style.cssText,nt=d.wrapper.offsetParent.getBoundingClientRect();if(d.wrapper.style.cssText="position: static",x.style.cssText="position: absolute; width: 30px; height: 30px;\n      top: "+(o.clientY-nt.top-5)+"px; left: "+(o.clientX-nt.left-5)+"px;\n      z-index: 1000; background: "+(oe?"rgba(255, 255, 255, .05)":"transparent")+";\n      outline: none; border-width: 0; outline: none; overflow: hidden; opacity: .05; filter: alpha(opacity=5);",Ae&&(ft=x.ownerDocument.defaultView.scrollY),y.input.focus(),Ae&&x.ownerDocument.defaultView.scrollTo(null,ft),y.input.reset(),C.somethingSelected()||(x.value=d.prevInput=" "),d.contextMenuPending=Lt,y.selForContextMenu=C.doc.sel,clearTimeout(y.detectingSelectAll),oe&&ke>=9&&jt(),st){Ui(o);var _n=function(){Bi(window,"mouseup",_n),setTimeout(Lt,20)};Fn(window,"mouseup",_n)}else setTimeout(Lt,50)}function jt(){if(null!=x.selectionStart){var An=C.somethingSelected(),Bn="\u200b"+(An?x.value:"");x.value="\u21da",x.value=Bn,d.prevInput=An?"":"\u200b",x.selectionStart=1,x.selectionEnd=Bn.length,y.selForContextMenu=C.doc.sel}}function Lt(){if(d.contextMenuPending==Lt&&(d.contextMenuPending=!1,d.wrapper.style.cssText=ye,x.style.cssText=ue,oe&&ke<9&&y.scrollbars.setScrollTop(y.scroller.scrollTop=X),null!=x.selectionStart)){(!oe||oe&&ke<9)&&jt();var An=0,Bn=function(){y.selForContextMenu==C.doc.sel&&0==x.selectionStart&&x.selectionEnd>0&&"\u200b"==d.prevInput?ks(C,Cc)(C):An++<10?y.detectingSelectAll=setTimeout(Bn,500):(y.selForContextMenu=null,y.input.reset())};y.detectingSelectAll=setTimeout(Bn,200)}}},ta.prototype.readOnlyChanged=function(o){o||this.reset(),this.textarea.disabled="nocursor"==o,this.textarea.readOnly=!!o},ta.prototype.setUneditable=function(){},ta.prototype.needsContentAttribute=!1,function Wd(o){var d=o.optionHandlers;function C(y,x,F,X){o.defaults[y]=x,F&&(d[y]=X?function(Z,ue,ye){ye!=Il&&F(Z,ue,ye)}:F)}o.defineOption=C,o.Init=Il,C("value","",function(y,x){return y.setValue(x)},!0),C("mode",null,function(y,x){y.doc.modeOption=x,Js(y)},!0),C("indentUnit",2,Js,!0),C("indentWithTabs",!1),C("smartIndent",!0),C("tabSize",4,function(y){Wl(y),q(y),Ir(y)},!0),C("lineSeparator",null,function(y,x){if(y.doc.lineSep=x,x){var F=[],X=y.doc.first;y.doc.iter(function(ue){for(var ye=0;;){var nt=ue.text.indexOf(x,ye);if(-1==nt)break;ye=nt+x.length,F.push(ot(X,nt))}X++});for(var Z=F.length-1;Z>=0;Z--)Hs(y.doc,x,F[Z],ot(F[Z].line,F[Z].ch+x.length))}}),C("specialChars",/[\u0000-\u001f\u007f-\u009f\u00ad\u061c\u200b\u200e\u200f\u2028\u2029\u202d\u202e\u2066\u2067\u2069\ufeff\ufff9-\ufffc]/g,function(y,x,F){y.state.specialChars=new RegExp(x.source+(x.test("\t")?"":"|\t"),"g"),F!=Il&&y.refresh()}),C("specialCharPlaceholder",po,function(y){return y.refresh()},!0),C("electricChars",!0),C("inputStyle",Te?"contenteditable":"textarea",function(){throw new Error("inputStyle can not (yet) be changed in a running editor")},!0),C("spellcheck",!1,function(y,x){return y.getInputField().spellcheck=x},!0),C("autocorrect",!1,function(y,x){return y.getInputField().autocorrect=x},!0),C("autocapitalize",!1,function(y,x){return y.getInputField().autocapitalize=x},!0),C("rtlMoveVisually",!at),C("wholeLineUpdateBefore",!0),C("theme","default",function(y){Lc(y),ws(y)},!0),C("keyMap","default",function(y,x,F){var X=ro(x),Z=F!=Il&&ro(F);Z&&Z.detach&&Z.detach(y,X),X.attach&&X.attach(y,Z||null)}),C("extraKeys",null),C("configureMouse",null),C("lineWrapping",!1,dc,!0),C("gutters",[],function(y,x){y.display.gutterSpecs=go(x,y.options.lineNumbers),ws(y)},!0),C("fixedGutter",!0,function(y,x){y.display.gutters.style.left=x?Nn(y.display)+"px":"0",y.refresh()},!0),C("coverGutterNextToScrollbar",!1,function(y){return yl(y)},!0),C("scrollbarStyle","native",function(y){vu(y),yl(y),y.display.scrollbars.setScrollTop(y.doc.scrollTop),y.display.scrollbars.setScrollLeft(y.doc.scrollLeft)},!0),C("lineNumbers",!1,function(y,x){y.display.gutterSpecs=go(y.options.gutters,x),ws(y)},!0),C("firstLineNumber",1,ws,!0),C("lineNumberFormatter",function(y){return y},ws,!0),C("showCursorWhenSelecting",!1,Fo,!0),C("resetSelectionOnContextMenu",!0),C("lineWiseCopyCut",!0),C("pasteLinesPerSelection",!0),C("selectionsMayTouch",!1),C("readOnly",!1,function(y,x){"nocursor"==x&&(Jo(y),y.display.input.blur()),y.display.input.readOnlyChanged(x)}),C("screenReaderLabel",null,function(y,x){y.display.input.screenReaderLabelChanged(x=""===x?null:x)}),C("disableInput",!1,function(y,x){x||y.display.input.reset()},!0),C("dragDrop",!0,ed),C("allowDropFileTypes",null),C("cursorBlinkRate",530),C("cursorScrollMargin",0),C("cursorHeight",1,Fo,!0),C("singleCursorHeightPerLine",!0,Fo,!0),C("workTime",100),C("workDelay",100),C("flattenSpans",!0,Wl,!0),C("addModeClass",!1,Wl,!0),C("pollInterval",100),C("undoDepth",200,function(y,x){return y.doc.history.undoDepth=x}),C("historyEventDelay",1250),C("viewportMargin",10,function(y){return y.refresh()},!0),C("maxHighlightLength",1e4,Wl,!0),C("moveInputWithCursor",!0,function(y,x){x||y.display.input.resetPosition()}),C("tabindex",null,function(y,x){return y.display.input.getField().tabIndex=x||""}),C("autofocus",null),C("direction","ltr",function(y,x){return y.doc.setDirection(x)},!0),C("phrases",null)}(Oo),function vf(o){var d=o.optionHandlers,C=o.helpers={};o.prototype={constructor:o,focus:function(){Ze(this).focus(),this.display.input.focus()},setOption:function(y,x){var F=this.options,X=F[y];F[y]==x&&"mode"!=y||(F[y]=x,d.hasOwnProperty(y)&&ks(this,d[y])(this,x,X),Ei(this,"optionChange",this,y))},getOption:function(y){return this.options[y]},getDoc:function(){return this.doc},addKeyMap:function(y,x){this.state.keyMaps[x?"push":"unshift"](ro(y))},removeKeyMap:function(y){for(var x=this.state.keyMaps,F=0;F<x.length;++F)if(x[F]==y||x[F].name==y)return x.splice(F,1),!0},addOverlay:_s(function(y,x){var F=y.token?y:o.getMode(this.options,y);if(F.startState)throw new Error("Overlays may not be stateful.");(function fr(o,d,C){for(var y=0,x=C(d);y<o.length&&C(o[y])<=x;)y++;o.splice(y,0,d)})(this.state.overlays,{mode:F,modeSpec:y,opaque:x&&x.opaque,priority:x&&x.priority||0},function(X){return X.priority}),this.state.modeGen++,Ir(this)}),removeOverlay:_s(function(y){for(var x=this.state.overlays,F=0;F<x.length;++F){var X=x[F].modeSpec;if(X==y||"string"==typeof y&&X.name==y)return x.splice(F,1),this.state.modeGen++,void Ir(this)}}),indentLine:_s(function(y,x,F){"string"!=typeof x&&"number"!=typeof x&&(x=null==x?this.options.smartIndent?"smart":"prev":x?"add":"subtract"),ge(this.doc,y)&&Uc(this,y,x,F)}),indentSelection:_s(function(y){for(var x=this.doc.sel.ranges,F=-1,X=0;X<x.length;X++){var Z=x[X];if(Z.empty())Z.head.line>F&&(Uc(this,Z.head.line,y,!0),F=Z.head.line,X==this.doc.sel.primIndex&&ll(this));else{var ue=Z.from(),ye=Z.to(),nt=Math.max(F,ue.line);F=Math.min(this.lastLine(),ye.line-(ye.ch?0:1))+1;for(var ft=nt;ft<F;++ft)Uc(this,ft,y);var jt=this.doc.sel.ranges;0==ue.ch&&x.length==jt.length&&jt[X].from().ch>0&&Iu(this.doc,X,new di(ue,jt[X].to()),kn)}}}),getTokenAt:function(y,x){return Ws(this,y,x)},getLineTokens:function(y,x){return Ws(this,ot(y),x,!0)},getTokenTypeAt:function(y){y=tr(this.doc,y);var ue,x=as(this,an(this.doc,y.line)),F=0,X=(x.length-1)/2,Z=y.ch;if(0==Z)ue=x[2];else for(;;){var ye=F+X>>1;if((ye?x[2*ye-1]:0)>=Z)X=ye;else{if(!(x[2*ye+1]<Z)){ue=x[2*ye+2];break}F=ye+1}}var nt=ue?ue.indexOf("overlay "):-1;return nt<0?ue:0==nt?null:ue.slice(0,nt-1)},getModeAt:function(y){var x=this.doc.mode;return x.innerMode?o.innerMode(x,this.getTokenAt(y).state).mode:x},getHelper:function(y,x){return this.getHelpers(y,x)[0]},getHelpers:function(y,x){var F=[];if(!C.hasOwnProperty(x))return F;var X=C[x],Z=this.getModeAt(y);if("string"==typeof Z[x])X[Z[x]]&&F.push(X[Z[x]]);else if(Z[x])for(var ue=0;ue<Z[x].length;ue++){var ye=X[Z[x][ue]];ye&&F.push(ye)}else Z.helperType&&X[Z.helperType]?F.push(X[Z.helperType]):X[Z.name]&&F.push(X[Z.name]);for(var nt=0;nt<X._global.length;nt++){var ft=X._global[nt];ft.pred(Z,this)&&-1==wn(F,ft.val)&&F.push(ft.val)}return F},getStateAfter:function(y,x){var F=this.doc;return Vo(this,(y=qn(F,y??F.first+F.size-1))+1,x).state},cursorCoords:function(y,x){var X=this.doc.sel.primary();return Mt(this,null==y?X.head:"object"==typeof y?tr(this.doc,y):y?X.from():X.to(),x||"page")},charCoords:function(y,x){return St(this,tr(this.doc,y),x||"page")},coordsChar:function(y,x){return Jt(this,(y=_t(this,y,x||"page")).left,y.top)},lineAtHeight:function(y,x){return y=_t(this,{top:y,left:0},x||"page").top,Cn(this.doc,y+this.display.viewOffset)},heightAtLine:function(y,x,F){var Z,X=!1;if("number"==typeof y){var ue=this.doc.first+this.doc.size-1;y<this.doc.first?y=this.doc.first:y>ue&&(y=ue,X=!0),Z=an(this.doc,y)}else Z=y;return Je(this,Z,{top:0,left:0},x||"page",F||X).top+(X?this.doc.height-Ro(Z):0)},defaultTextHeight:function(){return En(this.display)},defaultCharWidth:function(){return Gn(this.display)},getViewport:function(){return{from:this.display.viewFrom,to:this.display.viewTo}},addWidget:function(y,x,F,X,Z){var ue=this.display,ye=(y=Mt(this,tr(this.doc,y))).bottom,nt=y.left;if(x.style.position="absolute",x.setAttribute("cm-ignore-events","true"),this.display.input.setUneditable(x),ue.sizer.appendChild(x),"over"==X)ye=y.top;else if("above"==X||"near"==X){var ft=Math.max(ue.wrapper.clientHeight,this.doc.height),jt=Math.max(ue.sizer.clientWidth,ue.lineSpace.clientWidth);("above"==X||y.bottom+x.offsetHeight>ft)&&y.top>x.offsetHeight?ye=y.top-x.offsetHeight:y.bottom+x.offsetHeight<=ft&&(ye=y.bottom),nt+x.offsetWidth>jt&&(nt=jt-x.offsetWidth)}x.style.top=ye+"px",x.style.left=x.style.right="","right"==Z?(nt=ue.sizer.clientWidth-x.offsetWidth,x.style.right="0px"):("left"==Z?nt=0:"middle"==Z&&(nt=(ue.sizer.clientWidth-x.offsetWidth)/2),x.style.left=nt+"px"),F&&function jl(o,d){var C=Gl(o,d);null!=C.scrollTop&&vl(o,C.scrollTop),null!=C.scrollLeft&&ga(o,C.scrollLeft)}(this,{left:nt,top:ye,right:nt+x.offsetWidth,bottom:ye+x.offsetHeight})},triggerOnKeyDown:_s(Dc),triggerOnKeyPress:_s(Yc),triggerOnKeyUp:jd,triggerOnMouseDown:_s(Gd),execCommand:function(y){if(ts.hasOwnProperty(y))return ts[y].call(null,this)},triggerElectric:_s(function(y){nd(this,y)}),findPosH:function(y,x,F,X){var Z=1;x<0&&(Z=-1,x=-x);for(var ue=tr(this.doc,y),ye=0;ye<x&&!(ue=qu(this.doc,ue,Z,F,X)).hitSide;++ye);return ue},moveH:_s(function(y,x){var F=this;this.extendSelectionsBy(function(X){return F.display.shift||F.doc.extend||X.empty()?qu(F.doc,X.head,y,x,F.options.rtlMoveVisually):y<0?X.from():X.to()},Er)}),deleteH:_s(function(y,x){var X=this.doc;this.doc.sel.somethingSelected()?X.replaceSelection("",null,"+delete"):fs(this,function(Z){var ue=qu(X,Z.head,y,x,!1);return y<0?{from:ue,to:Z.head}:{from:Z.head,to:ue}})}),findPosV:function(y,x,F,X){var Z=1,ue=X;x<0&&(Z=-1,x=-x);for(var ye=tr(this.doc,y),nt=0;nt<x;++nt){var ft=Mt(this,ye,"div");if(null==ue?ue=ft.left:ft.left=ue,(ye=od(this,ft,Z,F)).hitSide)break}return ye},moveV:_s(function(y,x){var F=this,X=this.doc,Z=[],ue=!this.display.shift&&!X.extend&&X.sel.somethingSelected();if(X.extendSelectionsBy(function(nt){if(ue)return y<0?nt.from():nt.to();var ft=Mt(F,nt.head,"div");null!=nt.goalColumn&&(ft.left=nt.goalColumn),Z.push(ft.left);var jt=od(F,ft,y,x);return"page"==x&&nt==X.sel.primary()&&Ya(F,St(F,jt,"div").top-ft.top),jt},Er),Z.length)for(var ye=0;ye<X.sel.ranges.length;ye++)X.sel.ranges[ye].goalColumn=Z[ye]}),findWordAt:function(y){var F=an(this.doc,y.line).text,X=y.ch,Z=y.ch;if(F){var ue=this.getHelper(y,"wordChars");"before"!=y.sticky&&Z!=F.length||!X?++Z:--X;for(var ye=F.charAt(X),nt=Li(ye,ue)?function(ft){return Li(ft,ue)}:/\s/.test(ye)?function(ft){return/\s/.test(ft)}:function(ft){return!/\s/.test(ft)&&!Li(ft)};X>0&&nt(F.charAt(X-1));)--X;for(;Z<F.length&&nt(F.charAt(Z));)++Z}return new di(ot(y.line,X),ot(y.line,Z))},toggleOverwrite:function(y){null!=y&&y==this.state.overwrite||((this.state.overwrite=!this.state.overwrite)?Dt(this.display.cursorDiv,"CodeMirror-overwrite"):It(this.display.cursorDiv,"CodeMirror-overwrite"),Ei(this,"overwriteToggle",this,this.state.overwrite))},hasFocus:function(){return this.display.input.getField()==Bt(Ft(this))},isReadOnly:function(){return!(!this.options.readOnly&&!this.doc.cantEdit)},scrollTo:_s(function(y,x){$l(this,y,x)}),getScrollInfo:function(){var y=this.display.scroller;return{left:y.scrollLeft,top:y.scrollTop,height:y.scrollHeight-Ys(this)-this.display.barHeight,width:y.scrollWidth-Ys(this)-this.display.barWidth,clientHeight:le(this),clientWidth:sl(this)}},scrollIntoView:_s(function(y,x){null==y?(y={from:this.doc.sel.primary().head,to:null},null==x&&(x=this.options.cursorScrollMargin)):"number"==typeof y?y={from:ot(y,0),to:null}:null==y.from&&(y={from:y,to:null}),y.to||(y.to=y.from),y.margin=x||0,null!=y.from.line?function tu(o,d){nu(o),o.curOp.scrollToPos=d}(this,y):Pl(this,y.from,y.to,y.margin)}),setSize:_s(function(y,x){var F=this,X=function(ue){return"number"==typeof ue||/^\d+$/.test(String(ue))?ue+"px":ue};null!=y&&(this.display.wrapper.style.width=X(y)),null!=x&&(this.display.wrapper.style.height=X(x)),this.options.lineWrapping&&O(this);var Z=this.display.viewFrom;this.doc.iter(Z,this.display.viewTo,function(ue){if(ue.widgets)for(var ye=0;ye<ue.widgets.length;ye++)if(ue.widgets[ye].noHScroll){Gr(F,Z,"widget");break}++Z}),this.curOp.forceUpdate=!0,Ei(this,"refresh",this)}),operation:function(y){return Us(this,y)},startOperation:function(){return cl(this)},endOperation:function(){return dl(this)},refresh:_s(function(){var y=this.display.cachedTextHeight;Ir(this),this.curOp.forceUpdate=!0,q(this),$l(this,this.doc.scrollLeft,this.doc.scrollTop),dr(this.display),(null==y||Math.abs(y-En(this.display))>.5||this.options.lineWrapping)&&Yn(this),Ei(this,"refresh",this)}),swapDoc:_s(function(y){var x=this.doc;return x.cm=null,this.state.selectingText&&this.state.selectingText(),hl(this,y),q(this),this.display.input.reset(),$l(this,y.scrollLeft,y.scrollTop),this.curOp.forceScroll=!0,lr(this,"swapDoc",this,x),x}),phrase:function(y){var x=this.options.phrases;return x&&Object.prototype.hasOwnProperty.call(x,y)?x[y]:y},getInputField:function(){return this.display.input.getField()},getWrapperElement:function(){return this.display.wrapper},getScrollerElement:function(){return this.display.scroller},getGutterElement:function(){return this.display.gutters}},Lr(o),o.registerHelper=function(y,x,F){C.hasOwnProperty(y)||(C[y]=o[y]={_global:[]}),C[y][x]=F},o.registerGlobalHelper=function(y,x,F,X){o.registerHelper(y,x,X),C[y]._global.push({pred:F,val:X})}}(Oo);var wd="iter insert remove copy getEditor constructor".split(" ");for(var Yu in Cr.prototype)Cr.prototype.hasOwnProperty(Yu)&&wn(wd,Yu)<0&&(Oo.prototype[Yu]=function(o){return function(){return o.apply(this.doc,arguments)}}(Cr.prototype[Yu]));return Lr(Cr),Oo.inputStyles={textarea:ta,contenteditable:Ao},Oo.defineMode=function(o){!Oo.defaults.mode&&"null"!=o&&(Oo.defaults.mode=o),Zi.apply(this,arguments)},Oo.defineMIME=function qi(o,d){Ji[o]=d},Oo.defineMode("null",function(){return{token:function(o){return o.skipToEnd()}}}),Oo.defineMIME("text/plain","null"),Oo.defineExtension=function(o,d){Oo.prototype[o]=d},Oo.defineDocExtension=function(o,d){Cr.prototype[o]=d},Oo.fromTextArea=function Dd(o,d){if((d=d?Et(d):{}).value=o.value,!d.tabindex&&o.tabIndex&&(d.tabindex=o.tabIndex),!d.placeholder&&o.placeholder&&(d.placeholder=o.placeholder),null==d.autofocus){var C=Bt(Xe(o));d.autofocus=C==o||null!=o.getAttribute("autofocus")&&C==document.body}function y(){o.value=Z.getValue()}var x;if(o.form&&(Fn(o.form,"submit",y),!d.leaveSubmitMethodAlone)){var F=o.form;x=F.submit;try{var X=F.submit=function(){y(),F.submit=x,F.submit(),F.submit=X}}catch{}}d.finishInit=function(ue){ue.save=y,ue.getTextArea=function(){return o},ue.toTextArea=function(){ue.toTextArea=isNaN,y(),o.parentNode.removeChild(ue.getWrapperElement()),o.style.display="",o.form&&(Bi(o.form,"submit",y),!d.leaveSubmitMethodAlone&&"function"==typeof o.form.submit&&(o.form.submit=x))}},o.style.display="none";var Z=Oo(function(ue){return o.parentNode.insertBefore(ue,o.nextSibling)},d);return Z},function yf(o){o.off=Bi,o.on=Fn,o.wheelEventPixels=xu,o.Doc=Cr,o.splitLines=Do,o.countColumn=yt,o.findColumn=mi,o.isWordChar=Gi,o.Pass=Gt,o.signal=Ei,o.Line=Qo,o.changeEnd=El,o.scrollbarModel=xa,o.Pos=ot,o.cmpPos=kt,o.modes=yo,o.mimeModes=Ji,o.resolveMode=Xr,o.getMode=Bo,o.modeExtensions=He,o.extendMode=pt,o.copyState=lt,o.startState=hn,o.innerMode=tn,o.commands=ts,o.keyMap=ya,o.keyName=gi,o.isModifierKey=Br,o.lookupKey=Ku,o.normalizeKeyMap=_d,o.StringStream=un,o.SharedTextMarker=Ee,o.TextMarker=U,o.LineWidget=S,o.e_preventDefault=Pi,o.e_stopPropagation=Vi,o.e_stop=Ui,o.addClass=Dt,o.contains=en,o.rmClass=It,o.keyNames=Rs}(Oo),Oo.version="5.65.16",Oo}()},1397(on,ct,$){"use strict";$.d(ct,{Z:()=>ee});var L=$(6354),r=$(8750),R=$(9974),ve=$(5225),oe=$(4360),Ae=$(8071);function ee(v,m,ie=1/0){return(0,Ae.T)(m)?ee((xe,t)=>(0,L.T)((Le,Se)=>m(xe,Le,t,Se))((0,r.Tg)(v(xe,t))),ie):("number"==typeof m&&(ie=m),(0,R.N)((xe,t)=>function ke(v,m,ie,xe,t,Le,Se,je){const Te=[];let be=0,Oe=0,at=!1;const ze=()=>{at&&!Te.length&&!be&&m.complete()},et=rn=>be<xe?st(rn):Te.push(rn),st=rn=>{Le&&m.next(rn),be++;let It=!1;(0,r.Tg)(ie(rn,Oe++)).subscribe((0,oe._)(m,Ht=>{t?.(Ht),Le?et(Ht):m.next(Ht)},()=>{It=!0},void 0,()=>{if(It)try{for(be--;Te.length&&be<xe;){const Ht=Te.shift();Se?(0,ve.N)(m,Se,()=>st(Ht)):st(Ht)}ze()}catch(Ht){m.error(Ht)}}))};return v.subscribe((0,oe._)(m,et,()=>{at=!0,ze()})),()=>{je?.()}}(xe,t,v,ie)))}},1413(on,ct,$){"use strict";$.d(ct,{B:()=>Ae});var L=$(1985),r=$(8359);const ve=(0,$(1853).L)(v=>function(){v(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var oe=$(7908),ke=$(9786);let Ae=(()=>{class v extends L.c{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(ie){const xe=new ee(this,this);return xe.operator=ie,xe}_throwIfClosed(){if(this.closed)throw new ve}next(ie){(0,ke.Y)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const xe of this.currentObservers)xe.next(ie)}})}error(ie){(0,ke.Y)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=ie;const{observers:xe}=this;for(;xe.length;)xe.shift().error(ie)}})}complete(){(0,ke.Y)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:ie}=this;for(;ie.length;)ie.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var ie;return(null===(ie=this.observers)||void 0===ie?void 0:ie.length)>0}_trySubscribe(ie){return this._throwIfClosed(),super._trySubscribe(ie)}_subscribe(ie){return this._throwIfClosed(),this._checkFinalizedStatuses(ie),this._innerSubscribe(ie)}_innerSubscribe(ie){const{hasError:xe,isStopped:t,observers:Le}=this;return xe||t?r.Kn:(this.currentObservers=null,Le.push(ie),new r.yU(()=>{this.currentObservers=null,(0,oe.o)(Le,ie)}))}_checkFinalizedStatuses(ie){const{hasError:xe,thrownError:t,isStopped:Le}=this;xe?ie.error(t):Le&&ie.complete()}asObservable(){const ie=new L.c;return ie.source=this,ie}}return v.create=(m,ie)=>new ee(m,ie),v})();class ee extends Ae{constructor(m,ie){super(),this.destination=m,this.source=ie}next(m){var ie,xe;null===(xe=null===(ie=this.destination)||void 0===ie?void 0:ie.next)||void 0===xe||xe.call(ie,m)}error(m){var ie,xe;null===(xe=null===(ie=this.destination)||void 0===ie?void 0:ie.error)||void 0===xe||xe.call(ie,m)}complete(){var m,ie;null===(ie=null===(m=this.destination)||void 0===m?void 0:m.complete)||void 0===ie||ie.call(m)}_subscribe(m){var ie,xe;return null!==(xe=null===(ie=this.source)||void 0===ie?void 0:ie.subscribe(m))&&void 0!==xe?xe:r.Kn}}},1471(on,ct,$){var L;on.exports=(L=$(7656),$(4501),$(8823),$(5304),$(8891),$(6598),$(8855),$(9986),$(5168),$(9225),$(885),$(4068),$(3752),$(447),$(7868),$(7738),$(4147),$(2414),$(4152),$(9098),$(1057),$(6700),$(6115),$(332),$(7516),$(9047),$(6964),$(2599),$(4564),$(3188),$(2515),$(5350),$(2795),$(2923),$(5269),L)},1584(on,ct,$){"use strict";$.d(ct,{O:()=>oe});var L=$(1985),r=$(3236),R=$(9470);function oe(ke=0,Ae,ee=r.b){let v=-1;return null!=Ae&&((0,R.m)(Ae)?ee=Ae:v=Ae),new L.c(m=>{let ie=function ve(ke){return ke instanceof Date&&!isNaN(ke)}(ke)?+ke-ee.now():ke;ie<0&&(ie=0);let xe=0;return ee.schedule(function(){m.closed||(m.next(xe++),0<=v?this.schedule(void 0,v):m.complete())},ie)})}},1635(on,ct,$){"use strict";function xe(Xe,Ze,dt,Et){return new(dt||(dt=Promise))(function(Nt,wn){function bn(On){try{kn(Et.next(On))}catch(Er){wn(Er)}}function Gt(On){try{kn(Et.throw(On))}catch(Er){wn(Er)}}function kn(On){On.done?Nt(On.value):function yt(Nt){return Nt instanceof dt?Nt:new dt(function(wn){wn(Nt)})}(On.value).then(bn,Gt)}kn((Et=Et.apply(Xe,Ze||[])).next())})}function ze(Xe){return this instanceof ze?(this.v=Xe,this):new ze(Xe)}function et(Xe,Ze,dt){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var yt,Et=dt.apply(Xe,Ze||[]),Nt=[];return yt=Object.create(("function"==typeof AsyncIterator?AsyncIterator:Object).prototype),bn("next"),bn("throw"),bn("return",function wn(Jn){return function(Pt){return Promise.resolve(Pt).then(Jn,Er)}}),yt[Symbol.asyncIterator]=function(){return this},yt;function bn(Jn,Pt){Et[Jn]&&(yt[Jn]=function(Kt){return new Promise(function(Un,fr){Nt.push([Jn,Kt,Un,fr])>1||Gt(Jn,Kt)})},Pt&&(yt[Jn]=Pt(yt[Jn])))}function Gt(Jn,Pt){try{!function kn(Jn){Jn.value instanceof ze?Promise.resolve(Jn.value.v).then(On,Er):mi(Nt[0][2],Jn)}(Et[Jn](Pt))}catch(Kt){mi(Nt[0][3],Kt)}}function On(Jn){Gt("next",Jn)}function Er(Jn){Gt("throw",Jn)}function mi(Jn,Pt){Jn(Pt),Nt.shift(),Nt.length&&Gt(Nt[0][0],Nt[0][1])}}function rn(Xe){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var dt,Ze=Xe[Symbol.asyncIterator];return Ze?Ze.call(Xe):(Xe=function je(Xe){var Ze="function"==typeof Symbol&&Symbol.iterator,dt=Ze&&Xe[Ze],Et=0;if(dt)return dt.call(Xe);if(Xe&&"number"==typeof Xe.length)return{next:function(){return Xe&&Et>=Xe.length&&(Xe=void 0),{value:Xe&&Xe[Et++],done:!Xe}}};throw new TypeError(Ze?"Object is not iterable.":"Symbol.iterator is not defined.")}(Xe),dt={},Et("next"),Et("throw"),Et("return"),dt[Symbol.asyncIterator]=function(){return this},dt);function Et(Nt){dt[Nt]=Xe[Nt]&&function(wn){return new Promise(function(bn,Gt){!function yt(Nt,wn,bn,Gt){Promise.resolve(Gt).then(function(kn){Nt({value:kn,done:bn})},wn)}(bn,Gt,(wn=Xe[Nt](wn)).done,wn.value)})}}}$.d(ct,{AQ:()=>et,N3:()=>ze,sH:()=>xe,xN:()=>rn}),"function"==typeof SuppressedError&&SuppressedError},1655(on,ct,$){"use strict";$.d(ct,{c:()=>Le});var L=$(3236),r=$(8793),R=$(6697),ve=$(9974),oe=$(4360),ke=$(5343),ee=$(6354),m=$(1397),ie=$(8750);function xe(Se,je){return je?Te=>(0,r.x)(je.pipe((0,R.s)(1),function Ae(){return(0,ve.N)((Se,je)=>{Se.subscribe((0,oe._)(je,ke.l))})}()),Te.pipe(xe(Se))):(0,m.Z)((Te,be)=>(0,ie.Tg)(Se(Te,be)).pipe((0,R.s)(1),function v(Se){return(0,ee.T)(()=>Se)}(Te)))}var t=$(1584);function Le(Se,je=L.E){const Te=(0,t.O)(Se,je);return xe(()=>Te)}},1853(on,ct,$){"use strict";function L(r){const ve=r(oe=>{Error.call(oe),oe.stack=(new Error).stack});return ve.prototype=Object.create(Error.prototype),ve.prototype.constructor=ve,ve}$.d(ct,{L:()=>L})},1985(on,ct,$){"use strict";$.d(ct,{c:()=>ee});var L=$(7707),r=$(8359),R=$(3494),ve=$(1203),oe=$(1026),ke=$(8071),Ae=$(9786);let ee=(()=>{class xe{constructor(Le){Le&&(this._subscribe=Le)}lift(Le){const Se=new xe;return Se.source=this,Se.operator=Le,Se}subscribe(Le,Se,je){const Te=function ie(xe){return xe&&xe instanceof L.vU||function m(xe){return xe&&(0,ke.T)(xe.next)&&(0,ke.T)(xe.error)&&(0,ke.T)(xe.complete)}(xe)&&(0,r.Uv)(xe)}(Le)?Le:new L.Ms(Le,Se,je);return(0,Ae.Y)(()=>{const{operator:be,source:Oe}=this;Te.add(be?be.call(Te,Oe):Oe?this._subscribe(Te):this._trySubscribe(Te))}),Te}_trySubscribe(Le){try{return this._subscribe(Le)}catch(Se){Le.error(Se)}}forEach(Le,Se){return new(Se=v(Se))((je,Te)=>{const be=new L.Ms({next:Oe=>{try{Le(Oe)}catch(at){Te(at),be.unsubscribe()}},error:Te,complete:je});this.subscribe(be)})}_subscribe(Le){var Se;return null===(Se=this.source)||void 0===Se?void 0:Se.subscribe(Le)}[R.s](){return this}pipe(...Le){return(0,ve.m)(Le)(this)}toPromise(Le){return new(Le=v(Le))((Se,je)=>{let Te;this.subscribe(be=>Te=be,be=>je(be),()=>Se(Te))})}}return xe.create=t=>new xe(t),xe})();function v(xe){var t;return null!==(t=xe??oe.$.Promise)&&void 0!==t?t:Promise}},2414(on,ct,$){var R,ve,oe,ke,Ae,ee,m,xe,t,Se,je,Te,Oe,ze,st,rn,Ht,At,L;on.exports=(L=$(7656),$(4147),void(L.lib.Cipher||(R=L,ve=R.lib,oe=ve.Base,ke=ve.WordArray,Ae=ve.BufferedBlockAlgorithm,ee=R.enc,m=ee.Base64,xe=R.algo.EvpKDF,t=ve.Cipher=Ae.extend({cfg:oe.extend(),createEncryptor:function(Me,gt){return this.create(this._ENC_XFORM_MODE,Me,gt)},createDecryptor:function(Me,gt){return this.create(this._DEC_XFORM_MODE,Me,gt)},init:function(Me,gt,Ve){this.cfg=this.cfg.extend(Ve),this._xformMode=Me,this._key=gt,this.reset()},reset:function(){Ae.reset.call(this),this._doReset()},process:function(Me){return this._append(Me),this._process()},finalize:function(Me){return Me&&this._append(Me),this._doFinalize()},keySize:4,ivSize:4,_ENC_XFORM_MODE:1,_DEC_XFORM_MODE:2,_createHelper:function(){function Me(gt){return"string"==typeof gt?At:rn}return function(gt){return{encrypt:function(Ve,en,Bt){return Me(en).encrypt(gt,Ve,en,Bt)},decrypt:function(Ve,en,Bt){return Me(en).decrypt(gt,Ve,en,Bt)}}}}()}),ve.StreamCipher=t.extend({_doFinalize:function(){return this._process(!0)},blockSize:1}),Se=R.mode={},je=ve.BlockCipherMode=oe.extend({createEncryptor:function(Me,gt){return this.Encryptor.create(Me,gt)},createDecryptor:function(Me,gt){return this.Decryptor.create(Me,gt)},init:function(Me,gt){this._cipher=Me,this._iv=gt}}),Te=Se.CBC=function(){var Me=je.extend();function gt(Ve,en,Bt){var Dt,ht=this._iv;ht?(Dt=ht,this._iv=undefined):Dt=this._prevBlock;for(var Ke=0;Ke<Bt;Ke++)Ve[en+Ke]^=Dt[Ke]}return Me.Encryptor=Me.extend({processBlock:function(Ve,en){var Bt=this._cipher,Dt=Bt.blockSize;gt.call(this,Ve,en,Dt),Bt.encryptBlock(Ve,en),this._prevBlock=Ve.slice(en,en+Dt)}}),Me.Decryptor=Me.extend({processBlock:function(Ve,en){var Bt=this._cipher,Dt=Bt.blockSize,ht=Ve.slice(en,en+Dt);Bt.decryptBlock(Ve,en),gt.call(this,Ve,en,Dt),this._prevBlock=ht}}),Me}(),Oe=(R.pad={}).Pkcs7={pad:function(Me,gt){for(var Ve=4*gt,en=Ve-Me.sigBytes%Ve,Bt=en<<24|en<<16|en<<8|en,Dt=[],ht=0;ht<en;ht+=4)Dt.push(Bt);var Ke=ke.create(Dt,en);Me.concat(Ke)},unpad:function(Me){Me.sigBytes-=255&Me.words[Me.sigBytes-1>>>2]}},ve.BlockCipher=t.extend({cfg:t.cfg.extend({mode:Te,padding:Oe}),reset:function(){var Me;t.reset.call(this);var gt=this.cfg,Ve=gt.iv,en=gt.mode;this._xformMode==this._ENC_XFORM_MODE?Me=en.createEncryptor:(Me=en.createDecryptor,this._minBufferSize=1),this._mode&&this._mode.__creator==Me?this._mode.init(this,Ve&&Ve.words):(this._mode=Me.call(en,this,Ve&&Ve.words),this._mode.__creator=Me)},_doProcessBlock:function(Me,gt){this._mode.processBlock(Me,gt)},_doFinalize:function(){var Me,gt=this.cfg.padding;return this._xformMode==this._ENC_XFORM_MODE?(gt.pad(this._data,this.blockSize),Me=this._process(!0)):(Me=this._process(!0),gt.unpad(Me)),Me},blockSize:4}),ze=ve.CipherParams=oe.extend({init:function(Me){this.mixIn(Me)},toString:function(Me){return(Me||this.formatter).stringify(this)}}),st=(R.format={}).OpenSSL={stringify:function(Me){var Ve=Me.ciphertext,en=Me.salt;return(en?ke.create([1398893684,1701076831]).concat(en).concat(Ve):Ve).toString(m)},parse:function(Me){var gt,Ve=m.parse(Me),en=Ve.words;return 1398893684==en[0]&&1701076831==en[1]&&(gt=ke.create(en.slice(2,4)),en.splice(0,4),Ve.sigBytes-=16),ze.create({ciphertext:Ve,salt:gt})}},rn=ve.SerializableCipher=oe.extend({cfg:oe.extend({format:st}),encrypt:function(Me,gt,Ve,en){en=this.cfg.extend(en);var Bt=Me.createEncryptor(Ve,en),Dt=Bt.finalize(gt),ht=Bt.cfg;return ze.create({ciphertext:Dt,key:Ve,iv:ht.iv,algorithm:Me,mode:ht.mode,padding:ht.padding,blockSize:Me.blockSize,formatter:en.format})},decrypt:function(Me,gt,Ve,en){return en=this.cfg.extend(en),gt=this._parse(gt,en.format),Me.createDecryptor(Ve,en).finalize(gt.ciphertext)},_parse:function(Me,gt){return"string"==typeof Me?gt.parse(Me,this):Me}}),Ht=(R.kdf={}).OpenSSL={execute:function(Me,gt,Ve,en,Bt){if(en||(en=ke.random(8)),Bt)var Dt=xe.create({keySize:gt+Ve,hasher:Bt}).compute(Me,en);else Dt=xe.create({keySize:gt+Ve}).compute(Me,en);var ht=ke.create(Dt.words.slice(gt),4*Ve);return Dt.sigBytes=4*gt,ze.create({key:Dt,iv:ht,salt:en})}},At=ve.PasswordBasedCipher=rn.extend({cfg:rn.cfg.extend({kdf:Ht}),encrypt:function(Me,gt,Ve,en){var Bt=(en=this.cfg.extend(en)).kdf.execute(Ve,Me.keySize,Me.ivSize,en.salt,en.hasher);en.iv=Bt.iv;var Dt=rn.encrypt.call(this,Me,gt,Bt.key,en);return Dt.mixIn(Bt),Dt},decrypt:function(Me,gt,Ve,en){en=this.cfg.extend(en),gt=this._parse(gt,en.format);var Bt=en.kdf.execute(Ve,Me.keySize,Me.ivSize,gt.salt,en.hasher);return en.iv=Bt.iv,rn.decrypt.call(this,Me,gt,Bt.key,en)}}))))},2515(on,ct,$){var L;on.exports=(L=$(7656),$(8891),$(8855),$(4147),$(2414),function(){var r=L,R=r.lib,ve=R.WordArray,oe=R.BlockCipher,ke=r.algo,Ae=[57,49,41,33,25,17,9,1,58,50,42,34,26,18,10,2,59,51,43,35,27,19,11,3,60,52,44,36,63,55,47,39,31,23,15,7,62,54,46,38,30,22,14,6,61,53,45,37,29,21,13,5,28,20,12,4],ee=[14,17,11,24,1,5,3,28,15,6,21,10,23,19,12,4,26,8,16,7,27,20,13,2,41,52,31,37,47,55,30,40,51,45,33,48,44,49,39,56,34,53,46,42,50,36,29,32],v=[1,2,4,6,8,10,12,14,15,17,19,21,23,25,27,28],m=[{0:8421888,268435456:32768,536870912:8421378,805306368:2,1073741824:512,1342177280:8421890,1610612736:8389122,1879048192:8388608,2147483648:514,2415919104:8389120,2684354560:33280,2952790016:8421376,3221225472:32770,3489660928:8388610,3758096384:0,4026531840:33282,134217728:0,402653184:8421890,671088640:33282,939524096:32768,1207959552:8421888,1476395008:512,1744830464:8421378,2013265920:2,2281701376:8389120,2550136832:33280,2818572288:8421376,3087007744:8389122,3355443200:8388610,3623878656:32770,3892314112:514,4160749568:8388608,1:32768,268435457:2,536870913:8421888,805306369:8388608,1073741825:8421378,1342177281:33280,1610612737:512,1879048193:8389122,2147483649:8421890,2415919105:8421376,2684354561:8388610,2952790017:33282,3221225473:514,3489660929:8389120,3758096385:32770,4026531841:0,134217729:8421890,402653185:8421376,671088641:8388608,939524097:512,1207959553:32768,1476395009:8388610,1744830465:2,2013265921:33282,2281701377:32770,2550136833:8389122,2818572289:514,3087007745:8421888,3355443201:8389120,3623878657:0,3892314113:33280,4160749569:8421378},{0:1074282512,16777216:16384,33554432:524288,50331648:1074266128,67108864:1073741840,83886080:1074282496,100663296:1073758208,117440512:16,134217728:540672,150994944:1073758224,167772160:1073741824,184549376:540688,201326592:524304,218103808:0,234881024:16400,251658240:1074266112,8388608:1073758208,25165824:540688,41943040:16,58720256:1073758224,75497472:1074282512,92274688:1073741824,109051904:524288,125829120:1074266128,142606336:524304,159383552:0,176160768:16384,192937984:1074266112,209715200:1073741840,226492416:540672,243269632:1074282496,260046848:16400,268435456:0,285212672:1074266128,301989888:1073758224,318767104:1074282496,335544320:1074266112,352321536:16,369098752:540688,385875968:16384,402653184:16400,419430400:524288,436207616:524304,452984832:1073741840,469762048:540672,486539264:1073758208,503316480:1073741824,520093696:1074282512,276824064:540688,293601280:524288,310378496:1074266112,327155712:16384,343932928:1073758208,360710144:1074282512,377487360:16,394264576:1073741824,411041792:1074282496,427819008:1073741840,444596224:1073758224,461373440:524304,478150656:0,494927872:16400,511705088:1074266128,528482304:540672},{0:260,1048576:0,2097152:67109120,3145728:65796,4194304:65540,5242880:67108868,6291456:67174660,7340032:67174400,8388608:67108864,9437184:67174656,10485760:65792,11534336:67174404,12582912:67109124,13631488:65536,14680064:4,15728640:256,524288:67174656,1572864:67174404,2621440:0,3670016:67109120,4718592:67108868,5767168:65536,6815744:65540,7864320:260,8912896:4,9961472:256,11010048:67174400,12058624:65796,13107200:65792,14155776:67109124,15204352:67174660,16252928:67108864,16777216:67174656,17825792:65540,18874368:65536,19922944:67109120,20971520:256,22020096:67174660,23068672:67108868,24117248:0,25165824:67109124,26214400:67108864,27262976:4,28311552:65792,29360128:67174400,30408704:260,31457280:65796,32505856:67174404,17301504:67108864,18350080:260,19398656:67174656,20447232:0,21495808:65540,22544384:67109120,23592960:256,24641536:67174404,25690112:65536,26738688:67174660,27787264:65796,28835840:67108868,29884416:67109124,30932992:67174400,31981568:4,33030144:65792},{0:2151682048,65536:2147487808,131072:4198464,196608:2151677952,262144:0,327680:4198400,393216:2147483712,458752:4194368,524288:2147483648,589824:4194304,655360:64,720896:2147487744,786432:2151678016,851968:4160,917504:4096,983040:2151682112,32768:2147487808,98304:64,163840:2151678016,229376:2147487744,294912:4198400,360448:2151682112,425984:0,491520:2151677952,557056:4096,622592:2151682048,688128:4194304,753664:4160,819200:2147483648,884736:4194368,950272:4198464,1015808:2147483712,1048576:4194368,1114112:4198400,1179648:2147483712,1245184:0,1310720:4160,1376256:2151678016,1441792:2151682048,1507328:2147487808,1572864:2151682112,1638400:2147483648,1703936:2151677952,1769472:4198464,1835008:2147487744,1900544:4194304,1966080:64,2031616:4096,1081344:2151677952,1146880:2151682112,1212416:0,1277952:4198400,1343488:4194368,1409024:2147483648,1474560:2147487808,1540096:64,1605632:2147483712,1671168:4096,1736704:2147487744,1802240:2151678016,1867776:4160,1933312:2151682048,1998848:4194304,2064384:4198464},{0:128,4096:17039360,8192:262144,12288:536870912,16384:537133184,20480:16777344,24576:553648256,28672:262272,32768:16777216,36864:537133056,40960:536871040,45056:553910400,49152:553910272,53248:0,57344:17039488,61440:553648128,2048:17039488,6144:553648256,10240:128,14336:17039360,18432:262144,22528:537133184,26624:553910272,30720:536870912,34816:537133056,38912:0,43008:553910400,47104:16777344,51200:536871040,55296:553648128,59392:16777216,63488:262272,65536:262144,69632:128,73728:536870912,77824:553648256,81920:16777344,86016:553910272,90112:537133184,94208:16777216,98304:553910400,102400:553648128,106496:17039360,110592:537133056,114688:262272,118784:536871040,122880:0,126976:17039488,67584:553648256,71680:16777216,75776:17039360,79872:537133184,83968:536870912,88064:17039488,92160:128,96256:553910272,100352:262272,104448:553910400,108544:0,112640:553648128,116736:16777344,120832:262144,124928:537133056,129024:536871040},{0:268435464,256:8192,512:270532608,768:270540808,1024:268443648,1280:2097152,1536:2097160,1792:268435456,2048:0,2304:268443656,2560:2105344,2816:8,3072:270532616,3328:2105352,3584:8200,3840:270540800,128:270532608,384:270540808,640:8,896:2097152,1152:2105352,1408:268435464,1664:268443648,1920:8200,2176:2097160,2432:8192,2688:268443656,2944:270532616,3200:0,3456:270540800,3712:2105344,3968:268435456,4096:268443648,4352:270532616,4608:270540808,4864:8200,5120:2097152,5376:268435456,5632:268435464,5888:2105344,6144:2105352,6400:0,6656:8,6912:270532608,7168:8192,7424:268443656,7680:270540800,7936:2097160,4224:8,4480:2105344,4736:2097152,4992:268435464,5248:268443648,5504:8200,5760:270540808,6016:270532608,6272:270540800,6528:270532616,6784:8192,7040:2105352,7296:2097160,7552:0,7808:268435456,8064:268443656},{0:1048576,16:33555457,32:1024,48:1049601,64:34604033,80:0,96:1,112:34603009,128:33555456,144:1048577,160:33554433,176:34604032,192:34603008,208:1025,224:1049600,240:33554432,8:34603009,24:0,40:33555457,56:34604032,72:1048576,88:33554433,104:33554432,120:1025,136:1049601,152:33555456,168:34603008,184:1048577,200:1024,216:34604033,232:1,248:1049600,256:33554432,272:1048576,288:33555457,304:34603009,320:1048577,336:33555456,352:34604032,368:1049601,384:1025,400:34604033,416:1049600,432:1,448:0,464:34603008,480:33554433,496:1024,264:1049600,280:33555457,296:34603009,312:1,328:33554432,344:1048576,360:1025,376:34604032,392:33554433,408:34603008,424:0,440:34604033,456:1049601,472:1024,488:33555456,504:1048577},{0:134219808,1:131072,2:134217728,3:32,4:131104,5:134350880,6:134350848,7:2048,8:134348800,9:134219776,10:133120,11:134348832,12:2080,13:0,14:134217760,15:133152,2147483648:2048,2147483649:134350880,2147483650:134219808,2147483651:134217728,2147483652:134348800,2147483653:133120,2147483654:133152,2147483655:32,2147483656:134217760,2147483657:2080,2147483658:131104,2147483659:134350848,2147483660:0,2147483661:134348832,2147483662:134219776,2147483663:131072,16:133152,17:134350848,18:32,19:2048,20:134219776,21:134217760,22:134348832,23:131072,24:0,25:131104,26:134348800,27:134219808,28:134350880,29:133120,30:2080,31:134217728,2147483664:131072,2147483665:2048,2147483666:134348832,2147483667:133152,2147483668:32,2147483669:134348800,2147483670:134217728,2147483671:134219808,2147483672:134350880,2147483673:134217760,2147483674:134219776,2147483675:0,2147483676:133120,2147483677:2080,2147483678:131104,2147483679:134350848}],ie=[4160749569,528482304,33030144,2064384,129024,8064,504,2147483679],xe=ke.DES=oe.extend({_doReset:function(){for(var Te=this._key.words,be=[],Oe=0;Oe<56;Oe++){var at=Ae[Oe]-1;be[Oe]=Te[at>>>5]>>>31-at%32&1}for(var ze=this._subKeys=[],et=0;et<16;et++){var st=ze[et]=[],rn=v[et];for(Oe=0;Oe<24;Oe++)st[Oe/6|0]|=be[(ee[Oe]-1+rn)%28]<<31-Oe%6,st[4+(Oe/6|0)]|=be[28+(ee[Oe+24]-1+rn)%28]<<31-Oe%6;for(st[0]=st[0]<<1|st[0]>>>31,Oe=1;Oe<7;Oe++)st[Oe]=st[Oe]>>>4*(Oe-1)+3;st[7]=st[7]<<5|st[7]>>>27}var It=this._invSubKeys=[];for(Oe=0;Oe<16;Oe++)It[Oe]=ze[15-Oe]},encryptBlock:function(je,Te){this._doCryptBlock(je,Te,this._subKeys)},decryptBlock:function(je,Te){this._doCryptBlock(je,Te,this._invSubKeys)},_doCryptBlock:function(je,Te,be){this._lBlock=je[Te],this._rBlock=je[Te+1],t.call(this,4,252645135),t.call(this,16,65535),Le.call(this,2,858993459),Le.call(this,8,16711935),t.call(this,1,1431655765);for(var Oe=0;Oe<16;Oe++){for(var at=be[Oe],ze=this._lBlock,et=this._rBlock,st=0,rn=0;rn<8;rn++)st|=m[rn][((et^at[rn])&ie[rn])>>>0];this._lBlock=et,this._rBlock=ze^st}var It=this._lBlock;this._lBlock=this._rBlock,this._rBlock=It,t.call(this,1,1431655765),Le.call(this,8,16711935),Le.call(this,2,858993459),t.call(this,16,65535),t.call(this,4,252645135),je[Te]=this._lBlock,je[Te+1]=this._rBlock},keySize:2,ivSize:2,blockSize:2});function t(je,Te){var be=(this._lBlock>>>je^this._rBlock)&Te;this._rBlock^=be,this._lBlock^=be<<je}function Le(je,Te){var be=(this._rBlock>>>je^this._lBlock)&Te;this._lBlock^=be,this._rBlock^=be<<je}r.DES=oe._createHelper(xe);var Se=ke.TripleDES=oe.extend({_doReset:function(){var Te=this._key.words;if(2!==Te.length&&4!==Te.length&&Te.length<6)throw new Error("Invalid key length - 3DES requires the key length to be 64, 128, 192 or >192.");var be=Te.slice(0,2),Oe=Te.length<4?Te.slice(0,2):Te.slice(2,4),at=Te.length<6?Te.slice(0,2):Te.slice(4,6);this._des1=xe.createEncryptor(ve.create(be)),this._des2=xe.createEncryptor(ve.create(Oe)),this._des3=xe.createEncryptor(ve.create(at))},encryptBlock:function(je,Te){this._des1.encryptBlock(je,Te),this._des2.decryptBlock(je,Te),this._des3.encryptBlock(je,Te)},decryptBlock:function(je,Te){this._des3.decryptBlock(je,Te),this._des2.encryptBlock(je,Te),this._des1.decryptBlock(je,Te)},keySize:6,ivSize:2,blockSize:2});r.TripleDES=oe._createHelper(Se)}(),L.TripleDES)},2599(on,ct,$){var L;on.exports=(L=$(7656),$(2414),L.pad.NoPadding={pad:function(){},unpad:function(){}},L.pad.NoPadding)},2795(on,ct,$){var L;on.exports=(L=$(7656),$(8891),$(8855),$(4147),$(2414),function(){var r=L,ve=r.lib.StreamCipher,ke=[],Ae=[],ee=[],v=r.algo.Rabbit=ve.extend({_doReset:function(){for(var ie=this._key.words,xe=this.cfg.iv,t=0;t<4;t++)ie[t]=16711935&(ie[t]<<8|ie[t]>>>24)|4278255360&(ie[t]<<24|ie[t]>>>8);var Le=this._X=[ie[0],ie[3]<<16|ie[2]>>>16,ie[1],ie[0]<<16|ie[3]>>>16,ie[2],ie[1]<<16|ie[0]>>>16,ie[3],ie[2]<<16|ie[1]>>>16],Se=this._C=[ie[2]<<16|ie[2]>>>16,4294901760&ie[0]|65535&ie[1],ie[3]<<16|ie[3]>>>16,4294901760&ie[1]|65535&ie[2],ie[0]<<16|ie[0]>>>16,4294901760&ie[2]|65535&ie[3],ie[1]<<16|ie[1]>>>16,4294901760&ie[3]|65535&ie[0]];for(this._b=0,t=0;t<4;t++)m.call(this);for(t=0;t<8;t++)Se[t]^=Le[t+4&7];if(xe){var je=xe.words,Te=je[0],be=je[1],Oe=16711935&(Te<<8|Te>>>24)|4278255360&(Te<<24|Te>>>8),at=16711935&(be<<8|be>>>24)|4278255360&(be<<24|be>>>8),ze=Oe>>>16|4294901760&at,et=at<<16|65535&Oe;for(Se[0]^=Oe,Se[1]^=ze,Se[2]^=at,Se[3]^=et,Se[4]^=Oe,Se[5]^=ze,Se[6]^=at,Se[7]^=et,t=0;t<4;t++)m.call(this)}},_doProcessBlock:function(ie,xe){var t=this._X;m.call(this),ke[0]=t[0]^t[5]>>>16^t[3]<<16,ke[1]=t[2]^t[7]>>>16^t[5]<<16,ke[2]=t[4]^t[1]>>>16^t[7]<<16,ke[3]=t[6]^t[3]>>>16^t[1]<<16;for(var Le=0;Le<4;Le++)ke[Le]=16711935&(ke[Le]<<8|ke[Le]>>>24)|4278255360&(ke[Le]<<24|ke[Le]>>>8),ie[xe+Le]^=ke[Le]},blockSize:4,ivSize:2});function m(){for(var ie=this._X,xe=this._C,t=0;t<8;t++)Ae[t]=xe[t];for(xe[0]=xe[0]+1295307597+this._b|0,xe[1]=xe[1]+3545052371+(xe[0]>>>0<Ae[0]>>>0?1:0)|0,xe[2]=xe[2]+886263092+(xe[1]>>>0<Ae[1]>>>0?1:0)|0,xe[3]=xe[3]+1295307597+(xe[2]>>>0<Ae[2]>>>0?1:0)|0,xe[4]=xe[4]+3545052371+(xe[3]>>>0<Ae[3]>>>0?1:0)|0,xe[5]=xe[5]+886263092+(xe[4]>>>0<Ae[4]>>>0?1:0)|0,xe[6]=xe[6]+1295307597+(xe[5]>>>0<Ae[5]>>>0?1:0)|0,xe[7]=xe[7]+3545052371+(xe[6]>>>0<Ae[6]>>>0?1:0)|0,this._b=xe[7]>>>0<Ae[7]>>>0?1:0,t=0;t<8;t++){var Le=ie[t]+xe[t],Se=65535&Le,je=Le>>>16;ee[t]=((Se*Se>>>17)+Se*je>>>15)+je*je^((4294901760&Le)*Le|0)+((65535&Le)*Le|0)}ie[0]=ee[0]+(ee[7]<<16|ee[7]>>>16)+(ee[6]<<16|ee[6]>>>16)|0,ie[1]=ee[1]+(ee[0]<<8|ee[0]>>>24)+ee[7]|0,ie[2]=ee[2]+(ee[1]<<16|ee[1]>>>16)+(ee[0]<<16|ee[0]>>>16)|0,ie[3]=ee[3]+(ee[2]<<8|ee[2]>>>24)+ee[1]|0,ie[4]=ee[4]+(ee[3]<<16|ee[3]>>>16)+(ee[2]<<16|ee[2]>>>16)|0,ie[5]=ee[5]+(ee[4]<<8|ee[4]>>>24)+ee[3]|0,ie[6]=ee[6]+(ee[5]<<16|ee[5]>>>16)+(ee[4]<<16|ee[4]>>>16)|0,ie[7]=ee[7]+(ee[6]<<8|ee[6]>>>24)+ee[5]|0}r.Rabbit=ve._createHelper(v)}(),L.Rabbit)},2923(on,ct,$){var L;on.exports=(L=$(7656),$(8891),$(8855),$(4147),$(2414),function(){var r=L,ve=r.lib.StreamCipher,ke=[],Ae=[],ee=[],v=r.algo.RabbitLegacy=ve.extend({_doReset:function(){var ie=this._key.words,xe=this.cfg.iv,t=this._X=[ie[0],ie[3]<<16|ie[2]>>>16,ie[1],ie[0]<<16|ie[3]>>>16,ie[2],ie[1]<<16|ie[0]>>>16,ie[3],ie[2]<<16|ie[1]>>>16],Le=this._C=[ie[2]<<16|ie[2]>>>16,4294901760&ie[0]|65535&ie[1],ie[3]<<16|ie[3]>>>16,4294901760&ie[1]|65535&ie[2],ie[0]<<16|ie[0]>>>16,4294901760&ie[2]|65535&ie[3],ie[1]<<16|ie[1]>>>16,4294901760&ie[3]|65535&ie[0]];this._b=0;for(var Se=0;Se<4;Se++)m.call(this);for(Se=0;Se<8;Se++)Le[Se]^=t[Se+4&7];if(xe){var je=xe.words,Te=je[0],be=je[1],Oe=16711935&(Te<<8|Te>>>24)|4278255360&(Te<<24|Te>>>8),at=16711935&(be<<8|be>>>24)|4278255360&(be<<24|be>>>8),ze=Oe>>>16|4294901760&at,et=at<<16|65535&Oe;for(Le[0]^=Oe,Le[1]^=ze,Le[2]^=at,Le[3]^=et,Le[4]^=Oe,Le[5]^=ze,Le[6]^=at,Le[7]^=et,Se=0;Se<4;Se++)m.call(this)}},_doProcessBlock:function(ie,xe){var t=this._X;m.call(this),ke[0]=t[0]^t[5]>>>16^t[3]<<16,ke[1]=t[2]^t[7]>>>16^t[5]<<16,ke[2]=t[4]^t[1]>>>16^t[7]<<16,ke[3]=t[6]^t[3]>>>16^t[1]<<16;for(var Le=0;Le<4;Le++)ke[Le]=16711935&(ke[Le]<<8|ke[Le]>>>24)|4278255360&(ke[Le]<<24|ke[Le]>>>8),ie[xe+Le]^=ke[Le]},blockSize:4,ivSize:2});function m(){for(var ie=this._X,xe=this._C,t=0;t<8;t++)Ae[t]=xe[t];for(xe[0]=xe[0]+1295307597+this._b|0,xe[1]=xe[1]+3545052371+(xe[0]>>>0<Ae[0]>>>0?1:0)|0,xe[2]=xe[2]+886263092+(xe[1]>>>0<Ae[1]>>>0?1:0)|0,xe[3]=xe[3]+1295307597+(xe[2]>>>0<Ae[2]>>>0?1:0)|0,xe[4]=xe[4]+3545052371+(xe[3]>>>0<Ae[3]>>>0?1:0)|0,xe[5]=xe[5]+886263092+(xe[4]>>>0<Ae[4]>>>0?1:0)|0,xe[6]=xe[6]+1295307597+(xe[5]>>>0<Ae[5]>>>0?1:0)|0,xe[7]=xe[7]+3545052371+(xe[6]>>>0<Ae[6]>>>0?1:0)|0,this._b=xe[7]>>>0<Ae[7]>>>0?1:0,t=0;t<8;t++){var Le=ie[t]+xe[t],Se=65535&Le,je=Le>>>16;ee[t]=((Se*Se>>>17)+Se*je>>>15)+je*je^((4294901760&Le)*Le|0)+((65535&Le)*Le|0)}ie[0]=ee[0]+(ee[7]<<16|ee[7]>>>16)+(ee[6]<<16|ee[6]>>>16)|0,ie[1]=ee[1]+(ee[0]<<8|ee[0]>>>24)+ee[7]|0,ie[2]=ee[2]+(ee[1]<<16|ee[1]>>>16)+(ee[0]<<16|ee[0]>>>16)|0,ie[3]=ee[3]+(ee[2]<<8|ee[2]>>>24)+ee[1]|0,ie[4]=ee[4]+(ee[3]<<16|ee[3]>>>16)+(ee[2]<<16|ee[2]>>>16)|0,ie[5]=ee[5]+(ee[4]<<8|ee[4]>>>24)+ee[3]|0,ie[6]=ee[6]+(ee[5]<<16|ee[5]>>>16)+(ee[4]<<16|ee[4]>>>16)|0,ie[7]=ee[7]+(ee[6]<<8|ee[6]>>>24)+ee[5]|0}r.RabbitLegacy=ve._createHelper(v)}(),L.RabbitLegacy)},3049(on,ct,$){"use strict";$.d(ct,{Wk:()=>Te,iI:()=>Un,lh:()=>Ve,wQ:()=>be});var L=$(467),r=$(5984),R=$(177),ve=$(9769),oe=$(6494),ke=$(7705),Ae=$(375),ee=$(5547),v=$(6245),m=$(1413),ie=$(6648),xe=$(7673),t=$(274),Le=$(5964),Se=$(6365),je=$(1397);let Te=(()=>{class yn{router;route;tabIndexAttribute;renderer;el;locationStrategy;reactiveHref=(0,Ae.vPA)(null);get href(){return(0,Ae.O8t)(this.reactiveHref)}set href(ln){this.reactiveHref.set(ln)}target;queryParams;fragment;queryParamsHandling;state;info;relativeTo;isAnchorElement;subscription;onChanges=new m.B;applicationErrorHandler=(0,Ae.WQX)(Ae.ZTf);options=(0,Ae.WQX)(v.J_,{optional:!0});constructor(ln,gn,zn,sr,Tr,Zn){this.router=ln,this.route=gn,this.tabIndexAttribute=zn,this.renderer=sr,this.el=Tr,this.locationStrategy=Zn,this.reactiveHref.set((0,Ae.WQX)(new ke.ES_("href"),{optional:!0}));const Fi=Tr.nativeElement.tagName?.toLowerCase();this.isAnchorElement="a"===Fi||"area"===Fi||!("object"!=typeof customElements||!customElements.get(Fi)?.observedAttributes?.includes?.("href")),this.isAnchorElement&&(this.setTabIndexIfNotOnNativeEl("0"),this.subscribeToNavigationEventsIfNecessary())}subscribeToNavigationEventsIfNecessary(){void 0===this.subscription&&(this.subscription=this.router.events.subscribe(ln=>{ln instanceof v.wF&&this.updateHref()}))}preserveFragment=!1;skipLocationChange=!1;replaceUrl=!1;setTabIndexIfNotOnNativeEl(ln){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",ln)}ngOnChanges(ln){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}routerLinkInput=null;set routerLink(ln){null==ln?(this.routerLinkInput=null,this.setTabIndexIfNotOnNativeEl(null)):(this.routerLinkInput=(0,v.wO)(ln)||Array.isArray(ln)?ln:[ln],this.setTabIndexIfNotOnNativeEl("0"))}onClick(ln,gn,zn,sr,Tr){const Zn=this.urlTree;if(null===Zn||this.isAnchorElement&&(0!==ln||gn||zn||sr||Tr||"string"==typeof this.target&&"_self"!=this.target))return!0;const Fi={skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state,info:this.info};return this.router.navigateByUrl(Zn,Fi)?.catch(oo=>{this.applicationErrorHandler(oo)}),!this.isAnchorElement}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){const ln=this.urlTree;this.reactiveHref.set(null!==ln&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(ln))??"":null)}applyAttributeValue(ln,gn){const zn=this.renderer,sr=this.el.nativeElement;null!==gn?zn.setAttribute(sr,ln,gn):zn.removeAttribute(sr,ln)}get urlTree(){return null===this.routerLinkInput?null:(0,v.wO)(this.routerLinkInput)?this.routerLinkInput:this.router.createUrlTree(this.routerLinkInput,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static \u0275fac=function(gn){return new(gn||yn)(ee.rXU(v.Ix),ee.rXU(v.nX),ee.kS0("tabindex"),ee.rXU(ee.sFG),ee.rXU(ee.aKT),ee.rXU(r.hb))};static \u0275dir=ee.FsC({type:yn,selectors:[["","routerLink",""]],hostVars:2,hostBindings:function(gn,zn){1&gn&&ee.bIt("click",function(Tr){return zn.onClick(Tr.button,Tr.ctrlKey,Tr.shiftKey,Tr.altKey,Tr.metaKey)}),2&gn&&ee.BMQ("href",zn.reactiveHref(),ee.n$t)("target",zn.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",info:"info",relativeTo:"relativeTo",preserveFragment:[2,"preserveFragment","preserveFragment",ke.L39],skipLocationChange:[2,"skipLocationChange","skipLocationChange",ke.L39],replaceUrl:[2,"replaceUrl","replaceUrl",ke.L39],routerLink:"routerLink"},features:[ee.OA$]})}return yn})(),be=(()=>{class yn{router;element;renderer;cdr;links;classes=[];routerEventsSubscription;linkInputChangesSubscription;_isActive=!1;get isActive(){return this._isActive}routerLinkActiveOptions={exact:!1};ariaCurrentWhenActive;isActiveChange=new Ae.bkB;link=(0,Ae.WQX)(Te,{optional:!0});constructor(ln,gn,zn,sr){this.router=ln,this.element=gn,this.renderer=zn,this.cdr=sr,this.routerEventsSubscription=ln.events.subscribe(Tr=>{Tr instanceof v.wF&&this.update()})}ngAfterContentInit(){(0,xe.of)(this.links.changes,(0,xe.of)(null)).pipe((0,Se.U)()).subscribe(ln=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){this.linkInputChangesSubscription?.unsubscribe();const ln=[...this.links.toArray(),this.link].filter(gn=>!!gn).map(gn=>gn.onChanges);this.linkInputChangesSubscription=(0,ie.H)(ln).pipe((0,Se.U)()).subscribe(gn=>{this._isActive!==this.isLinkActive(this.router)(gn)&&this.update()})}set routerLinkActive(ln){const gn=Array.isArray(ln)?ln:ln.split(" ");this.classes=gn.filter(zn=>!!zn)}ngOnChanges(ln){this.update()}ngOnDestroy(){this.routerEventsSubscription.unsubscribe(),this.linkInputChangesSubscription?.unsubscribe()}update(){!this.links||!this.router.navigated||queueMicrotask(()=>{const ln=this.hasActiveLinks();this.classes.forEach(gn=>{ln?this.renderer.addClass(this.element.nativeElement,gn):this.renderer.removeClass(this.element.nativeElement,gn)}),ln&&void 0!==this.ariaCurrentWhenActive?this.renderer.setAttribute(this.element.nativeElement,"aria-current",this.ariaCurrentWhenActive.toString()):this.renderer.removeAttribute(this.element.nativeElement,"aria-current"),this._isActive!==ln&&(this._isActive=ln,this.cdr.markForCheck(),this.isActiveChange.emit(ln))})}isLinkActive(ln){const gn=function Oe(yn){return!!yn.paths}(this.routerLinkActiveOptions)?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact||!1;return zn=>{const sr=zn.urlTree;return!!sr&&ln.isActive(sr,gn)}}hasActiveLinks(){const ln=this.isLinkActive(this.router);return this.link&&ln(this.link)||this.links.some(ln)}static \u0275fac=function(gn){return new(gn||yn)(ee.rXU(v.Ix),ee.rXU(ee.aKT),ee.rXU(ee.sFG),ee.rXU(ke.gRc))};static \u0275dir=ee.FsC({type:yn,selectors:[["","routerLinkActive",""]],contentQueries:function(gn,zn,sr){if(1&gn&&ee.wni(sr,Te,5),2&gn){let Tr;ee.mGM(Tr=ee.lsd())&&(zn.links=Tr)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",ariaCurrentWhenActive:"ariaCurrentWhenActive",routerLinkActive:"routerLinkActive"},outputs:{isActiveChange:"isActiveChange"},exportAs:["routerLinkActive"],features:[ee.OA$]})}return yn})();class at{}let st=(()=>{class yn{router;injector;preloadingStrategy;loader;subscription;constructor(ln,gn,zn,sr){this.router=ln,this.injector=gn,this.preloadingStrategy=zn,this.loader=sr}setUpPreloading(){this.subscription=this.router.events.pipe((0,Le.p)(ln=>ln instanceof v.wF),(0,t.H)(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription?.unsubscribe()}processRoutes(ln,gn){const zn=[];for(const sr of gn){sr.providers&&!sr._injector&&(sr._injector=(0,ee.Ol2)(sr.providers,ln,""));const Tr=sr._injector??ln,Zn=sr._loadedInjector??Tr;(sr.loadChildren&&!sr._loadedRoutes&&void 0===sr.canLoad||sr.loadComponent&&!sr._loadedComponent)&&zn.push(this.preloadConfig(Tr,sr)),(sr.children||sr._loadedRoutes)&&zn.push(this.processRoutes(Zn,sr.children??sr._loadedRoutes))}return(0,ie.H)(zn).pipe((0,Se.U)())}preloadConfig(ln,gn){return this.preloadingStrategy.preload(gn,()=>{let zn;zn=gn.loadChildren&&void 0===gn.canLoad?(0,ie.H)(this.loader.loadChildren(ln,gn)):(0,xe.of)(null);const sr=zn.pipe((0,je.Z)(Tr=>null===Tr?(0,xe.of)(void 0):(gn._loadedRoutes=Tr.routes,gn._loadedInjector=Tr.injector,this.processRoutes(Tr.injector??ln,Tr.routes))));if(gn.loadComponent&&!gn._loadedComponent){const Tr=this.loader.loadComponent(ln,gn);return(0,ie.H)([sr,Tr]).pipe((0,Se.U)())}return sr})}static \u0275fac=function(gn){return new(gn||yn)(Ae.KVO(v.Ix),Ae.KVO(Ae.uvJ),Ae.KVO(at),Ae.KVO(v.D$))};static \u0275prov=Ae.jDH({token:yn,factory:yn.\u0275fac,providedIn:"root"})}return yn})();const rn=new Ae.nKC("");let It=(()=>{class yn{urlSerializer;transitions;viewportScroller;zone;options;routerEventsSubscription;scrollEventsSubscription;lastId=0;lastSource=v.wU;restoredId=0;store={};constructor(ln,gn,zn,sr,Tr={}){this.urlSerializer=ln,this.transitions=gn,this.viewportScroller=zn,this.zone=sr,this.options=Tr,Tr.scrollPositionRestoration||="disabled",Tr.anchorScrolling||="disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(ln=>{ln instanceof v.Z?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=ln.navigationTrigger,this.restoredId=ln.restoredState?ln.restoredState.navigationId:0):ln instanceof v.wF?(this.lastId=ln.id,this.scheduleScrollEvent(ln,this.urlSerializer.parse(ln.urlAfterRedirects).fragment)):ln instanceof v.lW&&ln.code===v.mo.IgnoredSameUrlNavigation&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(ln,this.urlSerializer.parse(ln.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(ln=>{if(!(ln instanceof v.OY))return;const gn={behavior:"instant"};ln.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0],gn):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(ln.position,gn):ln.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(ln.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0])})}scheduleScrollEvent(ln,gn){var zn=this;this.zone.runOutsideAngular((0,L.A)(function*(){yield new Promise(sr=>{setTimeout(sr),typeof requestAnimationFrame<"u"&&requestAnimationFrame(sr)}),zn.zone.run(()=>{zn.transitions.events.next(new v.OY(ln,"popstate"===zn.lastSource?zn.store[zn.restoredId]:null,gn))})}))}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static \u0275fac=function(gn){ee.QTQ()};static \u0275prov=Ae.jDH({token:yn,factory:yn.\u0275fac})}return yn})();function Ve(yn,...or){return(0,Ae.EmA)([{provide:v.bw,multi:!0,useValue:yn},[],{provide:v.nX,useFactory:en},{provide:ee.iLQ,multi:!0,useFactory:Xe},or.map(ln=>ln.\u0275providers)])}function en(){return(0,Ae.WQX)(v.Ix).routerState.root}function Bt(yn,or){return{\u0275kind:yn,\u0275providers:or}}function Xe(){const yn=(0,Ae.WQX)(Ae.zZn);return or=>{const ln=yn.get(ee.o8S);if(or!==ln.components[0])return;const gn=yn.get(v.Ix),zn=yn.get(Ze);1===yn.get(dt)&&gn.initialNavigation(),yn.get(wn,null,{optional:!0})?.setUpPreloading(),yn.get(rn,null,{optional:!0})?.init(),gn.resetRootComponentType(ln.componentTypes[0]),zn.closed||(zn.next(),zn.complete(),zn.unsubscribe())}}const Ze=new Ae.nKC("",{factory:()=>new m.B}),dt=new Ae.nKC("",{factory:()=>1}),wn=new Ae.nKC("");function bn(yn){return Bt(0,[{provide:wn,useExisting:st},{provide:at,useExisting:yn}])}function mi(yn){return(0,ee._jY)("NgRouterViewTransitions"),Bt(9,[{provide:v.Pu,useValue:v.Lg},{provide:v.bK,useValue:{skipNextTransition:!!yn?.skipInitialTransition,...yn}}])}const Kt=[r.aZ,{provide:v.Sd,useClass:v.nU},v.Ix,v.Zp,{provide:v.nX,useFactory:en},v.D$,[]];let Un=(()=>{class yn{constructor(){}static forRoot(ln,gn){return{ngModule:yn,providers:[Kt,[],{provide:v.bw,multi:!0,useValue:ln},[],gn?.errorHandler?{provide:v.XR,useValue:gn.errorHandler}:[],{provide:v.J_,useValue:gn||{}},gn?.useHash?{provide:r.hb,useClass:ve.fw}:{provide:r.hb,useClass:r.Sm},{provide:rn,useFactory:()=>{const yn=(0,Ae.WQX)(R.Xr),or=(0,Ae.WQX)(Ae.SKi),ln=(0,Ae.WQX)(v.J_),gn=(0,Ae.WQX)(v.J2),zn=(0,Ae.WQX)(v.Sd);return ln.scrollOffset&&yn.setOffset(ln.scrollOffset),new It(zn,gn,yn,or,ln)}},gn?.preloadingStrategy?bn(gn.preloadingStrategy).\u0275providers:[],gn?.initialNavigation?Gi(gn):[],gn?.bindToComponentInputs?Bt(8,[v.tD,{provide:v.c1,useExisting:v.tD}]).\u0275providers:[],gn?.enableViewTransitions?mi().\u0275providers:[],[{provide:Li,useFactory:Xe},{provide:ee.iLQ,multi:!0,useExisting:Li}]]}}static forChild(ln){return{ngModule:yn,providers:[{provide:v.bw,multi:!0,useValue:ln}]}}static \u0275fac=function(gn){return new(gn||yn)};static \u0275mod=ee.$C({type:yn});static \u0275inj=Ae.G2t({})}return yn})();function Gi(yn){return["disabled"===yn.initialNavigation?Bt(3,[(0,ee.phd)(()=>{(0,Ae.WQX)(v.Ix).setUpLocationChangeListener()}),{provide:dt,useValue:2}]).\u0275providers:[],"enabledBlocking"===yn.initialNavigation?Bt(2,[{provide:ee.tvf,useValue:!0},{provide:dt,useValue:0},(0,ee.phd)(()=>{const or=(0,Ae.WQX)(Ae.zZn);return or.get(oe.hj,Promise.resolve()).then(()=>new Promise(gn=>{const zn=or.get(v.Ix),sr=or.get(Ze);(0,v.gk)(zn,()=>{gn(!0)}),or.get(v.J2).afterPreactivation=()=>(gn(!0),sr.closed?(0,xe.of)(void 0):sr),zn.initialNavigation()}))})]).\u0275providers:[]]}const Li=new Ae.nKC("")},3073(on,ct,$){"use strict";$.d(ct,{D:()=>oe});const{isArray:L}=Array,{getPrototypeOf:r,prototype:R,keys:ve}=Object;function oe(Ae){if(1===Ae.length){const ee=Ae[0];if(L(ee))return{args:ee,keys:null};if(function ke(Ae){return Ae&&"object"==typeof Ae&&r(Ae)===R}(ee)){const v=ve(ee);return{args:v.map(m=>ee[m]),keys:v}}}return{args:Ae,keys:null}}},3117(on,ct,$){"use strict";function L(R,ve){ve=encodeURIComponent(ve);for(const oe of R.split(";")){const ke=oe.indexOf("="),[Ae,ee]=-1==ke?[oe,""]:[oe.slice(0,ke),oe.slice(ke+1)];if(Ae.trim()===ve)return decodeURIComponent(ee)}return null}$.d(ct,{N:()=>r,b:()=>L});class r{}},3188(on,ct,$){var L;on.exports=(L=$(7656),$(8891),$(8855),$(4147),$(2414),function(){var r=L,ve=r.lib.BlockCipher,oe=r.algo,ke=[],Ae=[],ee=[],v=[],m=[],ie=[],xe=[],t=[],Le=[],Se=[];!function(){for(var be=[],Oe=0;Oe<256;Oe++)be[Oe]=Oe<128?Oe<<1:Oe<<1^283;var at=0,ze=0;for(Oe=0;Oe<256;Oe++){var et=ze^ze<<1^ze<<2^ze<<3^ze<<4;ke[at]=et=et>>>8^255&et^99,Ae[et]=at;var Ht,st=be[at],rn=be[st],It=be[rn];ee[at]=(Ht=257*be[et]^16843008*et)<<24|Ht>>>8,v[at]=Ht<<16|Ht>>>16,m[at]=Ht<<8|Ht>>>24,ie[at]=Ht,xe[et]=(Ht=16843009*It^65537*rn^257*st^16843008*at)<<24|Ht>>>8,t[et]=Ht<<16|Ht>>>16,Le[et]=Ht<<8|Ht>>>24,Se[et]=Ht,at?(at=st^be[be[be[It^st]]],ze^=be[be[ze]]):at=ze=1}}();var je=[0,1,2,4,8,16,32,64,128,27,54],Te=oe.AES=ve.extend({_doReset:function(){if(!this._nRounds||this._keyPriorReset!==this._key){for(var Oe=this._keyPriorReset=this._key,at=Oe.words,ze=Oe.sigBytes/4,st=4*((this._nRounds=ze+6)+1),rn=this._keySchedule=[],It=0;It<st;It++)It<ze?rn[It]=at[It]:(be=rn[It-1],It%ze?ze>6&&It%ze==4&&(be=ke[be>>>24]<<24|ke[be>>>16&255]<<16|ke[be>>>8&255]<<8|ke[255&be]):(be=ke[(be=be<<8|be>>>24)>>>24]<<24|ke[be>>>16&255]<<16|ke[be>>>8&255]<<8|ke[255&be],be^=je[It/ze|0]<<24),rn[It]=rn[It-ze]^be);for(var Ht=this._invKeySchedule=[],At=0;At<st;At++){if(It=st-At,At%4)var be=rn[It];else be=rn[It-4];Ht[At]=At<4||It<=4?be:xe[ke[be>>>24]]^t[ke[be>>>16&255]]^Le[ke[be>>>8&255]]^Se[ke[255&be]]}}},encryptBlock:function(be,Oe){this._doCryptBlock(be,Oe,this._keySchedule,ee,v,m,ie,ke)},decryptBlock:function(be,Oe){var at=be[Oe+1];be[Oe+1]=be[Oe+3],be[Oe+3]=at,this._doCryptBlock(be,Oe,this._invKeySchedule,xe,t,Le,Se,Ae),at=be[Oe+1],be[Oe+1]=be[Oe+3],be[Oe+3]=at},_doCryptBlock:function(be,Oe,at,ze,et,st,rn,It){for(var Ht=this._nRounds,At=be[Oe]^at[0],Me=be[Oe+1]^at[1],gt=be[Oe+2]^at[2],Ve=be[Oe+3]^at[3],en=4,Bt=1;Bt<Ht;Bt++){var Dt=ze[At>>>24]^et[Me>>>16&255]^st[gt>>>8&255]^rn[255&Ve]^at[en++],ht=ze[Me>>>24]^et[gt>>>16&255]^st[Ve>>>8&255]^rn[255&At]^at[en++],Ke=ze[gt>>>24]^et[Ve>>>16&255]^st[At>>>8&255]^rn[255&Me]^at[en++],Ge=ze[Ve>>>24]^et[At>>>16&255]^st[Me>>>8&255]^rn[255&gt]^at[en++];At=Dt,Me=ht,gt=Ke,Ve=Ge}Dt=(It[At>>>24]<<24|It[Me>>>16&255]<<16|It[gt>>>8&255]<<8|It[255&Ve])^at[en++],ht=(It[Me>>>24]<<24|It[gt>>>16&255]<<16|It[Ve>>>8&255]<<8|It[255&At])^at[en++],Ke=(It[gt>>>24]<<24|It[Ve>>>16&255]<<16|It[At>>>8&255]<<8|It[255&Me])^at[en++],Ge=(It[Ve>>>24]<<24|It[At>>>16&255]<<16|It[Me>>>8&255]<<8|It[255&gt])^at[en++],be[Oe]=Dt,be[Oe+1]=ht,be[Oe+2]=Ke,be[Oe+3]=Ge},keySize:8});r.AES=ve._createHelper(Te)}(),L.AES)},3236(on,ct,$){"use strict";$.d(ct,{E:()=>R,b:()=>ve});var L=$(6780);const R=new($(9687).q)(L.R),ve=R},3261(on,ct,$){!function(L){var r={pairs:"()[]{}''\"\"",closeBefore:")]}'\":;>",triples:"",explode:"[]{}"},R=L.Pos;function ve(je,Te){return"pairs"==Te&&"string"==typeof je?je:"object"==typeof je&&null!=je[Te]?je[Te]:r[Te]}L.defineOption("autoCloseBrackets",!1,function(je,Te,be){be&&be!=L.Init&&(je.removeKeyMap(oe),je.state.closeBrackets=null),Te&&(ke(ve(Te,"pairs")),je.state.closeBrackets=Te,je.addKeyMap(oe))});var oe={Backspace:function v(je){var Te=ee(je);if(!Te||je.getOption("disableInput"))return L.Pass;for(var be=ve(Te,"pairs"),Oe=je.listSelections(),at=0;at<Oe.length;at++){if(!Oe[at].empty())return L.Pass;var ze=Le(je,Oe[at].head);if(!ze||be.indexOf(ze)%2!=0)return L.Pass}for(at=Oe.length-1;at>=0;at--){var et=Oe[at].head;je.replaceRange("",R(et.line,et.ch-1),R(et.line,et.ch+1),"+delete")}},Enter:function m(je){var Te=ee(je),be=Te&&ve(Te,"explode");if(!be||je.getOption("disableInput"))return L.Pass;for(var Oe=je.listSelections(),at=0;at<Oe.length;at++){if(!Oe[at].empty())return L.Pass;var ze=Le(je,Oe[at].head);if(!ze||be.indexOf(ze)%2!=0)return L.Pass}je.operation(function(){var et=je.lineSeparator()||"\n";je.replaceSelection(et+et,null),ie(je,-1),Oe=je.listSelections();for(var st=0;st<Oe.length;st++){var rn=Oe[st].head.line;je.indentLine(rn,null,!0),je.indentLine(rn+1,null,!0)}})}};function ke(je){for(var Te=0;Te<je.length;Te++){var be=je.charAt(Te),Oe="'"+be+"'";oe[Oe]||(oe[Oe]=Ae(be))}}function Ae(je){return function(Te){return function t(je,Te){var be=ee(je);if(!be||je.getOption("disableInput"))return L.Pass;var Oe=ve(be,"pairs"),at=Oe.indexOf(Te);if(-1==at)return L.Pass;for(var Ht,ze=ve(be,"closeBefore"),et=ve(be,"triples"),st=Oe.charAt(at+1)==Te,rn=je.listSelections(),It=at%2==0,At=0;At<rn.length;At++){var Ve,Me=rn[At],gt=Me.head,en=je.getRange(gt,R(gt.line,gt.ch+1));if(It&&!Me.empty())Ve="surround";else if(!st&&It||en!=Te)if(st&&gt.ch>1&&et.indexOf(Te)>=0&&je.getRange(R(gt.line,gt.ch-2),gt)==Te+Te){if(gt.ch>2&&/\bstring/.test(je.getTokenTypeAt(R(gt.line,gt.ch-2))))return L.Pass;Ve="addFour"}else if(st){var Bt=0==gt.ch?" ":je.getRange(R(gt.line,gt.ch-1),gt);if(L.isWordChar(en)||Bt==Te||L.isWordChar(Bt))return L.Pass;Ve="both"}else{if(!It||!(0===en.length||/\s/.test(en)||ze.indexOf(en)>-1))return L.Pass;Ve="both"}else Ve=st&&Se(je,gt)?"both":et.indexOf(Te)>=0&&je.getRange(gt,R(gt.line,gt.ch+3))==Te+Te+Te?"skipThree":"skip";if(Ht){if(Ht!=Ve)return L.Pass}else Ht=Ve}var Dt=at%2?Oe.charAt(at-1):Te,ht=at%2?Te:Oe.charAt(at+1);je.operation(function(){if("skip"==Ht)ie(je,1);else if("skipThree"==Ht)ie(je,3);else if("surround"==Ht){for(var Ke=je.getSelections(),Ge=0;Ge<Ke.length;Ge++)Ke[Ge]=Dt+Ke[Ge]+ht;for(je.replaceSelections(Ke,"around"),Ke=je.listSelections().slice(),Ge=0;Ge<Ke.length;Ge++)Ke[Ge]=xe(Ke[Ge]);je.setSelections(Ke)}else"both"==Ht?(je.replaceSelection(Dt+ht,null),je.triggerElectric(Dt+ht),ie(je,-1)):"addFour"==Ht&&(je.replaceSelection(Dt+Dt+Dt+Dt,"before"),ie(je,1))})}(Te,je)}}function ee(je){var Te=je.state.closeBrackets;return!Te||Te.override?Te:je.getModeAt(je.getCursor()).closeBrackets||Te}function ie(je,Te){for(var be=[],Oe=je.listSelections(),at=0,ze=0;ze<Oe.length;ze++){var et=Oe[ze];et.head==je.getCursor()&&(at=ze);var st=et.head.ch||Te>0?{line:et.head.line,ch:et.head.ch+Te}:{line:et.head.line-1};be.push({anchor:st,head:st})}je.setSelections(be,at)}function xe(je){var Te=L.cmpPos(je.anchor,je.head)>0;return{anchor:new R(je.anchor.line,je.anchor.ch+(Te?-1:1)),head:new R(je.head.line,je.head.ch+(Te?1:-1))}}function Le(je,Te){var be=je.getRange(R(Te.line,Te.ch-1),R(Te.line,Te.ch+1));return 2==be.length?be:null}function Se(je,Te){var be=je.getTokenAt(R(Te.line,Te.ch+1));return/\bstring/.test(be.type)&&be.start==Te.ch&&(0==Te.ch||!/\bstring/.test(je.getTokenTypeAt(Te)))}ke(r.pairs+"`")}($(1382))},3294(on,ct,$){"use strict";$.d(ct,{F:()=>ve});var L=$(3669),r=$(9974),R=$(4360);function ve(ke,Ae=L.D){return ke=ke??oe,(0,r.N)((ee,v)=>{let m,ie=!0;ee.subscribe((0,R._)(v,xe=>{const t=Ae(xe);(ie||!ke(m,t))&&(ie=!1,m=t,v.next(xe))}))})}function oe(ke,Ae){return ke===Ae}},3494(on,ct,$){"use strict";$.d(ct,{s:()=>L});const L="function"==typeof Symbol&&Symbol.observable||"@@observable"},3669(on,ct,$){"use strict";function L(r){return r}$.d(ct,{D:()=>L})},3752(on,ct,$){var L;on.exports=(L=$(7656),$(4501),function(r){var R=L,ve=R.lib,oe=ve.WordArray,ke=ve.Hasher,ee=R.x64.Word,v=R.algo,m=[],ie=[],xe=[];!function(){for(var Se=1,je=0,Te=0;Te<24;Te++){m[Se+5*je]=(Te+1)*(Te+2)/2%64;var Oe=(2*Se+3*je)%5;Se=je%5,je=Oe}for(Se=0;Se<5;Se++)for(je=0;je<5;je++)ie[Se+5*je]=je+(2*Se+3*je)%5*5;for(var at=1,ze=0;ze<24;ze++){for(var et=0,st=0,rn=0;rn<7;rn++){if(1&at){var It=(1<<rn)-1;It<32?st^=1<<It:et^=1<<It-32}128&at?at=at<<1^113:at<<=1}xe[ze]=ee.create(et,st)}}();var t=[];!function(){for(var Se=0;Se<25;Se++)t[Se]=ee.create()}();var Le=v.SHA3=ke.extend({cfg:ke.cfg.extend({outputLength:512}),_doReset:function(){for(var Se=this._state=[],je=0;je<25;je++)Se[je]=new ee.init;this.blockSize=(1600-2*this.cfg.outputLength)/32},_doProcessBlock:function(Se,je){for(var Te=this._state,be=this.blockSize/2,Oe=0;Oe<be;Oe++){var at=Se[je+2*Oe],ze=Se[je+2*Oe+1];at=16711935&(at<<8|at>>>24)|4278255360&(at<<24|at>>>8),(et=Te[Oe]).high^=ze=16711935&(ze<<8|ze>>>24)|4278255360&(ze<<24|ze>>>8),et.low^=at}for(var st=0;st<24;st++){for(var rn=0;rn<5;rn++){for(var It=0,Ht=0,At=0;At<5;At++)It^=(et=Te[rn+5*At]).high,Ht^=et.low;var Me=t[rn];Me.high=It,Me.low=Ht}for(rn=0;rn<5;rn++){var gt=t[(rn+4)%5],Ve=t[(rn+1)%5],en=Ve.high,Bt=Ve.low;for(It=gt.high^(en<<1|Bt>>>31),Ht=gt.low^(Bt<<1|en>>>31),At=0;At<5;At++)(et=Te[rn+5*At]).high^=It,et.low^=Ht}for(var Dt=1;Dt<25;Dt++){var ht=(et=Te[Dt]).high,Ke=et.low,Ge=m[Dt];Ge<32?(It=ht<<Ge|Ke>>>32-Ge,Ht=Ke<<Ge|ht>>>32-Ge):(It=Ke<<Ge-32|ht>>>64-Ge,Ht=ht<<Ge-32|Ke>>>64-Ge);var Ft=t[ie[Dt]];Ft.high=It,Ft.low=Ht}var Xe=t[0],Ze=Te[0];for(Xe.high=Ze.high,Xe.low=Ze.low,rn=0;rn<5;rn++)for(At=0;At<5;At++){var dt=t[Dt=rn+5*At],Et=t[(rn+1)%5+5*At],yt=t[(rn+2)%5+5*At];(et=Te[Dt]).high=dt.high^~Et.high&yt.high,et.low=dt.low^~Et.low&yt.low}var et,Nt=xe[st];(et=Te[0]).high^=Nt.high,et.low^=Nt.low}},_doFinalize:function(){var Se=this._data,je=Se.words,be=8*Se.sigBytes,Oe=32*this.blockSize;je[be>>>5]|=1<<24-be%32,je[(r.ceil((be+1)/Oe)*Oe>>>5)-1]|=128,Se.sigBytes=4*je.length,this._process();for(var at=this._state,ze=this.cfg.outputLength/8,et=ze/8,st=[],rn=0;rn<et;rn++){var It=at[rn],Ht=It.high,At=It.low;Ht=16711935&(Ht<<8|Ht>>>24)|4278255360&(Ht<<24|Ht>>>8),st.push(At=16711935&(At<<8|At>>>24)|4278255360&(At<<24|At>>>8)),st.push(Ht)}return new oe.init(st,ze)},clone:function(){for(var Se=ke.clone.call(this),je=Se._state=this._state.slice(0),Te=0;Te<25;Te++)je[Te]=je[Te].clone();return Se}});R.SHA3=ke._createHelper(Le),R.HmacSHA3=ke._createHmacHelper(Le)}(Math),L.SHA3)},3794(on,ct,$){"use strict";$.d(ct,{$R:()=>Io,JV:()=>yn,Lr:()=>Le,Nl:()=>rn,Qq:()=>sr,_y:()=>Te,b$:()=>Do}),$(467);var r=$(375),R=$(5547),ve=$(274),oe=$(5964),ke=$(980),Ae=$(6354),ee=$(5558),v=$(1985),ie=($(6648),$(7673)),xe=$(3117),t=$(6494);class Le{headers;normalizedNames=new Map;lazyInit;lazyUpdate=null;constructor(pt){pt?"string"==typeof pt?this.lazyInit=()=>{this.headers=new Map,pt.split("\n").forEach(lt=>{const tn=lt.indexOf(":");if(tn>0){const hn=lt.slice(0,tn),un=lt.slice(tn+1).trim();this.addHeaderEntry(hn,un)}})}:typeof Headers<"u"&&pt instanceof Headers?(this.headers=new Map,pt.forEach((lt,tn)=>{this.addHeaderEntry(tn,lt)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(pt).forEach(([lt,tn])=>{this.setHeaderEntries(lt,tn)})}:this.headers=new Map}has(pt){return this.init(),this.headers.has(pt.toLowerCase())}get(pt){this.init();const lt=this.headers.get(pt.toLowerCase());return lt&&lt.length>0?lt[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(pt){return this.init(),this.headers.get(pt.toLowerCase())||null}append(pt,lt){return this.clone({name:pt,value:lt,op:"a"})}set(pt,lt){return this.clone({name:pt,value:lt,op:"s"})}delete(pt,lt){return this.clone({name:pt,value:lt,op:"d"})}maybeSetNormalizedName(pt,lt){this.normalizedNames.has(lt)||this.normalizedNames.set(lt,pt)}init(){this.lazyInit&&(this.lazyInit instanceof Le?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(pt=>this.applyUpdate(pt)),this.lazyUpdate=null))}copyFrom(pt){pt.init(),Array.from(pt.headers.keys()).forEach(lt=>{this.headers.set(lt,pt.headers.get(lt)),this.normalizedNames.set(lt,pt.normalizedNames.get(lt))})}clone(pt){const lt=new Le;return lt.lazyInit=this.lazyInit&&this.lazyInit instanceof Le?this.lazyInit:this,lt.lazyUpdate=(this.lazyUpdate||[]).concat([pt]),lt}applyUpdate(pt){const lt=pt.name.toLowerCase();switch(pt.op){case"a":case"s":let tn=pt.value;if("string"==typeof tn&&(tn=[tn]),0===tn.length)return;this.maybeSetNormalizedName(pt.name,lt);const hn=("a"===pt.op?this.headers.get(lt):void 0)||[];hn.push(...tn),this.headers.set(lt,hn);break;case"d":const un=pt.value;if(un){let an=this.headers.get(lt);if(!an)return;an=an.filter(Rr=>-1===un.indexOf(Rr)),0===an.length?(this.headers.delete(lt),this.normalizedNames.delete(lt)):this.headers.set(lt,an)}else this.headers.delete(lt),this.normalizedNames.delete(lt)}}addHeaderEntry(pt,lt){const tn=pt.toLowerCase();this.maybeSetNormalizedName(pt,tn),this.headers.has(tn)?this.headers.get(tn).push(lt):this.headers.set(tn,[lt])}setHeaderEntries(pt,lt){const tn=(Array.isArray(lt)?lt:[lt]).map(un=>un.toString()),hn=pt.toLowerCase();this.headers.set(hn,tn),this.maybeSetNormalizedName(pt,hn)}forEach(pt){this.init(),Array.from(this.normalizedNames.keys()).forEach(lt=>pt(this.normalizedNames.get(lt),this.headers.get(lt)))}}class Te{map=new Map;set(pt,lt){return this.map.set(pt,lt),this}get(pt){return this.map.has(pt)||this.map.set(pt,pt.defaultValue()),this.map.get(pt)}delete(pt){return this.map.delete(pt),this}has(pt){return this.map.has(pt)}keys(){return this.map.keys()}}class be{encodeKey(pt){return et(pt)}encodeValue(pt){return et(pt)}decodeKey(pt){return decodeURIComponent(pt)}decodeValue(pt){return decodeURIComponent(pt)}}const at=/%(\d[a-f0-9])/gi,ze={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function et(He){return encodeURIComponent(He).replace(at,(pt,lt)=>ze[lt]??pt)}function st(He){return`${He}`}class rn{map;encoder;updates=null;cloneFrom=null;constructor(pt={}){if(this.encoder=pt.encoder||new be,pt.fromString){if(pt.fromObject)throw new r.buA(2805,!1);this.map=function Oe(He,pt){const lt=new Map;return He.length>0&&He.replace(/^\?/,"").split("&").forEach(hn=>{const un=hn.indexOf("="),[an,Rr]=-1==un?[pt.decodeKey(hn),""]:[pt.decodeKey(hn.slice(0,un)),pt.decodeValue(hn.slice(un+1))],rt=lt.get(an)||[];rt.push(Rr),lt.set(an,rt)}),lt}(pt.fromString,this.encoder)}else pt.fromObject?(this.map=new Map,Object.keys(pt.fromObject).forEach(lt=>{const tn=pt.fromObject[lt],hn=Array.isArray(tn)?tn.map(st):[st(tn)];this.map.set(lt,hn)})):this.map=null}has(pt){return this.init(),this.map.has(pt)}get(pt){this.init();const lt=this.map.get(pt);return lt?lt[0]:null}getAll(pt){return this.init(),this.map.get(pt)||null}keys(){return this.init(),Array.from(this.map.keys())}append(pt,lt){return this.clone({param:pt,value:lt,op:"a"})}appendAll(pt){const lt=[];return Object.keys(pt).forEach(tn=>{const hn=pt[tn];Array.isArray(hn)?hn.forEach(un=>{lt.push({param:tn,value:un,op:"a"})}):lt.push({param:tn,value:hn,op:"a"})}),this.clone(lt)}set(pt,lt){return this.clone({param:pt,value:lt,op:"s"})}delete(pt,lt){return this.clone({param:pt,value:lt,op:"d"})}toString(){return this.init(),this.keys().map(pt=>{const lt=this.encoder.encodeKey(pt);return this.map.get(pt).map(tn=>lt+"="+this.encoder.encodeValue(tn)).join("&")}).filter(pt=>""!==pt).join("&")}clone(pt){const lt=new rn({encoder:this.encoder});return lt.cloneFrom=this.cloneFrom||this,lt.updates=(this.updates||[]).concat(pt),lt}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(pt=>this.map.set(pt,this.cloneFrom.map.get(pt))),this.updates.forEach(pt=>{switch(pt.op){case"a":case"s":const lt=("a"===pt.op?this.map.get(pt.param):void 0)||[];lt.push(st(pt.value)),this.map.set(pt.param,lt);break;case"d":if(void 0===pt.value){this.map.delete(pt.param);break}{let tn=this.map.get(pt.param)||[];const hn=tn.indexOf(st(pt.value));-1!==hn&&tn.splice(hn,1),tn.length>0?this.map.set(pt.param,tn):this.map.delete(pt.param)}}}),this.cloneFrom=this.updates=null)}}function Ht(He){return typeof ArrayBuffer<"u"&&He instanceof ArrayBuffer}function At(He){return typeof Blob<"u"&&He instanceof Blob}function Me(He){return typeof FormData<"u"&&He instanceof FormData}const Ve="Content-Type",Bt="text/plain",Dt="application/json",ht=`${Dt}, ${Bt}, */*`;class Ke{url;body=null;headers;context;reportProgress=!1;withCredentials=!1;credentials;keepalive=!1;cache;priority;mode;redirect;referrer;integrity;referrerPolicy;responseType="json";method;params;urlWithParams;transferCache;timeout;constructor(pt,lt,tn,hn){let un;if(this.url=lt,this.method=pt.toUpperCase(),function It(He){switch(He){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||hn?(this.body=void 0!==tn?tn:null,un=hn):un=tn,un){if(this.reportProgress=!!un.reportProgress,this.withCredentials=!!un.withCredentials,this.keepalive=!!un.keepalive,un.responseType&&(this.responseType=un.responseType),un.headers&&(this.headers=un.headers),un.context&&(this.context=un.context),un.params&&(this.params=un.params),un.priority&&(this.priority=un.priority),un.cache&&(this.cache=un.cache),un.credentials&&(this.credentials=un.credentials),"number"==typeof un.timeout){if(un.timeout<1||!Number.isInteger(un.timeout))throw new r.buA(2822,"");this.timeout=un.timeout}un.mode&&(this.mode=un.mode),un.redirect&&(this.redirect=un.redirect),un.integrity&&(this.integrity=un.integrity),un.referrer&&(this.referrer=un.referrer),un.referrerPolicy&&(this.referrerPolicy=un.referrerPolicy),this.transferCache=un.transferCache}if(this.headers??=new Le,this.context??=new Te,this.params){const an=this.params.toString();if(0===an.length)this.urlWithParams=lt;else{const Rr=lt.indexOf("?");this.urlWithParams=lt+(-1===Rr?"?":Rr<lt.length-1?"&":"")+an}}else this.params=new rn,this.urlWithParams=lt}serializeBody(){return null===this.body?null:"string"==typeof this.body||Ht(this.body)||At(this.body)||Me(this.body)||function gt(He){return typeof URLSearchParams<"u"&&He instanceof URLSearchParams}(this.body)?this.body:this.body instanceof rn?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||Me(this.body)?null:At(this.body)?this.body.type||null:Ht(this.body)?null:"string"==typeof this.body?Bt:this.body instanceof rn?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?Dt:null}clone(pt={}){const lt=pt.method||this.method,tn=pt.url||this.url,hn=pt.responseType||this.responseType,un=pt.keepalive??this.keepalive,an=pt.priority||this.priority,Rr=pt.cache||this.cache,rt=pt.mode||this.mode,Wt=pt.redirect||this.redirect,Qt=pt.credentials||this.credentials,Cn=pt.referrer||this.referrer,ge=pt.integrity||this.integrity,Ye=pt.referrerPolicy||this.referrerPolicy,ot=pt.transferCache??this.transferCache,kt=pt.timeout??this.timeout,Tn=void 0!==pt.body?pt.body:this.body,nr=pt.withCredentials??this.withCredentials,_r=pt.reportProgress??this.reportProgress;let Ur=pt.headers||this.headers,qn=pt.params||this.params;const tr=pt.context??this.context;return void 0!==pt.setHeaders&&(Ur=Object.keys(pt.setHeaders).reduce((Yi,hi)=>Yi.set(hi,pt.setHeaders[hi]),Ur)),pt.setParams&&(qn=Object.keys(pt.setParams).reduce((Yi,hi)=>Yi.set(hi,pt.setParams[hi]),qn)),new Ke(lt,tn,Tn,{params:qn,headers:Ur,context:tr,reportProgress:_r,responseType:hn,withCredentials:nr,transferCache:ot,keepalive:un,cache:Rr,priority:an,timeout:kt,mode:rt,redirect:Wt,credentials:Qt,referrer:Cn,integrity:ge,referrerPolicy:Ye})}}var Ge=function(He){return He[He.Sent=0]="Sent",He[He.UploadProgress=1]="UploadProgress",He[He.ResponseHeader=2]="ResponseHeader",He[He.DownloadProgress=3]="DownloadProgress",He[He.Response=4]="Response",He[He.User=5]="User",He}(Ge||{});class Ft{headers;status;statusText;url;ok;type;redirected;responseType;constructor(pt,lt=200,tn="OK"){this.headers=pt.headers||new Le,this.status=void 0!==pt.status?pt.status:lt,this.statusText=pt.statusText||tn,this.url=pt.url||null,this.redirected=pt.redirected,this.responseType=pt.responseType,this.ok=this.status>=200&&this.status<300}}class Xe extends Ft{constructor(pt={}){super(pt)}type=Ge.ResponseHeader;clone(pt={}){return new Xe({headers:pt.headers||this.headers,status:void 0!==pt.status?pt.status:this.status,statusText:pt.statusText||this.statusText,url:pt.url||this.url||void 0})}}class Ze extends Ft{body;constructor(pt={}){super(pt),this.body=void 0!==pt.body?pt.body:null}type=Ge.Response;clone(pt={}){return new Ze({body:void 0!==pt.body?pt.body:this.body,headers:pt.headers||this.headers,status:void 0!==pt.status?pt.status:this.status,statusText:pt.statusText||this.statusText,url:pt.url||this.url||void 0,redirected:pt.redirected??this.redirected,responseType:pt.responseType??this.responseType})}}class dt extends Ft{name="HttpErrorResponse";message;error;ok=!1;constructor(pt){super(pt,0,"Unknown Error"),this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${pt.url||"(unknown url)"}`:`Http failure response for ${pt.url||"(unknown url)"}: ${pt.status} ${pt.statusText}`,this.error=pt.error||null}}const bn=new r.nKC(""),Jn=/^\)\]\}',?\n/;let Kt=(()=>{class He{xhrFactory;tracingService=(0,r.WQX)(R.a8H,{optional:!0});constructor(lt){this.xhrFactory=lt}maybePropagateTrace(lt){return this.tracingService?.propagate?this.tracingService.propagate(lt):lt}handle(lt){if("JSONP"===lt.method)throw new r.buA(-2800,!1);const tn=this.xhrFactory;return(0,ie.of)(null).pipe((0,ee.n)(()=>new v.c(un=>{const an=tn.build();if(an.open(lt.method,lt.urlWithParams),lt.withCredentials&&(an.withCredentials=!0),lt.headers.forEach((Tn,nr)=>an.setRequestHeader(Tn,nr.join(","))),lt.headers.has("Accept")||an.setRequestHeader("Accept",ht),!lt.headers.has(Ve)){const Tn=lt.detectContentTypeHeader();null!==Tn&&an.setRequestHeader(Ve,Tn)}if(lt.timeout&&(an.timeout=lt.timeout),lt.responseType){const Tn=lt.responseType.toLowerCase();an.responseType="json"!==Tn?Tn:"text"}const Rr=lt.serializeBody();let rt=null;const Wt=()=>{if(null!==rt)return rt;const Tn=an.statusText||"OK",nr=new Le(an.getAllResponseHeaders());return rt=new Xe({headers:nr,status:an.status,statusText:Tn,url:an.responseURL||lt.url}),rt},Qt=this.maybePropagateTrace(()=>{let{headers:Tn,status:nr,statusText:_r,url:Ur}=Wt(),qn=null;204!==nr&&(qn=typeof an.response>"u"?an.responseText:an.response),0===nr&&(nr=qn?200:0);let tr=nr>=200&&nr<300;if("json"===lt.responseType&&"string"==typeof qn){const Yi=qn;qn=qn.replace(Jn,"");try{qn=""!==qn?JSON.parse(qn):null}catch(hi){qn=Yi,tr&&(tr=!1,qn={error:hi,text:qn})}}tr?(un.next(new Ze({body:qn,headers:Tn,status:nr,statusText:_r,url:Ur||void 0})),un.complete()):un.error(new dt({error:qn,headers:Tn,status:nr,statusText:_r,url:Ur||void 0}))}),Cn=this.maybePropagateTrace(Tn=>{const{url:nr}=Wt(),_r=new dt({error:Tn,status:an.status||0,statusText:an.statusText||"Unknown Error",url:nr||void 0});un.error(_r)});let ge=Cn;lt.timeout&&(ge=this.maybePropagateTrace(Tn=>{const{url:nr}=Wt(),_r=new dt({error:new DOMException("Request timed out","TimeoutError"),status:an.status||0,statusText:an.statusText||"Request timeout",url:nr||void 0});un.error(_r)}));let Ye=!1;const ot=this.maybePropagateTrace(Tn=>{Ye||(un.next(Wt()),Ye=!0);let nr={type:Ge.DownloadProgress,loaded:Tn.loaded};Tn.lengthComputable&&(nr.total=Tn.total),"text"===lt.responseType&&an.responseText&&(nr.partialText=an.responseText),un.next(nr)}),kt=this.maybePropagateTrace(Tn=>{let nr={type:Ge.UploadProgress,loaded:Tn.loaded};Tn.lengthComputable&&(nr.total=Tn.total),un.next(nr)});return an.addEventListener("load",Qt),an.addEventListener("error",Cn),an.addEventListener("timeout",ge),an.addEventListener("abort",Cn),lt.reportProgress&&(an.addEventListener("progress",ot),null!==Rr&&an.upload&&an.upload.addEventListener("progress",kt)),an.send(Rr),un.next({type:Ge.Sent}),()=>{an.removeEventListener("error",Cn),an.removeEventListener("abort",Cn),an.removeEventListener("load",Qt),an.removeEventListener("timeout",ge),lt.reportProgress&&(an.removeEventListener("progress",ot),null!==Rr&&an.upload&&an.upload.removeEventListener("progress",kt)),an.readyState!==an.DONE&&an.abort()}})))}static \u0275fac=function(tn){return new(tn||He)(r.KVO(xe.N))};static \u0275prov=r.jDH({token:He,factory:He.\u0275fac,providedIn:"root"})}return He})();function Un(He,pt){return pt(He)}const li=new r.nKC("",{factory:()=>[]}),Gi=new r.nKC(""),Li=new r.nKC("",{factory:()=>!0});let yn=(()=>{class He{static \u0275fac=function(tn){return new(tn||He)};static \u0275prov=r.jDH({token:He,factory:function(tn){let hn=null;return hn=tn?new(tn||He):r.KVO(Kt),hn},providedIn:"root"})}return He})(),ln=(()=>{class He{backend;injector;chain=null;pendingTasks=(0,r.WQX)(r.u5s);contributeToStability=(0,r.WQX)(Li);constructor(lt,tn){this.backend=lt,this.injector=tn}handle(lt){if(null===this.chain){const tn=Array.from(new Set([...this.injector.get(li),...this.injector.get(Gi,[])]));this.chain=tn.reduceRight((hn,un)=>function Pr(He,pt,lt){return(tn,hn)=>(0,r.N4e)(lt,()=>pt(tn,un=>He(un,hn)))}(hn,un,this.injector),Un)}if(this.contributeToStability){const tn=this.pendingTasks.add();return this.chain(lt,hn=>this.backend.handle(hn)).pipe((0,ke.j)(tn))}return this.chain(lt,tn=>this.backend.handle(tn))}static \u0275fac=function(tn){return new(tn||He)(r.KVO(yn),r.KVO(r.uvJ))};static \u0275prov=r.jDH({token:He,factory:He.\u0275fac,providedIn:"root"})}return He})(),gn=(()=>{class He{static \u0275fac=function(tn){return new(tn||He)};static \u0275prov=r.jDH({token:He,factory:function(tn){let hn=null;return hn=tn?new(tn||He):r.KVO(ln),hn},providedIn:"root"})}return He})();function zn(He,pt){return{body:pt,headers:He.headers,context:He.context,observe:He.observe,params:He.params,reportProgress:He.reportProgress,responseType:He.responseType,withCredentials:He.withCredentials,credentials:He.credentials,transferCache:He.transferCache,timeout:He.timeout,keepalive:He.keepalive,priority:He.priority,cache:He.cache,mode:He.mode,redirect:He.redirect,integrity:He.integrity,referrer:He.referrer,referrerPolicy:He.referrerPolicy}}let sr=(()=>{class He{handler;constructor(lt){this.handler=lt}request(lt,tn,hn={}){let un;if(lt instanceof Ke)un=lt;else{let rt,Wt;rt=hn.headers instanceof Le?hn.headers:new Le(hn.headers),hn.params&&(Wt=hn.params instanceof rn?hn.params:new rn({fromObject:hn.params})),un=new Ke(lt,tn,void 0!==hn.body?hn.body:null,{headers:rt,context:hn.context,params:Wt,reportProgress:hn.reportProgress,responseType:hn.responseType||"json",withCredentials:hn.withCredentials,transferCache:hn.transferCache,keepalive:hn.keepalive,priority:hn.priority,cache:hn.cache,mode:hn.mode,redirect:hn.redirect,credentials:hn.credentials,referrer:hn.referrer,referrerPolicy:hn.referrerPolicy,integrity:hn.integrity,timeout:hn.timeout})}const an=(0,ie.of)(un).pipe((0,ve.H)(rt=>this.handler.handle(rt)));if(lt instanceof Ke||"events"===hn.observe)return an;const Rr=an.pipe((0,oe.p)(rt=>rt instanceof Ze));switch(hn.observe||"body"){case"body":switch(un.responseType){case"arraybuffer":return Rr.pipe((0,Ae.T)(rt=>{if(null!==rt.body&&!(rt.body instanceof ArrayBuffer))throw new r.buA(2806,!1);return rt.body}));case"blob":return Rr.pipe((0,Ae.T)(rt=>{if(null!==rt.body&&!(rt.body instanceof Blob))throw new r.buA(2807,!1);return rt.body}));case"text":return Rr.pipe((0,Ae.T)(rt=>{if(null!==rt.body&&"string"!=typeof rt.body)throw new r.buA(2808,!1);return rt.body}));default:return Rr.pipe((0,Ae.T)(rt=>rt.body))}case"response":return Rr;default:throw new r.buA(2809,!1)}}delete(lt,tn={}){return this.request("DELETE",lt,tn)}get(lt,tn={}){return this.request("GET",lt,tn)}head(lt,tn={}){return this.request("HEAD",lt,tn)}jsonp(lt,tn){return this.request("JSONP",lt,{params:(new rn).append(tn,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(lt,tn={}){return this.request("OPTIONS",lt,tn)}patch(lt,tn,hn={}){return this.request("PATCH",lt,zn(hn,tn))}post(lt,tn,hn={}){return this.request("POST",lt,zn(hn,tn))}put(lt,tn,hn={}){return this.request("PUT",lt,zn(hn,tn))}static \u0275fac=function(tn){return new(tn||He)(r.KVO(gn))};static \u0275prov=r.jDH({token:He,factory:He.\u0275fac,providedIn:"root"})}return He})();const Lr=new r.nKC("",{factory:()=>!0}),Vi=new r.nKC("",{factory:()=>"XSRF-TOKEN"}),Ui=new r.nKC("",{providedIn:"root",factory:()=>"X-XSRF-TOKEN"});let Di=(()=>{class He{cookieName=(0,r.WQX)(Vi);doc=(0,r.WQX)(r.qQL);lastCookieString="";lastToken=null;parseCount=0;getToken(){const lt=this.doc.cookie||"";return lt!==this.lastCookieString&&(this.parseCount++,this.lastToken=(0,xe.b)(lt,this.cookieName),this.lastCookieString=lt),this.lastToken}static \u0275fac=function(tn){return new(tn||He)};static \u0275prov=r.jDH({token:He,factory:He.\u0275fac,providedIn:"root"})}return He})(),ui=(()=>{class He{static \u0275fac=function(tn){return new(tn||He)};static \u0275prov=r.jDH({token:He,factory:function(tn){let hn=null;return hn=tn?new(tn||He):r.KVO(Di),hn},providedIn:"root"})}return He})();function $i(He,pt){if(!(0,r.WQX)(Lr)||"GET"===He.method||"HEAD"===He.method)return pt(He);try{const hn=(0,r.WQX)(t.Vw).href,{origin:un}=new URL(hn),{origin:an}=new URL(He.url,un);if(un!==an)return pt(He)}catch{return pt(He)}const lt=(0,r.WQX)(ui).getToken(),tn=(0,r.WQX)(Ui);return null!=lt&&!He.headers.has(tn)&&(He=He.clone({headers:He.headers.set(tn,lt)})),pt(He)}var Mi=function(He){return He[He.Interceptors=0]="Interceptors",He[He.LegacyInterceptors=1]="LegacyInterceptors",He[He.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",He[He.NoXsrfProtection=3]="NoXsrfProtection",He[He.JsonpSupport=4]="JsonpSupport",He[He.RequestsMadeViaParent=5]="RequestsMadeViaParent",He[He.Fetch=6]="Fetch",He}(Mi||{});function Io(...He){const pt=[sr,ln,{provide:gn,useExisting:ln},{provide:yn,useFactory:()=>(0,r.WQX)(bn,{optional:!0})??(0,r.WQX)(Kt)},{provide:li,useValue:$i,multi:!0}];for(const lt of He)pt.push(...lt.\u0275providers);return(0,r.EmA)(pt)}function Do(He){return function Xi(He,pt){return{\u0275kind:He,\u0275providers:pt}}(Mi.Interceptors,He.map(pt=>({provide:li,useValue:pt,multi:!0})))}},3844(on,ct,$){!function(L){var r=/MSIE \d/.test(navigator.userAgent)&&(null==document.documentMode||document.documentMode<8),R=L.Pos,ve={"(":")>",")":"(<","[":"]>","]":"[<","{":"}>","}":"{<","<":">>",">":"<<"};function oe(ie){return ie&&ie.bracketRegex||/[(){}[\]]/}function ke(ie,xe,t){var Le=ie.getLineHandle(xe.line),Se=xe.ch-1,je=t&&t.afterCursor;null==je&&(je=/(^| )cm-fat-cursor($| )/.test(ie.getWrapperElement().className));var Te=oe(t),be=!je&&Se>=0&&Te.test(Le.text.charAt(Se))&&ve[Le.text.charAt(Se)]||Te.test(Le.text.charAt(Se+1))&&ve[Le.text.charAt(++Se)];if(!be)return null;var Oe=">"==be.charAt(1)?1:-1;if(t&&t.strict&&Oe>0!=(Se==xe.ch))return null;var at=ie.getTokenTypeAt(R(xe.line,Se+1)),ze=Ae(ie,R(xe.line,Se+(Oe>0?1:0)),Oe,at,t);return null==ze?null:{from:R(xe.line,Se),to:ze&&ze.pos,match:ze&&ze.ch==be.charAt(0),forward:Oe>0}}function Ae(ie,xe,t,Le,Se){for(var je=Se&&Se.maxScanLineLength||1e4,Te=Se&&Se.maxScanLines||1e3,be=[],Oe=oe(Se),at=t>0?Math.min(xe.line+Te,ie.lastLine()+1):Math.max(ie.firstLine()-1,xe.line-Te),ze=xe.line;ze!=at;ze+=t){var et=ie.getLine(ze);if(et){var st=t>0?0:et.length-1,rn=t>0?et.length:-1;if(!(et.length>je))for(ze==xe.line&&(st=xe.ch-(t<0?1:0));st!=rn;st+=t){var It=et.charAt(st);if(Oe.test(It)&&(void 0===Le||(ie.getTokenTypeAt(R(ze,st+1))||"")==(Le||""))){var Ht=ve[It];if(Ht&&">"==Ht.charAt(1)==t>0)be.push(It);else{if(!be.length)return{pos:R(ze,st),ch:It};be.pop()}}}}}return ze-t!=(t>0?ie.lastLine():ie.firstLine())&&null}function ee(ie,xe,t){for(var Le=ie.state.matchBrackets.maxHighlightLineLength||1e3,Se=t&&t.highlightNonMatching,je=[],Te=ie.listSelections(),be=0;be<Te.length;be++){var Oe=Te[be].empty()&&ke(ie,Te[be].head,t);if(Oe&&(Oe.match||!1!==Se)&&ie.getLine(Oe.from.line).length<=Le){var at=Oe.match?"CodeMirror-matchingbracket":"CodeMirror-nonmatchingbracket";je.push(ie.markText(Oe.from,R(Oe.from.line,Oe.from.ch+1),{className:at})),Oe.to&&ie.getLine(Oe.to.line).length<=Le&&je.push(ie.markText(Oe.to,R(Oe.to.line,Oe.to.ch+1),{className:at}))}}if(je.length){r&&ie.state.focused&&ie.focus();var ze=function(){ie.operation(function(){for(var et=0;et<je.length;et++)je[et].clear()})};if(!xe)return ze;setTimeout(ze,800)}}function v(ie){ie.operation(function(){ie.state.matchBrackets.currentlyHighlighted&&(ie.state.matchBrackets.currentlyHighlighted(),ie.state.matchBrackets.currentlyHighlighted=null),ie.state.matchBrackets.currentlyHighlighted=ee(ie,!1,ie.state.matchBrackets)})}function m(ie){ie.state.matchBrackets&&ie.state.matchBrackets.currentlyHighlighted&&(ie.state.matchBrackets.currentlyHighlighted(),ie.state.matchBrackets.currentlyHighlighted=null)}L.defineOption("matchBrackets",!1,function(ie,xe,t){t&&t!=L.Init&&(ie.off("cursorActivity",v),ie.off("focus",v),ie.off("blur",m),m(ie)),xe&&(ie.state.matchBrackets="object"==typeof xe?xe:{},ie.on("cursorActivity",v),ie.on("focus",v),ie.on("blur",m))}),L.defineExtension("matchBrackets",function(){ee(this,!0)}),L.defineExtension("findMatchingBracket",function(ie,xe,t){return(t||"boolean"==typeof xe)&&(t?(t.strict=xe,xe=t):xe=xe?{strict:!0}:null),ke(this,ie,xe)}),L.defineExtension("scanForBracket",function(ie,xe,t,Le){return Ae(this,ie,xe,t,Le)})}($(1382))},3852(on,ct,$){!function(L){"use strict";L.defineMode("javascript",function(r,R){var Se,je,ve=r.indentUnit,oe=R.statementIndent,ke=R.jsonld,Ae=R.json||ke,ee=!1!==R.trackScope,v=R.typescript,m=R.wordCharacters||/[\w$\xa1-\uffff]/,ie=function(){function ge(Ur){return{type:Ur,style:"keyword"}}var Ye=ge("keyword a"),ot=ge("keyword b"),kt=ge("keyword c"),Tn=ge("keyword d"),nr=ge("operator"),_r={type:"atom",style:"atom"};return{if:ge("if"),while:Ye,with:Ye,else:ot,do:ot,try:ot,finally:ot,return:Tn,break:Tn,continue:Tn,new:ge("new"),delete:kt,void:kt,throw:kt,debugger:ge("debugger"),var:ge("var"),const:ge("var"),let:ge("var"),function:ge("function"),catch:ge("catch"),for:ge("for"),switch:ge("switch"),case:ge("case"),default:ge("default"),in:nr,typeof:nr,instanceof:nr,true:_r,false:_r,null:_r,undefined:_r,NaN:_r,Infinity:_r,this:ge("this"),class:ge("class"),super:ge("atom"),yield:kt,export:ge("export"),import:ge("import"),extends:kt,await:kt}}(),xe=/[+\-*&%=<>!?|~^@]/,t=/^@(context|id|value|language|type|container|list|set|reverse|index|base|vocab|graph)"/;function Te(ge,Ye,ot){return Se=ge,je=ot,Ye}function be(ge,Ye){var ot=ge.next();if('"'==ot||"'"==ot)return Ye.tokenize=function Oe(ge){return function(Ye,ot){var Tn,kt=!1;if(ke&&"@"==Ye.peek()&&Ye.match(t))return ot.tokenize=be,Te("jsonld-keyword","meta");for(;null!=(Tn=Ye.next())&&(Tn!=ge||kt);)kt=!kt&&"\\"==Tn;return kt||(ot.tokenize=be),Te("string","string")}}(ot),Ye.tokenize(ge,Ye);if("."==ot&&ge.match(/^\d[\d_]*(?:[eE][+\-]?[\d_]+)?/))return Te("number","number");if("."==ot&&ge.match(".."))return Te("spread","meta");if(/[\[\]{}\(\),;\:\.]/.test(ot))return Te(ot);if("="==ot&&ge.eat(">"))return Te("=>","operator");if("0"==ot&&ge.match(/^(?:x[\dA-Fa-f_]+|o[0-7_]+|b[01_]+)n?/))return Te("number","number");if(/\d/.test(ot))return ge.match(/^[\d_]*(?:n|(?:\.[\d_]*)?(?:[eE][+\-]?[\d_]+)?)?/),Te("number","number");if("/"==ot)return ge.eat("*")?(Ye.tokenize=at,at(ge,Ye)):ge.eat("/")?(ge.skipToEnd(),Te("comment","comment")):Cn(ge,Ye,1)?(function Le(ge){for(var ot,Ye=!1,kt=!1;null!=(ot=ge.next());){if(!Ye){if("/"==ot&&!kt)return;"["==ot?kt=!0:kt&&"]"==ot&&(kt=!1)}Ye=!Ye&&"\\"==ot}}(ge),ge.match(/^\b(([gimyus])(?![gimyus]*\2))+\b/),Te("regexp","string-2")):(ge.eat("="),Te("operator","operator",ge.current()));if("`"==ot)return Ye.tokenize=ze,ze(ge,Ye);if("#"==ot&&"!"==ge.peek())return ge.skipToEnd(),Te("meta","meta");if("#"==ot&&ge.eatWhile(m))return Te("variable","property");if("<"==ot&&ge.match("!--")||"-"==ot&&ge.match("->")&&!/\S/.test(ge.string.slice(0,ge.start)))return ge.skipToEnd(),Te("comment","comment");if(xe.test(ot))return(">"!=ot||!Ye.lexical||">"!=Ye.lexical.type)&&(ge.eat("=")?("!"==ot||"="==ot)&&ge.eat("="):/[<>*+\-|&?]/.test(ot)&&(ge.eat(ot),">"==ot&&ge.eat(ot))),"?"==ot&&ge.eat(".")?Te("."):Te("operator","operator",ge.current());if(m.test(ot)){ge.eatWhile(m);var kt=ge.current();if("."!=Ye.lastType){if(ie.propertyIsEnumerable(kt)){var Tn=ie[kt];return Te(Tn.type,Tn.style,kt)}if("async"==kt&&ge.match(/^(\s|\/\*([^*]|\*(?!\/))*?\*\/)*[\[\(\w]/,!1))return Te("async","keyword",kt)}return Te("variable","variable",kt)}}function at(ge,Ye){for(var kt,ot=!1;kt=ge.next();){if("/"==kt&&ot){Ye.tokenize=be;break}ot="*"==kt}return Te("comment","comment")}function ze(ge,Ye){for(var kt,ot=!1;null!=(kt=ge.next());){if(!ot&&("`"==kt||"$"==kt&&ge.eat("{"))){Ye.tokenize=be;break}ot=!ot&&"\\"==kt}return Te("quasi","string-2",ge.current())}function st(ge,Ye){Ye.fatArrowAt&&(Ye.fatArrowAt=null);var ot=ge.string.indexOf("=>",ge.start);if(!(ot<0)){if(v){var kt=/:\s*(?:\w+(?:<[^>]*>|\[\])?|\{[^}]*\})\s*$/.exec(ge.string.slice(ge.start,ot));kt&&(ot=kt.index)}for(var Tn=0,nr=!1,_r=ot-1;_r>=0;--_r){var Ur=ge.string.charAt(_r),qn="([{}])".indexOf(Ur);if(qn>=0&&qn<3){if(!Tn){++_r;break}if(0==--Tn){"("==Ur&&(nr=!0);break}}else if(qn>=3&&qn<6)++Tn;else if(m.test(Ur))nr=!0;else if(/["'\/`]/.test(Ur))for(;;--_r){if(0==_r)return;if(ge.string.charAt(_r-1)==Ur&&"\\"!=ge.string.charAt(_r-2)){_r--;break}}else if(nr&&!Tn){++_r;break}}nr&&!Tn&&(Ye.fatArrowAt=_r)}}var rn={atom:!0,number:!0,variable:!0,string:!0,regexp:!0,this:!0,import:!0,"jsonld-keyword":!0};function It(ge,Ye,ot,kt,Tn,nr){this.indented=ge,this.column=Ye,this.type=ot,this.prev=Tn,this.info=nr,null!=kt&&(this.align=kt)}function Ht(ge,Ye){if(!ee)return!1;for(var ot=ge.localVars;ot;ot=ot.next)if(ot.name==Ye)return!0;for(var kt=ge.context;kt;kt=kt.prev)for(ot=kt.vars;ot;ot=ot.next)if(ot.name==Ye)return!0}function At(ge,Ye,ot,kt,Tn){var nr=ge.cc;for(Me.state=ge,Me.stream=Tn,Me.marked=null,Me.cc=nr,Me.style=Ye,ge.lexical.hasOwnProperty("align")||(ge.lexical.align=!0);;)if((nr.length?nr.pop():Ae?Gt:wn)(ot,kt)){for(;nr.length&&nr[nr.length-1].lex;)nr.pop()();return Me.marked?Me.marked:"variable"==ot&&Ht(ge,kt)?"variable-2":Ye}}var Me={state:null,column:null,marked:null,cc:null};function gt(){for(var ge=arguments.length-1;ge>=0;ge--)Me.cc.push(arguments[ge])}function Ve(){return gt.apply(null,arguments),!0}function en(ge,Ye){for(var ot=Ye;ot;ot=ot.next)if(ot.name==ge)return!0;return!1}function Bt(ge){var Ye=Me.state;if(Me.marked="def",ee){if(Ye.context)if("var"==Ye.lexical.info&&Ye.context&&Ye.context.block){var ot=Dt(ge,Ye.context);if(null!=ot)return void(Ye.context=ot)}else if(!en(ge,Ye.localVars))return void(Ye.localVars=new Ge(ge,Ye.localVars));R.globalVars&&!en(ge,Ye.globalVars)&&(Ye.globalVars=new Ge(ge,Ye.globalVars))}}function Dt(ge,Ye){if(Ye){if(Ye.block){var ot=Dt(ge,Ye.prev);return ot?ot==Ye.prev?Ye:new Ke(ot,Ye.vars,!0):null}return en(ge,Ye.vars)?Ye:new Ke(Ye.prev,new Ge(ge,Ye.vars),!1)}return null}function ht(ge){return"public"==ge||"private"==ge||"protected"==ge||"abstract"==ge||"readonly"==ge}function Ke(ge,Ye,ot){this.prev=ge,this.vars=Ye,this.block=ot}function Ge(ge,Ye){this.name=ge,this.next=Ye}var Ft=new Ge("this",new Ge("arguments",null));function Xe(){Me.state.context=new Ke(Me.state.context,Me.state.localVars,!1),Me.state.localVars=Ft}function Ze(){Me.state.context=new Ke(Me.state.context,Me.state.localVars,!0),Me.state.localVars=null}function dt(){Me.state.localVars=Me.state.context.vars,Me.state.context=Me.state.context.prev}function Et(ge,Ye){var ot=function(){var kt=Me.state,Tn=kt.indented;if("stat"==kt.lexical.type)Tn=kt.lexical.indented;else for(var nr=kt.lexical;nr&&")"==nr.type&&nr.align;nr=nr.prev)Tn=nr.indented;kt.lexical=new It(Tn,Me.stream.column(),ge,null,kt.lexical,Ye)};return ot.lex=!0,ot}function yt(){var ge=Me.state;ge.lexical.prev&&(")"==ge.lexical.type&&(ge.indented=ge.lexical.indented),ge.lexical=ge.lexical.prev)}function Nt(ge){return function Ye(ot){return ot==ge?Ve():";"==ge||"}"==ot||")"==ot||"]"==ot?gt():Ve(Ye)}}function wn(ge,Ye){return"var"==ge?Ve(Et("vardef",Ye),Ui,Nt(";"),yt):"keyword a"==ge?Ve(Et("form"),On,wn,yt):"keyword b"==ge?Ve(Et("form"),wn,yt):"keyword d"==ge?Me.stream.match(/^\s*$/,!1)?Ve():Ve(Et("stat"),mi,Nt(";"),yt):"debugger"==ge?Ve(Nt(";")):"{"==ge?Ve(Et("}"),Ze,sr,yt,dt):";"==ge?Ve():"if"==ge?("else"==Me.state.lexical.info&&Me.state.cc[Me.state.cc.length-1]==yt&&Me.state.cc.pop()(),Ve(Et("form"),On,wn,yt,Xi)):"function"==ge?Ve(wo):"for"==ge?Ve(Et("form"),Ze,Io,wn,dt,yt):"class"==ge||v&&"interface"==Ye?(Me.marked="keyword",Ve(Et("form","class"==ge?ge:Ye),Zi,yt)):"variable"==ge?v&&"declare"==Ye?(Me.marked="keyword",Ve(wn)):v&&("module"==Ye||"enum"==Ye||"type"==Ye)&&Me.stream.match(/^\s*\w/,!1)?(Me.marked="keyword","enum"==Ye?Ve(rt):"type"==Ye?Ve(ss,Nt("operator"),Fn,Nt(";")):Ve(Et("form"),Di,Nt("{"),Et("}"),sr,yt,yt)):v&&"namespace"==Ye?(Me.marked="keyword",Ve(Et("form"),Gt,wn,yt)):v&&"abstract"==Ye?(Me.marked="keyword",Ve(wn)):Ve(Et("stat"),Li):"switch"==ge?Ve(Et("form"),On,Nt("{"),Et("}","switch"),Ze,sr,yt,yt,dt):"case"==ge?Ve(Gt,Nt(":")):"default"==ge?Ve(Nt(":")):"catch"==ge?Ve(Et("form"),Xe,bn,wn,yt,dt):"export"==ge?Ve(Et("stat"),He,yt):"import"==ge?Ve(Et("stat"),lt,yt):"async"==ge?Ve(wn):"@"==Ye?Ve(Gt,wn):gt(Et("stat"),Gt,Nt(";"),yt)}function bn(ge){if("("==ge)return Ve(yo,Nt(")"))}function Gt(ge,Ye){return Er(ge,Ye,!1)}function kn(ge,Ye){return Er(ge,Ye,!0)}function On(ge){return"("!=ge?gt():Ve(Et(")"),mi,Nt(")"),yt)}function Er(ge,Ye,ot){if(Me.state.fatArrowAt==Me.stream.start){var kt=ot?Pr:fr;if("("==ge)return Ve(Xe,Et(")"),gn(yo,")"),yt,Nt("=>"),kt,dt);if("variable"==ge)return gt(Xe,Di,Nt("=>"),kt,dt)}var Tn=ot?Pt:Jn;return rn.hasOwnProperty(ge)?Ve(Tn):"function"==ge?Ve(wo,Tn):"class"==ge||v&&"interface"==Ye?(Me.marked="keyword",Ve(Et("form"),Ji,yt)):"keyword c"==ge||"async"==ge?Ve(ot?kn:Gt):"("==ge?Ve(Et(")"),mi,Nt(")"),yt,Tn):"operator"==ge||"spread"==ge?Ve(ot?kn:Gt):"["==ge?Ve(Et("]"),Rr,yt,Tn):"{"==ge?zn(yn,"}",null,Tn):"quasi"==ge?gt(Kt,Tn):"new"==ge?Ve(function fi(ge){return function(Ye){return"."==Ye?Ve(ge?Gi:li):"variable"==Ye&&v?Ve(Pi,ge?Pt:Jn):gt(ge?kn:Gt)}}(ot)):Ve()}function mi(ge){return ge.match(/[;\}\)\],]/)?gt():gt(Gt)}function Jn(ge,Ye){return","==ge?Ve(mi):Pt(ge,Ye,!1)}function Pt(ge,Ye,ot){var kt=0==ot?Jn:Pt,Tn=0==ot?Gt:kn;if("=>"==ge)return Ve(Xe,ot?Pr:fr,dt);if("operator"==ge)return/\+\+|--/.test(Ye)||v&&"!"==Ye?Ve(kt):v&&"<"==Ye&&Me.stream.match(/^([^<>]|<[^<>]*>)*>\s*\(/,!1)?Ve(Et(">"),gn(Fn,">"),yt,kt):"?"==Ye?Ve(Gt,Nt(":"),Tn):Ve(Tn);if("quasi"==ge)return gt(Kt,kt);if(";"!=ge){if("("==ge)return zn(kn,")","call",kt);if("."==ge)return Ve(oi,kt);if("["==ge)return Ve(Et("]"),mi,Nt("]"),yt,kt);if(v&&"as"==Ye)return Me.marked="keyword",Ve(Fn,kt);if("regexp"==ge)return Me.state.lastType=Me.marked="operator",Me.stream.backUp(Me.stream.pos-Me.stream.start-1),Ve(Tn)}}function Kt(ge,Ye){return"quasi"!=ge?gt():"${"!=Ye.slice(Ye.length-2)?Ve(Kt):Ve(mi,Un)}function Un(ge){if("}"==ge)return Me.marked="string-2",Me.state.tokenize=ze,Ve(Kt)}function fr(ge){return st(Me.stream,Me.state),gt("{"==ge?wn:Gt)}function Pr(ge){return st(Me.stream,Me.state),gt("{"==ge?wn:kn)}function li(ge,Ye){if("target"==Ye)return Me.marked="keyword",Ve(Jn)}function Gi(ge,Ye){if("target"==Ye)return Me.marked="keyword",Ve(Pt)}function Li(ge){return":"==ge?Ve(yt,wn):gt(Jn,Nt(";"),yt)}function oi(ge){if("variable"==ge)return Me.marked="property",Ve()}function yn(ge,Ye){return"async"==ge?(Me.marked="property",Ve(yn)):"variable"==ge||"keyword"==Me.style?(Me.marked="property","get"==Ye||"set"==Ye?Ve(or):(v&&Me.state.fatArrowAt==Me.stream.start&&(ot=Me.stream.match(/^\s*:\s*/,!1))&&(Me.state.fatArrowAt=Me.stream.pos+ot[0].length),Ve(ln))):"number"==ge||"string"==ge?(Me.marked=ke?"property":Me.style+" property",Ve(ln)):"jsonld-keyword"==ge?Ve(ln):v&&ht(Ye)?(Me.marked="keyword",Ve(yn)):"["==ge?Ve(Gt,Tr,Nt("]"),ln):"spread"==ge?Ve(kn,ln):"*"==Ye?(Me.marked="keyword",Ve(yn)):":"==ge?gt(ln):void 0;var ot}function or(ge){return"variable"!=ge?gt(ln):(Me.marked="property",Ve(wo))}function ln(ge){return":"==ge?Ve(kn):"("==ge?gt(wo):void 0}function gn(ge,Ye,ot){function kt(Tn,nr){if(ot?ot.indexOf(Tn)>-1:","==Tn){var _r=Me.state.lexical;return"call"==_r.info&&(_r.pos=(_r.pos||0)+1),Ve(function(Ur,qn){return Ur==Ye||qn==Ye?gt():gt(ge)},kt)}return Tn==Ye||nr==Ye?Ve():ot&&ot.indexOf(";")>-1?gt(ge):Ve(Nt(Ye))}return function(Tn,nr){return Tn==Ye||nr==Ye?Ve():gt(ge,kt)}}function zn(ge,Ye,ot){for(var kt=3;kt<arguments.length;kt++)Me.cc.push(arguments[kt]);return Ve(Et(Ye,ot),gn(ge,Ye),yt)}function sr(ge){return"}"==ge?Ve():gt(wn,sr)}function Tr(ge,Ye){if(v){if(":"==ge)return Ve(Fn);if("?"==Ye)return Ve(Tr)}}function Zn(ge,Ye){if(v&&(":"==ge||"in"==Ye))return Ve(Fn)}function Fi(ge){if(v&&":"==ge)return Me.stream.match(/^\s*\w+\s+is\b/,!1)?Ve(Gt,oo,Fn):Ve(Fn)}function oo(ge,Ye){if("is"==Ye)return Me.marked="keyword",Ve()}function Fn(ge,Ye){return"keyof"==Ye||"typeof"==Ye||"infer"==Ye||"readonly"==Ye?(Me.marked="keyword",Ve("typeof"==Ye?kn:Fn)):"variable"==ge||"void"==Ye?(Me.marked="type",Ve(Lr)):"|"==Ye||"&"==Ye?Ve(Fn):"string"==ge||"number"==ge||"atom"==ge?Ve(Lr):"["==ge?Ve(Et("]"),gn(Fn,"]",","),yt,Lr):"{"==ge?Ve(Et("}"),Bi,yt,Lr):"("==ge?Ve(gn(Ai,")"),Hn,Lr):"<"==ge?Ve(gn(Fn,">"),Fn):"quasi"==ge?gt(pi,Lr):void 0}function Hn(ge){if("=>"==ge)return Ve(Fn)}function Bi(ge){return ge.match(/[\}\)\]]/)?Ve():","==ge||";"==ge?Ve(Bi):gt(Ei,Bi)}function Ei(ge,Ye){return"variable"==ge||"keyword"==Me.style?(Me.marked="property",Ve(Ei)):"?"==Ye||"number"==ge||"string"==ge?Ve(Ei):":"==ge?Ve(Fn):"["==ge?Ve(Nt("variable"),Zn,Nt("]"),Ei):"("==ge?gt(wi,Ei):ge.match(/[;\}\)\],]/)?void 0:Ve()}function pi(ge,Ye){return"quasi"!=ge?gt():"${"!=Ye.slice(Ye.length-2)?Ve(pi):Ve(Fn,fo)}function fo(ge){if("}"==ge)return Me.marked="string-2",Me.state.tokenize=ze,Ve(pi)}function Ai(ge,Ye){return"variable"==ge&&Me.stream.match(/^\s*[?:]/,!1)||"?"==Ye?Ve(Ai):":"==ge?Ve(Fn):"spread"==ge?Ve(Ai):gt(Fn)}function Lr(ge,Ye){return"<"==Ye?Ve(Et(">"),gn(Fn,">"),yt,Lr):"|"==Ye||"."==ge||"&"==Ye?Ve(Fn):"["==ge?Ve(Fn,Nt("]"),Lr):"extends"==Ye||"implements"==Ye?(Me.marked="keyword",Ve(Fn)):"?"==Ye?Ve(Fn,Nt(":"),Fn):void 0}function Pi(ge,Ye){if("<"==Ye)return Ve(Et(">"),gn(Fn,">"),yt,Lr)}function Vi(){return gt(Fn,vo)}function vo(ge,Ye){if("="==Ye)return Ve(Fn)}function Ui(ge,Ye){return"enum"==Ye?(Me.marked="keyword",Ve(rt)):gt(Di,Tr,_i,Mi)}function Di(ge,Ye){return v&&ht(Ye)?(Me.marked="keyword",Ve(Di)):"variable"==ge?(Bt(Ye),Ve()):"spread"==ge?Ve(Di):"["==ge?zn($i,"]"):"{"==ge?zn(ui,"}"):void 0}function ui(ge,Ye){return"variable"!=ge||Me.stream.match(/^\s*:/,!1)?("variable"==ge&&(Me.marked="property"),"spread"==ge?Ve(Di):"}"==ge?gt():"["==ge?Ve(Gt,Nt("]"),Nt(":"),ui):Ve(Nt(":"),Di,_i)):(Bt(Ye),Ve(_i))}function $i(){return gt(Di,_i)}function _i(ge,Ye){if("="==Ye)return Ve(kn)}function Mi(ge){if(","==ge)return Ve(Ui)}function Xi(ge,Ye){if("keyword b"==ge&&"else"==Ye)return Ve(Et("form","else"),wn,yt)}function Io(ge,Ye){return"await"==Ye?Ve(Io):"("==ge?Ve(Et(")"),Do,yt):void 0}function Do(ge){return"var"==ge?Ve(Ui,Wi):"variable"==ge?Ve(Wi):gt(Wi)}function Wi(ge,Ye){return")"==ge?Ve():";"==ge?Ve(Wi):"in"==Ye||"of"==Ye?(Me.marked="keyword",Ve(Gt,Wi)):gt(Gt,Wi)}function wo(ge,Ye){return"*"==Ye?(Me.marked="keyword",Ve(wo)):"variable"==ge?(Bt(Ye),Ve(wo)):"("==ge?Ve(Xe,Et(")"),gn(yo,")"),yt,Fi,wn,dt):v&&"<"==Ye?Ve(Et(">"),gn(Vi,">"),yt,wo):void 0}function wi(ge,Ye){return"*"==Ye?(Me.marked="keyword",Ve(wi)):"variable"==ge?(Bt(Ye),Ve(wi)):"("==ge?Ve(Xe,Et(")"),gn(yo,")"),yt,Fi,dt):v&&"<"==Ye?Ve(Et(">"),gn(Vi,">"),yt,wi):void 0}function ss(ge,Ye){return"keyword"==ge||"variable"==ge?(Me.marked="type",Ve(ss)):"<"==Ye?Ve(Et(">"),gn(Vi,">"),yt):void 0}function yo(ge,Ye){return"@"==Ye&&Ve(Gt,yo),"spread"==ge?Ve(yo):v&&ht(Ye)?(Me.marked="keyword",Ve(yo)):v&&"this"==ge?Ve(Tr,_i):gt(Di,Tr,_i)}function Ji(ge,Ye){return"variable"==ge?Zi(ge,Ye):qi(ge,Ye)}function Zi(ge,Ye){if("variable"==ge)return Bt(Ye),Ve(qi)}function qi(ge,Ye){return"<"==Ye?Ve(Et(">"),gn(Vi,">"),yt,qi):"extends"==Ye||"implements"==Ye||v&&","==ge?("implements"==Ye&&(Me.marked="keyword"),Ve(v?Fn:Gt,qi)):"{"==ge?Ve(Et("}"),Xr,yt):void 0}function Xr(ge,Ye){return"async"==ge||"variable"==ge&&("static"==Ye||"get"==Ye||"set"==Ye||v&&ht(Ye))&&Me.stream.match(/^\s+#?[\w$\xa1-\uffff]/,!1)?(Me.marked="keyword",Ve(Xr)):"variable"==ge||"keyword"==Me.style?(Me.marked="property",Ve(Bo,Xr)):"number"==ge||"string"==ge?Ve(Bo,Xr):"["==ge?Ve(Gt,Tr,Nt("]"),Bo,Xr):"*"==Ye?(Me.marked="keyword",Ve(Xr)):v&&"("==ge?gt(wi,Xr):";"==ge||","==ge?Ve(Xr):"}"==ge?Ve():"@"==Ye?Ve(Gt,Xr):void 0}function Bo(ge,Ye){if("!"==Ye||"?"==Ye)return Ve(Bo);if(":"==ge)return Ve(Fn,_i);if("="==Ye)return Ve(kn);var ot=Me.state.lexical.prev;return gt(ot&&"interface"==ot.info?wi:wo)}function He(ge,Ye){return"*"==Ye?(Me.marked="keyword",Ve(an,Nt(";"))):"default"==Ye?(Me.marked="keyword",Ve(Gt,Nt(";"))):"{"==ge?Ve(gn(pt,"}"),an,Nt(";")):gt(wn)}function pt(ge,Ye){return"as"==Ye?(Me.marked="keyword",Ve(Nt("variable"))):"variable"==ge?gt(kn,pt):void 0}function lt(ge){return"string"==ge?Ve():"("==ge?gt(Gt):"."==ge?gt(Jn):gt(tn,hn,an)}function tn(ge,Ye){return"{"==ge?zn(tn,"}"):("variable"==ge&&Bt(Ye),"*"==Ye&&(Me.marked="keyword"),Ve(un))}function hn(ge){if(","==ge)return Ve(tn,hn)}function un(ge,Ye){if("as"==Ye)return Me.marked="keyword",Ve(tn)}function an(ge,Ye){if("from"==Ye)return Me.marked="keyword",Ve(Gt)}function Rr(ge){return"]"==ge?Ve():gt(gn(kn,"]"))}function rt(){return gt(Et("form"),Di,Nt("{"),Et("}"),gn(Wt,"}"),yt,yt)}function Wt(){return gt(Di,_i)}function Cn(ge,Ye,ot){return Ye.tokenize==be&&/^(?:operator|sof|keyword [bcd]|case|new|export|default|spread|[\[{}\(,;:]|=>)$/.test(Ye.lastType)||"quasi"==Ye.lastType&&/\{\s*$/.test(ge.string.slice(0,ge.pos-(ot||0)))}return Xe.lex=Ze.lex=!0,dt.lex=!0,yt.lex=!0,{startState:function(ge){var Ye={tokenize:be,lastType:"sof",cc:[],lexical:new It((ge||0)-ve,0,"block",!1),localVars:R.localVars,context:R.localVars&&new Ke(null,null,!1),indented:ge||0};return R.globalVars&&"object"==typeof R.globalVars&&(Ye.globalVars=R.globalVars),Ye},token:function(ge,Ye){if(ge.sol()&&(Ye.lexical.hasOwnProperty("align")||(Ye.lexical.align=!1),Ye.indented=ge.indentation(),st(ge,Ye)),Ye.tokenize!=at&&ge.eatSpace())return null;var ot=Ye.tokenize(ge,Ye);return"comment"==Se?ot:(Ye.lastType="operator"!=Se||"++"!=je&&"--"!=je?Se:"incdec",At(Ye,ot,Se,je,ge))},indent:function(ge,Ye){if(ge.tokenize==at||ge.tokenize==ze)return L.Pass;if(ge.tokenize!=be)return 0;var Tn,ot=Ye&&Ye.charAt(0),kt=ge.lexical;if(!/^\s*else\b/.test(Ye))for(var nr=ge.cc.length-1;nr>=0;--nr){var _r=ge.cc[nr];if(_r==yt)kt=kt.prev;else if(_r!=Xi&&_r!=dt)break}for(;("stat"==kt.type||"form"==kt.type)&&("}"==ot||(Tn=ge.cc[ge.cc.length-1])&&(Tn==Jn||Tn==Pt)&&!/^[,\.=+\-*:?[\(]/.test(Ye));)kt=kt.prev;oe&&")"==kt.type&&"stat"==kt.prev.type&&(kt=kt.prev);var Ur=kt.type,qn=ot==Ur;return"vardef"==Ur?kt.indented+("operator"==ge.lastType||","==ge.lastType?kt.info.length+1:0):"form"==Ur&&"{"==ot?kt.indented:"form"==Ur?kt.indented+ve:"stat"==Ur?kt.indented+(function Qt(ge,Ye){return"operator"==ge.lastType||","==ge.lastType||xe.test(Ye.charAt(0))||/[,.]/.test(Ye.charAt(0))}(ge,Ye)?oe||ve:0):"switch"!=kt.info||qn||0==R.doubleIndentSwitch?kt.align?kt.column+(qn?0:1):kt.indented+(qn?0:ve):kt.indented+(/^(?:case|default)\b/.test(Ye)?ve:2*ve)},electricInput:/^\s*(?:case .*?:|default:|\{|\})$/,blockCommentStart:Ae?null:"/*",blockCommentEnd:Ae?null:"*/",blockCommentContinue:Ae?null:" * ",lineComment:Ae?null:"//",fold:"brace",closeBrackets:"()[]{}''\"\"``",helperType:Ae?"json":"javascript",jsonldMode:ke,jsonMode:Ae,expressionAllowed:Cn,skipExpression:function(ge){At(ge,"atom","atom","true",new L.StringStream("",2,null))}}}),L.registerHelper("wordChars","javascript",/[\w$]/),L.defineMIME("text/javascript","javascript"),L.defineMIME("text/ecmascript","javascript"),L.defineMIME("application/javascript","javascript"),L.defineMIME("application/x-javascript","javascript"),L.defineMIME("application/ecmascript","javascript"),L.defineMIME("application/json",{name:"javascript",json:!0}),L.defineMIME("application/x-json",{name:"javascript",json:!0}),L.defineMIME("application/manifest+json",{name:"javascript",json:!0}),L.defineMIME("application/ld+json",{name:"javascript",jsonld:!0}),L.defineMIME("text/typescript",{name:"javascript",typescript:!0}),L.defineMIME("application/typescript",{name:"javascript",typescript:!0})}($(1382))},4068(on,ct,$){var r,R,ve,oe,ke,Ae,ee,L;on.exports=(L=$(7656),$(4501),$(885),ve=(R=(r=L).x64).Word,oe=R.WordArray,ee=(ke=r.algo).SHA384=(Ae=ke.SHA512).extend({_doReset:function(){this._hash=new oe.init([new ve.init(3418070365,3238371032),new ve.init(1654270250,914150663),new ve.init(2438529370,812702999),new ve.init(355462360,4144912697),new ve.init(1731405415,4290775857),new ve.init(2394180231,1750603025),new ve.init(3675008525,1694076839),new ve.init(1203062813,3204075428)])},_doFinalize:function(){var v=Ae._doFinalize.call(this);return v.sigBytes-=16,v}}),r.SHA384=Ae._createHelper(ee),r.HmacSHA384=Ae._createHmacHelper(ee),L.SHA384)},4096(on,ct,$){"use strict";$.d(ct,{Ay:()=>Se,Dd:()=>ve});var L=$(5505);const r=Symbol.for("Dexie"),R=globalThis[r]||(globalThis[r]=L);if(L.semVer!==R.semVer)throw new Error(`Two different versions of Dexie loaded in the same app: ${L.semVer} and ${R.semVer}`);const{liveQuery:ve}=R,Se=R},4147(on,ct,$){var r,R,ve,oe,ke,ee,L;on.exports=(L=$(7656),$(9986),$(7868),oe=(R=(r=L).lib).WordArray,ee=(ke=r.algo).EvpKDF=(ve=R.Base).extend({cfg:ve.extend({keySize:4,hasher:ke.MD5,iterations:1}),init:function(v){this.cfg=this.cfg.extend(v)},compute:function(v,m){for(var ie,xe=this.cfg,t=xe.hasher.create(),Le=oe.create(),Se=Le.words,je=xe.keySize,Te=xe.iterations;Se.length<je;){ie&&t.update(ie),ie=t.update(v).finalize(m),t.reset();for(var be=1;be<Te;be++)ie=t.finalize(ie),t.reset();Le.concat(ie)}return Le.sigBytes=4*je,Le}}),r.EvpKDF=function(v,m,ie){return ee.create(ie).compute(v,m)},L.EvpKDF)},4152(on,ct,$){var L;on.exports=(L=$(7656),$(2414),L.mode.CFB=function(){var r=L.lib.BlockCipherMode.extend();function R(ve,oe,ke,Ae){var ee,v=this._iv;v?(ee=v.slice(0),this._iv=void 0):ee=this._prevBlock,Ae.encryptBlock(ee,0);for(var m=0;m<ke;m++)ve[oe+m]^=ee[m]}return r.Encryptor=r.extend({processBlock:function(ve,oe){var ke=this._cipher,Ae=ke.blockSize;R.call(this,ve,oe,Ae,ke),this._prevBlock=ve.slice(oe,oe+Ae)}}),r.Decryptor=r.extend({processBlock:function(ve,oe){var ke=this._cipher,Ae=ke.blockSize,ee=ve.slice(oe,oe+Ae);R.call(this,ve,oe,Ae,ke),this._prevBlock=ee}}),r}(),L.mode.CFB)},4360(on,ct,$){"use strict";$.d(ct,{_:()=>r});var L=$(7707);function r(ve,oe,ke,Ae,ee){return new R(ve,oe,ke,Ae,ee)}class R extends L.vU{constructor(oe,ke,Ae,ee,v,m){super(oe),this.onFinalize=v,this.shouldUnsubscribe=m,this._next=ke?function(ie){try{ke(ie)}catch(xe){oe.error(xe)}}:super._next,this._error=ee?function(ie){try{ee(ie)}catch(xe){oe.error(xe)}finally{this.unsubscribe()}}:super._error,this._complete=Ae?function(){try{Ae()}catch(ie){oe.error(ie)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var oe;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:ke}=this;super.unsubscribe(),!ke&&(null===(oe=this.onFinalize)||void 0===oe||oe.call(this))}}}},4402(on,ct,$){"use strict";$.d(ct,{A:()=>R});var L=$(1985),r=$(8071);function R(ve){return!!ve&&(ve instanceof L.c||(0,r.T)(ve.lift)&&(0,r.T)(ve.subscribe))}},4412(on,ct,$){"use strict";$.d(ct,{t:()=>r});var L=$(1413);class r extends L.B{constructor(ve){super(),this._value=ve}get value(){return this.getValue()}_subscribe(ve){const oe=super._subscribe(ve);return!oe.closed&&ve.next(this._value),oe}getValue(){const{hasError:ve,thrownError:oe,_value:ke}=this;if(ve)throw oe;return this._throwIfClosed(),ke}next(ve){super.next(this._value=ve)}}},4501(on,ct,$){var ve,oe,ke,Ae,L;on.exports=(L=$(7656),oe=(ve=L.lib).Base,ke=ve.WordArray,(Ae=L.x64={}).Word=oe.extend({init:function(m,ie){this.high=m,this.low=ie}}),Ae.WordArray=oe.extend({init:function(m,ie){m=this.words=m||[],this.sigBytes=null!=ie?ie:8*m.length},toX32:function(){for(var m=this.words,ie=m.length,xe=[],t=0;t<ie;t++){var Le=m[t];xe.push(Le.high),xe.push(Le.low)}return ke.create(xe,this.sigBytes)},clone:function(){for(var m=oe.clone.call(this),ie=m.words=this.words.slice(0),xe=ie.length,t=0;t<xe;t++)ie[t]=ie[t].clone();return m}}),L)},4564(on,ct,$){var L,oe,Ae;on.exports=(L=$(7656),$(2414),oe=L.lib.CipherParams,Ae=L.enc.Hex,L.format.Hex={stringify:function(m){return m.ciphertext.toString(Ae)},parse:function(m){var ie=Ae.parse(m);return oe.create({ciphertext:ie})}},L.format.Hex)},4572(on,ct,$){"use strict";$.d(ct,{z:()=>m});var L=$(1985),r=$(3073),R=$(6648),ve=$(3669),oe=$(6450),ke=$(9326),Ae=$(8496),ee=$(4360),v=$(5225);function m(...t){const Le=(0,ke.lI)(t),Se=(0,ke.ms)(t),{args:je,keys:Te}=(0,r.D)(t);if(0===je.length)return(0,R.H)([],Le);const be=new L.c(function ie(t,Le,Se=ve.D){return je=>{xe(Le,()=>{const{length:Te}=t,be=new Array(Te);let Oe=Te,at=Te;for(let ze=0;ze<Te;ze++)xe(Le,()=>{const et=(0,R.H)(t[ze],Le);let st=!1;et.subscribe((0,ee._)(je,rn=>{be[ze]=rn,st||(st=!0,at--),at||je.next(Se(be.slice()))},()=>{--Oe||je.complete()}))},je)},je)}}(je,Le,Te?Oe=>(0,Ae.e)(Te,Oe):ve.D));return Se?be.pipe((0,oe.I)(Se)):be}function xe(t,Le,Se){t?(0,v.N)(Se,t,Le):Le()}},4761(on,ct,$){"use strict";$.d(ct,{l:()=>r});const r=function L(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},5055(on,ct,$){"use strict";$.d(ct,{l:()=>R});var L=$(3494),r=$(8071);function R(ve){return(0,r.T)(ve[L.s])}},5168(on,ct,$){var L;on.exports=(L=$(7656),function(r){var R=L,ve=R.lib,oe=ve.WordArray,ke=ve.Hasher,Ae=R.algo,ee=[],v=[];!function(){function xe(je){for(var Te=r.sqrt(je),be=2;be<=Te;be++)if(!(je%be))return!1;return!0}function t(je){return 4294967296*(je-(0|je))|0}for(var Le=2,Se=0;Se<64;)xe(Le)&&(Se<8&&(ee[Se]=t(r.pow(Le,.5))),v[Se]=t(r.pow(Le,1/3)),Se++),Le++}();var m=[],ie=Ae.SHA256=ke.extend({_doReset:function(){this._hash=new oe.init(ee.slice(0))},_doProcessBlock:function(xe,t){for(var Le=this._hash.words,Se=Le[0],je=Le[1],Te=Le[2],be=Le[3],Oe=Le[4],at=Le[5],ze=Le[6],et=Le[7],st=0;st<64;st++){if(st<16)m[st]=0|xe[t+st];else{var rn=m[st-15],Ht=m[st-2];m[st]=((rn<<25|rn>>>7)^(rn<<14|rn>>>18)^rn>>>3)+m[st-7]+((Ht<<15|Ht>>>17)^(Ht<<13|Ht>>>19)^Ht>>>10)+m[st-16]}var gt=Se&je^Se&Te^je&Te,Bt=et+((Oe<<26|Oe>>>6)^(Oe<<21|Oe>>>11)^(Oe<<7|Oe>>>25))+(Oe&at^~Oe&ze)+v[st]+m[st];et=ze,ze=at,at=Oe,Oe=be+Bt|0,be=Te,Te=je,je=Se,Se=Bt+(((Se<<30|Se>>>2)^(Se<<19|Se>>>13)^(Se<<10|Se>>>22))+gt)|0}Le[0]=Le[0]+Se|0,Le[1]=Le[1]+je|0,Le[2]=Le[2]+Te|0,Le[3]=Le[3]+be|0,Le[4]=Le[4]+Oe|0,Le[5]=Le[5]+at|0,Le[6]=Le[6]+ze|0,Le[7]=Le[7]+et|0},_doFinalize:function(){var xe=this._data,t=xe.words,Le=8*this._nDataBytes,Se=8*xe.sigBytes;return t[Se>>>5]|=128<<24-Se%32,t[14+(Se+64>>>9<<4)]=r.floor(Le/4294967296),t[15+(Se+64>>>9<<4)]=Le,xe.sigBytes=4*t.length,this._process(),this._hash},clone:function(){var xe=ke.clone.call(this);return xe._hash=this._hash.clone(),xe}});R.SHA256=ke._createHelper(ie),R.HmacSHA256=ke._createHmacHelper(ie)}(Math),L.SHA256)},5196(on,ct,$){"use strict";$.d(ct,{C:()=>R,U:()=>ve});var L=$(1635),r=$(8071);function R(oe){return(0,L.AQ)(this,arguments,function*(){const Ae=oe.getReader();try{for(;;){const{value:ee,done:v}=yield(0,L.N3)(Ae.read());if(v)return yield(0,L.N3)(void 0);yield yield(0,L.N3)(ee)}}finally{Ae.releaseLock()}})}function ve(oe){return(0,r.T)(oe?.getReader)}},5225(on,ct,$){"use strict";function L(r,R,ve,oe=0,ke=!1){const Ae=R.schedule(function(){ve(),ke?r.add(this.schedule(null,oe)):this.unsubscribe()},oe);if(r.add(Ae),!ke)return Ae}$.d(ct,{N:()=>L})},5269(on,ct,$){var L;on.exports=(L=$(7656),$(8891),$(8855),$(4147),$(2414),function(){var r=L,ve=r.lib.BlockCipher;const Ae=[608135816,2242054355,320440878,57701188,2752067618,698298832,137296536,3964562569,1160258022,953160567,3193202383,887688300,3232508343,3380367581,1065670069,3041331479,2450970073,2306472731],ee=[[3509652390,2564797868,805139163,3491422135,3101798381,1780907670,3128725573,4046225305,614570311,3012652279,134345442,2240740374,1667834072,1901547113,2757295779,4103290238,227898511,1921955416,1904987480,2182433518,2069144605,3260701109,2620446009,720527379,3318853667,677414384,3393288472,3101374703,2390351024,1614419982,1822297739,2954791486,3608508353,3174124327,2024746970,1432378464,3864339955,2857741204,1464375394,1676153920,1439316330,715854006,3033291828,289532110,2706671279,2087905683,3018724369,1668267050,732546397,1947742710,3462151702,2609353502,2950085171,1814351708,2050118529,680887927,999245976,1800124847,3300911131,1713906067,1641548236,4213287313,1216130144,1575780402,4018429277,3917837745,3693486850,3949271944,596196993,3549867205,258830323,2213823033,772490370,2760122372,1774776394,2652871518,566650946,4142492826,1728879713,2882767088,1783734482,3629395816,2517608232,2874225571,1861159788,326777828,3124490320,2130389656,2716951837,967770486,1724537150,2185432712,2364442137,1164943284,2105845187,998989502,3765401048,2244026483,1075463327,1455516326,1322494562,910128902,469688178,1117454909,936433444,3490320968,3675253459,1240580251,122909385,2157517691,634681816,4142456567,3825094682,3061402683,2540495037,79693498,3249098678,1084186820,1583128258,426386531,1761308591,1047286709,322548459,995290223,1845252383,2603652396,3431023940,2942221577,3202600964,3727903485,1712269319,422464435,3234572375,1170764815,3523960633,3117677531,1434042557,442511882,3600875718,1076654713,1738483198,4213154764,2393238008,3677496056,1014306527,4251020053,793779912,2902807211,842905082,4246964064,1395751752,1040244610,2656851899,3396308128,445077038,3742853595,3577915638,679411651,2892444358,2354009459,1767581616,3150600392,3791627101,3102740896,284835224,4246832056,1258075500,768725851,2589189241,3069724005,3532540348,1274779536,3789419226,2764799539,1660621633,3471099624,4011903706,913787905,3497959166,737222580,2514213453,2928710040,3937242737,1804850592,3499020752,2949064160,2386320175,2390070455,2415321851,4061277028,2290661394,2416832540,1336762016,1754252060,3520065937,3014181293,791618072,3188594551,3933548030,2332172193,3852520463,3043980520,413987798,3465142937,3030929376,4245938359,2093235073,3534596313,375366246,2157278981,2479649556,555357303,3870105701,2008414854,3344188149,4221384143,3956125452,2067696032,3594591187,2921233993,2428461,544322398,577241275,1471733935,610547355,4027169054,1432588573,1507829418,2025931657,3646575487,545086370,48609733,2200306550,1653985193,298326376,1316178497,3007786442,2064951626,458293330,2589141269,3591329599,3164325604,727753846,2179363840,146436021,1461446943,4069977195,705550613,3059967265,3887724982,4281599278,3313849956,1404054877,2845806497,146425753,1854211946],[1266315497,3048417604,3681880366,3289982499,290971e4,1235738493,2632868024,2414719590,3970600049,1771706367,1449415276,3266420449,422970021,1963543593,2690192192,3826793022,1062508698,1531092325,1804592342,2583117782,2714934279,4024971509,1294809318,4028980673,1289560198,2221992742,1669523910,35572830,157838143,1052438473,1016535060,1802137761,1753167236,1386275462,3080475397,2857371447,1040679964,2145300060,2390574316,1461121720,2956646967,4031777805,4028374788,33600511,2920084762,1018524850,629373528,3691585981,3515945977,2091462646,2486323059,586499841,988145025,935516892,3367335476,2599673255,2839830854,265290510,3972581182,2759138881,3795373465,1005194799,847297441,406762289,1314163512,1332590856,1866599683,4127851711,750260880,613907577,1450815602,3165620655,3734664991,3650291728,3012275730,3704569646,1427272223,778793252,1343938022,2676280711,2052605720,1946737175,3164576444,3914038668,3967478842,3682934266,1661551462,3294938066,4011595847,840292616,3712170807,616741398,312560963,711312465,1351876610,322626781,1910503582,271666773,2175563734,1594956187,70604529,3617834859,1007753275,1495573769,4069517037,2549218298,2663038764,504708206,2263041392,3941167025,2249088522,1514023603,1998579484,1312622330,694541497,2582060303,2151582166,1382467621,776784248,2618340202,3323268794,2497899128,2784771155,503983604,4076293799,907881277,423175695,432175456,1378068232,4145222326,3954048622,3938656102,3820766613,2793130115,2977904593,26017576,3274890735,3194772133,1700274565,1756076034,4006520079,3677328699,720338349,1533947780,354530856,688349552,3973924725,1637815568,332179504,3949051286,53804574,2852348879,3044236432,1282449977,3583942155,3416972820,4006381244,1617046695,2628476075,3002303598,1686838959,431878346,2686675385,1700445008,1080580658,1009431731,832498133,3223435511,2605976345,2271191193,2516031870,1648197032,4164389018,2548247927,300782431,375919233,238389289,3353747414,2531188641,2019080857,1475708069,455242339,2609103871,448939670,3451063019,1395535956,2413381860,1841049896,1491858159,885456874,4264095073,4001119347,1565136089,3898914787,1108368660,540939232,1173283510,2745871338,3681308437,4207628240,3343053890,4016749493,1699691293,1103962373,3625875870,2256883143,3830138730,1031889488,3479347698,1535977030,4236805024,3251091107,2132092099,1774941330,1199868427,1452454533,157007616,2904115357,342012276,595725824,1480756522,206960106,497939518,591360097,863170706,2375253569,3596610801,1814182875,2094937945,3421402208,1082520231,3463918190,2785509508,435703966,3908032597,1641649973,2842273706,3305899714,1510255612,2148256476,2655287854,3276092548,4258621189,236887753,3681803219,274041037,1734335097,3815195456,3317970021,1899903192,1026095262,4050517792,356393447,2410691914,3873677099,3682840055],[3913112168,2491498743,4132185628,2489919796,1091903735,1979897079,3170134830,3567386728,3557303409,857797738,1136121015,1342202287,507115054,2535736646,337727348,3213592640,1301675037,2528481711,1895095763,1721773893,3216771564,62756741,2142006736,835421444,2531993523,1442658625,3659876326,2882144922,676362277,1392781812,170690266,3921047035,1759253602,3611846912,1745797284,664899054,1329594018,3901205900,3045908486,2062866102,2865634940,3543621612,3464012697,1080764994,553557557,3656615353,3996768171,991055499,499776247,1265440854,648242737,3940784050,980351604,3713745714,1749149687,3396870395,4211799374,3640570775,1161844396,3125318951,1431517754,545492359,4268468663,3499529547,1437099964,2702547544,3433638243,2581715763,2787789398,1060185593,1593081372,2418618748,4260947970,69676912,2159744348,86519011,2512459080,3838209314,1220612927,3339683548,133810670,1090789135,1078426020,1569222167,845107691,3583754449,4072456591,1091646820,628848692,1613405280,3757631651,526609435,236106946,48312990,2942717905,3402727701,1797494240,859738849,992217954,4005476642,2243076622,3870952857,3732016268,765654824,3490871365,2511836413,1685915746,3888969200,1414112111,2273134842,3281911079,4080962846,172450625,2569994100,980381355,4109958455,2819808352,2716589560,2568741196,3681446669,3329971472,1835478071,660984891,3704678404,4045999559,3422617507,3040415634,1762651403,1719377915,3470491036,2693910283,3642056355,3138596744,1364962596,2073328063,1983633131,926494387,3423689081,2150032023,4096667949,1749200295,3328846651,309677260,2016342300,1779581495,3079819751,111262694,1274766160,443224088,298511866,1025883608,3806446537,1145181785,168956806,3641502830,3584813610,1689216846,3666258015,3200248200,1692713982,2646376535,4042768518,1618508792,1610833997,3523052358,4130873264,2001055236,3610705100,2202168115,4028541809,2961195399,1006657119,2006996926,3186142756,1430667929,3210227297,1314452623,4074634658,4101304120,2273951170,1399257539,3367210612,3027628629,1190975929,2062231137,2333990788,2221543033,2438960610,1181637006,548689776,2362791313,3372408396,3104550113,3145860560,296247880,1970579870,3078560182,3769228297,1714227617,3291629107,3898220290,166772364,1251581989,493813264,448347421,195405023,2709975567,677966185,3703036547,1463355134,2715995803,1338867538,1343315457,2802222074,2684532164,233230375,2599980071,2000651841,3277868038,1638401717,4028070440,3237316320,6314154,819756386,300326615,590932579,1405279636,3267499572,3150704214,2428286686,3959192993,3461946742,1862657033,1266418056,963775037,2089974820,2263052895,1917689273,448879540,3550394620,3981727096,150775221,3627908307,1303187396,508620638,2975983352,2726630617,1817252668,1876281319,1457606340,908771278,3720792119,3617206836,2455994898,1729034894,1080033504],[976866871,3556439503,2881648439,1522871579,1555064734,1336096578,3548522304,2579274686,3574697629,3205460757,3593280638,3338716283,3079412587,564236357,2993598910,1781952180,1464380207,3163844217,3332601554,1699332808,1393555694,1183702653,3581086237,1288719814,691649499,2847557200,2895455976,3193889540,2717570544,1781354906,1676643554,2592534050,3230253752,1126444790,2770207658,2633158820,2210423226,2615765581,2414155088,3127139286,673620729,2805611233,1269405062,4015350505,3341807571,4149409754,1057255273,2012875353,2162469141,2276492801,2601117357,993977747,3918593370,2654263191,753973209,36408145,2530585658,25011837,3520020182,2088578344,530523599,2918365339,1524020338,1518925132,3760827505,3759777254,1202760957,3985898139,3906192525,674977740,4174734889,2031300136,2019492241,3983892565,4153806404,3822280332,352677332,2297720250,60907813,90501309,3286998549,1016092578,2535922412,2839152426,457141659,509813237,4120667899,652014361,1966332200,2975202805,55981186,2327461051,676427537,3255491064,2882294119,3433927263,1307055953,942726286,933058658,2468411793,3933900994,4215176142,1361170020,2001714738,2830558078,3274259782,1222529897,1679025792,2729314320,3714953764,1770335741,151462246,3013232138,1682292957,1483529935,471910574,1539241949,458788160,3436315007,1807016891,3718408830,978976581,1043663428,3165965781,1927990952,4200891579,2372276910,3208408903,3533431907,1412390302,2931980059,4132332400,1947078029,3881505623,4168226417,2941484381,1077988104,1320477388,886195818,18198404,3786409e3,2509781533,112762804,3463356488,1866414978,891333506,18488651,661792760,1628790961,3885187036,3141171499,876946877,2693282273,1372485963,791857591,2686433993,3759982718,3167212022,3472953795,2716379847,445679433,3561995674,3504004811,3574258232,54117162,3331405415,2381918588,3769707343,4154350007,1140177722,4074052095,668550556,3214352940,367459370,261225585,2610173221,4209349473,3468074219,3265815641,314222801,3066103646,3808782860,282218597,3406013506,3773591054,379116347,1285071038,846784868,2669647154,3771962079,3550491691,2305946142,453669953,1268987020,3317592352,3279303384,3744833421,2610507566,3859509063,266596637,3847019092,517658769,3462560207,3443424879,370717030,4247526661,2224018117,4143653529,4112773975,2788324899,2477274417,1456262402,2901442914,1517677493,1846949527,2295493580,3734397586,2176403920,1280348187,1908823572,3871786941,846861322,1172426758,3287448474,3383383037,1655181056,3139813346,901632758,1897031941,2986607138,3066810236,3447102507,1393639104,373351379,950779232,625454576,3124240540,4148612726,2007998917,544563296,2244738638,2330496472,2058025392,1291430526,424198748,50039436,29584100,3605783033,2429876329,2791104160,1057563949,3255363231,3075367218,3463963227,1469046755,985887462]];var v={pbox:[],sbox:[]};function m(Se,je){let ze=Se.sbox[0][je>>24&255]+Se.sbox[1][je>>16&255];return ze^=Se.sbox[2][je>>8&255],ze+=Se.sbox[3][255&je],ze}function ie(Se,je,Te){let at,be=je,Oe=Te;for(let ze=0;ze<16;++ze)be^=Se.pbox[ze],Oe=m(Se,be)^Oe,at=be,be=Oe,Oe=at;return at=be,be=Oe,Oe=at,Oe^=Se.pbox[16],be^=Se.pbox[17],{left:be,right:Oe}}var Le=r.algo.Blowfish=ve.extend({_doReset:function(){if(this._keyPriorReset!==this._key){var Se=this._keyPriorReset=this._key;!function t(Se,je,Te){for(let et=0;et<4;et++){Se.sbox[et]=[];for(let st=0;st<256;st++)Se.sbox[et][st]=ee[et][st]}let be=0;for(let et=0;et<18;et++)Se.pbox[et]=Ae[et]^je[be],be++,be>=Te&&(be=0);let Oe=0,at=0,ze=0;for(let et=0;et<18;et+=2)ze=ie(Se,Oe,at),Oe=ze.left,at=ze.right,Se.pbox[et]=Oe,Se.pbox[et+1]=at;for(let et=0;et<4;et++)for(let st=0;st<256;st+=2)ze=ie(Se,Oe,at),Oe=ze.left,at=ze.right,Se.sbox[et][st]=Oe,Se.sbox[et][st+1]=at;return!0}(v,Se.words,Se.sigBytes/4)}},encryptBlock:function(Se,je){var Te=ie(v,Se[je],Se[je+1]);Se[je]=Te.left,Se[je+1]=Te.right},decryptBlock:function(Se,je){var Te=function xe(Se,je,Te){let at,be=je,Oe=Te;for(let ze=17;ze>1;--ze)be^=Se.pbox[ze],Oe=m(Se,be)^Oe,at=be,be=Oe,Oe=at;return at=be,be=Oe,Oe=at,Oe^=Se.pbox[1],be^=Se.pbox[0],{left:be,right:Oe}}(v,Se[je],Se[je+1]);Se[je]=Te.left,Se[je+1]=Te.right},blockSize:2,keySize:4,ivSize:2});r.Blowfish=ve._createHelper(Le)}(),L.Blowfish)},5304(on,ct,$){var L;on.exports=(L=$(7656),function(){var ve=L.lib.WordArray,oe=L.enc;function Ae(ee){return ee<<8&4278255360|ee>>>8&16711935}oe.Utf16=oe.Utf16BE={stringify:function(ee){for(var v=ee.words,m=ee.sigBytes,ie=[],xe=0;xe<m;xe+=2)ie.push(String.fromCharCode(v[xe>>>2]>>>16-xe%4*8&65535));return ie.join("")},parse:function(ee){for(var v=ee.length,m=[],ie=0;ie<v;ie++)m[ie>>>1]|=ee.charCodeAt(ie)<<16-ie%2*16;return ve.create(m,2*v)}},oe.Utf16LE={stringify:function(ee){for(var v=ee.words,m=ee.sigBytes,ie=[],xe=0;xe<m;xe+=2){var t=Ae(v[xe>>>2]>>>16-xe%4*8&65535);ie.push(String.fromCharCode(t))}return ie.join("")},parse:function(ee){for(var v=ee.length,m=[],ie=0;ie<v;ie++)m[ie>>>1]|=Ae(ee.charCodeAt(ie)<<16-ie%2*16);return ve.create(m,2*v)}}}(),L.enc.Utf16)},5334(on,ct,$){"use strict";$.d(ct,{m:()=>R});var L=$(1026),r=$(9270);function R(ve){r.f.setTimeout(()=>{const{onUnhandledError:oe}=L.$;if(!oe)throw ve;oe(ve)})}},5343(on,ct,$){"use strict";function L(){}$.d(ct,{l:()=>L})},5350(on,ct,$){var L;on.exports=(L=$(7656),$(8891),$(8855),$(4147),$(2414),function(){var r=L,ve=r.lib.StreamCipher,oe=r.algo,ke=oe.RC4=ve.extend({_doReset:function(){for(var v=this._key,m=v.words,ie=v.sigBytes,xe=this._S=[],t=0;t<256;t++)xe[t]=t;t=0;for(var Le=0;t<256;t++){var Se=t%ie,Te=xe[t];xe[t]=xe[Le=(Le+xe[t]+(m[Se>>>2]>>>24-Se%4*8&255))%256],xe[Le]=Te}this._i=this._j=0},_doProcessBlock:function(v,m){v[m]^=Ae.call(this)},keySize:8,ivSize:0});function Ae(){for(var v=this._S,m=this._i,ie=this._j,xe=0,t=0;t<4;t++){var Le=v[m=(m+1)%256];v[m]=v[ie=(ie+v[m])%256],v[ie]=Le,xe|=v[(v[m]+v[ie])%256]<<24-8*t}return this._i=m,this._j=ie,xe}r.RC4=ve._createHelper(ke);var ee=oe.RC4Drop=ke.extend({cfg:ke.cfg.extend({drop:192}),_doReset:function(){ke._doReset.call(this);for(var v=this.cfg.drop;v>0;v--)Ae.call(this)}});r.RC4Drop=ve._createHelper(ee)}(),L.RC4)},5397(on,ct,$){"use strict";$.d(ct,{x:()=>R});var L=$(4761),r=$(8071);function R(ve){return(0,r.T)(ve?.[L.l])}},5463(on,ct,$){"use strict";var L=$(6494),r=$(3117),R=$(375),ve=$(177),oe=$(5547),ke=$(7705);class Ae{_doc;constructor(S){this._doc=S}manager}let ee=(()=>{class j extends Ae{constructor(D){super(D)}supports(D){return!0}addEventListener(D,g,A,U){return D.addEventListener(g,A,U),()=>this.removeEventListener(D,g,A,U)}removeEventListener(D,g,A,U){return D.removeEventListener(g,A,U)}static \u0275fac=function(g){return new(g||j)(R.KVO(R.qQL))};static \u0275prov=R.jDH({token:j,factory:j.\u0275fac})}return j})();const v=new R.nKC("");let m=(()=>{class j{_zone;_plugins;_eventNameToPlugin=new Map;constructor(D,g){this._zone=g,D.forEach(ne=>{ne.manager=this});const A=D.filter(ne=>!(ne instanceof ee));this._plugins=A.slice().reverse();const U=D.find(ne=>ne instanceof ee);U&&this._plugins.push(U)}addEventListener(D,g,A,U){return this._findPluginFor(g).addEventListener(D,g,A,U)}getZone(){return this._zone}_findPluginFor(D){let g=this._eventNameToPlugin.get(D);if(g)return g;if(g=this._plugins.find(U=>U.supports(D)),!g)throw new R.buA(5101,!1);return this._eventNameToPlugin.set(D,g),g}static \u0275fac=function(g){return new(g||j)(R.KVO(v),R.KVO(R.SKi))};static \u0275prov=R.jDH({token:j,factory:j.\u0275fac})}return j})();const ie="ng-app-id";function xe(j){for(const S of j)S.remove()}function t(j,S){const D=S.createElement("style");return D.textContent=j,D}function Se(j,S){const D=S.createElement("link");return D.setAttribute("rel","stylesheet"),D.setAttribute("href",j),D}let je=(()=>{class j{doc;appId;nonce;inline=new Map;external=new Map;hosts=new Set;constructor(D,g,A,U={}){this.doc=D,this.appId=g,this.nonce=A,function Le(j,S,D,g){const A=j.head?.querySelectorAll(`style[${ie}="${S}"],link[${ie}="${S}"]`);if(A)for(const U of A)U.removeAttribute(ie),U instanceof HTMLLinkElement?g.set(U.href.slice(U.href.lastIndexOf("/")+1),{usage:0,elements:[U]}):U.textContent&&D.set(U.textContent,{usage:0,elements:[U]})}(D,g,this.inline,this.external),this.hosts.add(D.head)}addStyles(D,g){for(const A of D)this.addUsage(A,this.inline,t);g?.forEach(A=>this.addUsage(A,this.external,Se))}removeStyles(D,g){for(const A of D)this.removeUsage(A,this.inline);g?.forEach(A=>this.removeUsage(A,this.external))}addUsage(D,g,A){const U=g.get(D);U?U.usage++:g.set(D,{usage:1,elements:[...this.hosts].map(ne=>this.addElement(ne,A(D,this.doc)))})}removeUsage(D,g){const A=g.get(D);A&&(A.usage--,A.usage<=0&&(xe(A.elements),g.delete(D)))}ngOnDestroy(){for(const[,{elements:D}]of[...this.inline,...this.external])xe(D);this.hosts.clear()}addHost(D){this.hosts.add(D);for(const[g,{elements:A}]of this.inline)A.push(this.addElement(D,t(g,this.doc)));for(const[g,{elements:A}]of this.external)A.push(this.addElement(D,Se(g,this.doc)))}removeHost(D){this.hosts.delete(D)}addElement(D,g){return this.nonce&&g.setAttribute("nonce",this.nonce),D.appendChild(g)}static \u0275fac=function(g){return new(g||j)(R.KVO(R.qQL),R.KVO(oe.sZ2),R.KVO(oe.BIS,8),R.KVO(oe.Agw))};static \u0275prov=R.jDH({token:j,factory:j.\u0275fac})}return j})();const Te={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},be=/%COMP%/g,It=new R.nKC("",{factory:()=>!0});function Me(j,S){return S.map(D=>D.replace(be,j))}let Ve=(()=>{class j{eventManager;sharedStylesHost;appId;removeStylesOnCompDestroy;doc;ngZone;nonce;tracingService;rendererByCompId=new Map;defaultRenderer;constructor(D,g,A,U,ne,Ee,tt=null,bt=null){this.eventManager=D,this.sharedStylesHost=g,this.appId=A,this.removeStylesOnCompDestroy=U,this.doc=ne,this.ngZone=Ee,this.nonce=tt,this.tracingService=bt,this.defaultRenderer=new en(D,ne,Ee,this.tracingService)}createRenderer(D,g){if(!D||!g)return this.defaultRenderer;const A=this.getOrCreateRenderer(D,g);return A instanceof Ft?A.applyToHost(D):A instanceof Ge&&A.applyStyles(),A}getOrCreateRenderer(D,g){const A=this.rendererByCompId;let U=A.get(g.id);if(!U){const ne=this.doc,Ee=this.ngZone,tt=this.eventManager,bt=this.sharedStylesHost,Sn=this.removeStylesOnCompDestroy,xn=this.tracingService;switch(g.encapsulation){case oe.gXe.Emulated:U=new Ft(tt,bt,g,this.appId,Sn,ne,Ee,xn);break;case oe.gXe.ShadowDom:return new Ke(tt,D,g,ne,Ee,this.nonce,xn,bt);case oe.gXe.ExperimentalIsolatedShadowDom:return new Ke(tt,D,g,ne,Ee,this.nonce,xn);default:U=new Ge(tt,bt,g,Sn,ne,Ee,xn)}A.set(g.id,U)}return U}ngOnDestroy(){this.rendererByCompId.clear()}componentReplaced(D){this.rendererByCompId.delete(D)}static \u0275fac=function(g){return new(g||j)(R.KVO(m),R.KVO(je),R.KVO(oe.sZ2),R.KVO(It),R.KVO(R.qQL),R.KVO(R.SKi),R.KVO(oe.BIS),R.KVO(oe.a8H,8))};static \u0275prov=R.jDH({token:j,factory:j.\u0275fac})}return j})();class en{eventManager;doc;ngZone;tracingService;data=Object.create(null);throwOnSyntheticProps=!0;constructor(S,D,g,A){this.eventManager=S,this.doc=D,this.ngZone=g,this.tracingService=A}destroy(){}destroyNode=null;createElement(S,D){return D?this.doc.createElementNS(Te[D]||D,S):this.doc.createElement(S)}createComment(S){return this.doc.createComment(S)}createText(S){return this.doc.createTextNode(S)}appendChild(S,D){(ht(S)?S.content:S).appendChild(D)}insertBefore(S,D,g){S&&(ht(S)?S.content:S).insertBefore(D,g)}removeChild(S,D){D.remove()}selectRootElement(S,D){let g="string"==typeof S?this.doc.querySelector(S):S;if(!g)throw new R.buA(-5104,!1);return D||(g.textContent=""),g}parentNode(S){return S.parentNode}nextSibling(S){return S.nextSibling}setAttribute(S,D,g,A){if(A){D=A+":"+D;const U=Te[A];U?S.setAttributeNS(U,D,g):S.setAttribute(D,g)}else S.setAttribute(D,g)}removeAttribute(S,D,g){if(g){const A=Te[g];A?S.removeAttributeNS(A,D):S.removeAttribute(`${g}:${D}`)}else S.removeAttribute(D)}addClass(S,D){S.classList.add(D)}removeClass(S,D){S.classList.remove(D)}setStyle(S,D,g,A){A&(oe.czy.DashCase|oe.czy.Important)?S.style.setProperty(D,g,A&oe.czy.Important?"important":""):S.style[D]=g}removeStyle(S,D,g){g&oe.czy.DashCase?S.style.removeProperty(D):S.style[D]=""}setProperty(S,D,g){null!=S&&(S[D]=g)}setValue(S,D){S.nodeValue=D}listen(S,D,g,A){if("string"==typeof S&&!(S=(0,L.rb)().getGlobalEventTarget(this.doc,S)))throw new R.buA(5102,!1);let U=this.decoratePreventDefault(g);return this.tracingService?.wrapEventListener&&(U=this.tracingService.wrapEventListener(S,D,U)),this.eventManager.addEventListener(S,D,U,A)}decoratePreventDefault(S){return D=>{if("__ngUnwrap__"===D)return S;!1===S(D)&&D.preventDefault()}}}function ht(j){return"TEMPLATE"===j.tagName&&void 0!==j.content}class Ke extends en{hostEl;sharedStylesHost;shadowRoot;constructor(S,D,g,A,U,ne,Ee,tt){super(S,A,U,Ee),this.hostEl=D,this.sharedStylesHost=tt,this.shadowRoot=D.attachShadow({mode:"open"}),this.sharedStylesHost&&this.sharedStylesHost.addHost(this.shadowRoot);let bt=g.styles;bt=Me(g.id,bt);for(const xn of bt){const yr=document.createElement("style");ne&&yr.setAttribute("nonce",ne),yr.textContent=xn,this.shadowRoot.appendChild(yr)}const Sn=g.getExternalStyles?.();if(Sn)for(const xn of Sn){const yr=Se(xn,A);ne&&yr.setAttribute("nonce",ne),this.shadowRoot.appendChild(yr)}}nodeOrShadowRoot(S){return S===this.hostEl?this.shadowRoot:S}appendChild(S,D){return super.appendChild(this.nodeOrShadowRoot(S),D)}insertBefore(S,D,g){return super.insertBefore(this.nodeOrShadowRoot(S),D,g)}removeChild(S,D){return super.removeChild(null,D)}parentNode(S){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(S)))}destroy(){this.sharedStylesHost&&this.sharedStylesHost.removeHost(this.shadowRoot)}}class Ge extends en{sharedStylesHost;removeStylesOnCompDestroy;styles;styleUrls;constructor(S,D,g,A,U,ne,Ee,tt){super(S,U,ne,Ee),this.sharedStylesHost=D,this.removeStylesOnCompDestroy=A;let bt=g.styles;this.styles=tt?Me(tt,bt):bt,this.styleUrls=g.getExternalStyles?.(tt)}applyStyles(){this.sharedStylesHost.addStyles(this.styles,this.styleUrls)}destroy(){this.removeStylesOnCompDestroy&&0===oe.DUP.size&&this.sharedStylesHost.removeStyles(this.styles,this.styleUrls)}}class Ft extends Ge{contentAttr;hostAttr;constructor(S,D,g,A,U,ne,Ee,tt){const bt=A+"-"+g.id;super(S,D,g,U,ne,Ee,tt,bt),this.contentAttr=function Ht(j){return"_ngcontent-%COMP%".replace(be,j)}(bt),this.hostAttr=function At(j){return"_nghost-%COMP%".replace(be,j)}(bt)}applyToHost(S){this.applyStyles(),this.setAttribute(S,this.hostAttr,"")}createElement(S,D){const g=super.createElement(S,D);return super.setAttribute(g,this.contentAttr,""),g}}class Xe extends L.qj{supportsDOMEvents=!0;static makeCurrent(){(0,L.ig)(new Xe)}onAndCancel(S,D,g,A){return S.addEventListener(D,g,A),()=>{S.removeEventListener(D,g,A)}}dispatchEvent(S,D){S.dispatchEvent(D)}remove(S){S.remove()}createElement(S,D){return(D=D||this.getDefaultDocument()).createElement(S)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(S){return S.nodeType===Node.ELEMENT_NODE}isShadowRoot(S){return S instanceof DocumentFragment}getGlobalEventTarget(S,D){return"window"===D?window:"document"===D?S:"body"===D?S.body:null}getBaseHref(S){const D=function dt(){return Ze=Ze||document.head.querySelector("base"),Ze?Ze.getAttribute("href"):null}();return null==D?null:function Et(j){return new URL(j,document.baseURI).pathname}(D)}resetBaseElement(){Ze=null}getUserAgent(){return window.navigator.userAgent}getCookie(S){return(0,r.b)(document.cookie,S)}}let Ze=null,Nt=(()=>{class j{build(){return new XMLHttpRequest}static \u0275fac=function(g){return new(g||j)};static \u0275prov=R.jDH({token:j,factory:j.\u0275fac})}return j})();const wn=["alt","control","meta","shift"],bn={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Gt={alt:j=>j.altKey,control:j=>j.ctrlKey,meta:j=>j.metaKey,shift:j=>j.shiftKey};let kn=(()=>{class j extends Ae{constructor(D){super(D)}supports(D){return null!=j.parseEventName(D)}addEventListener(D,g,A,U){const ne=j.parseEventName(g),Ee=j.eventCallback(ne.fullKey,A,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>(0,L.rb)().onAndCancel(D,ne.domEventName,Ee,U))}static parseEventName(D){const g=D.toLowerCase().split("."),A=g.shift();if(0===g.length||"keydown"!==A&&"keyup"!==A)return null;const U=j._normalizeKey(g.pop());let ne="",Ee=g.indexOf("code");if(Ee>-1&&(g.splice(Ee,1),ne="code."),wn.forEach(bt=>{const Sn=g.indexOf(bt);Sn>-1&&(g.splice(Sn,1),ne+=bt+".")}),ne+=U,0!=g.length||0===U.length)return null;const tt={};return tt.domEventName=A,tt.fullKey=ne,tt}static matchEventFullKeyCode(D,g){let A=bn[D.key]||D.key,U="";return g.indexOf("code.")>-1&&(A=D.code,U="code."),!(null==A||!A)&&(A=A.toLowerCase()," "===A?A="space":"."===A&&(A="dot"),wn.forEach(ne=>{ne!==A&&(0,Gt[ne])(D)&&(U+=ne+".")}),U+=A,U===g)}static eventCallback(D,g,A){return U=>{j.matchEventFullKeyCode(U,D)&&A.runGuarded(()=>g(U))}}static _normalizeKey(D){return"esc"===D?"escape":D}static \u0275fac=function(g){return new(g||j)(R.KVO(R.qQL))};static \u0275prov=R.jDH({token:j,factory:j.\u0275fac})}return j})();function mi(j){return{appProviders:[...Gi,...j?.providers??[]],platformProviders:fr}}const fr=[{provide:oe.Agw,useValue:ve.AJ},{provide:oe.PLl,useValue:function Pt(){Xe.makeCurrent()},multi:!0},{provide:R.qQL,useFactory:function Un(){return(0,oe._9u)(document),document}}],Gi=[{provide:R.GBX,useValue:"root"},{provide:R.zcH,useFactory:function Kt(){return new R.zcH}},{provide:v,useClass:ee,multi:!0},{provide:v,useClass:kn,multi:!0},Ve,je,m,{provide:oe._9s,useExisting:Ve},{provide:r.N,useClass:Nt},[]];var oi=$(3049),yn=$(467),or=$(8869);const gn=[{path:"",loadComponent:()=>$.e(855).then($.bind($,855)).then(j=>j.ShellHostComponent),children:[{path:"management",canActivate:[(()=>{class j{tableMasterRepo;constructor(D){this.tableMasterRepo=D}canActivate(){return(0,yn.A)(function*(){return console.log("Startup Guard Checking..."),!0})()}static \u0275fac=function(g){return new(g||j)(R.KVO(or.jv))};static \u0275prov=R.jDH({token:j,factory:j.\u0275fac,providedIn:"root"})}return j})()],loadChildren:()=>$.e(695).then($.bind($,6076)).then(j=>j.dbManagementRoutes)},{path:"health-check",loadComponent:()=>$.e(659).then($.bind($,9659)).then(j=>j.HealthCheckPage)},{path:"dashboard/default",loadComponent:()=>$.e(831).then($.bind($,8831)).then(j=>j.DefaultComponent)},{path:"dev-controls",loadComponent:()=>$.e(823).then($.bind($,3823)).then(j=>j.ControlLibraryComponent)},{path:"settings",loadComponent:()=>$.e(504).then($.bind($,5504)).then(j=>j.AppearanceSettingsPage)},{path:"smart-table",loadComponent:()=>$.e(50).then($.bind($,3050)).then(j=>j.SmartTablePageComponent)},{path:"row-contact",loadComponent:()=>$.e(632).then($.bind($,6632)).then(j=>j.RowContactListComponent)},{path:"",redirectTo:"dashboard/default",pathMatch:"full"}]}];var zn=$(3794),Tr=$(9437),Zn=$(8810),oo=$(8141),Hn=$(8438),Bi=$(6648),Ei=$(5558);const fo=[(j,S)=>{const D=(0,R.WQX)(or.Wx),A=j.url.match(/^([A-Z_]+)\/(.*)$/);if(A){const U=A[1],ne=A[2];return(0,Bi.H)(D.db.ApiConfiguration.get(U)).pipe((0,Ei.n)(Ee=>{let tt="";if(Ee&&Ee.Api_End_point)tt=Ee.Api_End_point;else{const bt=Hn.c.api;bt&&bt[U]&&(tt=bt[U])}if(tt){const Sn=`${tt.endsWith("/")?tt.slice(0,-1):tt}/${ne}`,xn=j.clone({url:Sn});return S(xn)}return S(j)}))}return S(j)},(j,S)=>{const D=localStorage.getItem("access_token");return S(D?j.clone({setHeaders:{Authorization:`Bearer ${D}`}}):j)},(j,S)=>{const D=Date.now();return console.log(`[Http] Request ${j.method} "${j.urlWithParams}"`),S(j).pipe((0,oo.M)({next:g=>{},finalize:()=>{const g=Date.now()-D;console.log(`[Http] Request "${j.urlWithParams}" took ${g} ms.`)}}))},(j,S)=>S(j).pipe((0,Tr.W)(D=>{let g="An unknown error occurred!";return g=D.error instanceof ErrorEvent?`Error: ${D.error.message}`:`Error Code: ${D.status}\\nMessage: ${D.message}`,console.error("[ErrorInterceptor]",g),(0,Zn.$)(()=>D)}))];var Ai=$(7673),Lr=$(1413),Pi=$(4402),Vi=$(7468),vo=$(8793),Ui=$(9030),Di=$(6697),ui=$(6129);class $i extends Lr.B{constructor(S=1/0,D=1/0,g=ui.U){super(),this._bufferSize=S,this._windowTime=D,this._timestampProvider=g,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=D===1/0,this._bufferSize=Math.max(1,S),this._windowTime=Math.max(1,D)}next(S){const{isStopped:D,_buffer:g,_infiniteTimeWindow:A,_timestampProvider:U,_windowTime:ne}=this;D||(g.push(S),!A&&g.push(U.now()+ne)),this._trimBuffer(),super.next(S)}_subscribe(S){this._throwIfClosed(),this._trimBuffer();const D=this._innerSubscribe(S),{_infiniteTimeWindow:g,_buffer:A}=this,U=A.slice();for(let ne=0;ne<U.length&&!S.closed;ne+=g?1:2)S.next(U[ne]);return this._checkFinalizedStatuses(S),D}_trimBuffer(){const{_bufferSize:S,_timestampProvider:D,_buffer:g,_infiniteTimeWindow:A}=this,U=(A?1:2)*S;if(S<1/0&&U<g.length&&g.splice(0,g.length-U),!A){const ne=D.now();let Ee=0;for(let tt=1;tt<g.length&&g[tt]<=ne;tt+=2)Ee=tt;Ee&&g.splice(0,Ee+1)}}}var _i=$(8750),Mi=$(7707),Xi=$(9974);function Do(j,S,...D){if(!0===S)return void j();if(!1===S)return;const g=new Mi.Ms({next:()=>{g.unsubscribe(),j()}});return(0,_i.Tg)(S(...D)).subscribe(g)}function Wi(j,S,D){let g,A=!1;return j&&"object"==typeof j?({bufferSize:g=1/0,windowTime:S=1/0,refCount:A=!1,scheduler:D}=j):g=j??1/0,function Io(j={}){const{connector:S=()=>new Lr.B,resetOnError:D=!0,resetOnComplete:g=!0,resetOnRefCountZero:A=!0}=j;return U=>{let ne,Ee,tt,bt=0,Sn=!1,xn=!1;const yr=()=>{Ee?.unsubscribe(),Ee=void 0},Cr=()=>{yr(),ne=tt=void 0,Sn=xn=!1},Kr=()=>{const ii=ne;Cr(),ii?.unsubscribe()};return(0,Xi.N)((ii,mo)=>{bt++,!xn&&!Sn&&yr();const ds=tt=tt??S();mo.add(()=>{bt--,0===bt&&!xn&&!Sn&&(Ee=Do(Kr,A))}),ds.subscribe(mo),!ne&&bt>0&&(ne=new Mi.Ms({next:vs=>ds.next(vs),error:vs=>{xn=!0,yr(),Ee=Do(Cr,D,vs),ds.error(vs)},complete:()=>{Sn=!0,yr(),Ee=Do(Cr,g),ds.complete()}}),(0,_i.Tg)(ii).subscribe(ne))})(U)}}({connector:()=>new $i(g,S,D),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:A})}var wo=$(6354),wi=$(274);class yo{}let Ji=(()=>{class j{handle(D){return D.key}static \u0275fac=function(g){return new(g||j)};static \u0275prov=R.jDH({token:j,factory:j.\u0275fac})}return j})();class Zi{}let qi=(()=>{class j extends Zi{compile(D,g){return D}compileTranslations(D,g){return D}static \u0275fac=(()=>{let D;return function(A){return(D||(D=oe.xGo(j)))(A||j)}})();static \u0275prov=R.jDH({token:j,factory:j.\u0275fac})}return j})();class Xr{}let Bo=(()=>{class j extends Xr{getTranslation(D){return(0,Ai.of)({})}static \u0275fac=(()=>{let D;return function(A){return(D||(D=oe.xGo(j)))(A||j)}})();static \u0275prov=R.jDH({token:j,factory:j.\u0275fac})}return j})();function pt(j){return typeof j<"u"&&null!==j}function lt(j){return void 0!==j}function tn(j){return hn(j)&&!un(j)&&null!==j}function hn(j){return"object"==typeof j&&null!==j}function un(j){return Array.isArray(j)}function an(j){return"string"==typeof j}function rt(j){if(un(j))return j.map(S=>rt(S));if(tn(j)){const S={};return Object.keys(j).forEach(D=>{S[D]=rt(j[D])}),S}return j}function Wt(j,S){if(!hn(j))return rt(S);const D=rt(j);return hn(D)&&hn(S)&&Object.keys(S).forEach(g=>{tn(S[g])?g in j?D[g]=Wt(j[g],S[g]):Object.assign(D,{[g]:S[g]}):Object.assign(D,{[g]:S[g]})}),D}function Qt(j,S){const D=S.split(".");S="";do{S+=D.shift();const g=!D.length;if(pt(j)){if(tn(j)&&lt(j[S])&&(tn(j[S])||un(j[S])||g)){j=j[S],S="";continue}if(un(j)){const A=parseInt(S,10);if(lt(j[A])&&(tn(j[A])||un(j[A])||g)){j=j[A],S="";continue}}}g?j=void 0:S+="."}while(D.length);return j}class ot{}let kt=(()=>{class j extends ot{templateMatcher=/{{\s?([^{}\s]*)\s?}}/g;interpolate(D,g){return an(D)?this.interpolateString(D,g):function Rr(j){return"function"==typeof j}(D)?this.interpolateFunction(D,g):void 0}interpolateFunction(D,g){return D(g)}interpolateString(D,g){return g?D.replace(this.templateMatcher,(A,U)=>{const ne=this.getInterpolationReplacement(g,U);return void 0!==ne?ne:A}):D}getInterpolationReplacement(D,g){return this.formatValue(Qt(D,g))}formatValue(D){return an(D)?D:"number"==typeof D||"boolean"==typeof D?D.toString():null===D?"null":un(D)?D.join(", "):hn(D)?"function"==typeof D.toString&&D.toString!==Object.prototype.toString?D.toString():JSON.stringify(D):void 0}static \u0275fac=(()=>{let D;return function(A){return(D||(D=oe.xGo(j)))(A||j)}})();static \u0275prov=R.jDH({token:j,factory:j.\u0275fac})}return j})(),Tn=(()=>{class j{_onTranslationChange=new Lr.B;_onLangChange=new Lr.B;_onFallbackLangChange=new Lr.B;fallbackLang=null;currentLang;translations={};languages=[];getTranslations(D){return this.translations[D]}setTranslations(D,g,A){this.translations[D]=A&&this.hasTranslationFor(D)?Wt(this.translations[D],g):g,this.addLanguages([D]),this._onTranslationChange.next({lang:D,translations:this.getTranslations(D)})}getLanguages(){return this.languages}getCurrentLang(){return this.currentLang}getFallbackLang(){return this.fallbackLang}setFallbackLang(D,g=!0){this.fallbackLang=D,g&&this._onFallbackLangChange.next({lang:D,translations:this.translations[D]})}setCurrentLang(D,g=!0){this.currentLang=D,g&&this._onLangChange.next({lang:D,translations:this.translations[D]})}get onTranslationChange(){return this._onTranslationChange.asObservable()}get onLangChange(){return this._onLangChange.asObservable()}get onFallbackLangChange(){return this._onFallbackLangChange.asObservable()}addLanguages(D){this.languages=Array.from(new Set([...this.languages,...D]))}hasTranslationFor(D){return typeof this.translations[D]<"u"}deleteTranslations(D){delete this.translations[D]}getTranslation(D){let g=this.getValue(this.currentLang,D);return void 0===g&&null!=this.fallbackLang&&this.fallbackLang!==this.currentLang&&(g=this.getValue(this.fallbackLang,D)),g}getValue(D,g){return Qt(this.getTranslations(D),g)}static \u0275fac=function(g){return new(g||j)};static \u0275prov=R.jDH({token:j,factory:j.\u0275fac})}return j})();const nr=new R.nKC("TRANSLATE_CONFIG"),_r=j=>(0,Pi.A)(j)?j:(0,Ai.of)(j);let qn=(()=>{class j{loadingTranslations;pending=!1;_translationRequests={};lastUseLanguage=null;currentLoader=(0,R.WQX)(Xr);compiler=(0,R.WQX)(Zi);parser=(0,R.WQX)(ot);missingTranslationHandler=(0,R.WQX)(yo);store=(0,R.WQX)(Tn);extend=!1;get onTranslationChange(){return this.store.onTranslationChange}get onLangChange(){return this.store.onLangChange}get onFallbackLangChange(){return this.store.onFallbackLangChange}get onDefaultLangChange(){return this.store.onFallbackLangChange}constructor(){const D={extend:!1,fallbackLang:null,...(0,R.WQX)(nr,{optional:!0})};D.lang&&this.use(D.lang),D.fallbackLang&&this.setFallbackLang(D.fallbackLang),D.extend&&(this.extend=!0)}setFallbackLang(D){this.getFallbackLang()||this.store.setFallbackLang(D,!1);const g=this.loadOrExtendLanguage(D);return(0,Pi.A)(g)?(g.pipe((0,Di.s)(1)).subscribe({next:()=>{this.store.setFallbackLang(D)},error:()=>{}}),g):(this.store.setFallbackLang(D),(0,Ai.of)(this.store.getTranslations(D)))}use(D){this.lastUseLanguage=D,this.getCurrentLang()||this.store.setCurrentLang(D,!1);const g=this.loadOrExtendLanguage(D);return(0,Pi.A)(g)?(g.pipe((0,Di.s)(1)).subscribe({next:()=>{this.changeLang(D)},error:()=>{}}),g):(this.changeLang(D),(0,Ai.of)(this.store.getTranslations(D)))}loadOrExtendLanguage(D){if(!this.store.hasTranslationFor(D)||this.extend)return this._translationRequests[D]=this._translationRequests[D]||this.loadAndCompileTranslations(D),this._translationRequests[D]}changeLang(D){D===this.lastUseLanguage&&this.store.setCurrentLang(D)}getCurrentLang(){return this.store.getCurrentLang()}loadAndCompileTranslations(D){this.pending=!0;const g=this.currentLoader.getTranslation(D).pipe(Wi(1),(0,Di.s)(1));return this.loadingTranslations=g.pipe((0,wo.T)(A=>this.compiler.compileTranslations(A,D)),Wi(1),(0,Di.s)(1)),this.loadingTranslations.subscribe({next:A=>{this.store.setTranslations(D,A,this.extend),this.pending=!1},error:A=>{this.pending=!1}}),g}setTranslation(D,g,A=!1){const U=this.compiler.compileTranslations(g,D);this.store.setTranslations(D,U,A||this.extend)}getLangs(){return this.store.getLanguages()}addLangs(D){this.store.addLanguages(D)}getParsedResultForKey(D,g){const A=this.getTextToInterpolate(D);if(pt(A))return this.runInterpolation(A,g);const U=this.missingTranslationHandler.handle({key:D,translateService:this,...void 0!==g&&{interpolateParams:g}});return void 0!==U?U:D}getFallbackLang(){return this.store.getFallbackLang()}getTextToInterpolate(D){return this.store.getTranslation(D)}runInterpolation(D,g){if(pt(D))return un(D)?this.runInterpolationOnArray(D,g):tn(D)?this.runInterpolationOnDict(D,g):this.parser.interpolate(D,g)}runInterpolationOnArray(D,g){return D.map(A=>this.runInterpolation(A,g))}runInterpolationOnDict(D,g){const A={};for(const U in D){const ne=this.runInterpolation(D[U],g);void 0!==ne&&(A[U]=ne)}return A}getParsedResult(D,g){return D instanceof Array?this.getParsedResultForArray(D,g):this.getParsedResultForKey(D,g)}getParsedResultForArray(D,g){const A={};let U=!1;for(const Ee of D)A[Ee]=this.getParsedResultForKey(Ee,g),U=U||(0,Pi.A)(A[Ee]);if(!U)return A;const ne=D.map(Ee=>_r(A[Ee]));return(0,Vi.p)(ne).pipe((0,wo.T)(Ee=>{const tt={};return Ee.forEach((bt,Sn)=>{tt[D[Sn]]=bt}),tt}))}get(D,g){if(!pt(D)||!D.length)throw new Error('Parameter "key" is required and cannot be empty');return this.pending?this.loadingTranslations.pipe((0,wi.H)(()=>_r(this.getParsedResult(D,g)))):_r(this.getParsedResult(D,g))}getStreamOnTranslationChange(D,g){if(!pt(D)||!D.length)throw new Error('Parameter "key" is required and cannot be empty');return(0,vo.x)((0,Ui.v)(()=>this.get(D,g)),this.onTranslationChange.pipe((0,Ei.n)(()=>{const A=this.getParsedResult(D,g);return _r(A)})))}stream(D,g){if(!pt(D)||!D.length)throw new Error('Parameter "key" required');return(0,vo.x)((0,Ui.v)(()=>this.get(D,g)),this.onLangChange.pipe((0,Ei.n)(()=>{const A=this.getParsedResult(D,g);return _r(A)})))}instant(D,g){if(!pt(D)||0===D.length)throw new Error('Parameter "key" is required and cannot be empty');const A=this.getParsedResult(D,g);return(0,Pi.A)(A)?Array.isArray(D)?D.reduce((U,ne)=>(U[ne]=ne,U),{}):D:A}set(D,g,A=this.getCurrentLang()){this.store.setTranslations(A,function ge(j,S,D){return Wt(j,function Ye(j,S){return j.split(".").reduceRight((D,g)=>({[g]:D}),S)}(S,D))}(this.store.getTranslations(A),D,an(g)?this.compiler.compile(g,A):this.compiler.compileTranslations(g,A)),!1)}reloadLang(D){return this.resetLang(D),this.loadAndCompileTranslations(D)}resetLang(D){delete this._translationRequests[D],this.store.deleteTranslations(D)}static getBrowserLang(){if(typeof window>"u"||!window.navigator)return;const D=this.getBrowserCultureLang();return D?D.split(/[-_]/)[0]:void 0}static getBrowserCultureLang(){if(!(typeof window>"u"||typeof window.navigator>"u"))return window.navigator.languages?window.navigator.languages[0]:window.navigator.language||window.navigator.browserLanguage||window.navigator.userLanguage}getBrowserLang(){return j.getBrowserLang()}getBrowserCultureLang(){return j.getBrowserCultureLang()}get defaultLang(){return this.getFallbackLang()}get currentLang(){return this.store.getCurrentLang()}get langs(){return this.store.getLanguages()}setDefaultLang(D){return this.setFallbackLang(D)}getDefaultLang(){return this.getFallbackLang()}static \u0275fac=function(g){return new(g||j)};static \u0275prov=R.jDH({token:j,factory:j.\u0275fac})}return j})();function hi(j){return{provide:Xr,useClass:j}}function To(j){return{provide:Zi,useClass:j}}function eo(j){return{provide:ot,useClass:j}}function ho(j){return{provide:yo,useClass:j}}function Co(j={},S){const D=[];return j.loader&&D.push(j.loader),j.compiler&&D.push(j.compiler),j.parser&&D.push(j.parser),j.missingTranslationHandler&&D.push(j.missingTranslationHandler),S&&D.push(Tn),(j.useDefaultLang||j.defaultLanguage)&&(console.warn("The `useDefaultLang` and `defaultLanguage` options are deprecated. Please use `fallbackLang` instead."),!0===j.useDefaultLang&&j.defaultLanguage&&(j.fallbackLang=j.defaultLanguage)),D.push({provide:nr,useValue:{fallbackLang:j.fallbackLang??null,lang:j.lang,extend:j.extend??!1}}),D.push({provide:qn,useClass:qn,deps:[Tn,Xr,Zi,ot,yo,nr]}),D}let As=(()=>{class j{static forRoot(D={}){return{ngModule:j,providers:[...Co({compiler:To(qi),parser:eo(kt),loader:hi(Bo),missingTranslationHandler:ho(Ji),...D},!0)]}}static forChild(D={}){return{ngModule:j,providers:[...Co(D,D.isolate??!1)]}}static \u0275fac=function(g){return new(g||j)};static \u0275mod=oe.$C({type:j});static \u0275inj=R.G2t({})}return j})();const qr=new R.nKC("TRANSLATE_HTTP_LOADER_CONFIG");let Os=(()=>{class j{http;config;constructor(){this.config={prefix:"/assets/i18n/",suffix:".json",enforceLoading:!1,useHttpBackend:!1,...(0,R.WQX)(qr)},this.http=this.config.useHttpBackend?new zn.Qq((0,R.WQX)(zn.JV)):(0,R.WQX)(zn.Qq)}getTranslation(D){const g=this.config.enforceLoading?`?enforceLoading=${Date.now()}`:"";return this.http.get(`${this.config.prefix}${D}${this.config.suffix}${g}`)}static \u0275fac=function(g){return new(g||j)};static \u0275prov=R.jDH({token:j,factory:j.\u0275fac})}return j})();var Fr=function(j){return j[j.State=0]="State",j[j.Transition=1]="Transition",j[j.Sequence=2]="Sequence",j[j.Group=3]="Group",j[j.Animate=4]="Animate",j[j.Keyframes=5]="Keyframes",j[j.Style=6]="Style",j[j.Trigger=7]="Trigger",j[j.Reference=8]="Reference",j[j.AnimateChild=9]="AnimateChild",j[j.AnimateRef=10]="AnimateRef",j[j.Query=11]="Query",j[j.Stagger=12]="Stagger",j}(Fr||{});const so="*";function zs(j,S){return{type:Fr.Trigger,name:j,definitions:S,options:{}}}function Ks(j,S=null){return{type:Fr.Animate,styles:S,timings:j}}function pe(j){return{type:Fr.Style,styles:j,offset:null}}function qe(j,S,D){return{type:Fr.State,name:j,styles:S,options:D}}function Be(j,S,D=null){return{type:Fr.Transition,expr:j,animation:S,options:D}}class bi{_onDoneFns=[];_onStartFns=[];_onDestroyFns=[];_originalOnDoneFns=[];_originalOnStartFns=[];_started=!1;_destroyed=!1;_finished=!1;_position=0;parentPlayer=null;totalTime;constructor(S=0,D=0){this.totalTime=S+D}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(S=>S()),this._onDoneFns=[])}onStart(S){this._originalOnStartFns.push(S),this._onStartFns.push(S)}onDone(S){this._originalOnDoneFns.push(S),this._onDoneFns.push(S)}onDestroy(S){this._onDestroyFns.push(S)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){queueMicrotask(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(S=>S()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(S=>S()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(S){this._position=this.totalTime?S*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(S){const D="start"==S?this._onStartFns:this._onDoneFns;D.forEach(g=>g()),D.length=0}}class Si{_onDoneFns=[];_onStartFns=[];_finished=!1;_started=!1;_destroyed=!1;_onDestroyFns=[];parentPlayer=null;totalTime=0;players;constructor(S){this.players=S;let D=0,g=0,A=0;const U=this.players.length;0==U?queueMicrotask(()=>this._onFinish()):this.players.forEach(ne=>{ne.onDone(()=>{++D==U&&this._onFinish()}),ne.onDestroy(()=>{++g==U&&this._onDestroy()}),ne.onStart(()=>{++A==U&&this._onStart()})}),this.totalTime=this.players.reduce((ne,Ee)=>Math.max(ne,Ee.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(S=>S()),this._onDoneFns=[])}init(){this.players.forEach(S=>S.init())}onStart(S){this._onStartFns.push(S)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(S=>S()),this._onStartFns=[])}onDone(S){this._onDoneFns.push(S)}onDestroy(S){this._onDestroyFns.push(S)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(S=>S.play())}pause(){this.players.forEach(S=>S.pause())}restart(){this.players.forEach(S=>S.restart())}finish(){this._onFinish(),this.players.forEach(S=>S.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(S=>S.destroy()),this._onDestroyFns.forEach(S=>S()),this._onDestroyFns=[])}reset(){this.players.forEach(S=>S.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(S){const D=S*this.totalTime;this.players.forEach(g=>{const A=g.totalTime?Math.min(1,D/g.totalTime):1;g.setPosition(A)})}getPosition(){const S=this.players.reduce((D,g)=>null===D||g.totalTime>D.totalTime?g:D,null);return null!=S?S.getPosition():0}beforeDestroy(){this.players.forEach(S=>{S.beforeDestroy&&S.beforeDestroy()})}triggerCallback(S){const D="start"==S?this._onStartFns:this._onDoneFns;D.forEach(g=>g()),D.length=0}}var Hi=$(9769),zr=$(345);const Ii=["toast-component",""];function to(j,S){if(1&j){const D=oe.RV6();oe.j41(0,"button",5),oe.bIt("click",function(){R.eBV(D);const A=oe.XpG();return R.Njj(A.remove())}),oe.j41(1,"span",6),oe.EFF(2,"\xd7"),oe.k0s()()}}function Yo(j,S){if(1&j&&(oe.qex(0),oe.EFF(1),oe.bVm()),2&j){const D=oe.XpG(2);oe.R7$(),oe.SpI("[",D.duplicatesCount+1,"]")}}function ao(j,S){if(1&j&&(oe.j41(0,"div"),oe.EFF(1),oe.DNE(2,Yo,2,1,"ng-container",4),oe.k0s()),2&j){const D=oe.XpG();oe.HbH(D.options.titleClass),oe.BMQ("aria-label",D.title),oe.R7$(),oe.SpI(" ",D.title," "),oe.R7$(),oe.Y8G("ngIf",D.duplicatesCount)}}function Es(j,S){if(1&j&&oe.nrm(0,"div",7),2&j){const D=oe.XpG();oe.HbH(D.options.messageClass),oe.Y8G("innerHTML",D.message,oe.npT)}}function Eo(j,S){if(1&j&&(oe.j41(0,"div",8),oe.EFF(1),oe.k0s()),2&j){const D=oe.XpG();oe.HbH(D.options.messageClass),oe.BMQ("aria-label",D.message),oe.R7$(),oe.SpI(" ",D.message," ")}}function bo(j,S){if(1&j&&(oe.j41(0,"div"),oe.nrm(1,"div",9),oe.k0s()),2&j){const D=oe.XpG();oe.R7$(),oe.xc7("width",D.width()+"%")}}class Ro{_attachedHost;component;viewContainerRef;injector;constructor(S,D){this.component=S,this.injector=D}attach(S,D){return this._attachedHost=S,S.attach(this,D)}detach(){const S=this._attachedHost;if(S)return this._attachedHost=void 0,S.detach()}get isAttached(){return null!=this._attachedHost}setAttachedHost(S){this._attachedHost=S}}class fa{_attachedPortal;_disposeFn;attach(S,D){return this._attachedPortal=S,this.attachComponentPortal(S,D)}detach(){this._attachedPortal&&this._attachedPortal.setAttachedHost(),this._attachedPortal=void 0,this._disposeFn&&(this._disposeFn(),this._disposeFn=void 0)}setDisposeFn(S){this._disposeFn=S}}class ps{_overlayRef;componentInstance;duplicatesCount=0;_afterClosed=new Lr.B;_activate=new Lr.B;_manualClose=new Lr.B;_resetTimeout=new Lr.B;_countDuplicate=new Lr.B;constructor(S){this._overlayRef=S}manualClose(){this._manualClose.next(),this._manualClose.complete()}manualClosed(){return this._manualClose.asObservable()}timeoutReset(){return this._resetTimeout.asObservable()}countDuplicate(){return this._countDuplicate.asObservable()}close(){this._overlayRef.detach(),this._afterClosed.next(),this._manualClose.next(),this._afterClosed.complete(),this._manualClose.complete(),this._activate.complete(),this._resetTimeout.complete(),this._countDuplicate.complete()}afterClosed(){return this._afterClosed.asObservable()}isInactive(){return this._activate.isStopped}activate(){this._activate.next(),this._activate.complete()}afterActivate(){return this._activate.asObservable()}onDuplicate(S,D){S&&this._resetTimeout.next(),D&&this._countDuplicate.next(++this.duplicatesCount)}}class Qo{toastId;config;message;title;toastType;toastRef;_onTap=new Lr.B;_onAction=new Lr.B;constructor(S,D,g,A,U,ne){this.toastId=S,this.config=D,this.message=g,this.title=A,this.toastType=U,this.toastRef=ne,this.toastRef.afterClosed().subscribe(()=>{this._onAction.complete(),this._onTap.complete()})}triggerTap(){this._onTap.next(),this.config.tapToDismiss&&this._onTap.complete()}onTap(){return this._onTap.asObservable()}triggerAction(S){this._onAction.next(S)}onAction(){return this._onAction.asObservable()}}const qs=new R.nKC("ToastConfig");class qa extends fa{_hostDomElement;_componentFactoryResolver;_appRef;constructor(S,D,g){super(),this._hostDomElement=S,this._componentFactoryResolver=D,this._appRef=g}attachComponentPortal(S,D){const g=this._componentFactoryResolver.resolveComponentFactory(S.component);let A;return A=g.create(S.injector),this._appRef.attachView(A.hostView),this.setDisposeFn(()=>{this._appRef.detachView(A.hostView),A.destroy()}),D?this._hostDomElement.insertBefore(this._getComponentRootNode(A),this._hostDomElement.firstChild):this._hostDomElement.appendChild(this._getComponentRootNode(A)),A}_getComponentRootNode(S){return S.hostView.rootNodes[0]}}let Ea=(()=>{class j{_document=(0,R.WQX)(R.qQL);_containerElement;ngOnDestroy(){this._containerElement&&this._containerElement.parentNode&&this._containerElement.parentNode.removeChild(this._containerElement)}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const D=this._document.createElement("div");D.classList.add("overlay-container"),D.setAttribute("aria-live","polite"),this._document.body.appendChild(D),this._containerElement=D}static \u0275fac=function(g){return new(g||j)};static \u0275prov=R.jDH({token:j,factory:j.\u0275fac,providedIn:"root"})}return j})();class Ma{_portalHost;constructor(S){this._portalHost=S}attach(S,D=!0){return this._portalHost.attach(S,D)}detach(){return this._portalHost.detach()}}let Ia=(()=>{class j{_overlayContainer=(0,R.WQX)(Ea);_componentFactoryResolver=(0,R.WQX)(oe.OM3);_appRef=(0,R.WQX)(oe.o8S);_document=(0,R.WQX)(R.qQL);_paneElements=new Map;create(D,g){return this._createOverlayRef(this.getPaneElement(D,g))}getPaneElement(D="",g){return this._paneElements.get(g)||this._paneElements.set(g,{}),this._paneElements.get(g)[D]||(this._paneElements.get(g)[D]=this._createPaneElement(D,g)),this._paneElements.get(g)[D]}_createPaneElement(D,g){const A=this._document.createElement("div");return A.id="toast-container",A.classList.add(D),A.classList.add("toast-container"),g?g.getContainerElement().appendChild(A):this._overlayContainer.getContainerElement().appendChild(A),A}_createPortalHost(D){return new qa(D,this._componentFactoryResolver,this._appRef)}_createOverlayRef(D){return new Ma(this._createPortalHost(D))}static \u0275fac=function(g){return new(g||j)};static \u0275prov=R.jDH({token:j,factory:j.\u0275fac,providedIn:"root"})}return j})(),po=(()=>{class j{overlay;_injector;sanitizer;ngZone;toastrConfig;currentlyActive=0;toasts=[];overlayContainer;previousToastMessage;index=0;constructor(D,g,A,U,ne){this.overlay=g,this._injector=A,this.sanitizer=U,this.ngZone=ne,this.toastrConfig={...D.default,...D.config},D.config.iconClasses&&(this.toastrConfig.iconClasses={...D.default.iconClasses,...D.config.iconClasses})}show(D,g,A={},U=""){return this._preBuildNotification(U,D,g,this.applyConfig(A))}success(D,g,A={}){return this._preBuildNotification(this.toastrConfig.iconClasses.success||"",D,g,this.applyConfig(A))}error(D,g,A={}){return this._preBuildNotification(this.toastrConfig.iconClasses.error||"",D,g,this.applyConfig(A))}info(D,g,A={}){return this._preBuildNotification(this.toastrConfig.iconClasses.info||"",D,g,this.applyConfig(A))}warning(D,g,A={}){return this._preBuildNotification(this.toastrConfig.iconClasses.warning||"",D,g,this.applyConfig(A))}clear(D){for(const g of this.toasts)if(void 0!==D){if(g.toastId===D)return void g.toastRef.manualClose()}else g.toastRef.manualClose()}remove(D){const g=this._findToast(D);if(!g||(g.activeToast.toastRef.close(),this.toasts.splice(g.index,1),this.currentlyActive=this.currentlyActive-1,!this.toastrConfig.maxOpened||!this.toasts.length))return!1;if(this.currentlyActive<this.toastrConfig.maxOpened&&this.toasts[this.currentlyActive]){const A=this.toasts[this.currentlyActive].toastRef;A.isInactive()||(this.currentlyActive=this.currentlyActive+1,A.activate())}return!0}findDuplicate(D="",g="",A,U){const{includeTitleDuplicates:ne}=this.toastrConfig;for(const Ee of this.toasts)if((!ne||ne&&Ee.title===D)&&Ee.message===g)return Ee.toastRef.onDuplicate(A,U),Ee;return null}applyConfig(D={}){return{...this.toastrConfig,...D}}_findToast(D){for(let g=0;g<this.toasts.length;g++)if(this.toasts[g].toastId===D)return{index:g,activeToast:this.toasts[g]};return null}_preBuildNotification(D,g,A,U){return U.onActivateTick?this.ngZone.run(()=>this._buildNotification(D,g,A,U)):this._buildNotification(D,g,A,U)}_buildNotification(D,g,A,U){if(!U.toastComponent)throw new Error("toastComponent required");const ne=this.findDuplicate(A,g,this.toastrConfig.resetTimeoutOnDuplicate&&U.timeOut>0,this.toastrConfig.countDuplicates);if((this.toastrConfig.includeTitleDuplicates&&A||g)&&this.toastrConfig.preventDuplicates&&null!==ne)return ne;this.previousToastMessage=g;let Ee=!1;this.toastrConfig.maxOpened&&this.currentlyActive>=this.toastrConfig.maxOpened&&(Ee=!0,this.toastrConfig.autoDismiss&&this.clear(this.toasts[0].toastId));const tt=this.overlay.create(U.positionClass,this.overlayContainer);this.index=this.index+1;let bt=g;g&&U.enableHtml&&(bt=this.sanitizer.sanitize(oe.WPN.HTML,g));const Sn=new ps(tt),xn=new Qo(this.index,U,bt,A,D,Sn),Cr=R.zZn.create({providers:[{provide:Qo,useValue:xn}],parent:this._injector}),Kr=new Ro(U.toastComponent,Cr),ii=tt.attach(Kr,U.newestOnTop);Sn.componentInstance=ii.instance;const mo={toastId:this.index,title:A||"",message:g||"",toastRef:Sn,onShown:Sn.afterActivate(),onHidden:Sn.afterClosed(),onTap:xn.onTap(),onAction:xn.onAction(),portal:ii};return Ee||(this.currentlyActive=this.currentlyActive+1,setTimeout(()=>{mo.toastRef.activate()})),this.toasts.push(mo),mo}static \u0275fac=function(g){return new(g||j)(R.KVO(qs),R.KVO(Ia),R.KVO(R.zZn),R.KVO(zr.up),R.KVO(R.SKi))};static \u0275prov=R.jDH({token:j,factory:j.\u0275fac,providedIn:"root"})}return j})();const ls={maxOpened:0,autoDismiss:!1,newestOnTop:!0,preventDuplicates:!1,countDuplicates:!1,resetTimeoutOnDuplicate:!1,includeTitleDuplicates:!1,iconClasses:{error:"toast-error",info:"toast-info",success:"toast-success",warning:"toast-warning"},closeButton:!1,disableTimeOut:!1,timeOut:5e3,extendedTimeOut:1e3,enableHtml:!1,progressBar:!1,toastClass:"ngx-toastr",positionClass:"toast-top-right",titleClass:"toast-title",messageClass:"toast-message",easing:"ease-in",easeTime:300,tapToDismiss:!0,onActivateTick:!1,progressAnimation:"decreasing",toastComponent:(()=>{class j{toastrService;toastPackage;ngZone;message;title;options;duplicatesCount;originalTimeout;width=(0,R.vPA)(-1);toastClasses="";state;get _state(){return this.state()}get displayStyle(){if("inactive"===this.state().value)return"none"}timeout;intervalId;hideTime;sub;sub1;sub2;sub3;constructor(D,g,A){this.toastrService=D,this.toastPackage=g,this.ngZone=A,this.message=g.message,this.title=g.title,this.options=g.config,this.originalTimeout=g.config.timeOut,this.toastClasses=`${g.toastType} ${g.config.toastClass}`,this.sub=g.toastRef.afterActivate().subscribe(()=>{this.activateToast()}),this.sub1=g.toastRef.manualClosed().subscribe(()=>{this.remove()}),this.sub2=g.toastRef.timeoutReset().subscribe(()=>{this.resetTimeout()}),this.sub3=g.toastRef.countDuplicate().subscribe(U=>{this.duplicatesCount=U}),this.state=(0,R.vPA)({value:"inactive",params:{easeTime:this.toastPackage.config.easeTime,easing:"ease-in"}})}ngOnDestroy(){this.sub.unsubscribe(),this.sub1.unsubscribe(),this.sub2.unsubscribe(),this.sub3.unsubscribe(),clearInterval(this.intervalId),clearTimeout(this.timeout)}activateToast(){this.state.update(D=>({...D,value:"active"})),!0!==this.options.disableTimeOut&&"timeOut"!==this.options.disableTimeOut&&this.options.timeOut&&(this.outsideTimeout(()=>this.remove(),this.options.timeOut),this.hideTime=(new Date).getTime()+this.options.timeOut,this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10))}updateProgress(){if(0===this.width()||100===this.width()||!this.options.timeOut)return;const D=(new Date).getTime();this.width.set((this.hideTime-D)/this.options.timeOut*100),"increasing"===this.options.progressAnimation&&this.width.update(A=>100-A),this.width()<=0&&this.width.set(0),this.width()>=100&&this.width.set(100)}resetTimeout(){clearTimeout(this.timeout),clearInterval(this.intervalId),this.state.update(D=>({...D,value:"active"})),this.outsideTimeout(()=>this.remove(),this.originalTimeout),this.options.timeOut=this.originalTimeout,this.hideTime=(new Date).getTime()+(this.options.timeOut||0),this.width.set(-1),this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10)}remove(){"removed"!==this.state().value&&(clearTimeout(this.timeout),this.state.update(D=>({...D,value:"removed"})),this.outsideTimeout(()=>this.toastrService.remove(this.toastPackage.toastId),+this.toastPackage.config.easeTime))}tapToast(){"removed"!==this.state().value&&(this.toastPackage.triggerTap(),this.options.tapToDismiss&&this.remove())}stickAround(){"removed"!==this.state().value&&"extendedTimeOut"!==this.options.disableTimeOut&&(clearTimeout(this.timeout),this.options.timeOut=0,this.hideTime=0,clearInterval(this.intervalId),this.width.set(0))}delayedHideToast(){!0===this.options.disableTimeOut||"extendedTimeOut"===this.options.disableTimeOut||0===this.options.extendedTimeOut||"removed"===this.state().value||(this.outsideTimeout(()=>this.remove(),this.options.extendedTimeOut),this.options.timeOut=this.options.extendedTimeOut,this.hideTime=(new Date).getTime()+(this.options.timeOut||0),this.width.set(-1),this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10))}outsideTimeout(D,g){this.ngZone?this.ngZone.runOutsideAngular(()=>this.timeout=setTimeout(()=>this.runInsideAngular(D),g)):this.timeout=setTimeout(()=>D(),g)}outsideInterval(D,g){this.ngZone?this.ngZone.runOutsideAngular(()=>this.intervalId=setInterval(()=>this.runInsideAngular(D),g)):this.intervalId=setInterval(()=>D(),g)}runInsideAngular(D){this.ngZone?this.ngZone.run(()=>D()):D()}static \u0275fac=function(g){return new(g||j)(oe.rXU(po),oe.rXU(Qo),oe.rXU(R.SKi))};static \u0275cmp=oe.VBU({type:j,selectors:[["","toast-component",""]],hostVars:5,hostBindings:function(g,A){1&g&&oe.bIt("click",function(){return A.tapToast()})("mouseenter",function(){return A.stickAround()})("mouseleave",function(){return A.delayedHideToast()}),2&g&&(oe.zvX("@flyInOut",A._state),oe.HbH(A.toastClasses),oe.xc7("display",A.displayStyle))},attrs:Ii,decls:5,vars:5,consts:[["type","button","class","toast-close-button","aria-label","Close",3,"click",4,"ngIf"],[3,"class",4,"ngIf"],["role","alert",3,"class","innerHTML",4,"ngIf"],["role","alert",3,"class",4,"ngIf"],[4,"ngIf"],["type","button","aria-label","Close",1,"toast-close-button",3,"click"],["aria-hidden","true"],["role","alert",3,"innerHTML"],["role","alert"],[1,"toast-progress"]],template:function(g,A){1&g&&oe.DNE(0,to,3,0,"button",0)(1,ao,3,5,"div",1)(2,Es,1,3,"div",2)(3,Eo,2,4,"div",3)(4,bo,2,2,"div",4),2&g&&(oe.Y8G("ngIf",A.options.closeButton),oe.R7$(),oe.Y8G("ngIf",A.title),oe.R7$(),oe.Y8G("ngIf",A.message&&A.options.enableHtml),oe.R7$(),oe.Y8G("ngIf",A.message&&!A.options.enableHtml),oe.R7$(),oe.Y8G("ngIf",A.options.progressBar))},dependencies:[Hi.bT],encapsulation:2,data:{animation:[zs("flyInOut",[qe("inactive",pe({opacity:0})),qe("active",pe({opacity:1})),qe("removed",pe({opacity:0})),Be("inactive => active",Ks("{{ easeTime }}ms {{ easing }}")),Be("active => removed",Ks("{{ easeTime }}ms {{ easing }}"))])]},changeDetection:0})}return j})()};function fn(j){return new R.buA(3e3,!1)}function zo(j){return new R.buA(3002,!1)}function xs(j){switch(j.length){case 0:return new bi;case 1:return j[0];default:return new Si(j)}}function Ua(j,S,D=new Map,g=new Map){const A=[],U=[];let ne=-1,Ee=null;if(S.forEach(tt=>{const bt=tt.get("offset"),Sn=bt==ne,xn=Sn&&Ee||new Map;tt.forEach((yr,Cr)=>{let Kr=Cr,ii=yr;if("offset"!==Cr)switch(Kr=j.normalizePropertyName(Kr,A),ii){case"!":ii=D.get(Cr);break;case so:ii=g.get(Cr);break;default:ii=j.normalizeStyleValue(Cr,Kr,ii,A)}xn.set(Kr,ii)}),Sn||U.push(xn),Ee=xn,ne=bt}),A.length)throw function sl(){return new R.buA(3502,!1)}();return U}function I(j,S,D,g){switch(S){case"start":j.onStart(()=>g(D&&O(D,"start",j)));break;case"done":j.onDone(()=>g(D&&O(D,"done",j)));break;case"destroy":j.onDestroy(()=>g(D&&O(D,"destroy",j)))}}function O(j,S,D){const U=q(j.element,j.triggerName,j.fromState,j.toState,S||j.phaseName,D.totalTime??j.totalTime,!!D.disabled),ne=j._data;return null!=ne&&(U._data=ne),U}function q(j,S,D,g,A="",U=0,ne){return{element:j,triggerName:S,fromState:D,toState:g,phaseName:A,totalTime:U,disabled:!!ne}}function ae(j,S,D){let g=j.get(S);return g||j.set(S,g=D),g}function me(j){const S=j.indexOf(":");return[j.substring(1,S),j.slice(S+1)]}const Ie=typeof document>"u"?null:document.documentElement;function Je(j){const S=j.parentNode||j.host||null;return S===Ie?null:S}let St=null,Mt=!1;function Ot(j,S){for(;S;){if(S===j)return!0;S=Je(S)}return!1}function Vt(j,S,D){if(D)return Array.from(j.querySelectorAll(S));const g=j.querySelector(S);return g?[g]:[]}const sn="ng-enter",mn="ng-leave",En="ng-trigger",Gn=".ng-trigger",ur="ng-animating",Nn=".ng-animating";function $n(j){if("number"==typeof j)return j;const S=j.match(/^(-?[\.\d]+)(m?s)/);return!S||S.length<2?0:Yn(parseFloat(S[1]),S[2])}function Yn(j,S){return"s"===S?1e3*j:j}function Xn(j,S,D){return j.hasOwnProperty("duration")?j:function Ir(j,S,D){let g,A=0,U="";if("string"==typeof j){const ne=j.match(gr);if(null===ne)return S.push(fn()),{duration:0,delay:0,easing:""};g=Yn(parseFloat(ne[1]),ne[2]);const Ee=ne[3];null!=Ee&&(A=Yn(parseFloat(Ee),ne[4]));const tt=ne[5];tt&&(U=tt)}else g=j;if(!D){let ne=!1,Ee=S.length;g<0&&(S.push(function In(){return new R.buA(3100,!1)}()),ne=!0),A<0&&(S.push(function er(){return new R.buA(3101,!1)}()),ne=!0),ne&&S.splice(Ee,0,fn())}return{duration:g,delay:A,easing:U}}(j,S,D)}const gr=/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i;function uo(j,S,D){S.forEach((g,A)=>{const U=_l(A);D&&!D.has(A)&&D.set(A,j.style[U]),j.style[U]=g})}function Yr(j,S){S.forEach((D,g)=>{const A=_l(g);j.style[A]=""})}function xo(j){return Array.isArray(j)?1==j.length?j[0]:function Cs(j,S=null){return{type:Fr.Sequence,steps:j,options:S}}(j):j}const pa=new RegExp("{{\\s*(.+?)\\s*}}","g");function ko(j){let S=[];if("string"==typeof j){let D;for(;D=pa.exec(j);)S.push(D[1]);pa.lastIndex=0}return S}function Ds(j,S,D){const g=`${j}`,A=g.replace(pa,(U,ne)=>{let Ee=S[ne];return null==Ee&&(D.push(function Mr(){return new R.buA(3003,!1)}()),Ee=""),Ee.toString()});return A==g?j:A}const al=/-+([a-z0-9])/g;function _l(j){return j.replace(al,(...S)=>S[1].toUpperCase())}function Jo(j,S,D){switch(S.type){case Fr.Trigger:return j.visitTrigger(S,D);case Fr.State:return j.visitState(S,D);case Fr.Transition:return j.visitTransition(S,D);case Fr.Sequence:return j.visitSequence(S,D);case Fr.Group:return j.visitGroup(S,D);case Fr.Animate:return j.visitAnimate(S,D);case Fr.Keyframes:return j.visitKeyframes(S,D);case Fr.Style:return j.visitStyle(S,D);case Fr.Reference:return j.visitReference(S,D);case Fr.AnimateChild:return j.visitAnimateChild(S,D);case Fr.AnimateRef:return j.visitAnimateRef(S,D);case Fr.Query:return j.visitQuery(S,D);case Fr.Stagger:return j.visitStagger(S,D);default:throw function ci(){return new R.buA(3004,!1)}()}}function Tl(j,S){return window.getComputedStyle(j)[S]}let Qn=(()=>{class j{validateStyleProperty(D){return function zt(j){St||(St=function Jt(){return typeof document<"u"?document.body:null}()||{},Mt=!!St.style&&"WebkitAppearance"in St.style);let S=!0;return St.style&&!function _t(j){return"ebkit"==j.substring(1,6)}(j)&&(S=j in St.style,!S&&Mt&&(S="Webkit"+j.charAt(0).toUpperCase()+j.slice(1)in St.style)),S}(D)}containsElement(D,g){return Ot(D,g)}getParentElement(D){return Je(D)}query(D,g,A){return Vt(D,g,A)}computeStyle(D,g,A){return A||""}animate(D,g,A,U,ne,Ee=[],tt){return new bi(A,U)}static \u0275fac=function(g){return new(g||j)};static \u0275prov=R.jDH({token:j,factory:j.\u0275fac})}return j})();class Is{static NOOP=new Qn}class cs{}const jl=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class Gl extends cs{normalizePropertyName(S,D){return _l(S)}normalizeStyleValue(S,D,g,A){let U="";const ne=g.toString().trim();if(jl.has(D)&&0!==g&&"0"!==g)if("number"==typeof g)U="px";else{const Ee=g.match(/^[+-]?[\d\.]+([a-z]*)$/);Ee&&0==Ee[1].length&&A.push(function Sr(){return new R.buA(3005,!1)}())}return ne+U}}const ms=new Set(["true","1"]),Xo=new Set(["false","0"]);function ul(j,S){const D=ms.has(j)||Xo.has(j),g=ms.has(S)||Xo.has(S);return(A,U)=>{let ne="*"==j||j==A,Ee="*"==S||S==U;return!ne&&D&&"boolean"==typeof A&&(ne=A?ms.has(j):Xo.has(j)),!Ee&&g&&"boolean"==typeof U&&(Ee=U?ms.has(S):Xo.has(S)),ne&&Ee}}const ru=new RegExp("s*:selfs*,?","g");function xa(j,S,D,g){return new bu(j).build(S,D,g)}class bu{_driver;constructor(S){this._driver=S}build(S,D,g){const A=new _c(D);return this._resetContextStyleTimingState(A),Jo(this,xo(S),A)}_resetContextStyleTimingState(S){S.currentQuerySelector="",S.collectedStyles=new Map,S.collectedStyles.set("",new Map),S.currentTime=0}visitTrigger(S,D){let g=D.queryCount=0,A=D.depCount=0;const U=[],ne=[];return"@"==S.name.charAt(0)&&D.errors.push(function zi(){return new R.buA(3006,!1)}()),S.definitions.forEach(Ee=>{if(this._resetContextStyleTimingState(D),Ee.type==Fr.State){const tt=Ee,bt=tt.name;bt.toString().split(/\s*,\s*/).forEach(Sn=>{tt.name=Sn,U.push(this.visitState(tt,D))}),tt.name=bt}else if(Ee.type==Fr.Transition){const tt=this.visitTransition(Ee,D);g+=tt.queryCount,A+=tt.depCount,ne.push(tt)}else D.errors.push(function Qi(){return new R.buA(3007,!1)}())}),{type:Fr.Trigger,name:S.name,states:U,transitions:ne,queryCount:g,depCount:A,options:null}}visitState(S,D){const g=this.visitStyle(S.styles,D),A=S.options&&S.options.params||null;if(g.containsDynamicStyles){const U=new Set,ne=A||{};g.styles.forEach(Ee=>{Ee instanceof Map&&Ee.forEach(tt=>{ko(tt).forEach(bt=>{ne.hasOwnProperty(bt)||U.add(bt)})})}),U.size&&D.errors.push(function Wo(){return new R.buA(3008,!1)}(0,U.values()))}return{type:Fr.State,name:S.name,style:g,options:A?{params:A}:null}}visitTransition(S,D){D.queryCount=0,D.depCount=0;const g=Jo(this,xo(S.animation),D),A=function vl(j,S){const D=[];return"string"==typeof j?j.split(/\s*,\s*/).forEach(g=>function Fl(j,S,D){if(":"==j[0]){const tt=function ga(j,S){switch(j){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(D,g)=>parseFloat(g)>parseFloat(D);case":decrement":return(D,g)=>parseFloat(g)<parseFloat(D);default:return S.push(function Ra(){return new R.buA(3016,!1)}()),"* => *"}}(j,D);if("function"==typeof tt)return void S.push(tt);j=tt}const g=j.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==g||g.length<4)return D.push(function bs(){return new R.buA(3015,!1)}()),S;const A=g[1],U=g[2],ne=g[3];S.push(ul(A,ne)),"<"==U[0]&&("*"!=A||"*"!=ne)&&S.push(ul(ne,A))}(g,D,S)):D.push(j),D}(S.expr,D.errors);return{type:Fr.Transition,matchers:A,animation:g,queryCount:D.queryCount,depCount:D.depCount,options:Sl(S.options)}}visitSequence(S,D){return{type:Fr.Sequence,steps:S.steps.map(g=>Jo(this,g,D)),options:Sl(S.options)}}visitGroup(S,D){const g=D.currentTime;let A=0;const U=S.steps.map(ne=>{D.currentTime=g;const Ee=Jo(this,ne,D);return A=Math.max(A,D.currentTime),Ee});return D.currentTime=A,{type:Fr.Group,steps:U,options:Sl(S.options)}}visitAnimate(S,D){const g=function Uu(j,S){if(j.hasOwnProperty("duration"))return j;if("number"==typeof j)return iu(Xn(j,S).duration,0,"");const D=j;if(D.split(/\s+/).some(U=>"{"==U.charAt(0)&&"{"==U.charAt(1))){const U=iu(0,0,"");return U.dynamic=!0,U.strValue=D,U}const A=Xn(D,S);return iu(A.duration,A.delay,A.easing)}(S.timings,D.errors);D.currentAnimateTimings=g;let A,U=S.styles?S.styles:pe({});if(U.type==Fr.Keyframes)A=this.visitKeyframes(U,D);else{let ne=S.styles,Ee=!1;if(!ne){Ee=!0;const bt={};g.easing&&(bt.easing=g.easing),ne=pe(bt)}D.currentTime+=g.duration+g.delay;const tt=this.visitStyle(ne,D);tt.isEmptyStep=Ee,A=tt}return D.currentAnimateTimings=null,{type:Fr.Animate,timings:g,style:A,options:null}}visitStyle(S,D){const g=this._makeStyleAst(S,D);return this._validateStyleAst(g,D),g}_makeStyleAst(S,D){const g=[],A=Array.isArray(S.styles)?S.styles:[S.styles];for(let Ee of A)"string"==typeof Ee?Ee===so?g.push(Ee):D.errors.push(zo()):g.push(new Map(Object.entries(Ee)));let U=!1,ne=null;return g.forEach(Ee=>{if(Ee instanceof Map&&(Ee.has("easing")&&(ne=Ee.get("easing"),Ee.delete("easing")),!U))for(let tt of Ee.values())if(tt.toString().indexOf("{{")>=0){U=!0;break}}),{type:Fr.Style,styles:g,easing:ne,offset:S.offset,containsDynamicStyles:U,options:null}}_validateStyleAst(S,D){const g=D.currentAnimateTimings;let A=D.currentTime,U=D.currentTime;g&&U>0&&(U-=g.duration+g.delay),S.styles.forEach(ne=>{"string"!=typeof ne&&ne.forEach((Ee,tt)=>{const bt=D.collectedStyles.get(D.currentQuerySelector),Sn=bt.get(tt);let xn=!0;Sn&&(U!=A&&U>=Sn.startTime&&A<=Sn.endTime&&(D.errors.push(function Po(){return new R.buA(3010,!1)}()),xn=!1),U=Sn.startTime),xn&&bt.set(tt,{startTime:U,endTime:A}),D.options&&function Fo(j,S,D){const g=S.params||{},A=ko(j);A.length&&A.forEach(U=>{g.hasOwnProperty(U)||D.push(function lr(){return new R.buA(3001,!1)}())})}(Ee,D.options,D.errors)})})}visitKeyframes(S,D){const g={type:Fr.Keyframes,styles:[],options:null};if(!D.currentAnimateTimings)return D.errors.push(function Uo(){return new R.buA(3011,!1)}()),g;let U=0;const ne=[];let Ee=!1,tt=!1,bt=0;const Sn=S.steps.map(ds=>{const vs=this._makeStyleAst(ds,D);let Ga=null!=vs.offset?vs.offset:function ic(j){if("string"==typeof j)return null;let S=null;if(Array.isArray(j))j.forEach(D=>{if(D instanceof Map&&D.has("offset")){const g=D;S=parseFloat(g.get("offset")),g.delete("offset")}});else if(j instanceof Map&&j.has("offset")){const D=j;S=parseFloat(D.get("offset")),D.delete("offset")}return S}(vs.styles),wa=0;return null!=Ga&&(U++,wa=vs.offset=Ga),tt=tt||wa<0||wa>1,Ee=Ee||wa<bt,bt=wa,ne.push(wa),vs});tt&&D.errors.push(function ba(){return new R.buA(3012,!1)}()),Ee&&D.errors.push(function us(){return new R.buA(3200,!1)}());const xn=S.steps.length;let yr=0;U>0&&U<xn?D.errors.push(function Ba(){return new R.buA(3202,!1)}()):0==U&&(yr=1/(xn-1));const Cr=xn-1,Kr=D.currentTime,ii=D.currentAnimateTimings,mo=ii.duration;return Sn.forEach((ds,vs)=>{const Ga=yr>0?vs==Cr?1:yr*vs:ne[vs],wa=Ga*mo;D.currentTime=Kr+ii.delay+wa,ii.duration=wa,this._validateStyleAst(ds,D),ds.offset=Ga,g.styles.push(ds)}),g}visitReference(S,D){return{type:Fr.Reference,animation:Jo(this,xo(S.animation),D),options:Sl(S.options)}}visitAnimateChild(S,D){return D.depCount++,{type:Fr.AnimateChild,options:Sl(S.options)}}visitAnimateRef(S,D){return{type:Fr.AnimateRef,animation:this.visitReference(S.animation,D),options:Sl(S.options)}}visitQuery(S,D){const g=D.currentQuerySelector,A=S.options||{};D.queryCount++,D.currentQuery=S;const[U,ne]=function cl(j){const S=!!j.split(/\s*,\s*/).find(D=>":self"==D);return S&&(j=j.replace(ru,"")),j=j.replace(/@\*/g,Gn).replace(/@\w+/g,D=>Gn+"-"+D.slice(1)).replace(/:animating/g,Nn),[j,S]}(S.selector);D.currentQuerySelector=g.length?g+" "+U:U,ae(D.collectedStyles,D.currentQuerySelector,new Map);const Ee=Jo(this,xo(S.animation),D);return D.currentQuery=null,D.currentQuerySelector=g,{type:Fr.Query,selector:U,limit:A.limit||0,optional:!!A.optional,includeSelf:ne,animation:Ee,originalSelector:S.selector,options:Sl(S.options)}}visitStagger(S,D){D.currentQuery||D.errors.push(function ka(){return new R.buA(3013,!1)}());const g="full"===S.timings?{duration:0,delay:0,easing:"full"}:Xn(S.timings,D.errors,!0);return{type:Fr.Stagger,animation:Jo(this,xo(S.animation),D),timings:g,options:null}}}class _c{errors;queryCount=0;depCount=0;currentTransition=null;currentQuery=null;currentQuerySelector=null;currentAnimateTimings=null;currentTime=0;collectedStyles=new Map;options=null;unsupportedCSSPropertiesFound=new Set;constructor(S){this.errors=S}}function Sl(j){return j?(j={...j}).params&&(j.params=function dl(j){return j?{...j}:null}(j.params)):j={},j}function iu(j,S,D){return{duration:j,delay:S,easing:D}}function ou(j,S,D,g,A,U,ne=null,Ee=!1){return{type:1,element:j,keyframes:S,preStyleProps:D,postStyleProps:g,duration:A,delay:U,totalTime:A+U,easing:ne,subTimeline:Ee}}class Us{_map=new Map;get(S){return this._map.get(S)||[]}append(S,D){let g=this._map.get(S);g||this._map.set(S,g=[]),g.push(...D)}has(S){return this._map.has(S)}clear(){this._map.clear()}}const Zo=new RegExp(":enter","g"),W=new RegExp(":leave","g");function V(j,S,D,g,A,U=new Map,ne=new Map,Ee,tt,bt=[]){return(new z).buildKeyframes(j,S,D,g,A,U,ne,Ee,tt,bt)}class z{buildKeyframes(S,D,g,A,U,ne,Ee,tt,bt,Sn=[]){bt=bt||new Us;const xn=new Ue(S,D,bt,A,U,Sn,[]);xn.options=tt;const yr=tt.delay?$n(tt.delay):0;xn.currentTimeline.delayNextStep(yr),xn.currentTimeline.setStyles([ne],null,xn.errors,tt),Jo(this,g,xn);const Cr=xn.timelines.filter(Kr=>Kr.containsAnimation());if(Cr.length&&Ee.size){let Kr;for(let ii=Cr.length-1;ii>=0;ii--){const mo=Cr[ii];if(mo.element===D){Kr=mo;break}}Kr&&!Kr.allowOnlyTimelineStyles()&&Kr.setStyles([Ee],null,xn.errors,tt)}return Cr.length?Cr.map(Kr=>Kr.buildKeyframes()):[ou(D,[],[],[],0,yr,"",!1)]}visitTrigger(S,D){}visitState(S,D){}visitTransition(S,D){}visitAnimateChild(S,D){const g=D.subInstructions.get(D.element);if(g){const A=D.createSubContext(S.options),U=D.currentTimeline.currentTime,ne=this._visitSubInstructions(g,A,A.options);U!=ne&&D.transformIntoNewTimeline(ne)}D.previousNode=S}visitAnimateRef(S,D){const g=D.createSubContext(S.options);g.transformIntoNewTimeline(),this._applyAnimationRefDelays([S.options,S.animation.options],D,g),this.visitReference(S.animation,g),D.transformIntoNewTimeline(g.currentTimeline.currentTime),D.previousNode=S}_applyAnimationRefDelays(S,D,g){for(const A of S){const U=A?.delay;if(U){const ne="number"==typeof U?U:$n(Ds(U,A?.params??{},D.errors));g.delayNextStep(ne)}}}_visitSubInstructions(S,D,g){let U=D.currentTimeline.currentTime;const ne=null!=g.duration?$n(g.duration):null,Ee=null!=g.delay?$n(g.delay):null;return 0!==ne&&S.forEach(tt=>{const bt=D.appendInstructionToTimeline(tt,ne,Ee);U=Math.max(U,bt.duration+bt.delay)}),U}visitReference(S,D){D.updateOptions(S.options,!0),Jo(this,S.animation,D),D.previousNode=S}visitSequence(S,D){const g=D.subContextCount;let A=D;const U=S.options;if(U&&(U.params||U.delay)&&(A=D.createSubContext(U),A.transformIntoNewTimeline(),null!=U.delay)){A.previousNode.type==Fr.Style&&(A.currentTimeline.snapshotCurrentStyles(),A.previousNode=se);const ne=$n(U.delay);A.delayNextStep(ne)}S.steps.length&&(S.steps.forEach(ne=>Jo(this,ne,A)),A.currentTimeline.applyStylesToKeyframe(),A.subContextCount>g&&A.transformIntoNewTimeline()),D.previousNode=S}visitGroup(S,D){const g=[];let A=D.currentTimeline.currentTime;const U=S.options&&S.options.delay?$n(S.options.delay):0;S.steps.forEach(ne=>{const Ee=D.createSubContext(S.options);U&&Ee.delayNextStep(U),Jo(this,ne,Ee),A=Math.max(A,Ee.currentTimeline.currentTime),g.push(Ee.currentTimeline)}),g.forEach(ne=>D.currentTimeline.mergeTimelineCollectedStyles(ne)),D.transformIntoNewTimeline(A),D.previousNode=S}_visitTiming(S,D){if(S.dynamic){const g=S.strValue;return Xn(D.params?Ds(g,D.params,D.errors):g,D.errors)}return{duration:S.duration,delay:S.delay,easing:S.easing}}visitAnimate(S,D){const g=D.currentAnimateTimings=this._visitTiming(S.timings,D),A=D.currentTimeline;g.delay&&(D.incrementTime(g.delay),A.snapshotCurrentStyles());const U=S.style;U.type==Fr.Keyframes?this.visitKeyframes(U,D):(D.incrementTime(g.duration),this.visitStyle(U,D),A.applyStylesToKeyframe()),D.currentAnimateTimings=null,D.previousNode=S}visitStyle(S,D){const g=D.currentTimeline,A=D.currentAnimateTimings;!A&&g.hasCurrentStyleProperties()&&g.forwardFrame();const U=A&&A.easing||S.easing;S.isEmptyStep?g.applyEmptyStep(U):g.setStyles(S.styles,U,D.errors,D.options),D.previousNode=S}visitKeyframes(S,D){const g=D.currentAnimateTimings,A=D.currentTimeline.duration,U=g.duration,Ee=D.createSubContext().currentTimeline;Ee.easing=g.easing,S.styles.forEach(tt=>{Ee.forwardTime((tt.offset||0)*U),Ee.setStyles(tt.styles,tt.easing,D.errors,D.options),Ee.applyStylesToKeyframe()}),D.currentTimeline.mergeTimelineCollectedStyles(Ee),D.transformIntoNewTimeline(A+U),D.previousNode=S}visitQuery(S,D){const g=D.currentTimeline.currentTime,A=S.options||{},U=A.delay?$n(A.delay):0;U&&(D.previousNode.type===Fr.Style||0==g&&D.currentTimeline.hasCurrentStyleProperties())&&(D.currentTimeline.snapshotCurrentStyles(),D.previousNode=se);let ne=g;const Ee=D.invokeQuery(S.selector,S.originalSelector,S.limit,S.includeSelf,!!A.optional,D.errors);D.currentQueryTotal=Ee.length;let tt=null;Ee.forEach((bt,Sn)=>{D.currentQueryIndex=Sn;const xn=D.createSubContext(S.options,bt);U&&xn.delayNextStep(U),bt===D.element&&(tt=xn.currentTimeline),Jo(this,S.animation,xn),xn.currentTimeline.applyStylesToKeyframe(),ne=Math.max(ne,xn.currentTimeline.currentTime)}),D.currentQueryIndex=0,D.currentQueryTotal=0,D.transformIntoNewTimeline(ne),tt&&(D.currentTimeline.mergeTimelineCollectedStyles(tt),D.currentTimeline.snapshotCurrentStyles()),D.previousNode=S}visitStagger(S,D){const g=D.parentContext,A=D.currentTimeline,U=S.timings,ne=Math.abs(U.duration),Ee=ne*(D.currentQueryTotal-1);let tt=ne*D.currentQueryIndex;switch(U.duration<0?"reverse":U.easing){case"reverse":tt=Ee-tt;break;case"full":tt=g.currentStaggerTime}const Sn=D.currentTimeline;tt&&Sn.delayNextStep(tt);const xn=Sn.currentTime;Jo(this,S.animation,D),D.previousNode=S,g.currentStaggerTime=A.currentTime-xn+(A.startTime-g.currentTimeline.startTime)}}const se={};class Ue{_driver;element;subInstructions;_enterClassName;_leaveClassName;errors;timelines;parentContext=null;currentTimeline;currentAnimateTimings=null;previousNode=se;subContextCount=0;options={};currentQueryIndex=0;currentQueryTotal=0;currentStaggerTime=0;constructor(S,D,g,A,U,ne,Ee,tt){this._driver=S,this.element=D,this.subInstructions=g,this._enterClassName=A,this._leaveClassName=U,this.errors=ne,this.timelines=Ee,this.currentTimeline=tt||new Pe(this._driver,D,0),Ee.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(S,D){if(!S)return;const g=S;let A=this.options;null!=g.duration&&(A.duration=$n(g.duration)),null!=g.delay&&(A.delay=$n(g.delay));const U=g.params;if(U){let ne=A.params;ne||(ne=this.options.params={}),Object.keys(U).forEach(Ee=>{(!D||!ne.hasOwnProperty(Ee))&&(ne[Ee]=Ds(U[Ee],ne,this.errors))})}}_copyOptions(){const S={};if(this.options){const D=this.options.params;if(D){const g=S.params={};Object.keys(D).forEach(A=>{g[A]=D[A]})}}return S}createSubContext(S=null,D,g){const A=D||this.element,U=new Ue(this._driver,A,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(A,g||0));return U.previousNode=this.previousNode,U.currentAnimateTimings=this.currentAnimateTimings,U.options=this._copyOptions(),U.updateOptions(S),U.currentQueryIndex=this.currentQueryIndex,U.currentQueryTotal=this.currentQueryTotal,U.parentContext=this,this.subContextCount++,U}transformIntoNewTimeline(S){return this.previousNode=se,this.currentTimeline=this.currentTimeline.fork(this.element,S),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(S,D,g){const A={duration:D??S.duration,delay:this.currentTimeline.currentTime+(g??0)+S.delay,easing:""},U=new vt(this._driver,S.element,S.keyframes,S.preStyleProps,S.postStyleProps,A,S.stretchStartingKeyframe);return this.timelines.push(U),A}incrementTime(S){this.currentTimeline.forwardTime(this.currentTimeline.duration+S)}delayNextStep(S){S>0&&this.currentTimeline.delayNextStep(S)}invokeQuery(S,D,g,A,U,ne){let Ee=[];if(A&&Ee.push(this.element),S.length>0){S=(S=S.replace(Zo,"."+this._enterClassName)).replace(W,"."+this._leaveClassName);let bt=this._driver.query(this.element,S,1!=g);0!==g&&(bt=g<0?bt.slice(bt.length+g,bt.length):bt.slice(0,g)),Ee.push(...bt)}return!U&&0==Ee.length&&ne.push(function Vs(){return new R.buA(3014,!1)}()),Ee}}class Pe{_driver;element;startTime;_elementTimelineStylesLookup;duration=0;easing=null;_previousKeyframe=new Map;_currentKeyframe=new Map;_keyframes=new Map;_styleSummary=new Map;_localTimelineStyles=new Map;_globalTimelineStyles;_pendingStyles=new Map;_backFill=new Map;_currentEmptyStepKeyframe=null;constructor(S,D,g,A){this._driver=S,this.element=D,this.startTime=g,this._elementTimelineStylesLookup=A,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(D),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(D,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(S){const D=1===this._keyframes.size&&this._pendingStyles.size;this.duration||D?(this.forwardTime(this.currentTime+S),D&&this.snapshotCurrentStyles()):this.startTime+=S}fork(S,D){return this.applyStylesToKeyframe(),new Pe(this._driver,S,D||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(S){this.applyStylesToKeyframe(),this.duration=S,this._loadKeyframe()}_updateStyle(S,D){this._localTimelineStyles.set(S,D),this._globalTimelineStyles.set(S,D),this._styleSummary.set(S,{time:this.currentTime,value:D})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(S){S&&this._previousKeyframe.set("easing",S);for(let[D,g]of this._globalTimelineStyles)this._backFill.set(D,g||so),this._currentKeyframe.set(D,so);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(S,D,g,A){D&&this._previousKeyframe.set("easing",D);const U=A&&A.params||{},ne=function jn(j,S){const D=new Map;let g;return j.forEach(A=>{if("*"===A){g??=S.keys();for(let U of g)D.set(U,so)}else for(let[U,ne]of A)D.set(U,ne)}),D}(S,this._globalTimelineStyles);for(let[Ee,tt]of ne){const bt=Ds(tt,U,g);this._pendingStyles.set(Ee,bt),this._localTimelineStyles.has(Ee)||this._backFill.set(Ee,this._globalTimelineStyles.get(Ee)??so),this._updateStyle(Ee,bt)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((S,D)=>{this._currentKeyframe.set(D,S)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((S,D)=>{this._currentKeyframe.has(D)||this._currentKeyframe.set(D,S)}))}snapshotCurrentStyles(){for(let[S,D]of this._localTimelineStyles)this._pendingStyles.set(S,D),this._updateStyle(S,D)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const S=[];for(let D in this._currentKeyframe)S.push(D);return S}mergeTimelineCollectedStyles(S){S._styleSummary.forEach((D,g)=>{const A=this._styleSummary.get(g);(!A||D.time>A.time)&&this._updateStyle(g,D.value)})}buildKeyframes(){this.applyStylesToKeyframe();const S=new Set,D=new Set,g=1===this._keyframes.size&&0===this.duration;let A=[];this._keyframes.forEach((Ee,tt)=>{const bt=new Map([...this._backFill,...Ee]);bt.forEach((Sn,xn)=>{"!"===Sn?S.add(xn):Sn===so&&D.add(xn)}),g||bt.set("offset",tt/this.duration),A.push(bt)});const U=[...S.values()],ne=[...D.values()];if(g){const Ee=A[0],tt=new Map(Ee);Ee.set("offset",0),tt.set("offset",1),A=[Ee,tt]}return ou(this.element,A,U,ne,this.duration,this.startTime,this.easing,!1)}}class vt extends Pe{keyframes;preStyleProps;postStyleProps;_stretchStartingKeyframe;timings;constructor(S,D,g,A,U,ne,Ee=!1){super(S,D,ne.delay),this.keyframes=g,this.preStyleProps=A,this.postStyleProps=U,this._stretchStartingKeyframe=Ee,this.timings={duration:ne.duration,delay:ne.delay,easing:ne.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let S=this.keyframes,{delay:D,duration:g,easing:A}=this.timings;if(this._stretchStartingKeyframe&&D){const U=[],ne=g+D,Ee=D/ne,tt=new Map(S[0]);tt.set("offset",0),U.push(tt);const bt=new Map(S[0]);bt.set("offset",nn(Ee)),U.push(bt);const Sn=S.length-1;for(let xn=1;xn<=Sn;xn++){let yr=new Map(S[xn]);const Cr=yr.get("offset");yr.set("offset",nn((D+Cr*g)/ne)),U.push(yr)}g=ne,D=0,A="",S=U}return ou(this.element,S,this.preStyleProps,this.postStyleProps,g,D,A,!0)}}function nn(j,S=3){const D=Math.pow(10,S-1);return Math.round(j*D)/D}function dr(j,S,D,g,A,U,ne,Ee,tt,bt,Sn,xn,yr){return{type:0,element:j,triggerName:S,isRemovalTransition:A,fromState:D,fromStyles:U,toState:g,toStyles:ne,timelines:Ee,queriedElements:tt,preStyleProps:bt,postStyleProps:Sn,totalTime:xn,errors:yr}}const ki={};class No{_triggerName;ast;_stateStyles;constructor(S,D,g){this._triggerName=S,this.ast=D,this._stateStyles=g}match(S,D,g,A){return function go(j,S,D,g,A){return j.some(U=>U(S,D,g,A))}(this.ast.matchers,S,D,g,A)}buildStyles(S,D,g){let A=this._stateStyles.get("*");return void 0!==S&&(A=this._stateStyles.get(S?.toString())||A),A?A.buildStyles(D,g):new Map}build(S,D,g,A,U,ne,Ee,tt,bt,Sn){const xn=[],yr=this.ast.options&&this.ast.options.params||ki,Kr=this.buildStyles(g,Ee&&Ee.params||ki,xn),ii=tt&&tt.params||ki,mo=this.buildStyles(A,ii,xn),ds=new Set,vs=new Map,Ga=new Map,wa="void"===A,Nu={params:Pa(ii,yr),delay:this.ast.options?.delay},zl=Sn?[]:V(S,D,this.ast.animation,U,ne,Kr,mo,Nu,bt,xn);let Za=0;return zl.forEach(Rs=>{Za=Math.max(Rs.duration+Rs.delay,Za)}),xn.length?dr(D,this._triggerName,g,A,wa,Kr,mo,[],[],vs,Ga,Za,xn):(zl.forEach(Rs=>{const Kl=Rs.element,$a=ae(vs,Kl,new Set);Rs.preStyleProps.forEach(ya=>$a.add(ya));const Xl=ae(Ga,Kl,new Set);Rs.postStyleProps.forEach(ya=>Xl.add(ya)),Kl!==D&&ds.add(Kl)}),dr(D,this._triggerName,g,A,wa,Kr,mo,zl,[...ds.values()],vs,Ga,Za))}}function Pa(j,S){const D={...S};return Object.entries(j).forEach(([g,A])=>{null!=A&&(D[g]=A)}),D}class ws{styles;defaultParams;normalizer;constructor(S,D,g){this.styles=S,this.defaultParams=D,this.normalizer=g}buildStyles(S,D){const g=new Map,A=Pa(S,this.defaultParams);return this.styles.styles.forEach(U=>{"string"!=typeof U&&U.forEach((ne,Ee)=>{ne&&(ne=Ds(ne,A,D));const tt=this.normalizer.normalizePropertyName(Ee,D);ne=this.normalizer.normalizeStyleValue(Ee,tt,ne,D),g.set(Ee,ne)})}),g}}class fl{name;ast;_normalizer;transitionFactories=[];fallbackTransition;states=new Map;constructor(S,D,g){this.name=S,this.ast=D,this._normalizer=g,D.states.forEach(A=>{this.states.set(A.name,new ws(A.style,A.options&&A.options.params||{},g))}),su(this.states,"true","1"),su(this.states,"false","0"),D.transitions.forEach(A=>{this.transitionFactories.push(new No(S,A,this.states))}),this.fallbackTransition=function es(j,S){return new No(j,{type:Fr.Transition,animation:{type:Fr.Sequence,steps:[],options:null},matchers:[(ne,Ee)=>!0],options:null,queryCount:0,depCount:0},S)}(S,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(S,D,g,A){return this.transitionFactories.find(ne=>ne.match(S,D,g,A))||null}matchStyles(S,D,g){return this.fallbackTransition.buildStyles(S,D,g)}}function su(j,S,D){j.has(S)?j.has(D)||j.set(D,j.get(S)):j.has(D)&&j.set(S,j.get(D))}const xu=new Us;class Du{bodyNode;_driver;_normalizer;_animations=new Map;_playersById=new Map;players=[];constructor(S,D,g){this.bodyNode=S,this._driver=D,this._normalizer=g}register(S,D){const g=[],U=xa(this._driver,D,g,[]);if(g.length)throw function le(){return new R.buA(3503,!1)}();this._animations.set(S,U)}_buildPlayer(S,D,g){const A=S.element,U=Ua(this._normalizer,S.keyframes,D,g);return this._driver.animate(A,U,S.duration,S.delay,S.easing,[],!0)}create(S,D,g={}){const A=[],U=this._animations.get(S);let ne;const Ee=new Map;if(U?(ne=V(this._driver,D,U,sn,mn,new Map,new Map,g,xu,A),ne.forEach(Sn=>{const xn=ae(Ee,Sn.element,new Map);Sn.postStyleProps.forEach(yr=>xn.set(yr,null))})):(A.push(function he(){return new R.buA(3300,!1)}()),ne=[]),A.length)throw function K(){return new R.buA(3504,!1)}();Ee.forEach((Sn,xn)=>{Sn.forEach((yr,Cr)=>{Sn.set(Cr,this._driver.computeStyle(xn,Cr,so))})});const bt=xs(ne.map(Sn=>{const xn=Ee.get(Sn.element);return this._buildPlayer(Sn,new Map,xn)}));return this._playersById.set(S,bt),bt.onDestroy(()=>this.destroy(S)),this.players.push(bt),bt}destroy(S){const D=this._getPlayer(S);D.destroy(),this._playersById.delete(S);const g=this.players.indexOf(D);g>=0&&this.players.splice(g,1)}_getPlayer(S){const D=this._playersById.get(S);if(!D)throw function Re(){return new R.buA(3301,!1)}();return D}listen(S,D,g,A){const U=q(D,"","","");return I(this._getPlayer(S),g,U,A),()=>{}}command(S,D,g,A){if("register"==g)return void this.register(S,A[0]);if("create"==g)return void this.create(S,D,A[0]||{});const U=this._getPlayer(S);switch(g){case"play":U.play();break;case"pause":U.pause();break;case"reset":U.reset();break;case"restart":U.restart();break;case"finish":U.finish();break;case"init":U.init();break;case"setPosition":U.setPosition(parseFloat(A[0]));break;case"destroy":this.destroy(S)}}}const Qs="ng-animate-queued",Fa="ng-animate-disabled",bl=[],Qa={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},Nl={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},Js="__ng_removed";class Wl{namespaceId;value;options;get params(){return this.options.params}constructor(S,D=""){this.namespaceId=D;const g=S&&S.hasOwnProperty("value");if(this.value=function wu(j){return j??null}(g?S.value:S),g){const{value:U,...ne}=S;this.options=ne}else this.options={};this.options.params||(this.options.params={})}absorbOptions(S){const D=S.params;if(D){const g=this.options.params;Object.keys(D).forEach(A=>{null==g[A]&&(g[A]=D[A])})}}}const Da="void",lu=new Wl(Da);class Ja{id;hostElement;_engine;players=[];_triggers=new Map;_queue=[];_elementListeners=new Map;_hostClassName;constructor(S,D,g){this.id=S,this.hostElement=D,this._engine=g,this._hostClassName="ng-tns-"+S,va(D,this._hostClassName)}listen(S,D,g,A){if(!this._triggers.has(D))throw function mt(){return new R.buA(3302,!1)}();if(null==g||0==g.length)throw function vr(){return new R.buA(3303,!1)}();if(!function oc(j){return"start"==j||"done"==j}(g))throw function Zr(){return new R.buA(3400,!1)}();const U=ae(this._elementListeners,S,[]),ne={name:D,phase:g,callback:A};U.push(ne);const Ee=ae(this._engine.statesByElement,S,new Map);return Ee.has(D)||(va(S,En),va(S,En+"-"+D),Ee.set(D,lu)),()=>{this._engine.afterFlush(()=>{const tt=U.indexOf(ne);tt>=0&&U.splice(tt,1),this._triggers.has(D)||Ee.delete(D)})}}register(S,D){return!this._triggers.has(S)&&(this._triggers.set(S,D),!0)}_getTrigger(S){const D=this._triggers.get(S);if(!D)throw function Ko(){return new R.buA(3401,!1)}();return D}trigger(S,D,g,A=!0){const U=this._getTrigger(D),ne=new Zs(this.id,D,S);let Ee=this._engine.statesByElement.get(S);Ee||(va(S,En),va(S,En+"-"+D),this._engine.statesByElement.set(S,Ee=new Map));let tt=Ee.get(D);const bt=new Wl(g,this.id);if(!(g&&g.hasOwnProperty("value"))&&tt&&bt.absorbOptions(tt.options),Ee.set(D,bt),tt||(tt=lu),bt.value!==Da&&tt.value===bt.value){if(!function Ha(j,S){const D=Object.keys(j),g=Object.keys(S);if(D.length!=g.length)return!1;for(let A=0;A<D.length;A++){const U=D[A];if(!S.hasOwnProperty(U)||j[U]!==S[U])return!1}return!0}(tt.params,bt.params)){const ii=[],mo=U.matchStyles(tt.value,tt.params,ii),ds=U.matchStyles(bt.value,bt.params,ii);ii.length?this._engine.reportError(ii):this._engine.afterFlush(()=>{Yr(S,mo),uo(S,ds)})}return}const yr=ae(this._engine.playersByElement,S,[]);yr.forEach(ii=>{ii.namespaceId==this.id&&ii.triggerName==D&&ii.queued&&ii.destroy()});let Cr=U.matchTransition(tt.value,bt.value,S,bt.params),Kr=!1;if(!Cr){if(!A)return;Cr=U.fallbackTransition,Kr=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:S,triggerName:D,transition:Cr,fromState:tt,toState:bt,player:ne,isFallbackTransition:Kr}),Kr||(va(S,Qs),ne.onStart(()=>{pl(S,Qs)})),ne.onDone(()=>{let ii=this.players.indexOf(ne);ii>=0&&this.players.splice(ii,1);const mo=this._engine.playersByElement.get(S);if(mo){let ds=mo.indexOf(ne);ds>=0&&mo.splice(ds,1)}}),this.players.push(ne),yr.push(ne),ne}deregister(S){this._triggers.delete(S),this._engine.statesByElement.forEach(D=>D.delete(S)),this._elementListeners.forEach((D,g)=>{this._elementListeners.set(g,D.filter(A=>A.name!=S))})}clearElementCache(S){this._engine.statesByElement.delete(S),this._elementListeners.delete(S);const D=this._engine.playersByElement.get(S);D&&(D.forEach(g=>g.destroy()),this._engine.playersByElement.delete(S))}_signalRemovalForInnerTriggers(S,D){const g=this._engine.driver.query(S,Gn,!0);g.forEach(A=>{if(A[Js])return;const U=this._engine.fetchNamespacesByElement(A);U.size?U.forEach(ne=>ne.triggerLeaveAnimation(A,D,!1,!0)):this.clearElementCache(A)}),this._engine.afterFlushAnimationsDone(()=>g.forEach(A=>this.clearElementCache(A)))}triggerLeaveAnimation(S,D,g,A){const U=this._engine.statesByElement.get(S),ne=new Map;if(U){const Ee=[];if(U.forEach((tt,bt)=>{if(ne.set(bt,tt.value),this._triggers.has(bt)){const Sn=this.trigger(S,bt,Da,A);Sn&&Ee.push(Sn)}}),Ee.length)return this._engine.markElementAsRemoved(this.id,S,!0,D,ne),g&&xs(Ee).onDone(()=>this._engine.processLeaveNode(S)),!0}return!1}prepareLeaveAnimationListeners(S){const D=this._elementListeners.get(S),g=this._engine.statesByElement.get(S);if(D&&g){const A=new Set;D.forEach(U=>{const ne=U.name;if(A.has(ne))return;A.add(ne);const tt=this._triggers.get(ne).fallbackTransition,bt=g.get(ne)||lu,Sn=new Wl(Da),xn=new Zs(this.id,ne,S);this._engine.totalQueuedPlayers++,this._queue.push({element:S,triggerName:ne,transition:tt,fromState:bt,toState:Sn,player:xn,isFallbackTransition:!0})})}}removeNode(S,D){const g=this._engine;if(S.childElementCount&&this._signalRemovalForInnerTriggers(S,D),this.triggerLeaveAnimation(S,D,!0))return;let A=!1;if(g.totalAnimations){const U=g.players.length?g.playersByQueriedElement.get(S):[];if(U&&U.length)A=!0;else{let ne=S;for(;ne=ne.parentNode;)if(g.statesByElement.get(ne)){A=!0;break}}}if(this.prepareLeaveAnimationListeners(S),A)g.markElementAsRemoved(this.id,S,!1,D);else{const U=S[Js];(!U||U===Qa)&&(g.afterFlush(()=>this.clearElementCache(S)),g.destroyInnerAnimations(S),g._onRemovalComplete(S,D))}}insertNode(S,D){va(S,this._hostClassName)}drainQueuedTransitions(S){const D=[];return this._queue.forEach(g=>{const A=g.player;if(A.destroyed)return;const U=g.element,ne=this._elementListeners.get(U);ne&&ne.forEach(Ee=>{if(Ee.name==g.triggerName){const tt=q(U,g.triggerName,g.fromState.value,g.toState.value);tt._data=S,I(g.player,Ee.phase,tt,Ee.callback)}}),A.markedForDestroy?this._engine.afterFlush(()=>{A.destroy()}):D.push(g)}),this._queue=[],D.sort((g,A)=>{const U=g.transition.ast.depCount,ne=A.transition.ast.depCount;return 0==U||0==ne?U-ne:this._engine.driver.containsElement(g.element,A.element)?1:-1})}destroy(S){this.players.forEach(D=>D.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,S)}}class hl{bodyNode;driver;_normalizer;players=[];newHostElements=new Map;playersByElement=new Map;playersByQueriedElement=new Map;statesByElement=new Map;disabledNodes=new Set;totalAnimations=0;totalQueuedPlayers=0;_namespaceLookup={};_namespaceList=[];_flushFns=[];_whenQuietFns=[];namespacesByHostElement=new Map;collectedEnterElements=[];collectedLeaveElements=[];onRemovalComplete=(S,D)=>{};_onRemovalComplete(S,D){this.onRemovalComplete(S,D)}constructor(S,D,g){this.bodyNode=S,this.driver=D,this._normalizer=g}get queuedPlayers(){const S=[];return this._namespaceList.forEach(D=>{D.players.forEach(g=>{g.queued&&S.push(g)})}),S}createNamespace(S,D){const g=new Ja(S,D,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,D)?this._balanceNamespaceList(g,D):(this.newHostElements.set(D,g),this.collectEnterElement(D)),this._namespaceLookup[S]=g}_balanceNamespaceList(S,D){const g=this._namespaceList,A=this.namespacesByHostElement;if(g.length-1>=0){let ne=!1,Ee=this.driver.getParentElement(D);for(;Ee;){const tt=A.get(Ee);if(tt){const bt=g.indexOf(tt);g.splice(bt+1,0,S),ne=!0;break}Ee=this.driver.getParentElement(Ee)}ne||g.unshift(S)}else g.push(S);return A.set(D,S),S}register(S,D){let g=this._namespaceLookup[S];return g||(g=this.createNamespace(S,D)),g}registerTrigger(S,D,g){let A=this._namespaceLookup[S];A&&A.register(D,g)&&this.totalAnimations++}destroy(S,D){S&&(this.afterFlush(()=>{}),this.afterFlushAnimationsDone(()=>{const g=this._fetchNamespace(S);this.namespacesByHostElement.delete(g.hostElement);const A=this._namespaceList.indexOf(g);A>=0&&this._namespaceList.splice(A,1),g.destroy(D),delete this._namespaceLookup[S]}))}_fetchNamespace(S){return this._namespaceLookup[S]}fetchNamespacesByElement(S){const D=new Set,g=this.statesByElement.get(S);if(g)for(let A of g.values())if(A.namespaceId){const U=this._fetchNamespace(A.namespaceId);U&&D.add(U)}return D}trigger(S,D,g,A){if(Ol(D)){const U=this._fetchNamespace(S);if(U)return U.trigger(D,g,A),!0}return!1}insertNode(S,D,g,A){if(!Ol(D))return;const U=D[Js];if(U&&U.setForRemoval){U.setForRemoval=!1,U.setForMove=!0;const ne=this.collectedLeaveElements.indexOf(D);ne>=0&&this.collectedLeaveElements.splice(ne,1)}if(S){const ne=this._fetchNamespace(S);ne&&ne.insertNode(D,g)}A&&this.collectEnterElement(D)}collectEnterElement(S){this.collectedEnterElements.push(S)}markElementAsDisabled(S,D){D?this.disabledNodes.has(S)||(this.disabledNodes.add(S),va(S,Fa)):this.disabledNodes.has(S)&&(this.disabledNodes.delete(S),pl(S,Fa))}removeNode(S,D,g){if(Ol(D)){const A=S?this._fetchNamespace(S):null;A?A.removeNode(D,g):this.markElementAsRemoved(S,D,!1,g);const U=this.namespacesByHostElement.get(D);U&&U.id!==S&&U.removeNode(D,g)}else this._onRemovalComplete(D,g)}markElementAsRemoved(S,D,g,A,U){this.collectedLeaveElements.push(D),D[Js]={namespaceId:S,setForRemoval:A,hasAnimation:g,removedBeforeQueried:!1,previousTriggersValues:U}}listen(S,D,g,A,U){return Ol(D)?this._fetchNamespace(S).listen(D,g,A,U):()=>{}}_buildInstruction(S,D,g,A,U){return S.transition.build(this.driver,S.element,S.fromState.value,S.toState.value,g,A,S.fromState.options,S.toState.options,D,U)}destroyInnerAnimations(S){let D=this.driver.query(S,Gn,!0);D.forEach(g=>this.destroyActiveAnimationsForElement(g)),0!=this.playersByQueriedElement.size&&(D=this.driver.query(S,Nn,!0),D.forEach(g=>this.finishActiveQueriedAnimationOnElement(g)))}destroyActiveAnimationsForElement(S){const D=this.playersByElement.get(S);D&&D.forEach(g=>{g.queued?g.markedForDestroy=!0:g.destroy()})}finishActiveQueriedAnimationOnElement(S){const D=this.playersByQueriedElement.get(S);D&&D.forEach(g=>g.finish())}whenRenderingDone(){return new Promise(S=>{if(this.players.length)return xs(this.players).onDone(()=>S());S()})}processLeaveNode(S){const D=S[Js];if(D&&D.setForRemoval){if(S[Js]=Qa,D.namespaceId){this.destroyInnerAnimations(S);const g=this._fetchNamespace(D.namespaceId);g&&g.clearElementCache(S)}this._onRemovalComplete(S,D.setForRemoval)}S.classList?.contains(Fa)&&this.markElementAsDisabled(S,!1),this.driver.query(S,".ng-animate-disabled",!0).forEach(g=>{this.markElementAsDisabled(g,!1)})}flush(S=-1){let D=[];if(this.newHostElements.size&&(this.newHostElements.forEach((g,A)=>this._balanceNamespaceList(g,A)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let g=0;g<this.collectedEnterElements.length;g++)va(this.collectedEnterElements[g],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const g=[];try{D=this._flushAnimations(g,S)}finally{for(let A=0;A<g.length;A++)g[A]()}}else for(let g=0;g<this.collectedLeaveElements.length;g++)this.processLeaveNode(this.collectedLeaveElements[g]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(g=>g()),this._flushFns=[],this._whenQuietFns.length){const g=this._whenQuietFns;this._whenQuietFns=[],D.length?xs(D).onDone(()=>{g.forEach(A=>A())}):g.forEach(A=>A())}}reportError(S){throw function gs(){return new R.buA(3402,!1)}()}_flushAnimations(S,D){const g=new Us,A=[],U=new Map,ne=[],Ee=new Map,tt=new Map,bt=new Map,Sn=new Set;this.disabledNodes.forEach(Br=>{Sn.add(Br);const si=this.driver.query(Br,".ng-animate-queued",!0);for(let gi=0;gi<si.length;gi++)Sn.add(si[gi])});const xn=this.bodyNode,yr=Array.from(this.statesByElement.keys()),Cr=sc(yr,this.collectedEnterElements),Kr=new Map;let ii=0;Cr.forEach((Br,si)=>{const gi=sn+ii++;Kr.set(si,gi),Br.forEach(ro=>va(ro,gi))});const mo=[],ds=new Set,vs=new Set;for(let Br=0;Br<this.collectedLeaveElements.length;Br++){const si=this.collectedLeaveElements[Br],gi=si[Js];gi&&gi.setForRemoval&&(mo.push(si),ds.add(si),gi.hasAnimation?this.driver.query(si,".ng-star-inserted",!0).forEach(ro=>ds.add(ro)):vs.add(si))}const Ga=new Map,wa=sc(yr,Array.from(ds));wa.forEach((Br,si)=>{const gi=mn+ii++;Ga.set(si,gi),Br.forEach(ro=>va(ro,gi))}),S.push(()=>{Cr.forEach((Br,si)=>{const gi=Kr.get(si);Br.forEach(ro=>pl(ro,gi))}),wa.forEach((Br,si)=>{const gi=Ga.get(si);Br.forEach(ro=>pl(ro,gi))}),mo.forEach(Br=>{this.processLeaveNode(Br)})});const Nu=[],zl=[];for(let Br=this._namespaceList.length-1;Br>=0;Br--)this._namespaceList[Br].drainQueuedTransitions(D).forEach(gi=>{const ro=gi.player,fs=gi.element;if(Nu.push(ro),this.collectedEnterElements.length){const Ta=fs[Js];if(Ta&&Ta.setForMove){if(Ta.previousTriggersValues&&Ta.previousTriggersValues.has(gi.triggerName)){const ql=Ta.previousTriggersValues.get(gi.triggerName),Ca=this.statesByElement.get(gi.element);if(Ca&&Ca.has(gi.triggerName)){const Xu=Ca.get(gi.triggerName);Xu.value=ql,Ca.set(gi.triggerName,Xu)}}return void ro.destroy()}}const el=!xn||!this.driver.containsElement(xn,fs),js=Ga.get(fs),Wa=Kr.get(fs),hs=this._buildInstruction(gi,g,Wa,js,el);if(hs.errors&&hs.errors.length)return void zl.push(hs);if(el)return ro.onStart(()=>Yr(fs,hs.fromStyles)),ro.onDestroy(()=>uo(fs,hs.toStyles)),void A.push(ro);if(gi.isFallbackTransition)return ro.onStart(()=>Yr(fs,hs.fromStyles)),ro.onDestroy(()=>uo(fs,hs.toStyles)),void A.push(ro);const ts=[];hs.timelines.forEach(Ta=>{Ta.stretchStartingKeyframe=!0,this.disabledNodes.has(Ta.element)||ts.push(Ta)}),hs.timelines=ts,g.append(fs,hs.timelines),ne.push({instruction:hs,player:ro,element:fs}),hs.queriedElements.forEach(Ta=>ae(Ee,Ta,[]).push(ro)),hs.preStyleProps.forEach((Ta,ql)=>{if(Ta.size){let Ca=tt.get(ql);Ca||tt.set(ql,Ca=new Set),Ta.forEach((Xu,Kc)=>Ca.add(Kc))}}),hs.postStyleProps.forEach((Ta,ql)=>{let Ca=bt.get(ql);Ca||bt.set(ql,Ca=new Set),Ta.forEach((Xu,Kc)=>Ca.add(Kc))})});if(zl.length){const Br=[];zl.forEach(si=>{Br.push(function ha(){return new R.buA(3505,!1)}())}),Nu.forEach(si=>si.destroy()),this.reportError(Br)}const Za=new Map,Rs=new Map;ne.forEach(Br=>{const si=Br.element;g.has(si)&&(Rs.set(si,si),this._beforeAnimationBuild(Br.player.namespaceId,Br.instruction,Za))}),A.forEach(Br=>{const si=Br.element;this._getPreviousPlayers(si,!1,Br.namespaceId,Br.triggerName,null).forEach(ro=>{ae(Za,si,[]).push(ro),ro.destroy()})});const Kl=mo.filter(Br=>ja(Br,tt,bt)),$a=new Map;Su($a,this.driver,vs,bt,so).forEach(Br=>{ja(Br,tt,bt)&&Kl.push(Br)});const ya=new Map;Cr.forEach((Br,si)=>{Su(ya,this.driver,new Set(Br),tt,"!")}),Kl.forEach(Br=>{const si=$a.get(Br),gi=ya.get(Br);$a.set(Br,new Map([...si?.entries()??[],...gi?.entries()??[]]))});const Bl=[],_d=[],Ku={};ne.forEach(Br=>{const{element:si,player:gi,instruction:ro}=Br;if(g.has(si)){if(Sn.has(si))return gi.onDestroy(()=>uo(si,ro.toStyles)),gi.disabled=!0,gi.overrideTotalTime(ro.totalTime),void A.push(gi);let fs=Ku;if(Rs.size>1){let js=si;const Wa=[];for(;js=js.parentNode;){const hs=Rs.get(js);if(hs){fs=hs;break}Wa.push(js)}Wa.forEach(hs=>Rs.set(hs,fs))}const el=this._buildAnimation(gi.namespaceId,ro,Za,U,ya,$a);if(gi.setRealPlayer(el),fs===Ku)Bl.push(gi);else{const js=this.playersByElement.get(fs);js&&js.length&&(gi.parentPlayer=xs(js)),A.push(gi)}}else Yr(si,ro.fromStyles),gi.onDestroy(()=>uo(si,ro.toStyles)),_d.push(gi),Sn.has(si)&&A.push(gi)}),_d.forEach(Br=>{const si=U.get(Br.element);if(si&&si.length){const gi=xs(si);Br.setRealPlayer(gi)}}),A.forEach(Br=>{Br.parentPlayer?Br.syncPlayerEvents(Br.parentPlayer):Br.destroy()});for(let Br=0;Br<mo.length;Br++){const si=mo[Br],gi=si[Js];if(pl(si,mn),gi&&gi.hasAnimation)continue;let ro=[];if(Ee.size){let el=Ee.get(si);el&&el.length&&ro.push(...el);let js=this.driver.query(si,Nn,!0);for(let Wa=0;Wa<js.length;Wa++){let hs=Ee.get(js[Wa]);hs&&hs.length&&ro.push(...hs)}}const fs=ro.filter(el=>!el.destroyed);fs.length?Au(this,si,fs):this.processLeaveNode(si)}return mo.length=0,Bl.forEach(Br=>{this.players.push(Br),Br.onDone(()=>{Br.destroy();const si=this.players.indexOf(Br);this.players.splice(si,1)}),Br.play()}),Bl}afterFlush(S){this._flushFns.push(S)}afterFlushAnimationsDone(S){this._whenQuietFns.push(S)}_getPreviousPlayers(S,D,g,A,U){let ne=[];if(D){const Ee=this.playersByQueriedElement.get(S);Ee&&(ne=Ee)}else{const Ee=this.playersByElement.get(S);if(Ee){const tt=!U||U==Da;Ee.forEach(bt=>{bt.queued||!tt&&bt.triggerName!=A||ne.push(bt)})}}return(g||A)&&(ne=ne.filter(Ee=>!(g&&g!=Ee.namespaceId||A&&A!=Ee.triggerName))),ne}_beforeAnimationBuild(S,D,g){const U=D.element,ne=D.isRemovalTransition?void 0:S,Ee=D.isRemovalTransition?void 0:D.triggerName;for(const tt of D.timelines){const bt=tt.element,Sn=bt!==U,xn=ae(g,bt,[]);this._getPreviousPlayers(bt,Sn,ne,Ee,D.toState).forEach(Cr=>{const Kr=Cr.getRealPlayer();Kr.beforeDestroy&&Kr.beforeDestroy(),Cr.destroy(),xn.push(Cr)})}Yr(U,D.fromStyles)}_buildAnimation(S,D,g,A,U,ne){const Ee=D.triggerName,tt=D.element,bt=[],Sn=new Set,xn=new Set,yr=D.timelines.map(Kr=>{const ii=Kr.element;Sn.add(ii);const mo=ii[Js];if(mo&&mo.removedBeforeQueried)return new bi(Kr.duration,Kr.delay);const ds=ii!==tt,vs=function zc(j){const S=[];return ju(j,S),S}((g.get(ii)||bl).map(Za=>Za.getRealPlayer())).filter(Za=>!!Za.element&&Za.element===ii),Ga=U.get(ii),wa=ne.get(ii),Nu=Ua(this._normalizer,Kr.keyframes,Ga,wa),zl=this._buildPlayer(Kr,Nu,vs);if(Kr.subTimeline&&A&&xn.add(ii),ds){const Za=new Zs(S,Ee,ii);Za.setRealPlayer(zl),bt.push(Za)}return zl});bt.forEach(Kr=>{ae(this.playersByQueriedElement,Kr.element,[]).push(Kr),Kr.onDone(()=>function Hu(j,S,D){let g=j.get(S);if(g){if(g.length){const A=g.indexOf(D);g.splice(A,1)}0==g.length&&j.delete(S)}return g}(this.playersByQueriedElement,Kr.element,Kr))}),Sn.forEach(Kr=>va(Kr,ur));const Cr=xs(yr);return Cr.onDestroy(()=>{Sn.forEach(Kr=>pl(Kr,ur)),uo(tt,D.toStyles)}),xn.forEach(Kr=>{ae(A,Kr,[]).push(Cr)}),Cr}_buildPlayer(S,D,g){return D.length>0?this.driver.animate(S.element,D,S.duration,S.delay,S.easing,g):new bi(S.duration,S.delay)}}class Zs{namespaceId;triggerName;element;_player=new bi;_containsRealPlayer=!1;_queuedCallbacks=new Map;destroyed=!1;parentPlayer=null;markedForDestroy=!1;disabled=!1;queued=!0;totalTime=0;constructor(S,D,g){this.namespaceId=S,this.triggerName=D,this.element=g}setRealPlayer(S){this._containsRealPlayer||(this._player=S,this._queuedCallbacks.forEach((D,g)=>{D.forEach(A=>I(S,g,void 0,A))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(S.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(S){this.totalTime=S}syncPlayerEvents(S){const D=this._player;D.triggerCallback&&S.onStart(()=>D.triggerCallback("start")),S.onDone(()=>this.finish()),S.onDestroy(()=>this.destroy())}_queueEvent(S,D){ae(this._queuedCallbacks,S,[]).push(D)}onDone(S){this.queued&&this._queueEvent("done",S),this._player.onDone(S)}onStart(S){this.queued&&this._queueEvent("start",S),this._player.onStart(S)}onDestroy(S){this.queued&&this._queueEvent("destroy",S),this._player.onDestroy(S)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(S){this.queued||this._player.setPosition(S)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(S){const D=this._player;D.triggerCallback&&D.triggerCallback(S)}}function Ol(j){return j&&1===j.nodeType}function Tu(j,S){const D=j.style.display;return j.style.display=S??"none",D}function Su(j,S,D,g,A){const U=[];D.forEach(tt=>U.push(Tu(tt)));const ne=[];g.forEach((tt,bt)=>{const Sn=new Map;tt.forEach(xn=>{const yr=S.computeStyle(bt,xn,A);Sn.set(xn,yr),(!yr||0==yr.length)&&(bt[Js]=Nl,ne.push(bt))}),j.set(bt,Sn)});let Ee=0;return D.forEach(tt=>Tu(tt,U[Ee++])),ne}function sc(j,S){const D=new Map;if(j.forEach(Ee=>D.set(Ee,[])),0==S.length)return D;const A=new Set(S),U=new Map;function ne(Ee){if(!Ee)return 1;let tt=U.get(Ee);if(tt)return tt;const bt=Ee.parentNode;return tt=D.has(bt)?bt:A.has(bt)?1:ne(bt),U.set(Ee,tt),tt}return S.forEach(Ee=>{const tt=ne(Ee);1!==tt&&D.get(tt).push(Ee)}),D}function va(j,S){j.classList?.add(S)}function pl(j,S){j.classList?.remove(S)}function Au(j,S,D){xs(D).onDone(()=>j.processLeaveNode(S))}function ju(j,S){for(let D=0;D<j.length;D++){const g=j[D];g instanceof Si?ju(g.players,S):S.push(g)}}function ja(j,S,D){const g=D.get(j);if(!g)return!1;let A=S.get(j);return A?g.forEach(U=>A.add(U)):S.set(j,g),D.delete(j),!0}class Ll{_driver;_normalizer;_transitionEngine;_timelineEngine;_triggerCache={};onRemovalComplete=(S,D)=>{};constructor(S,D,g){this._driver=D,this._normalizer=g,this._transitionEngine=new hl(S.body,D,g),this._timelineEngine=new Du(S.body,D,g),this._transitionEngine.onRemovalComplete=(A,U)=>this.onRemovalComplete(A,U)}registerTrigger(S,D,g,A,U){const ne=S+"-"+A;let Ee=this._triggerCache[ne];if(!Ee){const tt=[],Sn=xa(this._driver,U,tt,[]);if(tt.length)throw function Ys(){return new R.buA(3404,!1)}();Ee=function _a(j,S,D){return new fl(j,S,D)}(A,Sn,this._normalizer),this._triggerCache[ne]=Ee}this._transitionEngine.registerTrigger(D,A,Ee)}register(S,D){this._transitionEngine.register(S,D)}destroy(S,D){this._transitionEngine.destroy(S,D)}onInsert(S,D,g,A){this._transitionEngine.insertNode(S,D,g,A)}onRemove(S,D,g){this._transitionEngine.removeNode(S,D,g)}disableAnimations(S,D){this._transitionEngine.markElementAsDisabled(S,D)}process(S,D,g,A){if("@"==g.charAt(0)){const[U,ne]=me(g);this._timelineEngine.command(U,D,ne,A)}else this._transitionEngine.trigger(S,D,g,A)}listen(S,D,g,A,U){if("@"==g.charAt(0)){const[ne,Ee]=me(g);return this._timelineEngine.listen(ne,D,Ee,U)}return this._transitionEngine.listen(S,D,g,A,U)}flush(S=-1){this._transitionEngine.flush(S)}get players(){return[...this._transitionEngine.players,...this._timelineEngine.players]}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}afterFlushAnimationsDone(S){this._transitionEngine.afterFlushAnimationsDone(S)}}let Gu=(()=>{class j{_element;_startStyles;_endStyles;static initialStylesByElement=new WeakMap;_state=0;_initialStyles;constructor(D,g,A){this._element=D,this._startStyles=g,this._endStyles=A;let U=j.initialStylesByElement.get(D);U||j.initialStylesByElement.set(D,U=new Map),this._initialStyles=U}start(){this._state<1&&(this._startStyles&&uo(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(uo(this._element,this._initialStyles),this._endStyles&&(uo(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(j.initialStylesByElement.delete(this._element),this._startStyles&&(Yr(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(Yr(this._element,this._endStyles),this._endStyles=null),uo(this._element,this._initialStyles),this._state=3)}}return j})();function Iu(j){let S=null;return j.forEach((D,g)=>{(function vc(j){return"display"===j||"position"===j})(g)&&(S=S||new Map,S.set(g,D))}),S}class ac{element;keyframes;options;_specialStyles;_onDoneFns=[];_onStartFns=[];_onDestroyFns=[];_duration;_delay;_initialized=!1;_finished=!1;_started=!1;_destroyed=!1;_finalKeyframe;_originalOnDoneFns=[];_originalOnStartFns=[];domPlayer=null;time=0;parentPlayer=null;currentSnapshot=new Map;constructor(S,D,g,A){this.element=S,this.keyframes=D,this.options=g,this._specialStyles=A,this._duration=g.duration,this._delay=g.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(S=>S()),this._onDoneFns=[])}init(){this._buildPlayer()&&this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return this.domPlayer;this._initialized=!0;const S=this.keyframes,D=this._triggerWebAnimation(this.element,S,this.options);if(!D)return this._onFinish(),null;this.domPlayer=D,this._finalKeyframe=S.length?S[S.length-1]:new Map;const g=()=>this._onFinish();return D.addEventListener("finish",g),this.onDestroy(()=>{D.removeEventListener("finish",g)}),D}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer?.pause()}_convertKeyframesToObject(S){const D=[];return S.forEach(g=>{D.push(Object.fromEntries(g))}),D}_triggerWebAnimation(S,D,g){const A=this._convertKeyframesToObject(D);try{return S.animate(A,g)}catch{return null}}onStart(S){this._originalOnStartFns.push(S),this._onStartFns.push(S)}onDone(S){this._originalOnDoneFns.push(S),this._onDoneFns.push(S)}onDestroy(S){this._onDestroyFns.push(S)}play(){const S=this._buildPlayer();S&&(this.hasStarted()||(this._onStartFns.forEach(D=>D()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),S.play())}pause(){this.init(),this.domPlayer?.pause()}finish(){this.init(),this.domPlayer&&(this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish())}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer?.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(S=>S()),this._onDestroyFns=[])}setPosition(S){this.domPlayer||this.init(),this.domPlayer&&(this.domPlayer.currentTime=S*this.time)}getPosition(){return this.domPlayer?+(this.domPlayer.currentTime??0)/this.time:this._initialized?1:0}get totalTime(){return this._delay+this._duration}beforeDestroy(){const S=new Map;this.hasStarted()&&this._finalKeyframe.forEach((g,A)=>{"offset"!==A&&S.set(A,this._finished?g:Tl(this.element,A))}),this.currentSnapshot=S}triggerCallback(S){const D="start"===S?this._onStartFns:this._onDoneFns;D.forEach(g=>g()),D.length=0}}class uu{validateStyleProperty(S){return!0}validateAnimatableStyleProperty(S){return!0}containsElement(S,D){return Ot(S,D)}getParentElement(S){return Je(S)}query(S,D,g){return Vt(S,D,g)}computeStyle(S,D,g){return Tl(S,D)}animate(S,D,g,A,U,ne=[]){const tt={duration:g,delay:A,fill:0==A?"both":"forwards"};U&&(tt.easing=U);const bt=new Map,Sn=ne.filter(Cr=>Cr instanceof ac);(function wl(j,S){return 0===j||0===S})(g,A)&&Sn.forEach(Cr=>{Cr.currentSnapshot.forEach((Kr,ii)=>bt.set(ii,Kr))});let xn=function Gr(j){return j.length?j[0]instanceof Map?j:j.map(S=>new Map(Object.entries(S))):[]}(D).map(Cr=>new Map(Cr));xn=function Rl(j,S,D){if(D.size&&S.length){let g=S[0],A=[];if(D.forEach((U,ne)=>{g.has(ne)||A.push(ne),g.set(ne,U)}),A.length)for(let U=1;U<S.length;U++){let ne=S[U];A.forEach(Ee=>ne.set(Ee,Tl(j,Ee)))}}return S}(S,xn,bt);const yr=function Mu(j,S){let D=null,g=null;return Array.isArray(S)&&S.length?(D=Iu(S[0]),S.length>1&&(g=Iu(S[S.length-1]))):S instanceof Map&&(D=Iu(S)),D||g?new Gu(j,D,g):null}(S,xn);return new ac(S,xn,tt,yr)}}const lc="@.disabled";class uc{namespaceId;delegate;engine;_onDestroy;\u0275type=0;constructor(S,D,g,A){this.namespaceId=S,this.delegate=D,this.engine=g,this._onDestroy=A}get data(){return this.delegate.data}destroyNode(S){this.delegate.destroyNode?.(S)}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.engine.afterFlushAnimationsDone(()=>{queueMicrotask(()=>{this.delegate.destroy()})}),this._onDestroy?.()}createElement(S,D){return this.delegate.createElement(S,D)}createComment(S){return this.delegate.createComment(S)}createText(S){return this.delegate.createText(S)}appendChild(S,D){this.delegate.appendChild(S,D),this.engine.onInsert(this.namespaceId,D,S,!1)}insertBefore(S,D,g,A=!0){this.delegate.insertBefore(S,D,g),this.engine.onInsert(this.namespaceId,D,S,A)}removeChild(S,D,g,A){A?this.delegate.removeChild(S,D,g,A):this.parentNode(D)&&this.engine.onRemove(this.namespaceId,D,this.delegate)}selectRootElement(S,D){return this.delegate.selectRootElement(S,D)}parentNode(S){return this.delegate.parentNode(S)}nextSibling(S){return this.delegate.nextSibling(S)}setAttribute(S,D,g,A){this.delegate.setAttribute(S,D,g,A)}removeAttribute(S,D,g){this.delegate.removeAttribute(S,D,g)}addClass(S,D){this.delegate.addClass(S,D)}removeClass(S,D){this.delegate.removeClass(S,D)}setStyle(S,D,g,A){this.delegate.setStyle(S,D,g,A)}removeStyle(S,D,g){this.delegate.removeStyle(S,D,g)}setProperty(S,D,g){"@"==D.charAt(0)&&D==lc?this.disableAnimations(S,!!g):this.delegate.setProperty(S,D,g)}setValue(S,D){this.delegate.setValue(S,D)}listen(S,D,g,A){return this.delegate.listen(S,D,g,A)}disableAnimations(S,D){this.engine.disableAnimations(S,D)}}class cu extends uc{factory;constructor(S,D,g,A,U){super(D,g,A,U),this.factory=S,this.namespaceId=D}setProperty(S,D,g){"@"==D.charAt(0)?"."==D.charAt(1)&&D==lc?this.disableAnimations(S,g=void 0===g||!!g):this.engine.process(this.namespaceId,S,D.slice(1),g):this.delegate.setProperty(S,D,g)}listen(S,D,g,A){if("@"==D.charAt(0)){const U=function $u(j){switch(j){case"body":return document.body;case"document":return document;case"window":return window;default:return j}}(S);let ne=D.slice(1),Ee="";return"@"!=ne.charAt(0)&&([ne,Ee]=function Wu(j){const S=j.indexOf(".");return[j.substring(0,S),j.slice(S+1)]}(ne)),this.engine.listen(this.namespaceId,U,ne,Ee,tt=>{this.factory.scheduleListenerCallback(tt._data||-1,g,tt)})}return this.delegate.listen(S,D,g,A)}}class Cc{delegate;engine;_zone;_currentId=0;_microtaskId=1;_animationCallbacksBuffer=[];_rendererCache=new Map;_cdRecurDepth=0;constructor(S,D,g){this.delegate=S,this.engine=D,this._zone=g,D.onRemovalComplete=(A,U)=>{U?.removeChild(null,A)}}createRenderer(S,D){const A=this.delegate.createRenderer(S,D);if(!S||!D?.data?.animation){const bt=this._rendererCache;let Sn=bt.get(A);return Sn||(Sn=new uc("",A,this.engine,()=>bt.delete(A)),bt.set(A,Sn)),Sn}const U=D.id,ne=D.id+"-"+this._currentId;this._currentId++,this.engine.register(ne,S);const Ee=bt=>{Array.isArray(bt)?bt.forEach(Ee):this.engine.registerTrigger(U,ne,S,bt.name,bt)};return D.data.animation.forEach(Ee),new cu(this,ne,A,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){queueMicrotask(()=>{this._microtaskId++})}scheduleListenerCallback(S,D,g){if(S>=0&&S<this._microtaskId)return void this._zone.run(()=>D(g));const A=this._animationCallbacksBuffer;0==A.length&&queueMicrotask(()=>{this._zone.run(()=>{A.forEach(U=>{const[ne,Ee]=U;ne(Ee)}),this._animationCallbacksBuffer=[]})}),A.push([D,g])}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}componentReplaced(S){this.engine.flush(),this.delegate.componentReplaced?.(S)}}const Al=[{provide:Is,useFactory:()=>new uu},{provide:oe.bc$,useFactory:()=>"BrowserAnimations"},...[{provide:cs,useFactory:function du(){return new Gl}},{provide:Ll,useClass:(()=>{class j extends Ll{constructor(D,g,A){super(D,g,A)}ngOnDestroy(){this.flush()}static \u0275fac=function(g){return new(g||j)(R.KVO(R.qQL),R.KVO(Is),R.KVO(cs))};static \u0275prov=R.jDH({token:j,factory:j.\u0275fac})}return j})()},{provide:oe._9s,useFactory:function Ec(){return new Cc((0,R.WQX)(Ve),(0,R.WQX)(Ll),(0,R.WQX)(R.SKi))}}]],xc={providers:[{provide:or.i3,useValue:Hn.c.api},(0,ke.Jn2)({eventCoalescing:!0}),(0,oi.lh)(gn),(0,zn.$R)((0,zn.b$)(fo)),function Ws(j={}){return[{provide:qr,useValue:j},{provide:Xr,useClass:Os,deps:[j.useHttpBackend?zn.JV:zn.Qq,qr]}]}({prefix:"./assets/i18n/",suffix:".json"}),(0,R.oKB)(As.forRoot()),function Hs(){return(0,oe._jY)("NgEagerAnimations"),[...Al]}(),((j={})=>(0,R.EmA)([{provide:qs,useValue:{default:ls,config:j}}]))()]};var Pu=$(6245);(function On(j,S,D){const g={rootComponent:j,platformRef:D?.platformRef,...mi(S)};return(0,ke.TL3)(g)})((()=>{class j{title="shell-admin";static \u0275fac=function(g){return new(g||j)};static \u0275cmp=oe.VBU({type:j,selectors:[["app-root"]],decls:1,vars:0,template:function(g,A){1&g&&oe.nrm(0,"router-outlet")},dependencies:[Pu.n3],encapsulation:2})}return j})(),xc).catch(j=>console.error(j))},5505(on){on.exports=function(){"use strict";var ct=function(I,O){return(ct=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(q,ae){q.__proto__=ae}||function(q,ae){for(var me in ae)Object.prototype.hasOwnProperty.call(ae,me)&&(q[me]=ae[me])})(I,O)},$=function(){return($=Object.assign||function(I){for(var O,q=1,ae=arguments.length;q<ae;q++)for(var me in O=arguments[q])Object.prototype.hasOwnProperty.call(O,me)&&(I[me]=O[me]);return I}).apply(this,arguments)};function L(I,O,q){if(q||2===arguments.length)for(var ae,me=0,Ie=O.length;me<Ie;me++)!ae&&me in O||((ae=ae||Array.prototype.slice.call(O,0,me))[me]=O[me]);return I.concat(ae||Array.prototype.slice.call(O))}var r=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,R=Object.keys,ve=Array.isArray;function oe(I,O){return"object"!=typeof O||R(O).forEach(function(q){I[q]=O[q]}),I}typeof Promise>"u"||r.Promise||(r.Promise=Promise);var ke=Object.getPrototypeOf,Ae={}.hasOwnProperty;function ee(I,O){return Ae.call(I,O)}function v(I,O){"function"==typeof O&&(O=O(ke(I))),(typeof Reflect>"u"?R:Reflect.ownKeys)(O).forEach(function(q){ie(I,q,O[q])})}var m=Object.defineProperty;function ie(I,O,q,ae){m(I,O,oe(q&&ee(q,"get")&&"function"==typeof q.get?{get:q.get,set:q.set,configurable:!0}:{value:q,configurable:!0,writable:!0},ae))}function xe(I){return{from:function(O){return I.prototype=Object.create(O.prototype),ie(I.prototype,"constructor",I),{extend:v.bind(null,I.prototype)}}}}var t=Object.getOwnPropertyDescriptor,Le=[].slice;function Se(I,O,q){return Le.call(I,O,q)}function je(I,O){return O(I)}function Te(I){if(!I)throw new Error("Assertion Failed")}function be(I){r.setImmediate?setImmediate(I):setTimeout(I,0)}function Oe(I,O){if("string"==typeof O&&ee(I,O))return I[O];if(!O)return I;if("string"!=typeof O){for(var q=[],ae=0,me=O.length;ae<me;++ae){var Ie=Oe(I,O[ae]);q.push(Ie)}return q}var Je=O.indexOf(".");if(-1!==Je){var _t=I[O.substr(0,Je)];return null==_t?void 0:Oe(_t,O.substr(Je+1))}}function at(I,O,q){if(I&&void 0!==O&&(!("isFrozen"in Object)||!Object.isFrozen(I)))if("string"!=typeof O&&"length"in O){Te("string"!=typeof q&&"length"in q);for(var ae=0,me=O.length;ae<me;++ae)at(I,O[ae],q[ae])}else{var Ie,Je,_t=O.indexOf(".");-1!==_t?(Ie=O.substr(0,_t),""===(Je=O.substr(_t+1))?void 0===q?ve(I)&&!isNaN(parseInt(Ie))?I.splice(Ie,1):delete I[Ie]:I[Ie]=q:at(_t=(_t=I[Ie])&&ee(I,Ie)?_t:I[Ie]={},Je,q)):void 0===q?ve(I)&&!isNaN(parseInt(O))?I.splice(O,1):delete I[O]:I[O]=q}}function ze(I){var O,q={};for(O in I)ee(I,O)&&(q[O]=I[O]);return q}var et=[].concat;function st(I){return et.apply([],I)}var Gi="BigUint64Array,BigInt64Array,Array,Boolean,String,Date,RegExp,Blob,File,FileList,FileSystemFileHandle,FileSystemDirectoryHandle,ArrayBuffer,DataView,Uint8ClampedArray,ImageBitmap,ImageData,Map,Set,CryptoKey".split(",").concat(st([8,16,32,64].map(function(I){return["Int","Uint","Float"].map(function(O){return O+I+"Array"})}))).filter(function(I){return r[I]}),rn=new Set(Gi.map(function(I){return r[I]})),It=null;function Ht(I){return It=new WeakMap,I=function O(q){if(!q||"object"!=typeof q)return q;var ae=It.get(q);if(ae)return ae;if(ve(q)){It.set(q,ae=[]);for(var me=0,Ie=q.length;me<Ie;++me)ae.push(O(q[me]))}else if(rn.has(q.constructor))ae=q;else{var Je,_t=ke(q);for(Je in ae=_t===Object.prototype?{}:Object.create(_t),It.set(q,ae),q)ee(q,Je)&&(ae[Je]=O(q[Je]))}return ae}(I),It=null,I}var At={}.toString;function Me(I){return At.call(I).slice(8,-1)}var gt=typeof Symbol<"u"?Symbol.iterator:"@@iterator",Ve="symbol"==typeof gt?function(I){var O;return null!=I&&(O=I[gt])&&O.apply(I)}:function(){return null};function en(I,O){return 0<=(O=I.indexOf(O))&&I.splice(O,1),0<=O}var Bt={};function Dt(I){var O,q,ae,me;if(1===arguments.length){if(ve(I))return I.slice();if(this===Bt&&"string"==typeof I)return[I];if(me=Ve(I)){for(q=[];!(ae=me.next()).done;)q.push(ae.value);return q}if(null==I)return[I];if("number"!=typeof(O=I.length))return[I];for(q=new Array(O);O--;)q[O]=I[O];return q}for(O=arguments.length,q=new Array(O);O--;)q[O]=arguments[O];return q}var ht=typeof Symbol<"u"?function(I){return"AsyncFunction"===I[Symbol.toStringTag]}:function(){return!1},mt=["Modify","Bulk","OpenFailed","VersionChange","Schema","Upgrade","InvalidTable","MissingAPI","NoSuchDatabase","InvalidArgument","SubTransaction","Unsupported","Internal","DatabaseClosed","PrematureCommit","ForeignAwait"].concat(li=["Unknown","Constraint","Data","TransactionInactive","ReadOnly","Version","NotFound","InvalidState","InvalidAccess","Abort","Timeout","QuotaExceeded","Syntax","DataClone"]),Ke={VersionChanged:"Database version changed by other database connection",DatabaseClosed:"Database has been closed",Abort:"Transaction aborted",TransactionInactive:"Transaction has already completed or failed",MissingAPI:"IndexedDB API missing. Please visit https://tinyurl.com/y2uuvskb"};function Ge(I,O){this.name=I,this.message=O}function Ft(I,O){return I+". Errors: "+Object.keys(O).map(function(q){return O[q].toString()}).filter(function(q,ae,me){return me.indexOf(q)===ae}).join("\n")}function Xe(I,O,q,ae){this.failures=O,this.failedKeys=ae,this.successCount=q,this.message=Ft(I,O)}function Ze(I,O){this.name="BulkError",this.failures=Object.keys(O).map(function(q){return O[q]}),this.failuresByPos=O,this.message=Ft(I,this.failures)}xe(Ge).from(Error).extend({toString:function(){return this.name+": "+this.message}}),xe(Xe).from(Ge),xe(Ze).from(Ge);var dt=mt.reduce(function(I,O){return I[O]=O+"Error",I},{}),Et=Ge,yt=mt.reduce(function(I,O){var q=O+"Error";function ae(me,Ie){this.name=q,me?"string"==typeof me?(this.message="".concat(me).concat(Ie?"\n "+Ie:""),this.inner=Ie||null):"object"==typeof me&&(this.message="".concat(me.name," ").concat(me.message),this.inner=me):(this.message=Ke[O]||q,this.inner=null)}return xe(ae).from(Et),I[O]=ae,I},{});yt.Syntax=SyntaxError,yt.Type=TypeError,yt.Range=RangeError;var Nt=li.reduce(function(I,O){return I[O+"Error"]=yt[O],I},{}),wn=mt.reduce(function(I,O){return-1===["Syntax","Type","Range"].indexOf(O)&&(I[O+"Error"]=yt[O]),I},{});function bn(){}function Gt(I){return I}function kn(I,O){return null==I||I===Gt?O:function(q){return O(I(q))}}function On(I,O){return function(){I.apply(this,arguments),O.apply(this,arguments)}}function Er(I,O){return I===bn?O:function(){var q=I.apply(this,arguments);void 0!==q&&(arguments[0]=q);var ae=this.onsuccess,me=this.onerror;this.onsuccess=null,this.onerror=null;var Ie=O.apply(this,arguments);return ae&&(this.onsuccess=this.onsuccess?On(ae,this.onsuccess):ae),me&&(this.onerror=this.onerror?On(me,this.onerror):me),void 0!==Ie?Ie:q}}function mi(I,O){return I===bn?O:function(){I.apply(this,arguments);var q=this.onsuccess,ae=this.onerror;this.onsuccess=this.onerror=null,O.apply(this,arguments),q&&(this.onsuccess=this.onsuccess?On(q,this.onsuccess):q),ae&&(this.onerror=this.onerror?On(ae,this.onerror):ae)}}function Jn(I,O){return I===bn?O:function(q){var ae=I.apply(this,arguments);oe(q,ae);var me=this.onsuccess,Ie=this.onerror;return this.onsuccess=null,this.onerror=null,q=O.apply(this,arguments),me&&(this.onsuccess=this.onsuccess?On(me,this.onsuccess):me),Ie&&(this.onerror=this.onerror?On(Ie,this.onerror):Ie),void 0===ae?void 0===q?void 0:q:oe(ae,q)}}function Pt(I,O){return I===bn?O:function(){return!1!==O.apply(this,arguments)&&I.apply(this,arguments)}}function Kt(I,O){return I===bn?O:function(){var q=I.apply(this,arguments);if(q&&"function"==typeof q.then){for(var ae=this,me=arguments.length,Ie=new Array(me);me--;)Ie[me]=arguments[me];return q.then(function(){return O.apply(ae,Ie)})}return O.apply(this,arguments)}}wn.ModifyError=Xe,wn.DexieError=Ge,wn.BulkError=Ze;var Un=typeof location<"u"&&/^(http|https):\/\/(localhost|127\.0\.0\.1)/.test(location.href);function fr(I){Un=I}var li,Pr={},Li=(mt=(mt=(Gi=typeof Promise>"u"?[]:function(){var I=Promise.resolve();if(typeof crypto>"u"||!crypto.subtle)return[I,ke(I),I];var O=crypto.subtle.digest("SHA-512",new Uint8Array([0]));return[O,ke(O),I]}())[1])&&mt.then,(li=Gi[0])&&li.constructor),oi=!!(Gi=Gi[2]),yn=function(I,O){Fi.push([I,O]),ln&&(queueMicrotask(Pi),ln=!1)},or=!0,ln=!0,gn=[],zn=[],sr=Gt,Tr={id:"global",global:!0,ref:0,unhandleds:[],onunhandled:bn,pgp:!1,env:{},finalize:bn},Zn=Tr,Fi=[],oo=0,Fn=[];function Hn(I){if("object"!=typeof this)throw new TypeError("Promises must be constructed via new");this._listeners=[],this._lib=!1;var O=this._PSD=Zn;if("function"!=typeof I){if(I!==Pr)throw new TypeError("Not a function");return this._state=arguments[1],this._value=arguments[2],void(!1===this._state&&pi(this,this._value))}this._state=null,this._value=null,++O.ref,function q(ae,me){try{me(function(Ie){if(null===ae._state){if(Ie===ae)throw new TypeError("A promise cannot be resolved with itself.");var Je=ae._lib&&Vi();Ie&&"function"==typeof Ie.then?q(ae,function(_t,St){Ie instanceof Hn?Ie._then(_t,St):Ie.then(_t,St)}):(ae._state=!0,ae._value=Ie,fo(ae)),Je&&vo()}},pi.bind(null,ae))}catch(Ie){pi(ae,Ie)}}(this,I)}var Bi={get:function(){var I=Zn,O=Io;function q(ae,me){var Ie=this,Je=!I.global&&(I!==Zn||O!==Io),_t=Je&&!wi(),St=new Hn(function(Mt,zt){Ai(Ie,new Ei(Xr(ae,I,Je,_t),Xr(me,I,Je,_t),Mt,zt,I))});return this._consoleTask&&(St._consoleTask=this._consoleTask),St}return q.prototype=Pr,q},set:function(I){ie(this,"then",I&&I.prototype===Pr?Bi:{get:function(){return I},set:Bi.set})}};function Ei(I,O,q,ae,me){this.onFulfilled="function"==typeof I?I:null,this.onRejected="function"==typeof O?O:null,this.resolve=q,this.reject=ae,this.psd=me}function pi(I,O){var q,ae;zn.push(O),null===I._state&&(q=I._lib&&Vi(),O=sr(O),I._state=!1,I._value=O,ae=I,gn.some(function(me){return me._value===ae._value})||gn.push(ae),fo(I),q&&vo())}function fo(I){var O=I._listeners;I._listeners=[];for(var q=0,ae=O.length;q<ae;++q)Ai(I,O[q]);var me=I._PSD;--me.ref||me.finalize(),0===oo&&(++oo,yn(function(){0==--oo&&Ui()},[]))}function Ai(I,O){if(null!==I._state){var q=I._state?O.onFulfilled:O.onRejected;if(null===q)return(I._state?O.resolve:O.reject)(I._value);++O.psd.ref,++oo,yn(Lr,[q,I,O])}else I._listeners.push(O)}function Lr(I,O,q){try{var ae,me=O._value;!O._state&&zn.length&&(zn=[]),ae=Un&&O._consoleTask?O._consoleTask.run(function(){return I(me)}):I(me),O._state||-1!==zn.indexOf(me)||function(Ie){for(var Je=gn.length;Je;)if(gn[--Je]._value===Ie._value)return gn.splice(Je,1)}(O),q.resolve(ae)}catch(Ie){q.reject(Ie)}finally{0==--oo&&Ui(),--q.psd.ref||q.psd.finalize()}}function Pi(){qi(Tr,function(){Vi()&&vo()})}function Vi(){var I=or;return ln=or=!1,I}function vo(){var I,O,q;do{for(;0<Fi.length;)for(I=Fi,Fi=[],q=I.length,O=0;O<q;++O){var ae=I[O];ae[0].apply(null,ae[1])}}while(0<Fi.length);ln=or=!0}function Ui(){var I=gn;gn=[],I.forEach(function(ae){ae._PSD.onunhandled.call(null,ae._value,ae)});for(var O=Fn.slice(0),q=O.length;q;)O[--q]()}function Di(I){return new Hn(Pr,!1,I)}function ui(I,O){var q=Zn;return function(){var ae=Vi(),me=Zn;try{return Ji(q,!0),I.apply(this,arguments)}catch(Ie){O&&O(Ie)}finally{Ji(me,!1),ae&&vo()}}}v(Hn.prototype,{then:Bi,_then:function(I,O){Ai(this,new Ei(null,null,I,O,Zn))},catch:function(I){if(1===arguments.length)return this.then(null,I);var O=I,q=arguments[1];return this.then(null,"function"==typeof O?function(ae){return(ae instanceof O?q:Di)(ae)}:function(ae){return(ae&&ae.name===O?q:Di)(ae)})},finally:function(I){return this.then(function(O){return Hn.resolve(I()).then(function(){return O})},function(O){return Hn.resolve(I()).then(function(){return Di(O)})})},timeout:function(I,O){var q=this;return I<1/0?new Hn(function(ae,me){var Ie=setTimeout(function(){return me(new yt.Timeout(O))},I);q.then(ae,me).finally(clearTimeout.bind(null,Ie))}):this}}),typeof Symbol<"u"&&Symbol.toStringTag&&ie(Hn.prototype,Symbol.toStringTag,"Dexie.Promise"),Tr.env=Zi(),v(Hn,{all:function(){var I=Dt.apply(null,arguments).map(ss);return new Hn(function(O,q){0===I.length&&O([]);var ae=I.length;I.forEach(function(me,Ie){return Hn.resolve(me).then(function(Je){I[Ie]=Je,--ae||O(I)},q)})})},resolve:function(I){return I instanceof Hn?I:I&&"function"==typeof I.then?new Hn(function(O,q){I.then(O,q)}):new Hn(Pr,!0,I)},reject:Di,race:function(){var I=Dt.apply(null,arguments).map(ss);return new Hn(function(O,q){I.map(function(ae){return Hn.resolve(ae).then(O,q)})})},PSD:{get:function(){return Zn},set:function(I){return Zn=I}},totalEchoes:{get:function(){return Io}},newPSD:Wi,usePSD:qi,scheduler:{get:function(){return yn},set:function(I){yn=I}},rejectionMapper:{get:function(){return sr},set:function(I){sr=I}},follow:function(I,O){return new Hn(function(q,ae){return Wi(function(me,Ie){var Je=Zn;Je.unhandleds=[],Je.onunhandled=Ie,Je.finalize=On(function(){var _t,St=this;_t=function(){0===St.unhandleds.length?me():Ie(St.unhandleds[0])},Fn.push(function Mt(){_t(),Fn.splice(Fn.indexOf(Mt),1)}),++oo,yn(function(){0==--oo&&Ui()},[])},Je.finalize),I()},O,q,ae)})}}),Li&&(Li.allSettled&&ie(Hn,"allSettled",function(){var I=Dt.apply(null,arguments).map(ss);return new Hn(function(O){0===I.length&&O([]);var q=I.length,ae=new Array(q);I.forEach(function(me,Ie){return Hn.resolve(me).then(function(Je){return ae[Ie]={status:"fulfilled",value:Je}},function(Je){return ae[Ie]={status:"rejected",reason:Je}}).then(function(){return--q||O(ae)})})})}),Li.any&&typeof AggregateError<"u"&&ie(Hn,"any",function(){var I=Dt.apply(null,arguments).map(ss);return new Hn(function(O,q){0===I.length&&q(new AggregateError([]));var ae=I.length,me=new Array(ae);I.forEach(function(Ie,Je){return Hn.resolve(Ie).then(function(_t){return O(_t)},function(_t){me[Je]=_t,--ae||q(new AggregateError(me))})})})}),Li.withResolvers&&(Hn.withResolvers=Li.withResolvers));var $i={awaits:0,echoes:0,id:0},_i=0,Mi=[],Xi=0,Io=0,Do=0;function Wi(I,O,q,ae){var me=Zn,Ie=Object.create(me);return Ie.parent=me,Ie.ref=0,Ie.global=!1,Ie.id=++Do,Ie.env=oi?{Promise:Hn,PromiseProp:{value:Hn,configurable:!0,writable:!0},all:Hn.all,race:Hn.race,allSettled:Hn.allSettled,any:Hn.any,resolve:Hn.resolve,reject:Hn.reject}:{},O&&oe(Ie,O),++me.ref,Ie.finalize=function(){--this.parent.ref||this.parent.finalize()},ae=qi(Ie,I,q,ae),0===Ie.ref&&Ie.finalize(),ae}function wo(){return $i.id||($i.id=++_i),++$i.awaits,$i.echoes+=100,$i.id}function wi(){return!!$i.awaits&&(0==--$i.awaits&&($i.id=0),$i.echoes=100*$i.awaits,!0)}function ss(I){return $i.echoes&&I&&I.constructor===Li?(wo(),I.then(function(O){return wi(),O},function(O){return wi(),He(O)})):I}function yo(){var I=Mi[Mi.length-1];Mi.pop(),Ji(I,!1)}function Ji(I,O){var q,ae=Zn;(O?!$i.echoes||Xi++&&I===Zn:!Xi||--Xi&&I===Zn)||queueMicrotask(O?function(me){++Io,$i.echoes&&0!=--$i.echoes||($i.echoes=$i.awaits=$i.id=0),Mi.push(Zn),Ji(me,!0)}.bind(null,I):yo),I!==Zn&&(Zn=I,ae===Tr&&(Tr.env=Zi()),oi&&(q=Tr.env.Promise,O=I.env,(ae.global||I.global)&&(Object.defineProperty(r,"Promise",O.PromiseProp),q.all=O.all,q.race=O.race,q.resolve=O.resolve,q.reject=O.reject,O.allSettled&&(q.allSettled=O.allSettled),O.any&&(q.any=O.any))))}function Zi(){var I=r.Promise;return oi?{Promise:I,PromiseProp:Object.getOwnPropertyDescriptor(r,"Promise"),all:I.all,race:I.race,allSettled:I.allSettled,any:I.any,resolve:I.resolve,reject:I.reject}:{}}function qi(I,O,q,ae,me){var Ie=Zn;try{return Ji(I,!0),O(q,ae,me)}finally{Ji(Ie,!1)}}function Xr(I,O,q,ae){return"function"!=typeof I?I:function(){var me=Zn;q&&wo(),Ji(O,!0);try{return I.apply(this,arguments)}finally{Ji(me,!1),ae&&queueMicrotask(wi)}}}function Bo(I){Promise===Li&&0===$i.echoes?0===Xi?I():enqueueNativeMicroTask(I):setTimeout(I,0)}-1===(""+mt).indexOf("[native code]")&&(wo=wi=bn);var He=Hn.reject,lt="Invalid key provided. Keys must be of type string, number, Date or Array<string | number | Date>.",tn="String expected.",hn=[],un="__dbnames",an="readonly",Rr="readwrite";function rt(I,O){return I?O?function(){return I.apply(this,arguments)&&O.apply(this,arguments)}:I:O}var Wt={type:3,lower:-1/0,lowerOpen:!1,upper:[[]],upperOpen:!1};function Qt(I){return"string"!=typeof I||/\./.test(I)?function(O){return O}:function(O){return void 0===O[I]&&I in O&&delete(O=Ht(O))[I],O}}function Cn(){throw yt.Type("Entity instances must never be new:ed. Instances are generated by the framework bypassing the constructor.")}function ge(I,O){try{var q=Ye(I),ae=Ye(O);if(q!==ae)return"Array"===q?1:"Array"===ae?-1:"binary"===q?1:"binary"===ae?-1:"string"===q?1:"string"===ae?-1:"Date"===q?1:"Date"!==ae?NaN:-1;switch(q){case"number":case"Date":case"string":return O<I?1:I<O?-1:0;case"binary":return function(me,Ie){for(var Je=me.length,_t=Ie.length,St=Je<_t?Je:_t,Mt=0;Mt<St;++Mt)if(me[Mt]!==Ie[Mt])return me[Mt]<Ie[Mt]?-1:1;return Je===_t?0:Je<_t?-1:1}(ot(I),ot(O));case"Array":return function(me,Ie){for(var Je=me.length,_t=Ie.length,St=Je<_t?Je:_t,Mt=0;Mt<St;++Mt){var zt=ge(me[Mt],Ie[Mt]);if(0!==zt)return zt}return Je===_t?0:Je<_t?-1:1}(I,O)}}catch{}return NaN}function Ye(I){var O=typeof I;return"object"!=O?O:ArrayBuffer.isView(I)||"ArrayBuffer"===(I=Me(I))?"binary":I}function ot(I){return I instanceof Uint8Array?I:ArrayBuffer.isView(I)?new Uint8Array(I.buffer,I.byteOffset,I.byteLength):new Uint8Array(I)}function kt(I,O,q){var ae=I.schema.yProps;return ae?(O&&0<q.numFailures&&(O=O.filter(function(me,Ie){return!q.failures[Ie]})),Promise.all(ae.map(function(me){return me=me.updatesTable,O?I.db.table(me).where("k").anyOf(O).delete():I.db.table(me).clear()})).then(function(){return q})):q}var Tn=(nr.prototype.execute=function(I){var O=this["@@propmod"];if(void 0!==O.add){var q=O.add;if(ve(q))return L(L([],ve(I)?I:[],!0),q,!0).sort();if("number"==typeof q)return(Number(I)||0)+q;if("bigint"==typeof q)try{return BigInt(I)+q}catch{return BigInt(0)+q}throw new TypeError("Invalid term ".concat(q))}if(void 0!==O.remove){var ae=O.remove;if(ve(ae))return ve(I)?I.filter(function(me){return!ae.includes(me)}).sort():[];if("number"==typeof ae)return Number(I)-ae;if("bigint"==typeof ae)try{return BigInt(I)-ae}catch{return BigInt(0)-ae}throw new TypeError("Invalid subtrahend ".concat(ae))}return(q=null===(q=O.replacePrefix)||void 0===q?void 0:q[0])&&"string"==typeof I&&I.startsWith(q)?O.replacePrefix[1]+I.substring(q.length):I},nr);function nr(I){this["@@propmod"]=I}function _r(I,O){for(var q=R(O),ae=q.length,me=!1,Ie=0;Ie<ae;++Ie){var Je=q[Ie],_t=O[Je],St=Oe(I,Je);_t instanceof Tn?(at(I,Je,_t.execute(St)),me=!0):St!==_t&&(at(I,Je,_t),me=!0)}return me}var Ur=(qn.prototype._trans=function(I,O,q){var ae=this._tx||Zn.trans,me=this.name,Ie=Un&&typeof console<"u"&&console.createTask&&console.createTask("Dexie: ".concat("readonly"===I?"read":"write"," ").concat(this.name));function Je(Mt,zt,wt){if(!wt.schema[me])throw new yt.NotFound("Table "+me+" not part of transaction");return O(wt.idbtrans,wt)}var _t=Vi();try{var St=ae&&ae.db._novip===this.db._novip?ae===Zn.trans?ae._promise(I,Je,q):Wi(function(){return ae._promise(I,Je,q)},{trans:ae,transless:Zn.transless||Zn}):function Mt(zt,wt,Jt,Ot){if(zt.idbdb&&(zt._state.openComplete||Zn.letThrough||zt._vip)){var Vt=zt._createTransaction(wt,Jt,zt._dbSchema);try{Vt.create(),zt._state.PR1398_maxLoop=3}catch(Ut){return Ut.name===dt.InvalidState&&zt.isOpen()&&0<--zt._state.PR1398_maxLoop?(console.warn("Dexie: Need to reopen db"),zt.close({disableAutoOpen:!1}),zt.open().then(function(){return Mt(zt,wt,Jt,Ot)})):He(Ut)}return Vt._promise(wt,function(Ut,Xt){return Wi(function(){return Zn.trans=Vt,Ot(Ut,Xt,Vt)})}).then(function(Ut){if("readwrite"===wt)try{Vt.idbtrans.commit()}catch{}return"readonly"===wt?Ut:Vt._completion.then(function(){return Ut})})}if(zt._state.openComplete)return He(new yt.DatabaseClosed(zt._state.dbOpenError));if(!zt._state.isBeingOpened){if(!zt._state.autoOpen)return He(new yt.DatabaseClosed);zt.open().catch(bn)}return zt._state.dbReadyPromise.then(function(){return Mt(zt,wt,Jt,Ot)})}(this.db,I,[this.name],Je);return Ie&&(St._consoleTask=Ie,St=St.catch(function(Mt){return console.trace(Mt),He(Mt)})),St}finally{_t&&vo()}},qn.prototype.get=function(I,O){var q=this;return I&&I.constructor===Object?this.where(I).first(O):null==I?He(new yt.Type("Invalid argument to Table.get()")):this._trans("readonly",function(ae){return q.core.get({trans:ae,key:I}).then(function(me){return q.hook.reading.fire(me)})}).then(O)},qn.prototype.where=function(I){if("string"==typeof I)return new this.db.WhereClause(this,I);if(ve(I))return new this.db.WhereClause(this,"[".concat(I.join("+"),"]"));var O=R(I);if(1===O.length)return this.where(O[0]).equals(I[O[0]]);var q=this.schema.indexes.concat(this.schema.primKey).filter(function(_t){if(_t.compound&&O.every(function(Mt){return 0<=_t.keyPath.indexOf(Mt)})){for(var St=0;St<O.length;++St)if(-1===O.indexOf(_t.keyPath[St]))return!1;return!0}return!1}).sort(function(_t,St){return _t.keyPath.length-St.keyPath.length})[0];if(q&&"\uffff"!==this.db._maxKey){var Ie=q.keyPath.slice(0,O.length);return this.where(Ie).equals(Ie.map(function(St){return I[St]}))}!q&&Un&&console.warn("The query ".concat(JSON.stringify(I)," on ").concat(this.name," would benefit from a ")+"compound index [".concat(O.join("+"),"]"));var ae=this.schema.idxByName;function me(_t,St){return 0===ge(_t,St)}Ie=(Je=O.reduce(function(wt,St){var Mt=wt[0],zt=wt[1],Jt=(wt=ae[St],I[St]);return[Mt||wt,Mt||!wt?rt(zt,wt&&wt.multi?function(Ot){return Ot=Oe(Ot,St),ve(Ot)&&Ot.some(function(Vt){return me(Jt,Vt)})}:function(Ot){return me(Jt,Oe(Ot,St))}):zt]},[null,null]))[0];var Je=Je[1];return Ie?this.where(Ie.name).equals(I[Ie.keyPath]).filter(Je):q?this.filter(Je):this.where(O).equals("")},qn.prototype.filter=function(I){return this.toCollection().and(I)},qn.prototype.count=function(I){return this.toCollection().count(I)},qn.prototype.offset=function(I){return this.toCollection().offset(I)},qn.prototype.limit=function(I){return this.toCollection().limit(I)},qn.prototype.each=function(I){return this.toCollection().each(I)},qn.prototype.toArray=function(I){return this.toCollection().toArray(I)},qn.prototype.toCollection=function(){return new this.db.Collection(new this.db.WhereClause(this))},qn.prototype.orderBy=function(I){return new this.db.Collection(new this.db.WhereClause(this,ve(I)?"[".concat(I.join("+"),"]"):I))},qn.prototype.reverse=function(){return this.toCollection().reverse()},qn.prototype.mapToClass=function(I){var O,q=this.db,ae=this.name;function me(){return null!==O&&O.apply(this,arguments)||this}(this.schema.mappedClass=I).prototype instanceof Cn&&(function(St,Mt){if("function"!=typeof Mt&&null!==Mt)throw new TypeError("Class extends value "+String(Mt)+" is not a constructor or null");function zt(){this.constructor=St}ct(St,Mt),St.prototype=null===Mt?Object.create(Mt):(zt.prototype=Mt.prototype,new zt)}(me,O=I),Object.defineProperty(me.prototype,"db",{get:function(){return q},enumerable:!1,configurable:!0}),me.prototype.table=function(){return ae},I=me);for(var Ie=new Set,Je=I.prototype;Je;Je=ke(Je))Object.getOwnPropertyNames(Je).forEach(function(St){return Ie.add(St)});function _t(St){if(!St)return St;var Mt,zt=Object.create(I.prototype);for(Mt in St)if(!Ie.has(Mt))try{zt[Mt]=St[Mt]}catch{}return zt}return this.schema.readHook&&this.hook.reading.unsubscribe(this.schema.readHook),this.schema.readHook=_t,this.hook("reading",_t),I},qn.prototype.defineClass=function(){return this.mapToClass(function(I){oe(this,I)})},qn.prototype.add=function(I,O){var q=this,ae=this.schema.primKey,Ie=ae.keyPath,Je=I;return Ie&&ae.auto&&(Je=Qt(Ie)(I)),this._trans("readwrite",function(_t){return q.core.mutate({trans:_t,type:"add",keys:null!=O?[O]:null,values:[Je]})}).then(function(_t){return _t.numFailures?Hn.reject(_t.failures[0]):_t.lastResult}).then(function(_t){if(Ie)try{at(I,Ie,_t)}catch{}return _t})},qn.prototype.upsert=function(I,O){var q=this,ae=this.schema.primKey.keyPath;return this._trans("readwrite",function(me){return q.core.get({trans:me,key:I}).then(function(Ie){var Je=Ie??{};return _r(Je,O),ae&&at(Je,ae,I),q.core.mutate({trans:me,type:"put",values:[Je],keys:[I],upsert:!0,updates:{keys:[I],changeSpecs:[O]}}).then(function(_t){return _t.numFailures?Hn.reject(_t.failures[0]):!!Ie})})})},qn.prototype.update=function(I,O){return"object"!=typeof I||ve(I)?this.where(":id").equals(I).modify(O):void 0===(I=Oe(I,this.schema.primKey.keyPath))?He(new yt.InvalidArgument("Given object does not contain its primary key")):this.where(":id").equals(I).modify(O)},qn.prototype.put=function(I,O){var q=this,ae=this.schema.primKey,Ie=ae.keyPath,Je=I;return Ie&&ae.auto&&(Je=Qt(Ie)(I)),this._trans("readwrite",function(_t){return q.core.mutate({trans:_t,type:"put",values:[Je],keys:null!=O?[O]:null})}).then(function(_t){return _t.numFailures?Hn.reject(_t.failures[0]):_t.lastResult}).then(function(_t){if(Ie)try{at(I,Ie,_t)}catch{}return _t})},qn.prototype.delete=function(I){var O=this;return this._trans("readwrite",function(q){return O.core.mutate({trans:q,type:"delete",keys:[I]}).then(function(ae){return kt(O,[I],ae)}).then(function(ae){return ae.numFailures?Hn.reject(ae.failures[0]):void 0})})},qn.prototype.clear=function(){var I=this;return this._trans("readwrite",function(O){return I.core.mutate({trans:O,type:"deleteRange",range:Wt}).then(function(q){return kt(I,null,q)})}).then(function(O){return O.numFailures?Hn.reject(O.failures[0]):void 0})},qn.prototype.bulkGet=function(I){var O=this;return this._trans("readonly",function(q){return O.core.getMany({keys:I,trans:q}).then(function(ae){return ae.map(function(me){return O.hook.reading.fire(me)})})})},qn.prototype.bulkAdd=function(I,O,q){var ae=this,me=Array.isArray(O)?O:void 0,Ie=(q=q||(me?void 0:O))?q.allKeys:void 0;return this._trans("readwrite",function(Je){var _t=(Mt=ae.schema.primKey).auto;if((Mt=Mt.keyPath)&&me)throw new yt.InvalidArgument("bulkAdd(): keys argument invalid on tables with inbound keys");if(me&&me.length!==I.length)throw new yt.InvalidArgument("Arguments objects and keys must have the same length");var St=I.length,Mt=Mt&&_t?I.map(Qt(Mt)):I;return ae.core.mutate({trans:Je,type:"add",keys:me,values:Mt,wantResults:Ie}).then(function(Vt){var wt=Vt.numFailures,Jt=Vt.results,Ot=Vt.lastResult;if(Vt=Vt.failures,0===wt)return Ie?Jt:Ot;throw new Ze("".concat(ae.name,".bulkAdd(): ").concat(wt," of ").concat(St," operations failed"),Vt)})})},qn.prototype.bulkPut=function(I,O,q){var ae=this,me=Array.isArray(O)?O:void 0,Ie=(q=q||(me?void 0:O))?q.allKeys:void 0;return this._trans("readwrite",function(Je){var _t=(Mt=ae.schema.primKey).auto;if((Mt=Mt.keyPath)&&me)throw new yt.InvalidArgument("bulkPut(): keys argument invalid on tables with inbound keys");if(me&&me.length!==I.length)throw new yt.InvalidArgument("Arguments objects and keys must have the same length");var St=I.length,Mt=Mt&&_t?I.map(Qt(Mt)):I;return ae.core.mutate({trans:Je,type:"put",keys:me,values:Mt,wantResults:Ie}).then(function(Vt){var wt=Vt.numFailures,Jt=Vt.results,Ot=Vt.lastResult;if(Vt=Vt.failures,0===wt)return Ie?Jt:Ot;throw new Ze("".concat(ae.name,".bulkPut(): ").concat(wt," of ").concat(St," operations failed"),Vt)})})},qn.prototype.bulkUpdate=function(I){var O=this,q=this.core,ae=I.map(function(Je){return Je.key}),me=I.map(function(Je){return Je.changes}),Ie=[];return this._trans("readwrite",function(Je){return q.getMany({trans:Je,keys:ae,cache:"clone"}).then(function(_t){var St=[],Mt=[];I.forEach(function(wt,Jt){var Ot=wt.key,Vt=wt.changes,Ut=_t[Jt];if(Ut){for(var Xt=0,qt=Object.keys(Vt);Xt<qt.length;Xt++){var sn=qt[Xt],mn=Vt[sn];if(sn===O.schema.primKey.keyPath){if(0!==ge(mn,Ot))throw new yt.Constraint("Cannot update primary key in bulkUpdate()")}else at(Ut,sn,mn)}Ie.push(Jt),St.push(Ot),Mt.push(Ut)}});var zt=St.length;return q.mutate({trans:Je,type:"put",keys:St,values:Mt,updates:{keys:ae,changeSpecs:me}}).then(function(wt){var Jt=wt.numFailures,Ot=wt.failures;if(0===Jt)return zt;for(var Vt=0,Ut=Object.keys(Ot);Vt<Ut.length;Vt++){var Xt,qt=Ut[Vt],sn=Ie[Number(qt)];null!=sn&&(Xt=Ot[qt],delete Ot[qt],Ot[sn]=Xt)}throw new Ze("".concat(O.name,".bulkUpdate(): ").concat(Jt," of ").concat(zt," operations failed"),Ot)})})})},qn.prototype.bulkDelete=function(I){var O=this,q=I.length;return this._trans("readwrite",function(ae){return O.core.mutate({trans:ae,type:"delete",keys:I}).then(function(me){return kt(O,I,me)})}).then(function(Je){var me=Je.numFailures,Ie=Je.lastResult;if(Je=Je.failures,0===me)return Ie;throw new Ze("".concat(O.name,".bulkDelete(): ").concat(me," of ").concat(q," operations failed"),Je)})},qn);function qn(){}function tr(I){function O(Je,_t){if(_t){for(var St=arguments.length,Mt=new Array(St-1);--St;)Mt[St-1]=arguments[St];return q[Je].subscribe.apply(null,Mt),I}if("string"==typeof Je)return q[Je]}var q={};O.addEventType=Ie;for(var ae=1,me=arguments.length;ae<me;++ae)Ie(arguments[ae]);return O;function Ie(Je,_t,St){if("object"!=typeof Je){var Mt;_t=_t||Pt;var zt={subscribers:[],fire:St=St||bn,subscribe:function(wt){-1===zt.subscribers.indexOf(wt)&&(zt.subscribers.push(wt),zt.fire=_t(zt.fire,wt))},unsubscribe:function(wt){zt.subscribers=zt.subscribers.filter(function(Jt){return Jt!==wt}),zt.fire=zt.subscribers.reduce(_t,St)}};return q[Je]=O[Je]=zt}R(Mt=Je).forEach(function(wt){var Jt=Mt[wt];if(ve(Jt))Ie(wt,Mt[wt][0],Mt[wt][1]);else{if("asap"!==Jt)throw new yt.InvalidArgument("Invalid event config");var Ot=Ie(wt,Gt,function(){for(var Vt=arguments.length,Ut=new Array(Vt);Vt--;)Ut[Vt]=arguments[Vt];Ot.subscribers.forEach(function(Xt){be(function(){Xt.apply(null,Ut)})})})}})}}function Yi(I,O){return xe(O).from({prototype:I}),O}function hi(I,O){return!(I.filter||I.algorithm||I.or)&&(O?I.justLimit:!I.replayFilter)}function To(I,O){I.filter=rt(I.filter,O)}function eo(I,O,q){var ae=I.replayFilter;I.replayFilter=ae?function(){return rt(ae(),O())}:O,I.justLimit=q&&!ae}function ho(I,O){if(I.isPrimKey)return O.primaryKey;var q=O.getIndexByKeyPath(I.index);if(!q)throw new yt.Schema("KeyPath "+I.index+" on object store "+O.name+" is not indexed");return q}function as(I,O,q){var ae=ho(I,O.schema);return O.openCursor({trans:q,values:!I.keysOnly,reverse:"prev"===I.dir,unique:!!I.unique,query:{index:ae,range:I.range}})}function Vo(I,O,q,ae){var me=I.replayFilter?rt(I.filter,I.replayFilter()):I.filter;if(I.or){var Ie={},Je=function(_t,St,Mt){var zt,wt;me&&!me(St,Mt,function(Jt){return St.stop(Jt)},function(Jt){return St.fail(Jt)})||("[object ArrayBuffer]"==(wt=""+(zt=St.primaryKey))&&(wt=""+new Uint8Array(zt)),ee(Ie,wt)||(Ie[wt]=!0,O(_t,St,Mt)))};return Promise.all([I.or._iterate(Je,q),Co(as(I,ae,q),I.algorithm,Je,!I.keysOnly&&I.valueMapper)])}return Co(as(I,ae,q),rt(I.algorithm,me),O,!I.keysOnly&&I.valueMapper)}function Co(I,O,q,ae){var me=ui(ae?function(Ie,Je,_t){return q(ae(Ie),Je,_t)}:q);return I.then(function(Ie){if(Ie)return Ie.start(function(){var Je=function(){return Ie.continue()};O&&!O(Ie,function(_t){return Je=_t},function(_t){Ie.stop(_t),Je=bn},function(_t){Ie.fail(_t),Je=bn})||me(Ie.value,Ie,function(_t){return Je=_t}),Je()})})}var As=(qr.prototype._read=function(I,O){var q=this._ctx;return q.error?q.table._trans(null,He.bind(null,q.error)):q.table._trans("readonly",I).then(O)},qr.prototype._write=function(I){var O=this._ctx;return O.error?O.table._trans(null,He.bind(null,O.error)):O.table._trans("readwrite",I,"locked")},qr.prototype._addAlgorithm=function(I){var O=this._ctx;O.algorithm=rt(O.algorithm,I)},qr.prototype._iterate=function(I,O){return Vo(this._ctx,I,O,this._ctx.table.core)},qr.prototype.clone=function(I){var O=Object.create(this.constructor.prototype),q=Object.create(this._ctx);return I&&oe(q,I),O._ctx=q,O},qr.prototype.raw=function(){return this._ctx.valueMapper=null,this},qr.prototype.each=function(I){var O=this._ctx;return this._read(function(q){return Vo(O,I,q,O.table.core)})},qr.prototype.count=function(I){var O=this;return this._read(function(q){var ae=O._ctx,me=ae.table.core;if(hi(ae,!0))return me.count({trans:q,query:{index:ho(ae,me.schema),range:ae.range}}).then(function(Je){return Math.min(Je,ae.limit)});var Ie=0;return Vo(ae,function(){return++Ie,!1},q,me).then(function(){return Ie})}).then(I)},qr.prototype.sortBy=function(I,O){var q=I.split(".").reverse(),ae=q[0],me=q.length-1;function Ie(St,Mt){return Mt?Ie(St[q[Mt]],Mt-1):St[ae]}var Je="next"===this._ctx.dir?1:-1;function _t(St,Mt){return ge(Ie(St,me),Ie(Mt,me))*Je}return this.toArray(function(St){return St.sort(_t)}).then(O)},qr.prototype.toArray=function(I){var O=this;return this._read(function(q){var ae=O._ctx;if("next"===ae.dir&&hi(ae,!0)&&0<ae.limit){var me=ae.valueMapper,Ie=ho(ae,ae.table.core.schema);return ae.table.core.query({trans:q,limit:ae.limit,values:!0,query:{index:Ie,range:ae.range}}).then(function(_t){return _t=_t.result,me?_t.map(me):_t})}var Je=[];return Vo(ae,function(_t){return Je.push(_t)},q,ae.table.core).then(function(){return Je})},I)},qr.prototype.offset=function(I){var O=this._ctx;return I<=0||(O.offset+=I,hi(O)?eo(O,function(){var q=I;return function(ae,me){return 0===q||(1===q?--q:me(function(){ae.advance(q),q=0}),!1)}}):eo(O,function(){var q=I;return function(){return--q<0}})),this},qr.prototype.limit=function(I){return this._ctx.limit=Math.min(this._ctx.limit,I),eo(this._ctx,function(){var O=I;return function(q,ae,me){return--O<=0&&ae(me),0<=O}},!0),this},qr.prototype.until=function(I,O){return To(this._ctx,function(q,ae,me){return!I(q.value)||(ae(me),O)}),this},qr.prototype.first=function(I){return this.limit(1).toArray(function(O){return O[0]}).then(I)},qr.prototype.last=function(I){return this.reverse().first(I)},qr.prototype.filter=function(I){var O;return To(this._ctx,function(q){return I(q.value)}),(O=this._ctx).isMatch=rt(O.isMatch,I),this},qr.prototype.and=function(I){return this.filter(I)},qr.prototype.or=function(I){return new this.db.WhereClause(this._ctx.table,I,this)},qr.prototype.reverse=function(){return this._ctx.dir="prev"===this._ctx.dir?"next":"prev",this._ondirectionchange&&this._ondirectionchange(this._ctx.dir),this},qr.prototype.desc=function(){return this.reverse()},qr.prototype.eachKey=function(I){var O=this._ctx;return O.keysOnly=!O.isMatch,this.each(function(q,ae){I(ae.key,ae)})},qr.prototype.eachUniqueKey=function(I){return this._ctx.unique="unique",this.eachKey(I)},qr.prototype.eachPrimaryKey=function(I){var O=this._ctx;return O.keysOnly=!O.isMatch,this.each(function(q,ae){I(ae.primaryKey,ae)})},qr.prototype.keys=function(I){var O=this._ctx;O.keysOnly=!O.isMatch;var q=[];return this.each(function(ae,me){q.push(me.key)}).then(function(){return q}).then(I)},qr.prototype.primaryKeys=function(I){var O=this._ctx;if("next"===O.dir&&hi(O,!0)&&0<O.limit)return this._read(function(ae){var me=ho(O,O.table.core.schema);return O.table.core.query({trans:ae,values:!1,limit:O.limit,query:{index:me,range:O.range}})}).then(function(ae){return ae.result}).then(I);O.keysOnly=!O.isMatch;var q=[];return this.each(function(ae,me){q.push(me.primaryKey)}).then(function(){return q}).then(I)},qr.prototype.uniqueKeys=function(I){return this._ctx.unique="unique",this.keys(I)},qr.prototype.firstKey=function(I){return this.limit(1).keys(function(O){return O[0]}).then(I)},qr.prototype.lastKey=function(I){return this.reverse().firstKey(I)},qr.prototype.distinct=function(){var I;if(!(I=(I=this._ctx).index&&I.table.schema.idxByName[I.index])||!I.multi)return this;var O={};return To(this._ctx,function(me){var ae=me.primaryKey.toString();return me=ee(O,ae),O[ae]=!0,!me}),this},qr.prototype.modify=function(I){var O=this,q=this._ctx;return this._write(function(ae){var Mt,me="function"==typeof I?I:function(Ut){return _r(Ut,I)},Ie=q.table.core,Je=(Mt=Ie.schema.primaryKey).outbound,_t=Mt.extractKey,St=200;function zt(Ut,sn){var qt=sn.failures;Jt+=Ut-(sn=sn.numFailures);for(var mn=0,En=R(qt);mn<En.length;mn++)wt.push(qt[En[mn]])}(Mt=O.db._options.modifyChunkSize)&&(St="object"==typeof Mt?Mt[Ie.name]||Mt["*"]||200:Mt);var wt=[],Jt=0,Ot=[],Vt=I===Os;return O.clone().primaryKeys().then(function(Ut){var qt=hi(q)&&q.limit===1/0&&("function"!=typeof I||Vt)&&{index:q.index,range:q.range};return function Xt(sn){var mn=Math.min(St,Ut.length-sn),En=Ut.slice(sn,sn+mn);return(Vt?Promise.resolve([]):Ie.getMany({trans:ae,keys:En,cache:"immutable"})).then(function(Gn){var ur=[],Nn=[],$n=Je?[]:null,Yn=Vt?En:[];if(!Vt)for(var Xn=0;Xn<mn;++Xn){var gr=Gn[Xn],Ir={value:Ht(gr),primKey:Ut[sn+Xn]};!1!==me.call(Ir,Ir.value,Ir)&&(null==Ir.value?Yn.push(Ut[sn+Xn]):Je||0===ge(_t(gr),_t(Ir.value))?(Nn.push(Ir.value),Je&&$n.push(Ut[sn+Xn])):(Yn.push(Ut[sn+Xn]),ur.push(Ir.value)))}return Promise.resolve(0<ur.length&&Ie.mutate({trans:ae,type:"add",values:ur}).then(function(Gr){for(var ni in Gr.failures)Yn.splice(parseInt(ni),1);zt(ur.length,Gr)})).then(function(){return(0<Nn.length||qt&&"object"==typeof I)&&Ie.mutate({trans:ae,type:"put",keys:$n,values:Nn,criteria:qt,changeSpec:"function"!=typeof I&&I,isAdditionalChunk:0<sn}).then(function(Gr){return zt(Nn.length,Gr)})}).then(function(){return(0<Yn.length||qt&&Vt)&&Ie.mutate({trans:ae,type:"delete",keys:Yn,criteria:qt,isAdditionalChunk:0<sn}).then(function(Gr){return kt(q.table,Yn,Gr)}).then(function(Gr){return zt(Yn.length,Gr)})}).then(function(){return Ut.length>sn+mn&&Xt(sn+St)})})}(0).then(function(){if(0<wt.length)throw new Xe("Error modifying one or more objects",wt,Jt,Ot);return Ut.length})})})},qr.prototype.delete=function(){var I=this._ctx,O=I.range;return!hi(I)||I.table.schema.yProps||!I.isPrimKey&&3!==O.type?this.modify(Os):this._write(function(q){var me=O;return I.table.core.count({trans:q,query:{index:I.table.core.schema.primaryKey,range:me}}).then(function(Ie){return I.table.core.mutate({trans:q,type:"deleteRange",range:me}).then(function(St){var _t=St.failures;if(St=St.numFailures)throw new Xe("Could not delete some values",Object.keys(_t).map(function(Mt){return _t[Mt]}),Ie-St);return Ie-St})})})},qr);function qr(){}var Os=function(I,O){return O.value=null};function Ws(I,O){return I<O?-1:I===O?0:1}function Fr(I,O){return O<I?-1:I===O?0:1}function so(I,O,q){return(I=I instanceof pe?new I.Collection(I):I)._ctx.error=new(q||TypeError)(O),I}function zs(I){return new I.Collection(I,function(){return Cs("")}).limit(0)}function Ks(I,O,q,ae){var me,Ie,Je,_t,St,Mt,zt,wt=q.length;if(!q.every(function(Vt){return"string"==typeof Vt}))return so(I,tn);function Jt(Vt){me="next"===Vt?function(Xt){return Xt.toUpperCase()}:function(Xt){return Xt.toLowerCase()},Ie="next"===Vt?function(Xt){return Xt.toLowerCase()}:function(Xt){return Xt.toUpperCase()},Je="next"===Vt?Ws:Fr;var Ut=q.map(function(Xt){return{lower:Ie(Xt),upper:me(Xt)}}).sort(function(Xt,qt){return Je(Xt.lower,qt.lower)});_t=Ut.map(function(Xt){return Xt.upper}),St=Ut.map(function(Xt){return Xt.lower}),zt="next"===(Mt=Vt)?"":ae}Jt("next"),(I=new I.Collection(I,function(){return Xs(_t[0],St[wt-1]+ae)}))._ondirectionchange=function(Vt){Jt(Vt)};var Ot=0;return I._addAlgorithm(function(Vt,Ut,Xt){var qt=Vt.key;if("string"!=typeof qt)return!1;var sn=Ie(qt);if(O(sn,St,Ot))return!0;for(var mn=null,En=Ot;En<wt;++En){var Gn=function(ur,Nn,$n,Yn,Xn,gr){for(var Ir=Math.min(ur.length,Yn.length),Gr=-1,ni=0;ni<Ir;++ni){var uo=Nn[ni];if(uo!==Yn[ni])return Xn(ur[ni],$n[ni])<0?ur.substr(0,ni)+$n[ni]+$n.substr(ni+1):Xn(ur[ni],Yn[ni])<0?ur.substr(0,ni)+Yn[ni]+$n.substr(ni+1):0<=Gr?ur.substr(0,Gr)+Nn[Gr]+$n.substr(Gr+1):null;Xn(ur[ni],uo)<0&&(Gr=ni)}return Ir<Yn.length&&"next"===gr?ur+$n.substr(ur.length):Ir<ur.length&&"prev"===gr?ur.substr(0,$n.length):Gr<0?null:ur.substr(0,Gr)+Yn[Gr]+$n.substr(Gr+1)}(qt,sn,_t[En],St[En],Je,Mt);null===Gn&&null===mn?Ot=En+1:(null===mn||0<Je(mn,Gn))&&(mn=Gn)}return Ut(null!==mn?function(){Vt.continue(mn+zt)}:Xt),!1}),I}function Xs(I,O,q,ae){return{type:2,lower:I,upper:O,lowerOpen:q,upperOpen:ae}}function Cs(I){return{type:1,lower:I,upper:I}}var pe=(Object.defineProperty(qe.prototype,"Collection",{get:function(){return this._ctx.table.db.Collection},enumerable:!1,configurable:!0}),qe.prototype.between=function(I,O,q,ae){q=!1!==q,ae=!0===ae;try{return 0<this._cmp(I,O)||0===this._cmp(I,O)&&(q||ae)&&(!q||!ae)?zs(this):new this.Collection(this,function(){return Xs(I,O,!q,!ae)})}catch{return so(this,lt)}},qe.prototype.equals=function(I){return null==I?so(this,lt):new this.Collection(this,function(){return Cs(I)})},qe.prototype.above=function(I){return null==I?so(this,lt):new this.Collection(this,function(){return Xs(I,void 0,!0)})},qe.prototype.aboveOrEqual=function(I){return null==I?so(this,lt):new this.Collection(this,function(){return Xs(I,void 0,!1)})},qe.prototype.below=function(I){return null==I?so(this,lt):new this.Collection(this,function(){return Xs(void 0,I,!1,!0)})},qe.prototype.belowOrEqual=function(I){return null==I?so(this,lt):new this.Collection(this,function(){return Xs(void 0,I)})},qe.prototype.startsWith=function(I){return"string"!=typeof I?so(this,tn):this.between(I,I+"\uffff",!0,!0)},qe.prototype.startsWithIgnoreCase=function(I){return""===I?this.startsWith(I):Ks(this,function(O,q){return 0===O.indexOf(q[0])},[I],"\uffff")},qe.prototype.equalsIgnoreCase=function(I){return Ks(this,function(O,q){return O===q[0]},[I],"")},qe.prototype.anyOfIgnoreCase=function(){var I=Dt.apply(Bt,arguments);return 0===I.length?zs(this):Ks(this,function(O,q){return-1!==q.indexOf(O)},I,"")},qe.prototype.startsWithAnyOfIgnoreCase=function(){var I=Dt.apply(Bt,arguments);return 0===I.length?zs(this):Ks(this,function(O,q){return q.some(function(ae){return 0===O.indexOf(ae)})},I,"\uffff")},qe.prototype.anyOf=function(){var I=this,O=Dt.apply(Bt,arguments),q=this._cmp;try{O.sort(q)}catch{return so(this,lt)}if(0===O.length)return zs(this);var ae=new this.Collection(this,function(){return Xs(O[0],O[O.length-1])});ae._ondirectionchange=function(Ie){O.sort(q="next"===Ie?I._ascending:I._descending)};var me=0;return ae._addAlgorithm(function(Ie,Je,_t){for(var St=Ie.key;0<q(St,O[me]);)if(++me===O.length)return Je(_t),!1;return 0===q(St,O[me])||(Je(function(){Ie.continue(O[me])}),!1)}),ae},qe.prototype.notEqual=function(I){return this.inAnyRange([[-1/0,I],[I,this.db._maxKey]],{includeLowers:!1,includeUppers:!1})},qe.prototype.noneOf=function(){var I=Dt.apply(Bt,arguments);if(0===I.length)return new this.Collection(this);try{I.sort(this._ascending)}catch{return so(this,lt)}var O=I.reduce(function(q,ae){return q?q.concat([[q[q.length-1][1],ae]]):[[-1/0,ae]]},null);return O.push([I[I.length-1],this.db._maxKey]),this.inAnyRange(O,{includeLowers:!1,includeUppers:!1})},qe.prototype.inAnyRange=function(qt,O){var q=this,ae=this._cmp,me=this._ascending,Ie=this._descending,Je=this._min,_t=this._max;if(0===qt.length)return zs(this);if(!qt.every(function(sn){return void 0!==sn[0]&&void 0!==sn[1]&&me(sn[0],sn[1])<=0}))return so(this,"First argument to inAnyRange() must be an Array of two-value Arrays [lower,upper] where upper must not be lower than lower",yt.InvalidArgument);var zt,St=!O||!1!==O.includeLowers,Mt=O&&!0===O.includeUppers,wt=me;function Jt(sn,mn){return wt(sn[0],mn[0])}try{(zt=qt.reduce(function(sn,mn){for(var En=0,Gn=sn.length;En<Gn;++En){var ur=sn[En];if(ae(mn[0],ur[1])<0&&0<ae(mn[1],ur[0])){ur[0]=Je(ur[0],mn[0]),ur[1]=_t(ur[1],mn[1]);break}}return En===Gn&&sn.push(mn),sn},[])).sort(Jt)}catch{return so(this,lt)}var Ot=0,Vt=Mt?function(sn){return 0<me(sn,zt[Ot][1])}:function(sn){return 0<=me(sn,zt[Ot][1])},Ut=St?function(sn){return 0<Ie(sn,zt[Ot][0])}:function(sn){return 0<=Ie(sn,zt[Ot][0])},Xt=Vt;return(qt=new this.Collection(this,function(){return Xs(zt[0][0],zt[zt.length-1][1],!St,!Mt)}))._ondirectionchange=function(sn){wt="next"===sn?(Xt=Vt,me):(Xt=Ut,Ie),zt.sort(Jt)},qt._addAlgorithm(function(sn,mn,En){for(var Gn,ur=sn.key;Xt(ur);)if(++Ot===zt.length)return mn(En),!1;return!Vt(Gn=ur)&&!Ut(Gn)||(0===q._cmp(ur,zt[Ot][1])||0===q._cmp(ur,zt[Ot][0])||mn(function(){sn.continue(wt===me?zt[Ot][0]:zt[Ot][1])}),!1)}),qt},qe.prototype.startsWithAnyOf=function(){var I=Dt.apply(Bt,arguments);return I.every(function(O){return"string"==typeof O})?0===I.length?zs(this):this.inAnyRange(I.map(function(O){return[O,O+"\uffff"]})):so(this,"startsWithAnyOf() only works with strings")},qe);function qe(){}function De(I){return ui(function(O){return Be(O),I(O.target.error),!1})}function Be(I){I.stopPropagation&&I.stopPropagation(),I.preventDefault&&I.preventDefault()}var xt="storagemutated",dn="x-storagemutated-1",Ln=tr(null,xt),hr=(yi.prototype._lock=function(){return Te(!Zn.global),++this._reculock,1!==this._reculock||Zn.global||(Zn.lockOwnerFor=this),this},yi.prototype._unlock=function(){if(Te(!Zn.global),0==--this._reculock)for(Zn.global||(Zn.lockOwnerFor=null);0<this._blockedFuncs.length&&!this._locked();){var I=this._blockedFuncs.shift();try{qi(I[1],I[0])}catch{}}return this},yi.prototype._locked=function(){return this._reculock&&Zn.lockOwnerFor!==this},yi.prototype.create=function(I){var O=this;if(!this.mode)return this;var q=this.db.idbdb,ae=this.db._state.dbOpenError;if(Te(!this.idbtrans),!I&&!q)switch(ae&&ae.name){case"DatabaseClosedError":throw new yt.DatabaseClosed(ae);case"MissingAPIError":throw new yt.MissingAPI(ae.message,ae);default:throw new yt.OpenFailed(ae)}if(!this.active)throw new yt.TransactionInactive;return Te(null===this._completion._state),(I=this.idbtrans=I||(this.db.core||q).transaction(this.storeNames,this.mode,{durability:this.chromeTransactionDurability})).onerror=ui(function(me){Be(me),O._reject(I.error)}),I.onabort=ui(function(me){Be(me),O.active&&O._reject(new yt.Abort(I.error)),O.active=!1,O.on("abort").fire(me)}),I.oncomplete=ui(function(){O.active=!1,O._resolve(),"mutatedParts"in I&&Ln.storagemutated.fire(I.mutatedParts)}),this},yi.prototype._promise=function(I,O,q){var ae=this;if("readwrite"===I&&"readwrite"!==this.mode)return He(new yt.ReadOnly("Transaction is readonly"));if(!this.active)return He(new yt.TransactionInactive);if(this._locked())return new Hn(function(Ie,Je){ae._blockedFuncs.push([function(){ae._promise(I,O,q).then(Ie,Je)},Zn])});if(q)return Wi(function(){var Ie=new Hn(function(Je,_t){ae._lock();var St=O(Je,_t,ae);St&&St.then&&St.then(Je,_t)});return Ie.finally(function(){return ae._unlock()}),Ie._lib=!0,Ie});var me=new Hn(function(Ie,Je){var _t=O(Ie,Je,ae);_t&&_t.then&&_t.then(Ie,Je)});return me._lib=!0,me},yi.prototype._root=function(){return this.parent?this.parent._root():this},yi.prototype.waitFor=function(I){var O,q=this._root(),ae=Hn.resolve(I);q._waitingFor?q._waitingFor=q._waitingFor.then(function(){return ae}):(q._waitingFor=ae,q._waitingQueue=[],O=q.idbtrans.objectStore(q.storeNames[0]),function Ie(){for(++q._spinCount;q._waitingQueue.length;)q._waitingQueue.shift()();q._waitingFor&&(O.get(-1/0).onsuccess=Ie)}());var me=q._waitingFor;return new Hn(function(Ie,Je){ae.then(function(_t){return q._waitingQueue.push(ui(Ie.bind(null,_t)))},function(_t){return q._waitingQueue.push(ui(Je.bind(null,_t)))}).finally(function(){q._waitingFor===me&&(q._waitingFor=null)})})},yi.prototype.abort=function(){this.active&&(this.active=!1,this.idbtrans&&this.idbtrans.abort(),this._reject(new yt.Abort))},yi.prototype.table=function(I){var O=this._memoizedTables||(this._memoizedTables={});if(ee(O,I))return O[I];var q=this.schema[I];if(!q)throw new yt.NotFound("Table "+I+" not part of transaction");return(q=new this.db.Table(I,q,this)).core=this.db.core.table(I),O[I]=q},yi);function yi(){}function bi(I,O,q,ae,me,Ie,Je,_t){return{name:I,keyPath:O,unique:q,multi:ae,auto:me,compound:Ie,src:(q&&!Je?"&":"")+(ae?"*":"")+(me?"++":"")+Si(O),type:_t}}function Si(I){return"string"==typeof I?I:I?"["+[].join.call(I,"+")+"]":""}function ti(I,O,q){return{name:I,primKey:O,indexes:q,mappedClass:null,idxByName:(ae=function(me){return[me.name,me]},q.reduce(function(me,Ie,Je){return(Je=ae(Ie))&&(me[Je[0]]=Je[1]),me},{}))};var ae}var Hi=function(I){try{return I.only([[]]),Hi=function(){return[[]]},[[]]}catch{return Hi=function(){return"\uffff"},"\uffff"}};function zr(I){return null==I?function(){}:"string"==typeof I?1===(O=I).split(".").length?function(q){return q[O]}:function(q){return Oe(q,O)}:function(q){return Oe(q,I)};var O}function Ii(I){return[].slice.call(I)}var to=0;function Yo(I){return null==I?":id":"string"==typeof I?I:"[".concat(I.join("+"),"]")}function ao(I,O,St){function ae(Xt){if(3===Xt.type)return null;if(4===Xt.type)throw new Error("Cannot convert never type to IDBKeyRange");var Ot=Xt.lower,Vt=Xt.upper,Ut=Xt.lowerOpen;return Xt=Xt.upperOpen,void 0===Ot?void 0===Vt?null:O.upperBound(Vt,!!Xt):void 0===Vt?O.lowerBound(Ot,!!Ut):O.bound(Ot,Vt,!!Ut,!!Xt)}var Ie,Je,_t,Mt=(Je=St,_t=Ii((Ie=I).objectStoreNames),zt={schema:{name:Ie.name,tables:_t.map(function(Jt){return Je.objectStore(Jt)}).map(function(Jt){var Ot=Jt.keyPath,Xt=Jt.autoIncrement,Vt=ve(Ot),Ut={};return Xt={name:Jt.name,primaryKey:{name:null,isPrimaryKey:!0,outbound:null==Ot,compound:Vt,keyPath:Ot,autoIncrement:Xt,unique:!0,extractKey:zr(Ot)},indexes:Ii(Jt.indexNames).map(function(qt){return Jt.index(qt)}).map(function(En){var mn=En.unique,Gn=En.multiEntry;return Gn={name:En.name,compound:ve(En=En.keyPath),keyPath:En,unique:mn,multiEntry:Gn,extractKey:zr(En)},Ut[Yo(En)]=Gn}),getIndexByKeyPath:function(qt){return Ut[Yo(qt)]}},Ut[":id"]=Xt.primaryKey,null!=Ot&&(Ut[Yo(Ot)]=Xt.primaryKey),Xt})},hasGetAll:0<_t.length&&"getAll"in Je.objectStore(_t[0])&&!(typeof navigator<"u"&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604)}).hasGetAll,zt=(St=zt.schema).tables.map(function me(Jt){var Ot,Vt=Jt.name;return{name:Vt,schema:Jt,mutate:function(Ut){var Xt=Ut.trans,qt=Ut.type,sn=Ut.keys,mn=Ut.values,En=Ut.range;return new Promise(function(Gn,ur){Gn=ui(Gn);var Nn=Xt.objectStore(Vt),$n=null==Nn.keyPath,Yn="put"===qt||"add"===qt;if(!Yn&&"delete"!==qt&&"deleteRange"!==qt)throw new Error("Invalid operation type: "+qt);var Xn,gr=(sn||mn||{length:1}).length;if(sn&&mn&&sn.length!==mn.length)throw new Error("Given keys array must have same length as given values array.");if(0===gr)return Gn({numFailures:0,failures:{},results:[],lastResult:void 0});function Ir(ko){++uo,Be(ko)}var Gr=[],ni=[],uo=0;if("deleteRange"===qt){if(4===En.type)return Gn({numFailures:uo,failures:ni,results:[],lastResult:void 0});Gr.push(Xn=3===En.type?Nn.clear():Nn.delete(ae(En)))}else{var Yr=($n=Yn?$n?[mn,sn]:[mn,null]:[sn,null])[0],xo=$n[1];if(Yn)for(var Fo=0;Fo<gr;++Fo)Gr.push(Xn=xo&&void 0!==xo[Fo]?Nn[qt](Yr[Fo],xo[Fo]):Nn[qt](Yr[Fo])),Xn.onerror=Ir;else for(Fo=0;Fo<gr;++Fo)Gr.push(Xn=Nn[qt](Yr[Fo])),Xn.onerror=Ir}function pa(ko){ko=ko.target.result,Gr.forEach(function(Ds,al){return null!=Ds.error&&(ni[al]=Ds.error)}),Gn({numFailures:uo,failures:ni,results:"delete"===qt?sn:Gr.map(function(Ds){return Ds.result}),lastResult:ko})}Xn.onerror=function(ko){Ir(ko),pa(ko)},Xn.onsuccess=pa})},getMany:function(Ut){var Xt=Ut.trans,qt=Ut.keys;return new Promise(function(sn,mn){sn=ui(sn);for(var En,Gn=Xt.objectStore(Vt),ur=qt.length,Nn=new Array(ur),$n=0,Yn=0,Xn=function(Gr){Nn[(Gr=Gr.target)._pos]=Gr.result,++Yn===$n&&sn(Nn)},gr=De(mn),Ir=0;Ir<ur;++Ir)null!=qt[Ir]&&((En=Gn.get(qt[Ir]))._pos=Ir,En.onsuccess=Xn,En.onerror=gr,++$n);0===$n&&sn(Nn)})},get:function(Ut){var Xt=Ut.trans,qt=Ut.key;return new Promise(function(sn,mn){sn=ui(sn);var En=Xt.objectStore(Vt).get(qt);En.onsuccess=function(Gn){return sn(Gn.target.result)},En.onerror=De(mn)})},query:(Ot=Mt,function(Ut){return new Promise(function(Xt,qt){Xt=ui(Xt);var sn,mn,En,Gn=Ut.values,ur=Ut.limit,Nn=ur===1/0?void 0:ur,Yn=(Xn=Ut.query).index,Xn=Xn.range,$n=($n=Ut.trans).objectStore(Vt);if(Yn=Yn.isPrimaryKey?$n:$n.index(Yn.name),Xn=ae(Xn),0===ur)return Xt({result:[]});Ot?((Nn=Gn?Yn.getAll(Xn,Nn):Yn.getAllKeys(Xn,Nn)).onsuccess=function(gr){return Xt({result:gr.target.result})},Nn.onerror=De(qt)):(sn=0,mn=!Gn&&"openKeyCursor"in Yn?Yn.openKeyCursor(Xn):Yn.openCursor(Xn),En=[],mn.onsuccess=function(gr){var Ir=mn.result;return Ir?(En.push(Gn?Ir.value:Ir.primaryKey),++sn===ur?Xt({result:En}):void Ir.continue()):Xt({result:En})},mn.onerror=De(qt))})}),openCursor:function(Ut){var Xt=Ut.trans,qt=Ut.values,sn=Ut.query,mn=Ut.reverse,En=Ut.unique;return new Promise(function(Gn,ur){Gn=ui(Gn);var Yn=sn.index,Nn=sn.range,$n=Xt.objectStore(Vt),Xn=($n=Yn.isPrimaryKey?$n:$n.index(Yn.name),Yn=mn?En?"prevunique":"prev":En?"nextunique":"next",!qt&&"openKeyCursor"in $n?$n.openKeyCursor(ae(Nn),Yn):$n.openCursor(ae(Nn),Yn));Xn.onerror=De(ur),Xn.onsuccess=ui(function(gr){var Ir,Gr,ni,uo,Yr=Xn.result;Yr?(Yr.___id=++to,Yr.done=!1,Ir=Yr.continue.bind(Yr),Gr=(Gr=Yr.continuePrimaryKey)&&Gr.bind(Yr),ni=Yr.advance.bind(Yr),uo=function(){throw new Error("Cursor not stopped")},Yr.trans=Xt,Yr.stop=Yr.continue=Yr.continuePrimaryKey=Yr.advance=function(){throw new Error("Cursor not started")},Yr.fail=ui(ur),Yr.next=function(){var xo=this,Fo=1;return this.start(function(){return Fo--?xo.continue():xo.stop()}).then(function(){return xo})},Yr.start=function(xo){function Fo(){if(Xn.result)try{xo()}catch(ko){Yr.fail(ko)}else Yr.done=!0,Yr.start=function(){throw new Error("Cursor behind last entry")},Yr.stop()}var pa=new Promise(function(ko,Ds){ko=ui(ko),Xn.onerror=De(Ds),Yr.fail=Ds,Yr.stop=function(al){Yr.stop=Yr.continue=Yr.continuePrimaryKey=Yr.advance=uo,ko(al)}});return Xn.onsuccess=ui(function(ko){Xn.onsuccess=Fo,Fo()}),Yr.continue=Ir,Yr.continuePrimaryKey=Gr,Yr.advance=ni,Fo(),pa},Gn(Yr)):Gn(null)},ur)})},count:function(Ut){var Xt=Ut.query,qt=Ut.trans,sn=Xt.index,mn=Xt.range;return new Promise(function(En,Gn){var ur=qt.objectStore(Vt),Nn=sn.isPrimaryKey?ur:ur.index(sn.name);(Nn=(ur=ae(mn))?Nn.count(ur):Nn.count()).onsuccess=ui(function($n){return En($n.target.result)}),Nn.onerror=De(Gn)})}}}),wt={};return zt.forEach(function(Jt){return wt[Jt.name]=Jt}),{stack:"dbcore",transaction:I.transaction.bind(I),table:function(Jt){if(!wt[Jt])throw new Error("Table '".concat(Jt,"' not found"));return wt[Jt]},MIN_KEY:-1/0,MAX_KEY:Hi(O),schema:St}}function Eo(I,ae){ae=function Es(I,O,q,ae){return{dbcore:(ae=ao(O,q.IDBKeyRange,ae),I.dbcore.reduce(function(Ie,Je){return Je=Je.create,$($({},Ie),Je(Ie))},ae))}}(I._middlewares,ae.db,I._deps,ae),I.core=ae.dbcore,I.tables.forEach(function(me){var Ie=me.name;I.core.schema.tables.some(function(Je){return Je.name===Ie})&&(me.core=I.core.table(Ie),I[Ie]instanceof I.Table&&(I[Ie].core=me.core))})}function bo(I,O,q,ae){q.forEach(function(me){var Ie=ae[me];O.forEach(function(Je){var _t=function St(Mt,zt){return t(Mt,zt)||(Mt=ke(Mt))&&St(Mt,zt)}(Je,me);(!_t||"value"in _t&&void 0===_t.value)&&(Je===I.Transaction.prototype||Je instanceof I.Transaction?ie(Je,me,{get:function(){return this.table(me)},set:function(St){m(this,me,{value:St,writable:!0,configurable:!0,enumerable:!0})}}):Je[me]=new I.Table(me,Ie))})})}function So(I,O){O.forEach(function(q){for(var ae in q)q[ae]instanceof I.Table&&delete q[ae]})}function Ls(I,O){return I._cfg.version-O._cfg.version}function da(I,O){var q,ae={del:[],add:[],change:[]};for(q in I)O[q]||ae.del.push(q);for(q in O){var me=I[q],Ie=O[q];if(me){var Je={name:q,def:Ie,recreate:!1,del:[],add:[],change:[]};if(""+(me.primKey.keyPath||"")!=""+(Ie.primKey.keyPath||"")||me.primKey.auto!==Ie.primKey.auto)Je.recreate=!0,ae.change.push(Je);else{var _t=me.idxByName,St=Ie.idxByName,Mt=void 0;for(Mt in _t)St[Mt]||Je.del.push(Mt);for(Mt in St){var zt=_t[Mt],wt=St[Mt];zt?zt.src!==wt.src&&Je.change.push(wt):Je.add.push(wt)}(0<Je.del.length||0<Je.add.length||0<Je.change.length)&&ae.change.push(Je)}}else ae.add.push([q,Ie])}return ae}function lo(I,O,q,ae){var me=I.db.createObjectStore(O,q.keyPath?{keyPath:q.keyPath,autoIncrement:q.auto}:{autoIncrement:q.auto});return ae.forEach(function(Ie){return Ro(me,Ie)}),me}function ol(I,O){R(I).forEach(function(q){O.db.objectStoreNames.contains(q)||(Un&&console.debug("Dexie: Creating missing table",q),lo(O,q,I[q].primKey,I[q].indexes))})}function Ro(I,O){I.createIndex(O.name,O.keyPath,{unique:O.unique,multiEntry:O.multi})}function fa(I,O,q){var ae={};return Se(O.objectStoreNames,0).forEach(function(me){for(var Ie=q.objectStore(me),Je=bi(Si(Mt=Ie.keyPath),Mt||"",!0,!1,!!Ie.autoIncrement,Mt&&"string"!=typeof Mt,!0),_t=[],St=0;St<Ie.indexNames.length;++St){var Mt=(zt=Ie.index(Ie.indexNames[St])).keyPath,zt=bi(zt.name,Mt,!!zt.unique,!!zt.multiEntry,!1,Mt&&"string"!=typeof Mt,!1);_t.push(zt)}ae[me]=ti(me,Je,_t)}),ae}function ps(I,O,q){for(var ae=q.db.objectStoreNames,me=0;me<ae.length;++me){var Ie=ae[me],Je=q.objectStore(Ie);I._hasGetAll="getAll"in Je;for(var _t=0;_t<Je.indexNames.length;++_t){var St=Je.indexNames[_t],Mt=Je.index(St).keyPath,zt="string"==typeof Mt?Mt:"["+Se(Mt).join("+")+"]";!O[Ie]||(Mt=O[Ie].idxByName[zt])&&(Mt.name=St,delete O[Ie].idxByName[zt],O[Ie].idxByName[St]=Mt)}}typeof navigator<"u"&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&r.WorkerGlobalScope&&r instanceof r.WorkerGlobalScope&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604&&(I._hasGetAll=!1)}function Qo(I){return I.split(",").map(function(O,q){var ae=null===(me=(Ie=O.split(":"))[1])||void 0===me?void 0:me.trim(),me=(O=Ie[0].trim()).replace(/([&*]|\+\+)/g,""),Ie=/^\[/.test(me)?me.match(/^\[(.*)\]$/)[1].split("+"):me;return bi(me,Ie||null,/\&/.test(O),/\*/.test(O),/\+\+/.test(O),ve(Ie),0===q,ae)})}var La=(qs.prototype._createTableSchema=ti,qs.prototype._parseIndexSyntax=Qo,qs.prototype._parseStoresSpec=function(I,O){var q=this;R(I).forEach(function(ae){if(null!==I[ae]){var me=q._parseIndexSyntax(I[ae]),Ie=me.shift();if(!Ie)throw new yt.Schema("Invalid schema for table "+ae+": "+I[ae]);if(Ie.unique=!0,Ie.multi)throw new yt.Schema("Primary key cannot be multiEntry*");me.forEach(function(Je){if(Je.auto)throw new yt.Schema("Only primary key can be marked as autoIncrement (++)");if(!Je.keyPath)throw new yt.Schema("Index must have a name and cannot be an empty string")}),me=q._createTableSchema(ae,Ie,me),O[ae]=me}})},qs.prototype.stores=function(q){var O=this.db;this._cfg.storesSource=this._cfg.storesSource?oe(this._cfg.storesSource,q):q;var ae={},me={};return(q=O._versions).forEach(function(Ie){oe(ae,Ie._cfg.storesSource),me=Ie._cfg.dbschema={},Ie._parseStoresSpec(ae,me)}),O._dbSchema=me,So(O,[O._allTables,O,O.Transaction.prototype]),bo(O,[O._allTables,O,O.Transaction.prototype,this._cfg.tables],R(me),me),O._storeNames=R(me),this},qs.prototype.upgrade=function(I){return this._cfg.contentUpgrade=Kt(this._cfg.contentUpgrade||bn,I),this},qs);function qs(){}function qa(I,O){var q=I._dbNamesDB;return q||(q=I._dbNamesDB=new he(un,{addons:[],indexedDB:I,IDBKeyRange:O})).version(1).stores({dbnames:"name"}),q.table("dbnames")}function Ea(I){return I&&"function"==typeof I.databases}function Ma(I){return Wi(function(){return Zn.letThrough=!0,I()})}function Ia(I){return!("from"in I)}var po=function(I,O){if(!this){var q=new po;return I&&"d"in I&&oe(q,I),q}oe(this,arguments.length?{d:1,from:I,to:1<arguments.length?O:I}:{d:0})};function Bs(I,O,q){var ae=ge(O,q);if(!isNaN(ae)){if(0<ae)throw RangeError();if(Ia(I))return oe(I,{from:O,to:q,d:1});var me=I.l;if(ae=I.r,ge(q,I.from)<0)return me?Bs(me,O,q):I.l={from:O,to:q,d:1,l:null,r:null},we(I);if(0<ge(O,I.to))return ae?Bs(ae,O,q):I.r={from:O,to:q,d:1,l:null,r:null},we(I);ge(O,I.from)<0&&(I.from=O,I.l=null,I.d=ae?ae.d+1:1),0<ge(q,I.to)&&(I.to=q,I.r=null,I.d=I.l?I.l.d+1:1),q=!I.r,me&&!I.l&&ls(I,me),ae&&q&&ls(I,ae)}}function ls(I,O){Ia(O)||function q(ae,St){var Ie=St.from,Je=St.to,_t=St.l;St=St.r,Bs(ae,Ie,Je),_t&&q(ae,_t),St&&q(ae,St)}(I,O)}function no(I,O){var q=Ms(O),ae=q.next();if(ae.done)return!1;for(var me=ae.value,Ie=Ms(I),Je=Ie.next(me.from),_t=Je.value;!ae.done&&!Je.done;){if(ge(_t.from,me.to)<=0&&0<=ge(_t.to,me.from))return!0;ge(me.from,_t.from)<0?me=(ae=q.next(_t.from)).value:_t=(Je=Ie.next(me.from)).value}return!1}function Ms(I){var O=Ia(I)?null:{s:0,n:I};return{next:function(q){for(var ae=0<arguments.length;O;)switch(O.s){case 0:if(O.s=1,ae)for(;O.n.l&&ge(q,O.n.from)<0;)O={up:O,n:O.n.l,s:1};else for(;O.n.l;)O={up:O,n:O.n.l,s:1};case 1:if(O.s=2,!ae||ge(q,O.n.to)<=0)return{value:O.n,done:!1};case 2:if(O.n.r){O.s=3,O={up:O,n:O.n.r,s:0};continue}case 3:O=O.up}return{done:!0}}}}function we(I){var O,q,ae=((null===(O=I.r)||void 0===O?void 0:O.d)||0)-((null===(q=I.l)||void 0===q?void 0:q.d)||0),me=1<ae?"r":ae<-1?"l":"";me&&(O="r"==me?"l":"r",q=$({},I),I.from=(ae=I[me]).from,I.to=ae.to,I[me]=ae[me],q[me]=ae[O],(I[O]=q).d=de(q)),I.d=de(I)}function de(q){var O=q.r;return q=q.l,(O?q?Math.max(O.d,q.d):O.d:q?q.d:0)+1}function Ce(I,O){return R(O).forEach(function(q){I[q]?ls(I[q],O[q]):I[q]=function ae(me){var Ie,Je,_t={};for(Ie in me)ee(me,Ie)&&(_t[Ie]=!(Je=me[Ie])||"object"!=typeof Je||rn.has(Je.constructor)?Je:ae(Je));return _t}(O[q])}),I}function it(I,O){return I.all||O.all||Object.keys(I).some(function(q){return O[q]&&no(O[q],I[q])})}v(po.prototype,((mt={add:function(I){return ls(this,I),this},addKey:function(I){return Bs(this,I,I),this},addKeys:function(I){var O=this;return I.forEach(function(q){return Bs(O,q,q)}),this},hasKey:function(I){var O=Ms(this).next(I).value;return O&&ge(O.from,I)<=0&&0<=ge(O.to,I)}})[gt]=function(){return Ms(this)},mt));var $t={},fn={},In=!1;function er(I){Ce(fn,I),In||(In=!0,setTimeout(function(){In=!1,lr(fn,!(fn={}))},0))}function lr(I,O){void 0===O&&(O=!1);var q=new Set;if(I.all)for(var ae=0,me=Object.values($t);ae<me.length;ae++)Mr(Je=me[ae],I,q,O);else for(var Ie in I){var Je,_t=/^idb\:\/\/(.*)\/(.*)\//.exec(Ie);_t&&(Ie=_t[1],_t=_t[2],(Je=$t["idb://".concat(Ie,"/").concat(_t)])&&Mr(Je,I,q,O))}q.forEach(function(St){return St()})}function Mr(I,O,q,ae){for(var me=[],Ie=0,Je=Object.entries(I.queries.query);Ie<Je.length;Ie++){for(var _t=Je[Ie],St=_t[0],Mt=[],zt=0,wt=_t[1];zt<wt.length;zt++){var Jt=wt[zt];it(O,Jt.obsSet)?Jt.subscribers.forEach(function(Xt){return q.add(Xt)}):ae&&Mt.push(Jt)}ae&&me.push([St,Mt])}if(ae)for(var Ot=0,Vt=me;Ot<Vt.length;Ot++){var Ut=Vt[Ot];I.queries.query[St=Ut[0]]=Mt=Ut[1]}}function ci(I){var O=I._state,q=I._deps.indexedDB;if(O.isBeingOpened||I.idbdb)return O.dbReadyPromise.then(function(){return O.dbOpenError?He(O.dbOpenError):I});O.isBeingOpened=!0,O.dbOpenError=null,O.openComplete=!1;var ae=O.openCanceller,me=Math.round(10*I.verno),Ie=!1;function Je(){if(O.openCanceller!==ae)throw new yt.DatabaseClosed("db.open() was cancelled")}var St,Mt=O.dbReadyResolve,zt=null,wt=!1;return Hn.race([ae,(typeof navigator>"u"?Hn.resolve():!navigator.userAgentData&&/Safari\//.test(navigator.userAgent)&&!/Chrom(e|ium)\//.test(navigator.userAgent)&&indexedDB.databases?new Promise(function(Jt){function Ot(){return indexedDB.databases().finally(Jt)}St=setInterval(Ot,100),Ot()}).finally(function(){return clearInterval(St)}):Promise.resolve()).then(function _t(){return new Hn(function(Jt,Ot){if(Je(),!q)throw new yt.MissingAPI;var Vt=I.name,Ut=O.autoSchema||!me?q.open(Vt):q.open(Vt,me);if(!Ut)throw new yt.MissingAPI;Ut.onerror=De(Ot),Ut.onblocked=ui(I._fireOnBlocked),Ut.onupgradeneeded=ui(function(Xt){var qt;zt=Ut.transaction,O.autoSchema&&!I._options.allowEmptyDB?(Ut.onerror=Be,zt.abort(),Ut.result.close(),(qt=q.deleteDatabase(Vt)).onsuccess=qt.onerror=ui(function(){Ot(new yt.NoSuchDatabase("Database ".concat(Vt," doesnt exist")))})):(zt.onerror=De(Ot),Xt=Xt.oldVersion>Math.pow(2,62)?0:Xt.oldVersion,wt=Xt<1,I.idbdb=Ut.result,Ie&&function $o(I,O){ol(I._dbSchema,O),O.db.version%10!=0||O.objectStoreNames.contains("$meta")||O.db.createObjectStore("$meta").add(Math.ceil(O.db.version/10-1),"version");var q=fa(0,I.idbdb,O);ps(I,I._dbSchema,O);for(var ae=0,me=da(q,I._dbSchema).change;ae<me.length;ae++){var Ie=function(Je){if(Je.change.length||Je.recreate)return console.warn("Unable to patch indexes of table ".concat(Je.name," because it has changes on the type of index or primary key.")),{value:void 0};var _t=O.objectStore(Je.name);Je.add.forEach(function(St){Un&&console.debug("Dexie upgrade patch: Creating missing index ".concat(Je.name,".").concat(St.src)),Ro(_t,St)})}(me[ae]);if("object"==typeof Ie)return Ie.value}}(I,zt),function ca(I,O,q,ae){var me=I._dbSchema;q.objectStoreNames.contains("$meta")&&!me.$meta&&(me.$meta=ti("$meta",Qo("")[0],[]),I._storeNames.push("$meta"));var Ie=I._createTransaction("readwrite",I._storeNames,me);Ie.create(q),Ie._completion.catch(ae);var Je=Ie._reject.bind(Ie),_t=Zn.transless||Zn;Wi(function(){return Zn.trans=Ie,Zn.transless=_t,0!==O?(Eo(I,q),Mt=O,((St=Ie).storeNames.includes("$meta")?St.table("$meta").get("version").then(function(zt){return zt??Mt}):Hn.resolve(Mt)).then(function(zt){return Jt=zt,Ot=Ie,Ut=[],zt=(wt=I)._versions,Xt=wt._dbSchema=fa(0,wt.idbdb,Vt=q),0!==(zt=zt.filter(function(qt){return qt._cfg.version>=Jt})).length?(zt.forEach(function(qt){Ut.push(function(){var sn=Xt,mn=qt._cfg.dbschema;ps(wt,sn,Vt),ps(wt,mn,Vt),Xt=wt._dbSchema=mn;var En=da(sn,mn);En.add.forEach(function(Yn){lo(Vt,Yn[0],Yn[1].primKey,Yn[1].indexes)}),En.change.forEach(function(Yn){if(Yn.recreate)throw new yt.Upgrade("Not yet support for changing primary key");var Xn=Vt.objectStore(Yn.name);Yn.add.forEach(function(gr){return Ro(Xn,gr)}),Yn.change.forEach(function(gr){Xn.deleteIndex(gr.name),Ro(Xn,gr)}),Yn.del.forEach(function(gr){return Xn.deleteIndex(gr)})});var Gn=qt._cfg.contentUpgrade;if(Gn&&qt._cfg.version>Jt){Eo(wt,Vt),Ot._memoizedTables={};var ur=ze(mn);En.del.forEach(function(Yn){ur[Yn]=sn[Yn]}),So(wt,[wt.Transaction.prototype]),bo(wt,[wt.Transaction.prototype],R(ur),ur),Ot.schema=ur;var Nn,$n=ht(Gn);return $n&&wo(),En=Hn.follow(function(){var Yn;(Nn=Gn(Ot))&&$n&&(Yn=wi.bind(null,null),Nn.then(Yn,Yn))}),Nn&&"function"==typeof Nn.then?Hn.resolve(Nn):En.then(function(){return Nn})}}),Ut.push(function(sn){var mn,En;mn=qt._cfg.dbschema,[].slice.call((En=sn).db.objectStoreNames).forEach(function(ur){return null==mn[ur]&&En.db.deleteObjectStore(ur)}),So(wt,[wt.Transaction.prototype]),bo(wt,[wt.Transaction.prototype],wt._storeNames,wt._dbSchema),Ot.schema=wt._dbSchema}),Ut.push(function(sn){wt.idbdb.objectStoreNames.contains("$meta")&&(Math.ceil(wt.idbdb.version/10)===qt._cfg.version?(wt.idbdb.deleteObjectStore("$meta"),delete wt._dbSchema.$meta,wt._storeNames=wt._storeNames.filter(function(mn){return"$meta"!==mn})):sn.objectStore("$meta").put(qt._cfg.version,"version"))})}),function qt(){return Ut.length?Hn.resolve(Ut.shift()(Ot.idbtrans)).then(qt):Hn.resolve()}().then(function(){ol(Xt,Vt)})):Hn.resolve();var wt,Jt,Ot,Vt,Ut,Xt}).catch(Je)):(R(me).forEach(function(zt){lo(q,zt,me[zt].primKey,me[zt].indexes)}),Eo(I,q),void Hn.follow(function(){return I.on.populate.fire(Ie)}).catch(Je));var St,Mt})}(I,Xt/10,zt,Ot))},Ot),Ut.onsuccess=ui(function(){zt=null;var Xt,qt,sn,mn,En,Gn=I.idbdb=Ut.result,ur=Se(Gn.objectStoreNames);if(0<ur.length)try{var Nn=Gn.transaction(1===(mn=ur).length?mn[0]:mn,"readonly");if(O.autoSchema)sn=Nn,(Xt=I).verno=(qt=Gn).version/10,sn=Xt._dbSchema=fa(0,qt,sn),Xt._storeNames=Se(qt.objectStoreNames,0),bo(Xt,[Xt._allTables],R(sn),sn);else if(ps(I,I._dbSchema,Nn),((En=da(fa(0,(En=I).idbdb,Nn),En._dbSchema)).add.length||En.change.some(function($n){return $n.add.length||$n.change.length}))&&!Ie)return console.warn("Dexie SchemaDiff: Schema was extended without increasing the number passed to db.version(). Dexie will add missing parts and increment native version number to workaround this."),Gn.close(),me=Gn.version+1,Ie=!0,Jt(_t());Eo(I,Nn)}catch{}hn.push(I),Gn.onversionchange=ui(function($n){O.vcFired=!0,I.on("versionchange").fire($n)}),Gn.onclose=ui(function(){I.close({disableAutoOpen:!1})}),wt&&(Nn=Vt,Gn=(En=I._deps).indexedDB,En=En.IDBKeyRange,Ea(Gn)||Nn===un||qa(Gn,En).put({name:Nn}).catch(bn)),Jt()},Ot)}).catch(function(Jt){switch(Jt?.name){case"UnknownError":if(0<O.PR1398_maxLoop)return O.PR1398_maxLoop--,console.warn("Dexie: Workaround for Chrome UnknownError on open()"),_t();break;case"VersionError":if(0<me)return me=0,_t()}return Hn.reject(Jt)})})]).then(function(){return Je(),O.onReadyBeingFired=[],Hn.resolve(Ma(function(){return I.on.ready.fire(I.vip)})).then(function Jt(){if(0<O.onReadyBeingFired.length){var Ot=O.onReadyBeingFired.reduce(Kt,bn);return O.onReadyBeingFired=[],Hn.resolve(Ma(function(){return Ot(I.vip)})).then(Jt)}})}).finally(function(){O.openCanceller===ae&&(O.onReadyBeingFired=null,O.isBeingOpened=!1)}).catch(function(Jt){O.dbOpenError=Jt;try{zt&&zt.abort()}catch{}return ae===O.openCanceller&&I._close(),He(Jt)}).finally(function(){O.openComplete=!0,Mt()}).then(function(){var Jt;return wt&&(Jt={},I.tables.forEach(function(Ot){Ot.schema.indexes.forEach(function(Vt){Vt.name&&(Jt["idb://".concat(I.name,"/").concat(Ot.name,"/").concat(Vt.name)]=new po(-1/0,[[[]]]))}),Jt["idb://".concat(I.name,"/").concat(Ot.name,"/")]=Jt["idb://".concat(I.name,"/").concat(Ot.name,"/:dels")]=new po(-1/0,[[[]]])}),Ln(xt).fire(Jt),lr(Jt,!0)),I})}function Sr(I){function O(Ie){return I.next(Ie)}var q=me(O),ae=me(function(Ie){return I.throw(Ie)});function me(Ie){return function(St){var _t=Ie(St);return St=_t.value,_t.done?St:St&&"function"==typeof St.then?St.then(q,ae):ve(St)?Promise.all(St).then(q,ae):q(St)}}return me(O)()}function zi(I,O,q){for(var ae=ve(I)?I.slice():[I],me=0;me<q;++me)ae.push(O);return ae}var Qi={stack:"dbcore",name:"VirtualIndexMiddleware",level:1,create:function(I){return $($({},I),{table:function(O){var q=I.table(O),ae=q.schema,me={},Ie=[];function Je(wt,Jt,Ot){var Vt=Yo(wt),Ut=me[Vt]=me[Vt]||[],Xt=null==wt?0:"string"==typeof wt?1:wt.length,qt=0<Jt;return qt=$($({},Ot),{name:qt?"".concat(Vt,"(virtual-from:").concat(Ot.name,")"):Ot.name,lowLevelIndex:Ot,isVirtual:qt,keyTail:Jt,keyLength:Xt,extractKey:zr(wt),unique:!qt&&Ot.unique}),Ut.push(qt),qt.isPrimaryKey||Ie.push(qt),1<Xt&&Je(2===Xt?wt[0]:wt.slice(0,Xt-1),Jt+1,Ot),Ut.sort(function(sn,mn){return sn.keyTail-mn.keyTail}),qt}O=Je(ae.primaryKey.keyPath,0,ae.primaryKey),me[":id"]=[O];for(var _t=0,St=ae.indexes;_t<St.length;_t++){var Mt=St[_t];Je(Mt.keyPath,0,Mt)}function zt(wt){var Jt,Ot=wt.query.index;return Ot.isVirtual?$($({},wt),{query:{index:Ot.lowLevelIndex,range:(Jt=wt.query.range,Ot=Ot.keyTail,{type:1===Jt.type?2:Jt.type,lower:zi(Jt.lower,Jt.lowerOpen?I.MAX_KEY:I.MIN_KEY,Ot),lowerOpen:!0,upper:zi(Jt.upper,Jt.upperOpen?I.MIN_KEY:I.MAX_KEY,Ot),upperOpen:!0})}}):wt}return $($({},q),{schema:$($({},ae),{primaryKey:O,indexes:Ie,getIndexByKeyPath:function(wt){return(wt=me[Yo(wt)])&&wt[0]}}),count:function(wt){return q.count(zt(wt))},query:function(wt){return q.query(zt(wt))},openCursor:function(wt){var Jt=wt.query.index,Ot=Jt.keyTail,Ut=Jt.keyLength;return Jt.isVirtual?q.openCursor(zt(wt)).then(function(qt){return qt&&function Xt(qt){return Object.create(qt,{continue:{value:function(sn){null!=sn?qt.continue(zi(sn,wt.reverse?I.MAX_KEY:I.MIN_KEY,Ot)):wt.unique?qt.continue(qt.key.slice(0,Ut).concat(wt.reverse?I.MIN_KEY:I.MAX_KEY,Ot)):qt.continue()}},continuePrimaryKey:{value:function(sn,mn){qt.continuePrimaryKey(zi(sn,I.MAX_KEY,Ot),mn)}},primaryKey:{get:function(){return qt.primaryKey}},key:{get:function(){var sn=qt.key;return 1===Ut?sn[0]:sn.slice(0,Ut)}},value:{get:function(){return qt.value}}})}(qt)}):q.openCursor(wt)}})}})}};function Wo(I,O,q,ae){return q=q||{},ae=ae||"",R(I).forEach(function(me){var Ie,Je,_t;ee(O,me)?(Je=O[me],"object"==typeof(Ie=I[me])&&"object"==typeof Je&&Ie&&Je?(_t=Me(Ie))!==Me(Je)?q[ae+me]=O[me]:"Object"===_t?Wo(Ie,Je,q,ae+me+"."):Ie!==Je&&(q[ae+me]=O[me]):Ie!==Je&&(q[ae+me]=O[me])):q[ae+me]=void 0}),R(O).forEach(function(me){ee(I,me)||(q[ae+me]=O[me])}),q}function zo(I,O){return"delete"===O.type?O.keys:O.keys||O.values.map(I.extractKey)}var Po={stack:"dbcore",name:"HooksMiddleware",level:2,create:function(I){return $($({},I),{table:function(O){var q=I.table(O),ae=q.schema.primaryKey;return $($({},q),{mutate:function(me){var Ie=Zn.trans,Je=Ie.table(O).hook,_t=Je.deleting,St=Je.creating,Mt=Je.updating;switch(me.type){case"add":if(St.fire===bn)break;return Ie._promise("readwrite",function(){return zt(me)},!0);case"put":if(St.fire===bn&&Mt.fire===bn)break;return Ie._promise("readwrite",function(){return zt(me)},!0);case"delete":if(_t.fire===bn)break;return Ie._promise("readwrite",function(){return zt(me)},!0);case"deleteRange":if(_t.fire===bn)break;return Ie._promise("readwrite",function(){return function wt(Jt,Ot,Vt){return q.query({trans:Jt,values:!1,query:{index:ae,range:Ot},limit:Vt}).then(function(Ut){var Xt=Ut.result;return zt({type:"delete",keys:Xt,trans:Jt}).then(function(qt){return 0<qt.numFailures?Promise.reject(qt.failures[0]):Xt.length<Vt?{failures:[],numFailures:0,lastResult:void 0}:wt(Jt,$($({},Ot),{lower:Xt[Xt.length-1],lowerOpen:!0}),Vt)})})}(me.trans,me.range,1e4)},!0)}return q.mutate(me);function zt(wt){var Jt,Ot,Vt,Ut=Zn.trans,Xt=wt.keys||zo(ae,wt);if(!Xt)throw new Error("Keys missing");return"delete"!==(wt="add"===wt.type||"put"===wt.type?$($({},wt),{keys:Xt}):$({},wt)).type&&(wt.values=L([],wt.values,!0)),wt.keys&&(wt.keys=L([],wt.keys,!0)),Jt=q,Vt=Xt,("add"===(Ot=wt).type?Promise.resolve([]):Jt.getMany({trans:Ot.trans,keys:Vt,cache:"immutable"})).then(function(qt){var sn=Xt.map(function(mn,En){var Gn,ur,Nn,$n=qt[En],Yn={onerror:null,onsuccess:null};return"delete"===wt.type?_t.fire.call(Yn,mn,$n,Ut):"add"===wt.type||void 0===$n?(Gn=St.fire.call(Yn,mn,wt.values[En],Ut),null==mn&&null!=Gn&&(wt.keys[En]=mn=Gn,ae.outbound||at(wt.values[En],ae.keyPath,mn))):(Gn=Wo($n,wt.values[En]),(ur=Mt.fire.call(Yn,Gn,mn,$n,Ut))&&(Nn=wt.values[En],Object.keys(ur).forEach(function(Xn){ee(Nn,Xn)?Nn[Xn]=ur[Xn]:at(Nn,Xn,ur[Xn])}))),Yn});return q.mutate(wt).then(function(mn){for(var En=mn.failures,Gn=mn.results,ur=mn.numFailures,Nn=(mn=mn.lastResult,0);Nn<Xt.length;++Nn){var $n=(Gn||Xt)[Nn],Yn=sn[Nn];null==$n?Yn.onerror&&Yn.onerror(En[Nn]):Yn.onsuccess&&Yn.onsuccess("put"===wt.type&&qt[Nn]?wt.values[Nn]:$n)}return{failures:En,results:Gn,numFailures:ur,lastResult:mn}}).catch(function(mn){return sn.forEach(function(En){return En.onerror&&En.onerror(mn)}),Promise.reject(mn)})})}}})}})}};function Uo(I,O,q){try{if(!O||O.keys.length<I.length)return null;for(var ae=[],me=0,Ie=0;me<O.keys.length&&Ie<I.length;++me)0===ge(O.keys[me],I[Ie])&&(ae.push(q?Ht(O.values[me]):O.values[me]),++Ie);return ae.length===I.length?ae:null}catch{return null}}var ba={stack:"dbcore",level:-1,create:function(I){return{table:function(O){var q=I.table(O);return $($({},q),{getMany:function(ae){if(!ae.cache)return q.getMany(ae);var me=Uo(ae.keys,ae.trans._cache,"clone"===ae.cache);return me?Hn.resolve(me):q.getMany(ae).then(function(Ie){return ae.trans._cache={keys:ae.keys,values:"clone"===ae.cache?Ht(Ie):Ie},Ie})},mutate:function(ae){return"add"!==ae.type&&(ae.trans._cache=null),q.mutate(ae)}})}}}};function us(I,O){return"readonly"===I.trans.mode&&!!I.subscr&&!I.trans.explicit&&"disabled"!==I.trans.db._options.cache&&!O.schema.primaryKey.outbound}function Ba(I,O){switch(I){case"query":return O.values&&!O.unique;case"get":case"getMany":case"count":case"openCursor":return!1}}var ka={stack:"dbcore",level:0,name:"Observability",create:function(I){var O=I.schema.name,q=new po(I.MIN_KEY,I.MAX_KEY);return $($({},I),{transaction:function(ae,me,Ie){if(Zn.subscr&&"readonly"!==me)throw new yt.ReadOnly("Readwrite transaction in liveQuery context. Querier source: ".concat(Zn.querier));return I.transaction(ae,me,Ie)},table:function(ae){var me=I.table(ae),Ie=me.schema,Je=Ie.primaryKey,wt=Ie.indexes,_t=Je.extractKey,St=Je.outbound,Mt=Je.autoIncrement&&wt.filter(function(Ot){return Ot.compound&&Ot.keyPath.includes(Je.keyPath)}),zt=$($({},me),{mutate:function(Ot){function Vt(Xn){return Xn="idb://".concat(O,"/").concat(ae,"/").concat(Xn),mn[Xn]||(mn[Xn]=new po)}var Ut,Xt,qt,sn=Ot.trans,mn=Ot.mutatedParts||(Ot.mutatedParts={}),En=Vt(""),Gn=Vt(":dels"),ur=Ot.type,Nn=(Yn="deleteRange"===Ot.type?[Ot.range]:"delete"===Ot.type?[Ot.keys]:Ot.values.length<50?[zo(Je,Ot).filter(function(Xn){return Xn}),Ot.values]:[])[0],$n=Yn[1],Yn=Ot.trans._cache;return ve(Nn)?(En.addKeys(Nn),(Yn="delete"===ur||Nn.length===$n.length?Uo(Nn,Yn):null)||Gn.addKeys(Nn),(Yn||$n)&&(Ut=Vt,Xt=Yn,qt=$n,Ie.indexes.forEach(function(Xn){var gr=Ut(Xn.name||"");function Ir(ni){return null!=ni?Xn.extractKey(ni):null}function Gr(ni){return Xn.multiEntry&&ve(ni)?ni.forEach(function(uo){return gr.addKey(uo)}):gr.addKey(ni)}(Xt||qt).forEach(function(ni,xo){var Yr=Xt&&Ir(Xt[xo]);0!==ge(Yr,xo=qt&&Ir(qt[xo]))&&(null!=Yr&&Gr(Yr),null!=xo&&Gr(xo))})}))):Nn?($n={from:null!==($n=Nn.lower)&&void 0!==$n?$n:I.MIN_KEY,to:null!==($n=Nn.upper)&&void 0!==$n?$n:I.MAX_KEY},Gn.add($n),En.add($n)):(En.add(q),Gn.add(q),Ie.indexes.forEach(function(Xn){return Vt(Xn.name).add(q)})),me.mutate(Ot).then(function(Xn){return!Nn||"add"!==Ot.type&&"put"!==Ot.type||(En.addKeys(Xn.results),Mt&&Mt.forEach(function(gr){for(var Ir=Ot.values.map(function(Yr){return gr.extractKey(Yr)}),Gr=gr.keyPath.findIndex(function(Yr){return Yr===Je.keyPath}),ni=0,uo=Xn.results.length;ni<uo;++ni)Ir[ni][Gr]=Xn.results[ni];Vt(gr.name).addKeys(Ir)})),sn.mutatedParts=Ce(sn.mutatedParts||{},mn),Xn})}}),Jt={get:function(Ot){return[Je,new po(Ot.key)]},getMany:function(Ot){return[Je,(new po).addKeys(Ot.keys)]},count:wt=function(Vt){var Ut;return[Vt=(Ut=Vt.query).index,new po(null!==(Vt=(Ut=Ut.range).lower)&&void 0!==Vt?Vt:I.MIN_KEY,null!==(Ut=Ut.upper)&&void 0!==Ut?Ut:I.MAX_KEY)]},query:wt,openCursor:wt};return R(Jt).forEach(function(Ot){zt[Ot]=function(Vt){var Xt=!!(Ut=Zn.subscr),qt=us(Zn,me)&&Ba(Ot,Vt)?Vt.obsSet={}:Ut;if(Xt){var sn=function($n){return $n="idb://".concat(O,"/").concat(ae,"/").concat($n),qt[$n]||(qt[$n]=new po)},mn=sn(""),En=sn(":dels"),Ut=(Xt=(Ut=Jt[Ot](Vt))[0],Ut[1]);if(("query"===Ot&&Xt.isPrimaryKey&&!Vt.values?En:sn(Xt.name||"")).add(Ut),!Xt.isPrimaryKey){if("count"!==Ot){var Gn="query"===Ot&&St&&Vt.values&&me.query($($({},Vt),{values:!1}));return me[Ot].apply(this,arguments).then(function($n){if("query"===Ot){if(St&&Vt.values)return Gn.then(function(Ir){return mn.addKeys(Ir=Ir.result),$n});var Yn=Vt.values?$n.result.map(_t):$n.result;(Vt.values?mn:En).addKeys(Yn)}else if("openCursor"===Ot){var Xn=$n,gr=Vt.values;return Xn&&Object.create(Xn,{key:{get:function(){return En.addKey(Xn.primaryKey),Xn.key}},primaryKey:{get:function(){var Ir=Xn.primaryKey;return En.addKey(Ir),Ir}},value:{get:function(){return gr&&mn.addKey(Xn.primaryKey),Xn.value}}})}return $n})}En.add(q)}}return me[Ot].apply(this,arguments)}}),zt}})}};function Vs(I,O,q){return 0===q.numFailures?O:"deleteRange"===O.type||q.numFailures===(O.keys?O.keys.length:"values"in O&&O.values?O.values.length:1)?null:(O=$({},O),ve(O.keys)&&(O.keys=O.keys.filter(function(me,Ie){return!(Ie in q.failures)})),"values"in O&&ve(O.values)&&(O.values=O.values.filter(function(me,Ie){return!(Ie in q.failures)})),O)}function bs(I,O){return q=I,(void 0===(ae=O).lower||(ae.lowerOpen?0<ge(q,ae.lower):0<=ge(q,ae.lower)))&&(void 0===O.upper||(O.upperOpen?ge(I,O.upper)<0:ge(I,O.upper)<=0));var q,ae}function Ra(I,O,Jt,ae,me,Ie){if(!Jt||0===Jt.length)return I;var Je=O.query.index,_t=Je.multiEntry,St=O.query.range,Mt=ae.schema.primaryKey.extractKey,zt=Je.extractKey,wt=(Je.lowLevelIndex||Je).extractKey;return(Jt=Jt.reduce(function(Ot,Vt){var Ut=Ot,Xt=[];if("add"===Vt.type||"put"===Vt.type)for(var qt=new po,sn=Vt.values.length-1;0<=sn;--sn){var mn,En=Vt.values[sn],Gn=Mt(En);qt.hasKey(Gn)||(mn=zt(En),(_t&&ve(mn)?mn.some(function(Xn){return bs(Xn,St)}):bs(mn,St))&&(qt.addKey(Gn),Xt.push(En)))}switch(Vt.type){case"add":var ur=(new po).addKeys(O.values?Ot.map(function(gr){return Mt(gr)}):Ot);Ut=Ot.concat(O.values?Xt.filter(function(gr){return gr=Mt(gr),!ur.hasKey(gr)&&(ur.addKey(gr),!0)}):Xt.map(function(gr){return Mt(gr)}).filter(function(gr){return!ur.hasKey(gr)&&(ur.addKey(gr),!0)}));break;case"put":var Nn=(new po).addKeys(Vt.values.map(function(gr){return Mt(gr)}));Ut=Ot.filter(function(gr){return!Nn.hasKey(O.values?Mt(gr):gr)}).concat(O.values?Xt:Xt.map(function(gr){return Mt(gr)}));break;case"delete":var $n=(new po).addKeys(Vt.keys);Ut=Ot.filter(function(gr){return!$n.hasKey(O.values?Mt(gr):gr)});break;case"deleteRange":var Yn=Vt.range;Ut=Ot.filter(function(gr){return!bs(Mt(gr),Yn)})}return Ut},I))===I?I:(Jt.sort(function(Ot,Vt){return ge(wt(Ot),wt(Vt))||ge(Mt(Ot),Mt(Vt))}),O.limit&&O.limit<1/0&&(Jt.length>O.limit?Jt.length=O.limit:I.length===O.limit&&Jt.length<O.limit&&(me.dirty=!0)),Ie?Object.freeze(Jt):Jt)}function Dl(I,O){return 0===ge(I.lower,O.lower)&&0===ge(I.upper,O.upper)&&!!I.lowerOpen==!!O.lowerOpen&&!!I.upperOpen==!!O.upperOpen}var sl={stack:"dbcore",level:0,name:"Cache",create:function(I){var O=I.schema.name;return $($({},I),{transaction:function(q,ae,me){var Ie,Je,_t=I.transaction(q,ae,me);return"readwrite"===ae&&(Je=(Ie=new AbortController).signal,_t.addEventListener("abort",(me=function(St){return function(){if(Ie.abort(),"readwrite"===ae){for(var Mt=new Set,zt=0,wt=q;zt<wt.length;zt++){var Jt=wt[zt],Ot=$t["idb://".concat(O,"/").concat(Jt)];if(Ot){var Vt=I.table(Jt),Ut=Ot.optimisticOps.filter(function(gr){return gr.trans===_t});if(_t._explicit&&St&&_t.mutatedParts)for(var Xt=0,qt=Object.values(Ot.queries.query);Xt<qt.length;Xt++)for(var sn=0,mn=(ur=qt[Xt]).slice();sn<mn.length;sn++)it((Nn=mn[sn]).obsSet,_t.mutatedParts)&&(en(ur,Nn),Nn.subscribers.forEach(function(gr){return Mt.add(gr)}));else if(0<Ut.length){Ot.optimisticOps=Ot.optimisticOps.filter(function(gr){return gr.trans!==_t});for(var En=0,Gn=Object.values(Ot.queries.query);En<Gn.length;En++)for(var ur,Nn,$n,Yn=0,Xn=(ur=Gn[En]).slice();Yn<Xn.length;Yn++)null!=(Nn=Xn[Yn]).res&&_t.mutatedParts&&(St&&!Nn.dirty?($n=Object.isFrozen(Nn.res),$n=Ra(Nn.res,Nn.req,Ut,Vt,Nn,$n),Nn.dirty?(en(ur,Nn),Nn.subscribers.forEach(function(gr){return Mt.add(gr)})):$n!==Nn.res&&(Nn.res=$n,Nn.promise=Hn.resolve({result:$n}))):(Nn.dirty&&en(ur,Nn),Nn.subscribers.forEach(function(gr){return Mt.add(gr)})))}}}Mt.forEach(function(gr){return gr()})}}})(!1),{signal:Je}),_t.addEventListener("error",me(!1),{signal:Je}),_t.addEventListener("complete",me(!0),{signal:Je})),_t},table:function(q){var ae=I.table(q),me=ae.schema.primaryKey;return $($({},ae),{mutate:function(Ie){var Je=Zn.trans;if(me.outbound||"disabled"===Je.db._options.cache||Je.explicit||"readwrite"!==Je.idbtrans.mode)return ae.mutate(Ie);var _t=$t["idb://".concat(O,"/").concat(q)];return _t?(Je=ae.mutate(Ie),"add"!==Ie.type&&"put"!==Ie.type||!(50<=Ie.values.length||zo(me,Ie).some(function(St){return null==St}))?(_t.optimisticOps.push(Ie),Ie.mutatedParts&&er(Ie.mutatedParts),Je.then(function(St){0<St.numFailures&&(en(_t.optimisticOps,Ie),(St=Vs(0,Ie,St))&&_t.optimisticOps.push(St),Ie.mutatedParts&&er(Ie.mutatedParts))}),Je.catch(function(){en(_t.optimisticOps,Ie),Ie.mutatedParts&&er(Ie.mutatedParts)})):Je.then(function(St){var Mt=Vs(0,$($({},Ie),{values:Ie.values.map(function(zt,wt){var Jt;return St.failures[wt]||at(zt=null!==(Jt=me.keyPath)&&void 0!==Jt&&Jt.includes(".")?Ht(zt):$({},zt),me.keyPath,St.results[wt]),zt})}),St);_t.optimisticOps.push(Mt),queueMicrotask(function(){return Ie.mutatedParts&&er(Ie.mutatedParts)})}),Je):ae.mutate(Ie)},query:function(Ie){if(!us(Zn,ae)||!Ba("query",Ie))return ae.query(Ie);var Je="immutable"===(null===(Mt=Zn.trans)||void 0===Mt?void 0:Mt.db._options.cache),_t=(wt=Zn).requery,St=wt.signal,Mt=function(Vt,Ut,Xt,qt){var sn=$t["idb://".concat(Vt,"/").concat(Ut)];if(!sn)return[];if(!(Ut=sn.queries.query))return[null,!1,sn,null];var mn=Ut[(qt.query?qt.query.index.name:null)||""];if(!mn)return[null,!1,sn,null];var En=mn.find(function(Gn){return Gn.req.limit===qt.limit&&Gn.req.values===qt.values&&Dl(Gn.req.query.range,qt.query.range)});return En?[En,!0,sn,mn]:[mn.find(function(Gn){return("limit"in Gn.req?Gn.req.limit:1/0)>=qt.limit&&(!qt.values||Gn.req.values)&&function _u(I,O){return function(q,ae,me,Ie){if(void 0===q)return void 0!==ae?-1:0;if(void 0===ae)return 1;if(0===(ae=ge(q,ae))){if(me&&Ie)return 0;if(me)return 1;if(Ie)return-1}return ae}(I.lower,O.lower,I.lowerOpen,O.lowerOpen)<=0&&0<=function(q,ae,me,Ie){if(void 0===q)return void 0!==ae?1:0;if(void 0===ae)return-1;if(0===(ae=ge(q,ae))){if(me&&Ie)return 0;if(me)return-1;if(Ie)return 1}return ae}(I.upper,O.upper,I.upperOpen,O.upperOpen)}(Gn.req.query.range,qt.query.range)}),!1,sn,mn]}(O,q,0,Ie),zt=Mt[0],wt=Mt[1],Jt=Mt[2],Ot=Mt[3];return zt&&wt?zt.obsSet=Ie.obsSet:(wt=ae.query(Ie).then(function(Vt){var Ut=Vt.result;if(zt&&(zt.res=Ut),Je){for(var Xt=0,qt=Ut.length;Xt<qt;++Xt)Object.freeze(Ut[Xt]);Object.freeze(Ut)}else Vt.result=Ht(Ut);return Vt}).catch(function(Vt){return Ot&&zt&&en(Ot,zt),Promise.reject(Vt)}),zt={obsSet:Ie.obsSet,promise:wt,subscribers:new Set,type:"query",req:Ie,dirty:!1},Ot?Ot.push(zt):(Ot=[zt],(Jt=Jt||($t["idb://".concat(O,"/").concat(q)]={queries:{query:{},count:{}},objs:new Map,optimisticOps:[],unsignaledParts:{}})).queries.query[Ie.query.index.name||""]=Ot)),function Ys(I,O,q,ae){I.subscribers.add(q),ae.addEventListener("abort",function(){var me,Ie;I.subscribers.delete(q),0===I.subscribers.size&&(me=I,Ie=O,setTimeout(function(){0===me.subscribers.size&&en(Ie,me)},3e3))})}(zt,Ot,_t,St),zt.promise.then(function(Vt){return{result:Ra(Vt.result,Ie,Jt?.optimisticOps,ae,zt,Je)}})}})}})}};function le(I,O){return new Proxy(I,{get:function(q,ae,me){return"db"===ae?O:Reflect.get(q,ae,me)}})}var he=(K.prototype.version=function(I){if(isNaN(I)||I<.1)throw new yt.Type("Given version is not a positive number");if(I=Math.round(10*I)/10,this.idbdb||this._state.isBeingOpened)throw new yt.Schema("Cannot add version when database is open");this.verno=Math.max(this.verno,I);var O=this._versions,q=O.filter(function(ae){return ae._cfg.version===I})[0];return q||(q=new this.Version(I),O.push(q),O.sort(Ls),q.stores({}),this._state.autoSchema=!1,q)},K.prototype._whenReady=function(I){var O=this;return this.idbdb&&(this._state.openComplete||Zn.letThrough||this._vip)?I():new Hn(function(q,ae){if(O._state.openComplete)return ae(new yt.DatabaseClosed(O._state.dbOpenError));if(!O._state.isBeingOpened){if(!O._state.autoOpen)return void ae(new yt.DatabaseClosed);O.open().catch(bn)}O._state.dbReadyPromise.then(q,ae)}).then(I)},K.prototype.use=function(I){var O=I.stack,q=I.create,ae=I.level,me=I.name;return me&&this.unuse({stack:O,name:me}),(I=this._middlewares[O]||(this._middlewares[O]=[])).push({stack:O,create:q,level:ae??10,name:me}),I.sort(function(Ie,Je){return Ie.level-Je.level}),this},K.prototype.unuse=function(I){var O=I.stack,q=I.name,ae=I.create;return O&&this._middlewares[O]&&(this._middlewares[O]=this._middlewares[O].filter(function(me){return ae?me.create!==ae:!!q&&me.name!==q})),this},K.prototype.open=function(){var I=this;return qi(Tr,function(){return ci(I)})},K.prototype._close=function(){this.on.close.fire(new CustomEvent("close"));var I=this._state,O=hn.indexOf(this);if(0<=O&&hn.splice(O,1),this.idbdb){try{this.idbdb.close()}catch{}this.idbdb=null}I.isBeingOpened||(I.dbReadyPromise=new Hn(function(q){I.dbReadyResolve=q}),I.openCanceller=new Hn(function(q,ae){I.cancelOpen=ae}))},K.prototype.close=function(q){var O=(void 0===q?{disableAutoOpen:!0}:q).disableAutoOpen;q=this._state,O?(q.isBeingOpened&&q.cancelOpen(new yt.DatabaseClosed),this._close(),q.autoOpen=!1,q.dbOpenError=new yt.DatabaseClosed):(this._close(),q.autoOpen=this._options.autoOpen||q.isBeingOpened,q.openComplete=!1,q.dbOpenError=null)},K.prototype.delete=function(I){var O=this;void 0===I&&(I={disableAutoOpen:!0});var q=0<arguments.length&&"object"!=typeof arguments[0],ae=this._state;return new Hn(function(me,Ie){function Je(){O.close(I);var _t=O._deps.indexedDB.deleteDatabase(O.name);_t.onsuccess=ui(function(){var St,Mt,zt;Mt=O.name,zt=(St=O._deps).indexedDB,St=St.IDBKeyRange,Ea(zt)||Mt===un||qa(zt,St).delete(Mt).catch(bn),me()}),_t.onerror=De(Ie),_t.onblocked=O._fireOnBlocked}if(q)throw new yt.InvalidArgument("Invalid closeOptions argument to db.delete()");ae.isBeingOpened?ae.dbReadyPromise.then(Je):Je()})},K.prototype.backendDB=function(){return this.idbdb},K.prototype.isOpen=function(){return null!==this.idbdb},K.prototype.hasBeenClosed=function(){var I=this._state.dbOpenError;return I&&"DatabaseClosed"===I.name},K.prototype.hasFailed=function(){return null!==this._state.dbOpenError},K.prototype.dynamicallyOpened=function(){return this._state.autoSchema},Object.defineProperty(K.prototype,"tables",{get:function(){var I=this;return R(this._allTables).map(function(O){return I._allTables[O]})},enumerable:!1,configurable:!0}),K.prototype.transaction=function(){var I=function(O,q,ae){var me=arguments.length;if(me<2)throw new yt.InvalidArgument("Too few arguments");for(var Ie=new Array(me-1);--me;)Ie[me-1]=arguments[me];return ae=Ie.pop(),[O,st(Ie),ae]}.apply(this,arguments);return this._transaction.apply(this,I)},K.prototype._transaction=function(I,O,q){var ae=this,me=Zn.trans;me&&me.db===this&&-1===I.indexOf("!")||(me=null);var Ie,Je,_t=-1!==I.indexOf("?");I=I.replace("!","").replace("?","");try{if(Je=O.map(function(Mt){if("string"!=typeof(Mt=Mt instanceof ae.Table?Mt.name:Mt))throw new TypeError("Invalid table argument to Dexie.transaction(). Only Table or String are allowed");return Mt}),"r"==I||I===an)Ie=an;else{if("rw"!=I&&I!=Rr)throw new yt.InvalidArgument("Invalid transaction mode: "+I);Ie=Rr}if(me){if(me.mode===an&&Ie===Rr){if(!_t)throw new yt.SubTransaction("Cannot enter a sub-transaction with READWRITE mode when parent transaction is READONLY");me=null}me&&Je.forEach(function(Mt){if(me&&-1===me.storeNames.indexOf(Mt)){if(!_t)throw new yt.SubTransaction("Table "+Mt+" not included in parent transaction.");me=null}}),_t&&me&&!me.active&&(me=null)}}catch(Mt){return me?me._promise(null,function(zt,wt){wt(Mt)}):He(Mt)}var St=function Mt(zt,wt,Jt,Ot,Vt){return Hn.resolve().then(function(){var Ut=Zn.transless||Zn,Xt=zt._createTransaction(wt,Jt,zt._dbSchema,Ot);if(Xt.explicit=!0,Ut={trans:Xt,transless:Ut},Ot)Xt.idbtrans=Ot.idbtrans;else try{Xt.create(),Xt.idbtrans._explicit=!0,zt._state.PR1398_maxLoop=3}catch(mn){return mn.name===dt.InvalidState&&zt.isOpen()&&0<--zt._state.PR1398_maxLoop?(console.warn("Dexie: Need to reopen db"),zt.close({disableAutoOpen:!1}),zt.open().then(function(){return Mt(zt,wt,Jt,null,Vt)})):He(mn)}var qt,sn=ht(Vt);return sn&&wo(),Ut=Hn.follow(function(){var mn;(qt=Vt.call(Xt,Xt))&&(sn?(mn=wi.bind(null,null),qt.then(mn,mn)):"function"==typeof qt.next&&"function"==typeof qt.throw&&(qt=Sr(qt)))},Ut),(qt&&"function"==typeof qt.then?Hn.resolve(qt).then(function(mn){return Xt.active?mn:He(new yt.PrematureCommit("Transaction committed too early. See http://bit.ly/2kdckMn"))}):Ut.then(function(){return qt})).then(function(mn){return Ot&&Xt._resolve(),Xt._completion.then(function(){return mn})}).catch(function(mn){return Xt._reject(mn),He(mn)})})}.bind(null,this,Ie,Je,me,q);return me?me._promise(Ie,St,"lock"):Zn.trans?qi(Zn.transless,function(){return ae._whenReady(St)}):this._whenReady(St)},K.prototype.table=function(I){if(!ee(this._allTables,I))throw new yt.InvalidTable("Table ".concat(I," does not exist"));return this._allTables[I]},K);function K(I,O){var q=this;this._middlewares={},this.verno=0;var ae=K.dependencies;this._options=O=$({addons:K.addons,autoOpen:!0,indexedDB:ae.indexedDB,IDBKeyRange:ae.IDBKeyRange,cache:"cloned"},O),this._deps={indexedDB:O.indexedDB,IDBKeyRange:O.IDBKeyRange},ae=O.addons,this._dbSchema={},this._versions=[],this._storeNames=[],this._allTables={},this.idbdb=null,this._novip=this;var me,Ie,Je,_t,St,Mt={dbOpenError:null,isBeingOpened:!1,onReadyBeingFired:null,openComplete:!1,dbReadyResolve:bn,dbReadyPromise:null,cancelOpen:bn,openCanceller:null,autoSchema:!0,PR1398_maxLoop:3,autoOpen:O.autoOpen};Mt.dbReadyPromise=new Hn(function(wt){Mt.dbReadyResolve=wt}),Mt.openCanceller=new Hn(function(wt,Jt){Mt.cancelOpen=Jt}),this._state=Mt,this.name=I,this.on=tr(this,"populate","blocked","versionchange","close",{ready:[Kt,bn]}),this.once=function(wt,Jt){var Ot=function(){for(var Vt=[],Ut=0;Ut<arguments.length;Ut++)Vt[Ut]=arguments[Ut];q.on(wt).unsubscribe(Ot),Jt.apply(q,Vt)};return q.on(wt,Ot)},this.on.ready.subscribe=je(this.on.ready.subscribe,function(wt){return function(Jt,Ot){K.vip(function(){var Vt,Ut=q._state;Ut.openComplete?(Ut.dbOpenError||Hn.resolve().then(Jt),Ot&&wt(Jt)):Ut.onReadyBeingFired?(Ut.onReadyBeingFired.push(Jt),Ot&&wt(Jt)):(wt(Jt),Vt=q,Ot||wt(function Xt(){Vt.on.ready.unsubscribe(Jt),Vt.on.ready.unsubscribe(Xt)}))})}}),this.Collection=(me=this,Yi(As.prototype,function(qt,Xt){this.db=me;var Ot=Wt,Vt=null;if(Xt)try{Ot=Xt()}catch(sn){Vt=sn}var Ut=qt._ctx;this._ctx={table:Xt=Ut.table,index:Ut.index,isPrimKey:!Ut.index||Xt.schema.primKey.keyPath&&Ut.index===Xt.schema.primKey.name,range:Ot,keysOnly:!1,dir:"next",unique:"",algorithm:null,filter:null,replayFilter:null,justLimit:!0,isMatch:null,offset:0,limit:1/0,error:Vt,or:Ut.or,valueMapper:(qt=Xt.hook.reading.fire)!==Gt?qt:null}})),this.Table=(Ie=this,Yi(Ur.prototype,function(wt,Jt,Ot){this.db=Ie,this._tx=Ot,this.name=wt,this.schema=Jt,this.hook=Ie._allTables[wt]?Ie._allTables[wt].hook:tr(null,{creating:[Er,bn],reading:[kn,Gt],updating:[Jn,bn],deleting:[mi,bn]})})),this.Transaction=(Je=this,Yi(hr.prototype,function(wt,Jt,Ot,Vt,Ut){var Xt=this;"readonly"!==wt&&Jt.forEach(function(qt){(qt=null===(qt=Ot[qt])||void 0===qt?void 0:qt.yProps)&&(Jt=Jt.concat(qt.map(function(sn){return sn.updatesTable})))}),this.db=Je,this.mode=wt,this.storeNames=Jt,this.schema=Ot,this.chromeTransactionDurability=Vt,this.idbtrans=null,this.on=tr(this,"complete","error","abort"),this.parent=Ut||null,this.active=!0,this._reculock=0,this._blockedFuncs=[],this._resolve=null,this._reject=null,this._waitingFor=null,this._waitingQueue=null,this._spinCount=0,this._completion=new Hn(function(qt,sn){Xt._resolve=qt,Xt._reject=sn}),this._completion.then(function(){Xt.active=!1,Xt.on.complete.fire()},function(qt){var sn=Xt.active;return Xt.active=!1,Xt.on.error.fire(qt),Xt.parent?Xt.parent._reject(qt):sn&&Xt.idbtrans&&Xt.idbtrans.abort(),He(qt)})})),this.Version=(_t=this,Yi(La.prototype,function(wt){this.db=_t,this._cfg={version:wt,storesSource:null,dbschema:{},tables:{},contentUpgrade:null}})),this.WhereClause=(St=this,Yi(pe.prototype,function(wt,Jt,Ot){if(this.db=St,this._ctx={table:wt,index:":id"===Jt?null:Jt,or:Ot},this._cmp=this._ascending=ge,this._descending=function(Vt,Ut){return ge(Ut,Vt)},this._max=function(Vt,Ut){return 0<ge(Vt,Ut)?Vt:Ut},this._min=function(Vt,Ut){return ge(Vt,Ut)<0?Vt:Ut},this._IDBKeyRange=St._deps.IDBKeyRange,!this._IDBKeyRange)throw new yt.MissingAPI})),this.on("versionchange",function(wt){0<wt.newVersion?console.warn("Another connection wants to upgrade database '".concat(q.name,"'. Closing db now to resume the upgrade.")):console.warn("Another connection wants to delete database '".concat(q.name,"'. Closing db now to resume the delete request.")),q.close({disableAutoOpen:!1})}),this.on("blocked",function(wt){!wt.newVersion||wt.newVersion<wt.oldVersion?console.warn("Dexie.delete('".concat(q.name,"') was blocked")):console.warn("Upgrade '".concat(q.name,"' blocked by other connection holding version ").concat(wt.oldVersion/10))}),this._maxKey=Hi(O.IDBKeyRange),this._createTransaction=function(wt,Jt,Ot,Vt){return new q.Transaction(wt,Jt,Ot,q._options.chromeTransactionDurability,Vt)},this._fireOnBlocked=function(wt){q.on("blocked").fire(wt),hn.filter(function(Jt){return Jt.name===q.name&&Jt!==q&&!Jt._state.vcFired}).map(function(Jt){return Jt.on("versionchange").fire(wt)})},this.use(ba),this.use(sl),this.use(ka),this.use(Qi),this.use(Po);var zt=new Proxy(this,{get:function(wt,Jt,Ot){if("_vip"===Jt)return!0;if("table"===Jt)return function(Ut){return le(q.table(Ut),zt)};var Vt=Reflect.get(wt,Jt,Ot);return Vt instanceof Ur?le(Vt,zt):"tables"===Jt?Vt.map(function(Ut){return le(Ut,zt)}):"_createTransaction"===Jt?function(){return le(Vt.apply(this,arguments),zt)}:Vt}});this.vip=zt,ae.forEach(function(wt){return wt(q)})}mt=typeof Symbol<"u"&&"observable"in Symbol?Symbol.observable:"@@observable";var Re,vr=(Zr.prototype.subscribe=function(I,O,q){return this._subscribe(I&&"function"!=typeof I?I:{next:I,error:O,complete:q})},Zr.prototype[mt]=function(){return this},Zr);function Zr(I){this._subscribe=I}try{Re={indexedDB:r.indexedDB||r.mozIndexedDB||r.webkitIndexedDB||r.msIndexedDB,IDBKeyRange:r.IDBKeyRange||r.webkitIDBKeyRange}}catch{Re={indexedDB:null,IDBKeyRange:null}}function Ko(I){var O,q=!1,ae=new vr(function(me){var Je,Ie=ht(I),_t=!1,St={},Mt={},zt={get closed(){return _t},unsubscribe:function(){_t||(_t=!0,Je&&Je.abort(),wt&&Ln.storagemutated.unsubscribe(Ot))}};me.start&&me.start(zt);var wt=!1,Jt=function(){return Bo(Vt)},Ot=function(Ut){Ce(St,Ut),it(Mt,St)&&Jt()},Vt=function(){var Ut,Xt,qt;!_t&&Re.indexedDB&&(St={},Ut={},Je&&Je.abort(),Je=new AbortController,qt=function(sn){var mn=Vi();try{Ie&&wo();var En=Wi(I,sn);return En=Ie?En.finally(wi):En}finally{mn&&vo()}}(Xt={subscr:Ut,signal:Je.signal,requery:Jt,querier:I,trans:null}),Promise.resolve(qt).then(function(sn){q=!0,O=sn,_t||Xt.signal.aborted||(St={},function(mn){for(var En in mn)if(ee(mn,En))return;return 1}(Mt=Ut)||wt||(Ln(xt,Ot),wt=!0),Bo(function(){return!_t&&me.next&&me.next(sn)}))},function(sn){q=!1,["DatabaseClosedError","AbortError"].includes(sn?.name)||_t||Bo(function(){_t||me.error&&me.error(sn)})}))};return setTimeout(Jt,0),zt});return ae.hasValue=function(){return q},ae.getValue=function(){return O},ae}var gs=he;function ha(I){var O=xs;try{xs=!0,Ln.storagemutated.fire(I),lr(I,!0)}finally{xs=O}}v(gs,$($({},wn),{delete:function(I){return new gs(I,{addons:[]}).delete()},exists:function(I){return new gs(I,{addons:[]}).open().then(function(O){return O.close(),!0}).catch("NoSuchDatabaseError",function(){return!1})},getDatabaseNames:function(I){try{return q=(O=gs.dependencies).indexedDB,O=O.IDBKeyRange,(Ea(q)?Promise.resolve(q.databases()).then(function(ae){return ae.map(function(me){return me.name}).filter(function(me){return me!==un})}):qa(q,O).toCollection().primaryKeys()).then(I)}catch{return He(new yt.MissingAPI)}var O,q},defineClass:function(){return function(I){oe(this,I)}},ignoreTransaction:function(I){return Zn.trans?qi(Zn.transless,I):I()},vip:Ma,async:function(I){return function(){try{var O=Sr(I.apply(this,arguments));return O&&"function"==typeof O.then?O:Hn.resolve(O)}catch(q){return He(q)}}},spawn:function(I,O,q){try{var ae=Sr(I.apply(q,O||[]));return ae&&"function"==typeof ae.then?ae:Hn.resolve(ae)}catch(me){return He(me)}},currentTransaction:{get:function(){return Zn.trans||null}},waitFor:function(I,O){return O=Hn.resolve("function"==typeof I?gs.ignoreTransaction(I):I).timeout(O||6e4),Zn.trans?Zn.trans.waitFor(O):O},Promise:Hn,debug:{get:function(){return Un},set:function(I){fr(I)}},derive:xe,extend:oe,props:v,override:je,Events:tr,on:Ln,liveQuery:Ko,extendObservabilitySet:Ce,getByKeyPath:Oe,setByKeyPath:at,delByKeyPath:function(I,O){"string"==typeof O?at(I,O,void 0):"length"in O&&[].map.call(O,function(q){at(I,q,void 0)})},shallowClone:ze,deepClone:Ht,getObjectDiff:Wo,cmp:ge,asap:be,minKey:-1/0,addons:[],connections:hn,errnames:dt,dependencies:Re,cache:$t,semVer:"4.2.1",version:"4.2.1".split(".").map(function(I){return parseInt(I)}).reduce(function(I,O,q){return I+O/Math.pow(10,2*q)})})),gs.maxKey=Hi(gs.dependencies.IDBKeyRange),typeof dispatchEvent<"u"&&typeof addEventListener<"u"&&(Ln(xt,function(I){xs||(I=new CustomEvent(dn,{detail:I}),xs=!0,dispatchEvent(I),xs=!1)}),addEventListener(dn,function(I){I=I.detail,xs||ha(I)}));var Va,xs=!1,Ua=function(){};return typeof BroadcastChannel<"u"&&((Ua=function(){(Va=new BroadcastChannel(dn)).onmessage=function(I){return I.data&&ha(I.data)}})(),"function"==typeof Va.unref&&Va.unref(),Ln(xt,function(I){xs||Va.postMessage(I)})),typeof addEventListener<"u"&&(addEventListener("pagehide",function(I){if(!he.disableBfCache&&I.persisted){Un&&console.debug("Dexie: handling persisted pagehide"),Va?.close();for(var O=0,q=hn;O<q.length;O++)q[O].close({disableAutoOpen:!1})}}),addEventListener("pageshow",function(I){!he.disableBfCache&&I.persisted&&(Un&&console.debug("Dexie: handling persisted pageshow"),Ua(),ha({all:new po(-1/0,[[]])}))})),Hn.rejectionMapper=function(I,O){return!I||I instanceof Ge||I instanceof TypeError||I instanceof SyntaxError||!I.name||!Nt[I.name]?I:(O=new Nt[I.name](O||I.message,I),"stack"in I&&ie(O,"stack",{get:function(){return this.inner.stack}}),O)},fr(Un),$(he,Object.freeze({__proto__:null,Dexie:he,liveQuery:Ko,Entity:Cn,cmp:ge,PropModification:Tn,replacePrefix:function(I,O){return new Tn({replacePrefix:[I,O]})},add:function(I){return new Tn({add:I})},remove:function(I){return new Tn({remove:I})},default:he,RangeSet:po,mergeRanges:ls,rangesOverlap:no}),{default:he}),he}()},5547(on,ct,$){"use strict";$.d(ct,{$C:()=>Ap,$Ln:()=>Nv,$o8:()=>de,AVh:()=>b_,Ab1:()=>Nr,Aen:()=>iC,Agw:()=>it,Avn:()=>s_,B1s:()=>Tu,B4B:()=>mo,BIS:()=>fn,BMQ:()=>Bm,C4Q:()=>hd,C7A:()=>mv,Co$:()=>Oa,CsU:()=>KE,DH7:()=>RC,DNE:()=>Dm,DUP:()=>qu,DkB:()=>u_,Dyx:()=>Cy,EBC:()=>Wa,EFF:()=>pC,EJ8:()=>Rg,Ef8:()=>bn,FsC:()=>Mp,GBs:()=>m_,H1s:()=>Vv,HbH:()=>oC,Hgh:()=>t_,JRh:()=>D_,Jt5:()=>Dy,Jv_:()=>HC,KED:()=>Iw,Lme:()=>w_,NCX:()=>If,NOj:()=>Ca,NSC:()=>Uh,NYb:()=>XE,NyB:()=>qy,OA$:()=>ht,OM3:()=>Hf,OR8:()=>Od,Ocv:()=>eT,Ol2:()=>Ns,PLl:()=>Ce,PYC:()=>wu,PYt:()=>Ci,QTQ:()=>ug,QXe:()=>ty,Ql9:()=>Yw,R50:()=>T_,R7$:()=>Zc,RPW:()=>Su,RV6:()=>xy,SS7:()=>A_,SpI:()=>c0,TFI:()=>Hg,UQu:()=>Xw,VBU:()=>Bd,VeQ:()=>er,VkB:()=>LC,Vm6:()=>_y,Vt3:()=>bm,VwU:()=>h_,VzW:()=>eu,WPN:()=>Cr,XpG:()=>Wy,Y8G:()=>Jm,YEm:()=>no,Z7z:()=>yy,Zhj:()=>Dr,_9s:()=>hp,_9u:()=>ls,_jY:()=>nl,_qm:()=>_r,_ys:()=>ld,a8H:()=>Ao,aCM:()=>hl,aKT:()=>tr,bH1:()=>hu,bH3:()=>FC,bIt:()=>f_,bMT:()=>e1,bVm:()=>Np,bc$:()=>$t,c1b:()=>Mh,cDI:()=>aE,cdK:()=>Lv,czy:()=>Oo,d80:()=>Qw,dOL:()=>Fv,dfE:()=>ql,e6s:()=>Ux,eHC:()=>Ah,eq3:()=>$C,eu8:()=>r_,eux:()=>n0,fX1:()=>vy,gXe:()=>se,gil:()=>ju,hnC:()=>Mn,i5U:()=>t1,iLQ:()=>Uv,iWE:()=>Zs,j41:()=>Zg,k0s:()=>e0,kBR:()=>l_,kS0:()=>hn,lJ4:()=>GC,lJT:()=>Hv,l_i:()=>WC,lsd:()=>Ky,mGM:()=>zy,mNQ:()=>OC,mS5:()=>Gt,mU9:()=>Yt,mal:()=>Dd,mxI:()=>S_,n$t:()=>Rs,nI1:()=>ZC,nVh:()=>gy,npT:()=>Kr,nrm:()=>e_,o8S:()=>Rm,ozJ:()=>Ep,p2i:()=>oc,phd:()=>QE,pl0:()=>JE,qAN:()=>ey,qex:()=>r0,r8f:()=>NC,rAh:()=>Ol,rXU:()=>uf,rj2:()=>t0,rpG:()=>b1,sFG:()=>F0,sMw:()=>zC,sZ2:()=>Ms,sdS:()=>Yy,sgu:()=>Ki,tSv:()=>js,tvf:()=>gs,uiO:()=>at,utN:()=>gg,vDg:()=>mg,vxM:()=>my,w6W:()=>ji,wEZ:()=>__,wni:()=>g_,wr$:()=>zu,xGo:()=>He,xc7:()=>E_,xe9:()=>x1,yLl:()=>Ov,ypd:()=>ZE,ziG:()=>KC,zoo:()=>zd,zvX:()=>a_});var L=$(467),r=$(375),R=$(5824),ve=$(1413),oe=$(8359),ke=$(6354);function Ae(e){return{toString:e}.toString()}const ee="__annotations__",v="__parameters__",m="__prop__metadata__";function ie(e,n,i,u,p){return Ae(()=>{const b=xe(n);function M(...N){if(this instanceof M)return b.call(this,...N),this;const G=new M(...N);return function(_e){return p&&p(_e,...N),(_e.hasOwnProperty(ee)?_e[ee]:Object.defineProperty(_e,ee,{value:[]})[ee]).push(G),_e}}return i&&(M.prototype=Object.create(i.prototype)),M.prototype.ngMetadataName=e,M.annotationCls=M,M})}function xe(e){return function(...i){if(e){const u=e(...i);for(const p in u)this[p]=u[p]}}}function t(e,n,i){return Ae(()=>{const u=xe(n);function p(...b){if(this instanceof p)return u.apply(this,b),this;const M=new p(...b);return N.annotation=M,N;function N(G,ce,_e){const We=G.hasOwnProperty(v)?G[v]:Object.defineProperty(G,v,{value:[]})[v];for(;We.length<=_e;)We.push(null);return(We[_e]=We[_e]||[]).push(M),G}}return p.prototype.ngMetadataName=e,p.annotationCls=p,p})}const Se=(0,r.z6V)(t("Inject",e=>({token:e})),-1),je=(0,r.z6V)(t("Optional"),8),Te=(0,r.z6V)(t("Self"),2),be=(0,r.z6V)(t("SkipSelf"),4),Oe=(0,r.z6V)(t("Host"),1);function at(e){const n=r.laP.ng;if(n&&n.\u0275compilerFacade)return n.\u0275compilerFacade;throw new Error("JIT compiler unavailable")}const ze={\u0275\u0275defineInjectable:r.jDH,\u0275\u0275defineInjector:r.G2t,\u0275\u0275inject:r.KVO,\u0275\u0275invalidFactoryDep:r.dmw,resolveForwardRef:r.nl4},et=Function;function st(e){return"function"==typeof e}const rn=/^function\s+\S+\(\)\s*{[\s\S]+\.apply\(this,\s*(arguments|(?:[^()]+\(\[\],)?[^()]+\(arguments\).*)\)/,It=/^class\s+[A-Za-z\d$_]*\s*extends\s+[^{]+{/,Ht=/^class\s+[A-Za-z\d$_]*\s*extends\s+[^{]+{[\s\S]*constructor\s*\(/,At=/^class\s+[A-Za-z\d$_]*\s*extends\s+[^{]+{[\s\S]*constructor\s*\(\)\s*{[^}]*super\(\.\.\.arguments\)/;class gt{_reflect;constructor(n){this._reflect=n||r.laP.Reflect}factory(n){return(...i)=>new n(...i)}_zipTypesAndAnnotations(n,i){let u;u=(0,r.WfI)(typeof n>"u"?i.length:n.length);for(let p=0;p<u.length;p++)u[p]=typeof n>"u"?[]:n[p]&&n[p]!=Object?[n[p]]:[],i&&null!=i[p]&&(u[p]=u[p].concat(i[p]));return u}_ownParameters(n,i){if(function Me(e){return rn.test(e)||At.test(e)||It.test(e)&&!Ht.test(e)}(n.toString()))return null;if(n.parameters&&n.parameters!==i.parameters)return n.parameters;const p=n.ctorParameters;if(p&&p!==i.ctorParameters){const N="function"==typeof p?p():p,G=N.map(_e=>_e&&_e.type),ce=N.map(_e=>_e&&Ve(_e.decorators));return this._zipTypesAndAnnotations(G,ce)}const b=n.hasOwnProperty(v)&&n[v],M=this._reflect&&this._reflect.getOwnMetadata&&this._reflect.getOwnMetadata("design:paramtypes",n);return M||b?this._zipTypesAndAnnotations(M,b):(0,r.WfI)(n.length)}parameters(n){if(!st(n))return[];const i=en(n);let u=this._ownParameters(n,i);return!u&&i!==Object&&(u=this.parameters(i)),u||[]}_ownAnnotations(n,i){if(n.annotations&&n.annotations!==i.annotations){let u=n.annotations;return"function"==typeof u&&u.annotations&&(u=u.annotations),u}return n.decorators&&n.decorators!==i.decorators?Ve(n.decorators):n.hasOwnProperty(ee)?n[ee]:null}annotations(n){if(!st(n))return[];const i=en(n),u=this._ownAnnotations(n,i)||[];return(i!==Object?this.annotations(i):[]).concat(u)}_ownPropMetadata(n,i){if(n.propMetadata&&n.propMetadata!==i.propMetadata){let u=n.propMetadata;return"function"==typeof u&&u.propMetadata&&(u=u.propMetadata),u}if(n.propDecorators&&n.propDecorators!==i.propDecorators){const u=n.propDecorators,p={};return Object.keys(u).forEach(b=>{p[b]=Ve(u[b])}),p}return n.hasOwnProperty(m)?n[m]:null}propMetadata(n){if(!st(n))return{};const i=en(n),u={};if(i!==Object){const b=this.propMetadata(i);Object.keys(b).forEach(M=>{u[M]=b[M]})}const p=this._ownPropMetadata(n,i);return p&&Object.keys(p).forEach(b=>{const M=[];u.hasOwnProperty(b)&&M.push(...u[b]),M.push(...p[b]),u[b]=M}),u}ownPropMetadata(n){return st(n)&&this._ownPropMetadata(n,en(n))||{}}hasLifecycleHook(n,i){return n instanceof et&&i in n.prototype}}function Ve(e){return e?e.map(n=>new(0,n.type.annotationCls)(...n.args?n.args:[])):[]}function en(e){const n=e.prototype?Object.getPrototypeOf(e.prototype):null;return(n?n.constructor:null)||Object}function Bt(e,n,i,u){null!==n?n.applyValueToInputSignal(n,u):e[i]=u}class Dt{previousValue;currentValue;firstChange;constructor(n,i,u){this.previousValue=n,this.currentValue=i,this.firstChange=u}isFirstChange(){return this.firstChange}}const ht=(()=>{const e=()=>Ke;return e.ngInherit=!0,e})();function Ke(e){return e.type.prototype.ngOnChanges&&(e.setInput=Ft),Ge}function Ge(){const e=Ze(this),n=e?.current;if(n){const i=e.previous;if(i===r.MZA)e.previous=n;else for(let u in n)i[u]=n[u];e.current=null,this.ngOnChanges(n)}}function Ft(e,n,i,u,p){const b=this.declaredInputs[u],M=Ze(e)||function dt(e,n){return e[Xe]=n}(e,{previous:r.MZA,current:null}),N=M.current||(M.current={}),G=M.previous,ce=G[b];N[b]=new Dt(ce&&ce.currentValue,i,G===r.MZA),Bt(e,n,p,i)}const Xe="__ngSimpleChanges__";function Ze(e){return e[Xe]||null}const Et=[],bn=function(e,n=null,i){for(let u=0;u<Et.length;u++)(0,Et[u])(e,n,i)};var Gt=function(e){return e[e.TemplateCreateStart=0]="TemplateCreateStart",e[e.TemplateCreateEnd=1]="TemplateCreateEnd",e[e.TemplateUpdateStart=2]="TemplateUpdateStart",e[e.TemplateUpdateEnd=3]="TemplateUpdateEnd",e[e.LifecycleHookStart=4]="LifecycleHookStart",e[e.LifecycleHookEnd=5]="LifecycleHookEnd",e[e.OutputStart=6]="OutputStart",e[e.OutputEnd=7]="OutputEnd",e[e.BootstrapApplicationStart=8]="BootstrapApplicationStart",e[e.BootstrapApplicationEnd=9]="BootstrapApplicationEnd",e[e.BootstrapComponentStart=10]="BootstrapComponentStart",e[e.BootstrapComponentEnd=11]="BootstrapComponentEnd",e[e.ChangeDetectionStart=12]="ChangeDetectionStart",e[e.ChangeDetectionEnd=13]="ChangeDetectionEnd",e[e.ChangeDetectionSyncStart=14]="ChangeDetectionSyncStart",e[e.ChangeDetectionSyncEnd=15]="ChangeDetectionSyncEnd",e[e.AfterRenderHooksStart=16]="AfterRenderHooksStart",e[e.AfterRenderHooksEnd=17]="AfterRenderHooksEnd",e[e.ComponentStart=18]="ComponentStart",e[e.ComponentEnd=19]="ComponentEnd",e[e.DeferBlockStateStart=20]="DeferBlockStateStart",e[e.DeferBlockStateEnd=21]="DeferBlockStateEnd",e[e.DynamicComponentStart=22]="DynamicComponentStart",e[e.DynamicComponentEnd=23]="DynamicComponentEnd",e[e.HostBindingsUpdateStart=24]="HostBindingsUpdateStart",e[e.HostBindingsUpdateEnd=25]="HostBindingsUpdateEnd",e}(Gt||{});function On(e,n){for(let i=n.directiveStart,u=n.directiveEnd;i<u;i++){const b=e.data[i].type.prototype,{ngAfterContentInit:M,ngAfterContentChecked:N,ngAfterViewInit:G,ngAfterViewChecked:ce,ngOnDestroy:_e}=b;M&&(e.contentHooks??=[]).push(-i,M),N&&((e.contentHooks??=[]).push(i,N),(e.contentCheckHooks??=[]).push(i,N)),G&&(e.viewHooks??=[]).push(-i,G),ce&&((e.viewHooks??=[]).push(i,ce),(e.viewCheckHooks??=[]).push(i,ce)),null!=_e&&(e.destroyHooks??=[]).push(i,_e)}}function Er(e,n,i){Pt(e,n,3,i)}function mi(e,n,i,u){(3&e[r.Wg1])===i&&Pt(e,n,i,u)}function Jn(e,n){let i=e[r.Wg1];(3&i)===n&&(i&=16383,i+=1,e[r.Wg1]=i)}function Pt(e,n,i,u){const b=u??-1,M=n.length-1;let N=0;for(let G=void 0!==u?65535&e[r.wVl]:0;G<M;G++)if("number"==typeof n[G+1]){if(N=n[G],null!=u&&N>=u)break}else n[G]<0&&(e[r.wVl]+=65536),(N<b||-1==b)&&(Un(e,i,n,G),e[r.wVl]=(4294901760&e[r.wVl])+G+2),G++}function Kt(e,n){bn(Gt.LifecycleHookStart,e,n);const i=(0,R.Ht)(null);try{n.call(e)}finally{(0,R.Ht)(i),bn(Gt.LifecycleHookEnd,e,n)}}function Un(e,n,i,u){const p=i[u]<0,b=i[u+1],N=e[p?-i[u]:i[u]];p?e[r.Wg1]>>14<e[r.wVl]>>16&&(3&e[r.Wg1])===n&&(e[r.Wg1]+=16384,Kt(N,b)):Kt(N,b)}class Pr{factory;name;injectImpl;resolving=!1;canSeeViewProviders;multi;componentProviders;index;providerFactory;constructor(n,i,u,p){this.factory=n,this.name=p,this.canSeeViewProviders=i,this.injectImpl=u}}function li(e){return null!=e&&"object"==typeof e&&(null===e.insertBeforeIndex||"number"==typeof e.insertBeforeIndex||Array.isArray(e.insertBeforeIndex))}function gn(e){return 3===e||4===e||6===e}function zn(e){return 64===e.charCodeAt(0)}function sr(e,n){if(null!==n&&0!==n.length)if(null===e||0===e.length)e=n.slice();else{let i=-1;for(let u=0;u<n.length;u++){const p=n[u];"number"==typeof p?i=p:0===i||Tr(e,i,p,0,-1===i||2===i?n[++u]:null)}}return e}function Tr(e,n,i,u,p){let b=0,M=e.length;if(-1===n)M=-1;else for(;b<e.length;){const N=e[b++];if("number"==typeof N){if(N===n){M=-1;break}if(N>n){M=b-1;break}}}for(;b<e.length;){const N=e[b];if("number"==typeof N)break;if(N===i)return void(null!==p&&(e[b+1]=p));b++,null!==p&&b++}-1!==M&&(e.splice(M,0,n),b=M+1),e.splice(b++,0,i),null!==p&&e.splice(b++,0,p)}function Zn(e){return-1!==e}function Fi(e){return 32767&e}function Fn(e,n){let i=function oo(e){return e>>16}(e),u=n;for(;i>0;)u=u[r.X5O],i--;return u}let Hn=!0;function Bi(e){const n=Hn;return Hn=e,n}let Ai=0;const Lr={};function Vi(e,n){const i=Ui(e,n);if(-1!==i)return i;const u=n[r.eDl];u.firstCreatePass&&(e.injectorIndex=n.length,vo(u.data,e),vo(n,null),vo(u.blueprint,null));const p=Di(e,n),b=e.injectorIndex;if(Zn(p)){const M=Fi(p),N=Fn(p,n),G=N[r.eDl].data;for(let ce=0;ce<8;ce++)n[b+ce]=N[M+ce]|G[M+ce]}return n[b+8]=p,b}function vo(e,n){e.push(0,0,0,0,0,0,0,0,n)}function Ui(e,n){return-1===e.injectorIndex||e.parent&&e.parent.injectorIndex===e.injectorIndex||null===n[e.injectorIndex+8]?-1:e.injectorIndex}function Di(e,n){if(e.parent&&-1!==e.parent.injectorIndex)return e.parent.injectorIndex;let i=0,u=null,p=n;for(;null!==p;){if(u=tn(p),null===u)return-1;if(i++,p=p[r.X5O],-1!==u.injectorIndex)return u.injectorIndex|i<<16}return-1}function ui(e,n,i){!function Pi(e,n,i){let u;"string"==typeof i?u=i.charCodeAt(0)||0:i.hasOwnProperty(r.p9y)&&(u=i[r.p9y]),null==u&&(u=i[r.p9y]=Ai++);const p=255&u;n.data[e+(p>>5)]|=1<<p}(e,n,i)}function _i(e,n,i){if(8&i||void 0!==e)return e;(0,r.$Hz)(n,"NodeInjector")}function Mi(e,n,i,u){if(8&i&&void 0===u&&(u=null),!(3&i)){const p=e[r.YEL],b=(0,r.a2B)(void 0);try{return p?p.get(n,u,8&i):(0,r.MzJ)(n,u,8&i)}finally{(0,r.a2B)(b)}}return _i(u,n,i)}function Xi(e,n,i,u=0,p){if(null!==e){if(2048&n[r.Wg1]&&!(2&u)){const M=function lt(e,n,i,u,p){let b=e,M=n;for(;null!==b&&null!==M&&2048&M[r.Wg1]&&!(0,r.EFk)(M);){const N=Io(b,M,i,2|u,Lr);if(N!==Lr)return N;let G=b.parent;if(!G){const ce=M[r.oMQ];if(ce){const _e=ce.get(i,Lr,u);if(_e!==Lr)return _e}G=tn(M),M=M[r.X5O]}b=G}return p}(e,n,i,u,Lr);if(M!==Lr)return M}const b=Io(e,n,i,u,Lr);if(b!==Lr)return b}return Mi(n,i,u,p)}function Io(e,n,i,u,p){const b=function ss(e){if("string"==typeof e)return e.charCodeAt(0)||0;const n=e.hasOwnProperty(r.p9y)?e[r.p9y]:void 0;return"number"==typeof n?n>=0?255&n:Bo:n}(i);if("function"==typeof b){if(!(0,r.ihb)(n,e,u))return 1&u?_i(p,i,u):Mi(n,i,u,p);try{let M;if(M=b(u),null!=M||8&u)return M;(0,r.$Hz)(i)}finally{(0,r.niQ)()}}else if("number"==typeof b){let M=null,N=Ui(e,n),G=-1,ce=1&u?n[r.b5C][r.qlT]:null;for((-1===N||4&u)&&(G=-1===N?Di(e,n):n[N+8],-1!==G&&Ji(u,!1)?(M=n[r.eDl],N=Fi(G),n=Fn(G,n)):N=-1);-1!==N;){const _e=n[r.eDl];if(yo(b,N,_e.data)){const We=Do(N,n,i,M,u,ce);if(We!==Lr)return We}G=n[N+8],-1!==G&&Ji(u,n[r.eDl].data[N+8]===ce)&&yo(b,N,n)?(M=_e,N=Fi(G),n=Fn(G,n)):N=-1}}return p}function Do(e,n,i,u,p,b){const M=n[r.eDl],N=M.data[e+8],_e=Wi(N,M,i,null==u?(0,r.Qs1)(N)&&Hn:u!=M&&!!(3&N.type),1&p&&b===N);return null!==_e?wi(n,M,_e,N,p):Lr}function Wi(e,n,i,u,p){const b=e.providerIndexes,M=n.data,N=1048575&b,G=e.directiveStart,_e=b>>20,Ct=p?N+_e:e.directiveEnd;for(let Tt=u?N:N+_e;Tt<Ct;Tt++){const cn=M[Tt];if(Tt<G&&i===cn||Tt>=G&&cn.type===i)return Tt}if(p){const Tt=M[G];if(Tt&&(0,r.JlV)(Tt)&&Tt.type===i)return G}return null}function wi(e,n,i,u,p){let b=e[i];const M=n.data;if(b instanceof Pr){const N=b;if(N.resolving){const Tt=(0,r.PP7)(M[i]);throw(0,r.PQT)(Tt)}const G=Bi(N.canSeeViewProviders);N.resolving=!0;const We=N.injectImpl?(0,r.a2B)(N.injectImpl):null;(0,r.ihb)(e,u,0);try{b=e[i]=N.factory(void 0,p,M,e,u),n.firstCreatePass&&i>=u.directiveStart&&function kn(e,n,i){const{ngOnChanges:u,ngOnInit:p,ngDoCheck:b}=n.type.prototype;if(u){const M=Ke(n);(i.preOrderHooks??=[]).push(e,M),(i.preOrderCheckHooks??=[]).push(e,M)}p&&(i.preOrderHooks??=[]).push(0-e,p),b&&((i.preOrderHooks??=[]).push(e,b),(i.preOrderCheckHooks??=[]).push(e,b))}(i,M[i],n)}finally{null!==We&&(0,r.a2B)(We),Bi(G),N.resolving=!1,(0,r.niQ)()}}return b}function yo(e,n,i){return!!(i[n+(e>>5)]&1<<e)}function Ji(e,n){return!(2&e||1&e&&n)}class Xr{_tNode;_lView;constructor(n,i){this._tNode=n,this._lView=i}get(n,i,u){return Xi(this._tNode,this._lView,n,(0,r.hjC)(u),i)}}function Bo(){return new Xr((0,r.Mx4)(),(0,r.OAn)())}function He(e){return Ae(()=>{const n=e.prototype.constructor,i=n[r.zSs]||pt(n),u=Object.prototype;let p=Object.getPrototypeOf(e.prototype).constructor;for(;p&&p!==u;){const b=p[r.zSs]||pt(p);if(b&&b!==i)return b;p=Object.getPrototypeOf(p)}return b=>new b})}function pt(e){return(0,r.Jzi)(e)?()=>{const n=pt((0,r.nl4)(e));return n&&n()}:(0,r.wGu)(e)}function tn(e){const n=e[r.eDl],i=n.type;return 2===i?n.declTNode:1===i?e[r.qlT]:null}function hn(e){return function $i(e,n){if("class"===n)return e.classes;if("style"===n)return e.styles;const i=e.attrs;if(i){const u=i.length;let p=0;for(;p<u;){const b=i[p];if(gn(b))break;if(0===b)p+=2;else if("number"==typeof b)for(p++;p<u&&"string"==typeof i[p];)p++;else{if(b===n)return i[p+1];p+=2}}}return null}((0,r.Mx4)(),e)}const un=t("Attribute",e=>({attributeName:e,__NG_ELEMENT_ID__:()=>hn(e)}));let an=null;function rt(e){return Wt(function Rr(){return an=an||new gt}().parameters(e))}function Wt(e){return e.map(n=>function Qt(e){const n={token:null,attribute:null,host:!1,optional:!1,self:!1,skipSelf:!1};if(Array.isArray(e)&&e.length>0)for(let i=0;i<e.length;i++){const u=e[i];if(void 0===u)continue;const p=Object.getPrototypeOf(u);if(u instanceof je||"Optional"===p.ngMetadataName)n.optional=!0;else if(u instanceof be||"SkipSelf"===p.ngMetadataName)n.skipSelf=!0;else if(u instanceof Te||"Self"===p.ngMetadataName)n.self=!0;else if(u instanceof Oe||"Host"===p.ngMetadataName)n.host=!0;else if(u instanceof Se)n.token=u.token;else if(u instanceof un){if(void 0===u.attributeName)throw new r.buA(204,!1);n.attribute=u.attributeName}else n.token=u}else n.token=void 0===e||Array.isArray(e)&&0===e.length?null:e;return n}(n))}const ge=(0,r.kLh)({provide:String,useValue:r.kLh});function Ye(e){return void 0!==e.useClass}function kt(e){return void 0!==e.useFactory}const _r=ie("Injectable",void 0,void 0,0,(e,n)=>function Cn(e,n){let i=null,u=null;e.hasOwnProperty(r.yAH)||Object.defineProperty(e,r.yAH,{get:()=>(null===i&&(i=at().compileInjectable(ze,`ng:///${e.name}/\u0275prov.js`,function nr(e,n){const i=n||{providedIn:null},u={name:e.name,type:e,typeArgumentCount:0,providedIn:i.providedIn};return(Ye(i)||kt(i))&&void 0!==i.deps&&(u.deps=Wt(i.deps)),Ye(i)?u.useClass=i.useClass:function ot(e){return ge in e}(i)?u.useValue=i.useValue:kt(i)?u.useFactory=i.useFactory:function Tn(e){return void 0!==e.useExisting}(i)&&(u.useExisting=i.useExisting),u}(e,n))),i)}),e.hasOwnProperty(r.zSs)||Object.defineProperty(e,r.zSs,{get:()=>{if(null===u){const p=at();u=p.compileFactory(ze,`ng:///${e.name}/\u0275fac.js`,{name:e.name,type:e,typeArgumentCount:0,deps:rt(e),target:p.FactoryTarget.Injectable})}return u},configurable:!0})}(e,n));function Ur(){return qn((0,r.Mx4)(),(0,r.OAn)())}function qn(e,n){return new tr((0,r.d31)(e,n))}let tr=(()=>class e{nativeElement;constructor(i){this.nativeElement=i}static __NG_ELEMENT_ID__=Ur})();function Yi(e){return e instanceof tr?e.nativeElement:e}function hi(){return this._results[Symbol.iterator]()}class To{_emitDistinctChangesOnly;dirty=!0;_onDirty=void 0;_results=[];_changesDetected=!1;_changes=void 0;length=0;first=void 0;last=void 0;get changes(){return this._changes??=new ve.B}constructor(n=!1){this._emitDistinctChangesOnly=n}get(n){return this._results[n]}map(n){return this._results.map(n)}filter(n){return this._results.filter(n)}find(n){return this._results.find(n)}reduce(n,i){return this._results.reduce(n,i)}forEach(n){this._results.forEach(n)}some(n){return this._results.some(n)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(n,i){this.dirty=!1;const u=(0,r.Bqz)(n);(this._changesDetected=!(0,r.ng7)(this._results,u,i))&&(this._results=u,this.length=u.length,this.last=u[this.length-1],this.first=u[0])}notifyOnChanges(){void 0!==this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.next(this)}onDirty(n){this._onDirty=n}setDirty(){this.dirty=!0,this._onDirty?.()}destroy(){void 0!==this._changes&&(this._changes.complete(),this._changes.unsubscribe())}[Symbol.iterator]=hi}function Co(e){return!(128&~e.flags)}var Os=function(e){return e[e.OnPush=0]="OnPush",e[e.Default=1]="Default",e}(Os||{});const Ws=new Map;let Fr=0;function Xs(e){Ws.delete(e[r.ID])}const xt="__ngContext__";function dn(e,n){(0,r.q$2)(n)?(e[xt]=n[r.ID],function zs(e){Ws.set(e[r.ID],e)}(n)):e[xt]=n}function Eo(e){return So(e[r.EJG])}function bo(e){return So(e[r.K29])}function So(e){for(;null!==e&&!(0,r.A0l)(e);)e=e[r.K29];return e}let Bs;function ls(e){Bs=e}function no(){if(void 0!==Bs)return Bs;if(typeof document<"u")return document;throw new r.buA(210,!1)}const Ms=new r.nKC("",{factory:()=>we}),we="ng",de={provide:r.Z63,multi:!0,useValue:()=>{const e=(0,r.WQX)(Ms);if(!/^[a-zA-Z0-9\-_]+$/.test(e))throw new r.buA(211,`APP_ID value "${e}" is not alphanumeric. The APP_ID must be a string of alphanumeric characters. (a-zA-Z0-9), hyphens (-) and underscores (_) are allowed.`)}},Ce=new r.nKC(""),it=new r.nKC("",{providedIn:"platform",factory:()=>"unknown"}),$t=new r.nKC(""),fn=new r.nKC("",{factory:()=>(0,r.WQX)(r.qQL).body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null}),In={breakpoints:[16,32,48,64,96,128,256,384,640,750,828,1080,1200,1920,2048,3840],placeholderResolution:30,disableImageSizeWarning:!1,disableImageLazyLoadWarning:!1},er=new r.nKC("",{factory:()=>In});let Mr=(()=>{class e{static \u0275prov=(0,r.jDH)({token:e,providedIn:"root",factory:()=>{const i=new e;return i.store=function ci(e,n){const i=e.getElementById(n+"-state");if(i?.textContent)try{return JSON.parse(i.textContent)}catch(u){console.warn("Exception while restoring TransferState for app "+n,u)}return{}}((0,r.WQX)(r.qQL),(0,r.WQX)(Ms)),i}});store={};onSerializeCallbacks={};get(i,u){return void 0!==this.store[i]?this.store[i]:u}set(i,u){this.store[i]=u}remove(i){delete this.store[i]}hasKey(i){return this.store.hasOwnProperty(i)}get isEmpty(){return 0===Object.keys(this.store).length}onSerialize(i,u){this.onSerializeCallbacks[i]=u}toJson(){for(const i in this.onSerializeCallbacks)if(this.onSerializeCallbacks.hasOwnProperty(i))try{this.store[i]=this.onSerializeCallbacks[i]()}catch(u){console.warn("Exception in onSerialize callback: ",u)}return JSON.stringify(this.store).replace(/</g,"\\u003C")}}return e})();const he=new r.nKC("",{factory:()=>!1}),Zr=new r.nKC(""),gs=new r.nKC(""),ha={passive:!0,capture:!0},Va=new WeakMap,xs=new WeakMap,Ua=new WeakMap,I=["click","keydown"],O=["mouseenter","mouseover","focusin"],q=new Map;class ae{callbacks=new Set;listener=()=>{for(const n of this.callbacks)n()}}function me(e,n){let i=xs.get(e);if(!i){i=new ae,xs.set(e,i);for(const u of I)e.addEventListener(u,i.listener,ha)}return i.callbacks.add(n),()=>{const{callbacks:u,listener:p}=i;if(u.delete(n),0===u.size){xs.delete(e);for(const b of I)e.removeEventListener(b,p,ha)}}}function Ie(e,n){let i=Va.get(e);if(!i){i=new ae,Va.set(e,i);for(const u of O)e.addEventListener(u,i.listener,ha)}return i.callbacks.add(n),()=>{const{callbacks:u,listener:p}=i;if(u.delete(n),0===u.size){for(const b of O)e.removeEventListener(b,p,ha);Va.delete(e)}}}function St(e){return e?`${e.rootMargin}/${"number"==typeof e.threshold?e.threshold:e.threshold?.join("\n")}`:""}const Nn=new r.nKC("");function Yn(e){return!(32&~e.flags)}function Ds(e){let n=e._lView;return 2===n[r.eDl].type?null:((0,r.EFk)(n)&&(n=n[r.Yw1]),n)}function Ya(e){return e.get(Zr,!1,{optional:!0})}function W(e,n){const i=e.contentQueries;if(null!==i){const u=(0,R.Ht)(null);try{for(let p=0;p<i.length;p+=2){const M=i[p+1];if(-1!==M){const N=e.data[M];(0,r.GA0)(i[p]),N.contentQueries(2,n[M],M)}}}finally{(0,R.Ht)(u)}}}function V(e,n,i){(0,r.GA0)(0);const u=(0,R.Ht)(null);try{n(e,i)}finally{(0,R.Ht)(u)}}function z(e,n,i){if((0,r.srX)(n)){const u=(0,R.Ht)(null);try{const b=n.directiveEnd;for(let M=n.directiveStart;M<b;M++){const N=e.data[M];N.contentQueries&&N.contentQueries(1,i[M],M)}}finally{(0,R.Ht)(u)}}}var se=function(e){return e[e.Emulated=0]="Emulated",e[e.None=2]="None",e[e.ShadowDom=3]="ShadowDom",e[e.ExperimentalIsolatedShadowDom=4]="ExperimentalIsolatedShadowDom",e}(se||{});let Du,Cl;function Qs(){if(void 0===Du&&(Du=null,r.laP.trustedTypes))try{Du=r.laP.trustedTypes.createPolicy("angular",{createHTML:e=>e,createScript:e=>e,createScriptURL:e=>e})}catch{}return Du}function di(e){return Qs()?.createHTML(e)||e}function El(){if(void 0===Cl&&(Cl=null,r.laP.trustedTypes))try{Cl=r.laP.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:e=>e,createScript:e=>e,createScriptURL:e=>e})}catch{}return Cl}function au(e){return El()?.createHTML(e)||e}function bl(e){return El()?.createScript(e)||e}function Qa(e){return El()?.createScriptURL(e)||e}class Nl{changingThisBreaksApplicationSecurity;constructor(n){this.changingThisBreaksApplicationSecurity=n}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${r.ok8})`}}class Js extends Nl{getTypeName(){return"HTML"}}class Wl extends Nl{getTypeName(){return"Style"}}class Da extends Nl{getTypeName(){return"Script"}}class lu extends Nl{getTypeName(){return"URL"}}class Ja extends Nl{getTypeName(){return"ResourceURL"}}function hl(e){return e instanceof Nl?e.changingThisBreaksApplicationSecurity:e}function Zs(e,n){const i=function Hu(e){return e instanceof Nl&&e.getTypeName()||null}(e);if(null!=i&&i!==n){if("ResourceURL"===i&&"URL"===n)return!0;throw new Error(`Required a safe ${n}, got a ${i} (see ${r.ok8})`)}return i===n}function wu(e){return new Js(e)}function Ol(e){return new Wl(e)}function oc(e){return new Da(e)}function Tu(e){return new lu(e)}function Su(e){return new Ja(e)}function sc(e){const n=new pl(e);return function Au(){try{return!!(new window.DOMParser).parseFromString(di(""),"text/html")}catch{return!1}}()?new va(n):n}class va{inertDocumentHelper;constructor(n){this.inertDocumentHelper=n}getInertBodyElement(n){n="<body><remove></remove>"+n;try{const i=(new window.DOMParser).parseFromString(di(n),"text/html").body;return null===i?this.inertDocumentHelper.getInertBodyElement(n):(i.firstChild?.remove(),i)}catch{return null}}}class pl{defaultDoc;inertDocument;constructor(n){this.defaultDoc=n,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(n){const i=this.inertDocument.createElement("template");return i.innerHTML=di(n),i}}const zc=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function ju(e){return(e=String(e)).match(zc)?e:"unsafe:"+e}function Ha(e){const n={};for(const i of e.split(","))n[i]=!0;return n}function ja(...e){const n={};for(const i of e)for(const u in i)i.hasOwnProperty(u)&&(n[u]=!0);return n}const Ll=Ha("area,br,col,hr,img,wbr"),Mu=Ha("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),Gu=Ha("rp,rt"),uu=ja(Ll,ja(Mu,Ha("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),ja(Gu,Ha("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),ja(Gu,Mu)),ea=Ha("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),lc=ja(ea,Ha("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Ha("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),uc=Ha("script,style,template");class cu{sanitizedSomething=!1;buf=[];sanitizeChildren(n){let i=n.firstChild,u=!0,p=[];for(;i;)if(i.nodeType===Node.ELEMENT_NODE?u=this.startElement(i):i.nodeType===Node.TEXT_NODE?this.chars(i.nodeValue):this.sanitizedSomething=!0,u&&i.firstChild)p.push(i),i=Cc(i);else for(;i;){i.nodeType===Node.ELEMENT_NODE&&this.endElement(i);let b=Wu(i);if(b){i=b;break}i=p.pop()}return this.buf.join("")}startElement(n){const i=ku(n).toLowerCase();if(!uu.hasOwnProperty(i))return this.sanitizedSomething=!0,!uc.hasOwnProperty(i);this.buf.push("<"),this.buf.push(i);const u=n.attributes;for(let p=0;p<u.length;p++){const b=u.item(p),M=b.name,N=M.toLowerCase();if(!lc.hasOwnProperty(N)){this.sanitizedSomething=!0;continue}let G=b.value;ea[N]&&(G=ju(G)),this.buf.push(" ",M,'="',cc(G),'"')}return this.buf.push(">"),!0}endElement(n){const i=ku(n).toLowerCase();uu.hasOwnProperty(i)&&!Ll.hasOwnProperty(i)&&(this.buf.push("</"),this.buf.push(i),this.buf.push(">"))}chars(n){this.buf.push(cc(n))}}function Wu(e){const n=e.nextSibling;if(n&&e!==n.previousSibling)throw du(n);return n}function Cc(e){const n=e.firstChild;if(n&&function $u(e,n){return(e.compareDocumentPosition(n)&Node.DOCUMENT_POSITION_CONTAINED_BY)!==Node.DOCUMENT_POSITION_CONTAINED_BY}(e,n))throw du(n);return n}function ku(e){const n=e.nodeName;return"string"==typeof n?n:"FORM"}function du(e){return new Error(`Failed to sanitize html because the element is clobbered: ${e.outerHTML}`)}const Ec=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,Ru=/([^\#-~ |!])/g;function cc(e){return e.replace(/&/g,"&amp;").replace(Ec,function(n){return"&#"+(1024*(n.charCodeAt(0)-55296)+(n.charCodeAt(1)-56320)+65536)+";"}).replace(Ru,function(n){return"&#"+n.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let Al;function zu(e,n){let i=null;try{Al=Al||sc(e);let u=n?String(n):"";i=Al.getInertBodyElement(u);let p=5,b=u;do{if(0===p)throw new Error("Failed to sanitize html because the input is unstable");p--,u=b,b=i.innerHTML,i=Al.getInertBodyElement(u)}while(u!==b);return di((new cu).sanitizeChildren(Hs(i)||i))}finally{if(i){const u=Hs(i)||i;for(;u.firstChild;)u.firstChild.remove()}}}function Hs(e){return"content"in e&&function Pc(e){return e.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===e.nodeName}(e)?e.content:null}const bc=/^>|^->|<!--|-->|--!>|<!-$/g,xc=/(<|>)/g;function j(e,n){return e.createText(n)}function S(e,n,i){e.setValue(n,i)}function D(e,n){return e.createComment(function Fu(e){return e.replace(bc,n=>n.replace(xc,"\u200b$1\u200b"))}(n))}function g(e,n,i){return e.createElement(n,i)}function A(e,n,i,u,p){e.insertBefore(n,i,u,p)}function U(e,n,i){e.appendChild(n,i)}function ne(e,n,i,u,p){null!==u?A(e,n,i,u,p):U(e,n,i)}function Ee(e,n,i,u){e.removeChild(null,n,i,u)}function xn(e,n,i){const{mergedAttrs:u,classes:p,styles:b}=i;null!==u&&function ln(e,n,i){let u=0;for(;u<i.length;){const p=i[u];if("number"==typeof p){if(0!==p)break;u++;const b=i[u++],M=i[u++],N=i[u++];e.setAttribute(n,M,N,b)}else{const b=p,M=i[++u];zn(b)?e.setProperty(n,b,M):e.setAttribute(n,b,M),u++}}}(e,n,u),null!==p&&function Sn(e,n,i){""===i?e.removeAttribute(n,"class"):e.setAttribute(n,"class",i)}(e,n,p),null!==b&&function bt(e,n,i){e.setAttribute(n,"style",i)}(e,n,b)}var Cr=function(e){return e[e.NONE=0]="NONE",e[e.HTML=1]="HTML",e[e.STYLE=2]="STYLE",e[e.SCRIPT=3]="SCRIPT",e[e.URL=4]="URL",e[e.RESOURCE_URL=5]="RESOURCE_URL",e}(Cr||{});function Kr(e){const n=Xl();return n?au(n.sanitize(Cr.HTML,e)||""):Zs(e,"HTML")?au(hl(e)):zu(no(),(0,r.eFE)(e))}function mo(e){const n=Xl();return n?n.sanitize(Cr.URL,e)||"":Zs(e,"URL")?hl(e):ju((0,r.eFE)(e))}function ds(e){const n=Xl();if(n)return Qa(n.sanitize(Cr.RESOURCE_URL,e)||"");if(Zs(e,"ResourceURL"))return Qa(hl(e));throw new r.buA(904,!1)}const Nu=new Set(["embed","frame","iframe","media","script"]),zl=new Set(["base","link","script"]);function Rs(e,n,i){return function Za(e,n){return"src"===n&&Nu.has(e)||"href"===n&&zl.has(e)||"xlink:href"===n&&"script"===e?ds:mo}(n,i)(e)}function Xl(){const e=(0,r.OAn)();return e&&e[r.M0L].sanitizer}const ya=new Set(["attributename"]),Bl={iframe:new Set(["sandbox","allow","allowfullscreen","referrerpolicy","csp","fetchpriority"]),animate:ya,set:ya,animatemotion:ya,animatetransform:ya};function js(e){return e.ownerDocument.defaultView}function Wa(e){return e.ownerDocument}function ns(e){return e instanceof Function?e():e}function ql(e){if(Ca(e),!(0,r.xUg)(e).standalone)throw new r.buA(907,`The ${(0,r.PP7)(e)} component is not marked as standalone, but Angular expects to have a standalone component here. Please make sure the ${(0,r.PP7)(e)} component does not have the \`standalone: false\` flag in the decorator.`)}function Ca(e){if(!(0,r.xUg)(e))throw new r.buA(906,`The ${(0,r.PP7)(e)} is not an Angular component, make sure it has the \`@Component\` decorator.`)}function gf(e,n,i){let u=e.length;for(;;){const p=e.indexOf(n,i);if(-1===p)return p;if(0===p||e.charCodeAt(p-1)<=32){const b=n.length;if(p+b===u||e.charCodeAt(p+b)<=32)return p}i=p+1}}const qc="ng-template";function Dc(e,n,i,u){let p=0;if(u){for(;p<n.length&&"string"==typeof n[p];p+=2)if("class"===n[p]&&-1!==gf(n[p+1].toLowerCase(),i,0))return!0}else if(yd(e))return!1;if(p=n.indexOf(1,p),p>-1){let b;for(;++p<n.length&&"string"==typeof(b=n[p]);)if(b.toLowerCase()===i)return!0}return!1}function yd(e){return 4===e.type&&e.value!==qc}function jd(e,n,i){return n===(4!==e.type||i?e.value:qc)}function Yc(e,n,i){let u=4;const p=e.attrs,b=null!==p?function rh(e){for(let n=0;n<e.length;n++)if(gn(e[n]))return n;return e.length}(p):0;let M=!1;for(let N=0;N<n.length;N++){const G=n[N];if("number"!=typeof G){if(!M)if(4&u){if(u=2|1&u,""!==G&&!jd(e,G,i)||""===G&&1===n.length){if(Yl(u))return!1;M=!0}}else if(8&u){if(null===p||!Dc(e,p,G,i)){if(Yl(u))return!1;M=!0}}else{const ce=n[++N],_e=Cd(G,p,yd(e),i);if(-1===_e){if(Yl(u))return!1;M=!0;continue}if(""!==ce){let We;if(We=_e>b?"":p[_e+1].toLowerCase(),2&u&&ce!==We){if(Yl(u))return!1;M=!0}}}}else{if(!M&&!Yl(u)&&!Yl(G))return!1;if(M&&Yl(G))continue;M=!1,u=G|1&u}}return Yl(u)||M}function Yl(e){return!(1&e)}function Cd(e,n,i,u){if(null===n)return-1;let p=0;if(u||!i){let b=!1;for(;p<n.length;){const M=n[p];if(M===e)return p;if(3===M||6===M)b=!0;else{if(1===M||2===M){let N=n[++p];for(;"string"==typeof N;)N=n[++p];continue}if(4===M)break;if(0===M){p+=4;continue}}p+=b?1:2}return-1}return function Gd(e,n){let i=e.indexOf(4);if(i>-1)for(i++;i<e.length;){const u=e[i];if("number"==typeof u)return-1;if(u===n)return i;i++}return-1}(n,e)}function Fc(e,n,i=!1){for(let u=0;u<n.length;u++)if(Yc(e,n[u],i))return!0;return!1}function Nc(e,n){e:for(let i=0;i<n.length;i++){const u=n[i];if(e.length===u.length){for(let p=0;p<e.length;p++)if(e[p]!==u[p])continue e;return!0}}return!1}function $d(e,n){return e?":not("+n.trim()+")":n}function Ed(e){let n=e[0],i=1,u=2,p="",b=!1;for(;i<e.length;){let M=e[i];if("string"==typeof M)if(2&u){const N=e[++i];p+="["+M+(N.length>0?'="'+N+'"':"")+"]"}else 8&u?p+="."+M:4&u&&(p+=" "+M);else""!==p&&!Yl(M)&&(n+=$d(b,p),p=""),u=M,b=b||!Yl(u);i++}return""!==p&&(n+=$d(b,p)),n}const Ho={};function Oc(e,n,i,u,p,b,M,N,G,ce,_e){const We=r.Yw1+u,Ct=We+p,Tt=function bd(e,n){const i=[];for(let u=0;u<n;u++)i.push(u<e?null:Ho);return i}(We,Ct),cn="function"==typeof ce?ce():ce;return Tt[r.eDl]={type:e,blueprint:Tt,template:i,queries:null,viewQuery:N,declTNode:n,data:Tt.slice().fill(null,We),bindingStartIndex:We,expandoStartIndex:Ct,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof b?b():b,pipeRegistry:"function"==typeof M?M():M,firstChild:null,schemas:G,consts:cn,incompleteFirstPass:!1,ssrId:_e}}function Ou(e){const n=e.tView;return null===n||n.incompleteFirstPass?e.tView=Oc(1,null,e.template,e.decls,e.vars,e.directiveDefs,e.pipeDefs,e.viewQuery,e.schemas,e.consts,e.id):n}function wc(e,n,i,u,p,b,M,N,G,ce,_e){const We=n.blueprint.slice();return We[r.jgP]=p,We[r.Wg1]=1228|u,(null!==ce||e&&2048&e[r.Wg1])&&(We[r.Wg1]|=2048),(0,r.HUe)(We),We[r.f7T]=We[r.X5O]=e,We[r.SKP]=i,We[r.M0L]=M||e&&e[r.M0L],We[r.GpT]=N||e&&e[r.GpT],We[r.YEL]=G||e&&e[r.YEL]||null,We[r.qlT]=b,We[r.ID]=function so(){return Fr++}(),We[r.tcA]=_e,We[r.oMQ]=ce,We[r.b5C]=2==n.type?e[r.b5C]:We,We}function Lc(e){let n=16;return e.signals?n=4096:e.onPush&&(n=64),n}function Il(e,n,i,u){if(0===i)return-1;const p=n.length;for(let b=0;b<i;b++)n.push(u),e.blueprint.push(u),e.data.push(null);return p}function Bc(e,n){return e[r.EJG]?e[r.Yrj][r.K29]=n:e[r.EJG]=n,e[r.Yrj]=n,n}function Zc(e=1){Wd((0,r.klJ)(),(0,r.OAn)(),(0,r._px)()+e,!1)}function Wd(e,n,i,u){if(!u)if(3&~n[r.Wg1]){const b=e.preOrderHooks;null!==b&&mi(n,b,0,i)}else{const b=e.preOrderCheckHooks;null!==b&&Er(n,b,i)}(0,r.ypq)(i)}var ed=function(e){return e[e.None=0]="None",e[e.SignalBased=1]="SignalBased",e[e.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",e}(ed||{});function dc(e,n,i,u){const p=(0,R.Ht)(null);try{const[b,M,N]=e.inputs[i];let G=null;0!==(M&ed.SignalBased)&&(G=n[b][R.bh]),null!==G&&void 0!==G.transformFn?u=G.transformFn(u):null!==N&&(u=N.call(n,u)),null!==e.setInput?e.setInput(n,G,u,i,b):Bt(n,G,b,u)}finally{(0,R.Ht)(p)}}var Oo=function(e){return e[e.Important=1]="Important",e[e.DashCase=2]="DashCase",e}(Oo||{});let Vc;function fc(e,n){return Vc(e,n)}function tl(e){if(!e)return 0;const n=e.toLowerCase().indexOf("ms")>-1?1:1e3;return parseFloat(e)*n}function Lu(e,n){return e.getPropertyValue(n).split(",").map(u=>u.trim())}function nd(e,n){return void 0!==e&&e.duration>n.duration}function hc(e){return(null!=e.animationName||null!=e.propertyName)&&e.duration>0}function id(e,n,i){if(!i)return;const u=e.getAnimations();return 0===u.length?function rd(e,n){const i=getComputedStyle(e),u=function xd(e){const n=Lu(e,"animation-name"),i=Lu(e,"animation-delay"),u=Lu(e,"animation-duration"),p={animationName:"",propertyName:void 0,duration:0};for(let b=0;b<n.length;b++){const M=tl(i[b])+tl(u[b]);M>p.duration&&(p.animationName=n[b],p.duration=M)}return p}(i),p=function td(e){const n=Lu(e,"transition-property"),i=Lu(e,"transition-duration"),u=Lu(e,"transition-delay"),p={propertyName:"",duration:0,animationName:void 0};for(let b=0;b<n.length;b++){const M=tl(u[b])+tl(i[b]);M>p.duration&&(p.propertyName=n[b],p.duration=M)}return p}(i),b=u.duration>p.duration?u:p;nd(n.get(e),b)||hc(b)&&n.set(e,b)}(e,n):function vf(e,n,i){let u={animationName:void 0,propertyName:void 0,duration:0};for(const p of i){const b=p.effect?.getTiming(),M="number"==typeof b?.duration?b.duration:0;let G,ce,N=(b?.delay??0)+M;p.animationName?ce=p.animationName:G=p.transitionProperty,N>=u.duration&&(u={animationName:ce,propertyName:G,duration:N})}nd(n.get(e),u)||hc(u)&&n.set(e,u)}(e,n,u)}const qu=new Set;var od=function(e){return e[e.CHANGE_DETECTION=0]="CHANGE_DETECTION",e[e.AFTER_NEXT_RENDER=1]="AFTER_NEXT_RENDER",e}(od||{});const Ao=new r.nKC(""),sd=new Set;function nl(e){sd.has(e)||(sd.add(e),performance?.mark?.("mark_feature_usage",{detail:{feature:e}}))}let pc=(()=>{class e{impl=null;execute(){this.impl?.execute()}static \u0275prov=(0,r.jDH)({token:e,providedIn:"root",factory:()=>new e})}return e})();const zd=[0,1,2,3];let ad=(()=>{class e{ngZone=(0,r.WQX)(r.SKi);scheduler=(0,r.WQX)(r.hk6);errorHandler=(0,r.WQX)(r.zcH,{optional:!0});sequences=new Set;deferredRegistrations=new Set;executing=!1;constructor(){(0,r.WQX)(Ao,{optional:!0})}execute(){const i=this.sequences.size>0;i&&bn(Gt.AfterRenderHooksStart),this.executing=!0;for(const u of zd)for(const p of this.sequences)if(!p.erroredOrDestroyed&&p.hooks[u])try{p.pipelinedValue=this.ngZone.runOutsideAngular(()=>this.maybeTrace(()=>(0,p.hooks[u])(p.pipelinedValue),p.snapshot))}catch(b){p.erroredOrDestroyed=!0,this.errorHandler?.handleError(b)}this.executing=!1;for(const u of this.sequences)u.afterRun(),u.once&&(this.sequences.delete(u),u.destroy());for(const u of this.deferredRegistrations)this.sequences.add(u);this.deferredRegistrations.size>0&&this.scheduler.notify(7),this.deferredRegistrations.clear(),i&&bn(Gt.AfterRenderHooksEnd)}register(i){const{view:u}=i;void 0!==u?((u[r.JEi]??=[]).push(i),(0,r.blu)(u),u[r.Wg1]|=8192):this.executing?this.deferredRegistrations.add(i):this.addSequence(i)}addSequence(i){this.sequences.add(i),this.scheduler.notify(7)}unregister(i){this.executing&&this.sequences.has(i)?(i.erroredOrDestroyed=!0,i.pipelinedValue=void 0,i.once=!0):(this.sequences.delete(i),this.deferredRegistrations.delete(i))}maybeTrace(i,u){return u?u.run(od.AFTER_NEXT_RENDER,i):i()}static \u0275prov=(0,r.jDH)({token:e,providedIn:"root",factory:()=>new e})}return e})();class ld{impl;hooks;view;once;snapshot;erroredOrDestroyed=!1;pipelinedValue=void 0;unregisterOnDestroy;constructor(n,i,u,p,b,M=null){this.impl=n,this.hooks=i,this.view=u,this.once=p,this.snapshot=M,this.unregisterOnDestroy=b?.onDestroy(()=>this.destroy())}afterRun(){this.erroredOrDestroyed=!1,this.pipelinedValue=void 0,this.snapshot?.dispose(),this.snapshot=null}destroy(){this.impl.unregister(this),this.unregisterOnDestroy?.();const n=this.view?.[r.JEi];n&&(this.view[r.JEi]=n.filter(i=>i!==this))}}function Dd(e,n){const i=n?.injector??(0,r.WQX)(r.zZn);return nl("NgAfterNextRender"),wd(e,i,n,!0)}function wd(e,n,i,u){const p=n.get(pc);p.impl??=n.get(ad);const b=n.get(Ao,null,{optional:!0}),M=!0!==i?.manualCleanup?n.get(r.abz):null,N=n.get(r.r4V,null,{optional:!0}),G=new ld(p.impl,function yf(e){return e instanceof Function?[void 0,void 0,e,void 0]:[e.earlyRead,e.write,e.mixedReadWrite,e.read]}(e),N?.view,u,M,b?.snapshot(null));return p.impl.register(G),G}const o=new r.nKC("",{factory:()=>({queue:new Set,isScheduled:!1,scheduler:null,injector:(0,r.WQX)(r.uvJ)})});function d(e,n,i){const u=e.get(o);if(Array.isArray(n))for(const p of n)u.queue.add(p),i?.detachedLeaveAnimationFns?.push(p);else u.queue.add(n),i?.detachedLeaveAnimationFns?.push(n);u.scheduler&&u.scheduler(e)}function y(e){const n=e.get(o);n.isScheduled||(Dd(()=>{n.isScheduled=!1;for(let i of n.queue)i();n.queue.clear()},{injector:n.injector}),n.isScheduled=!0)}function x(e){const n=e.get(o);n.scheduler=y,n.scheduler(e)}function F(e,n){for(const[i,u]of n)d(e,u.animateFns)}function X(e,n,i,u){const p=e?.[r.Isx]?.enter;null!==n&&p&&p.has(i.index)&&F(u,p)}function Z(e,n,i,u,p,b,M,N){if(null!=p){let G,ce=!1;(0,r.A0l)(p)?G=p:(0,r.q$2)(p)&&(ce=!0,p=p[r.jgP]);const _e=(0,r.IvY)(p);0===e&&null!==u?(X(N,u,b,i),null==M?U(n,u,_e):A(n,u,_e,M||null,!0)):1===e&&null!==u?(X(N,u,b,i),A(n,u,_e,M||null,!0)):2===e?An(N,b,i,We=>{Ee(n,_e,ce,We)}):3===e&&An(N,b,i,()=>{n.destroyNode(_e)}),null!=G&&function Ts(e,n,i,u,p,b,M){const N=u[r.s6P];N!==(0,r.IvY)(u)&&Z(n,e,i,b,N,p,M);for(let ce=r.Y20;ce<u.length;ce++){const _e=u[ce];Gs(_e[r.eDl],_e,e,n,b,N)}}(n,e,i,G,b,u,M)}}function ue(e,n){nt(e,n),n[r.jgP]=null,n[r.qlT]=null}function nt(e,n){n[r.M0L].changeDetectionScheduler?.notify(9),Gs(e,n,n[r.GpT],2,null,null)}function jt(e,n){const i=e[r.nfM],u=i.indexOf(n);i.splice(u,1)}function Lt(e,n){if((0,r.EPY)(n))return;const i=n[r.GpT];i.destroyNode&&Gs(e,n,i,3,null,null),function ft(e){let n=e[r.EJG];if(!n)return _n(e[r.eDl],e);for(;n;){let i=null;if((0,r.q$2)(n))i=n[r.EJG];else{const u=n[r.Y20];u&&(i=u)}if(!i){for(;n&&!n[r.K29]&&n!==e;)(0,r.q$2)(n)&&_n(n[r.eDl],n),n=n[r.f7T];null===n&&(n=e),(0,r.q$2)(n)&&_n(n[r.eDl],n),i=n&&n[r.K29]}n=i}}(n)}function _n(e,n){if((0,r.EPY)(n))return;const i=(0,R.Ht)(null);try{n[r.Wg1]&=-129,n[r.Wg1]|=256,n[r.Iaj]&&(0,R.XR)(n[r.Iaj]),function mr(e,n){let i;if(null!=e&&null!=(i=e.destroyHooks))for(let u=0;u<i.length;u+=2){const p=n[i[u]];if(!(p instanceof Pr)){const b=i[u+1];if(Array.isArray(b))for(let M=0;M<b.length;M+=2){const N=p[b[M]],G=b[M+1];bn(Gt.LifecycleHookStart,N,G);try{G.call(N)}finally{bn(Gt.LifecycleHookEnd,N,G)}}else{bn(Gt.LifecycleHookStart,p,b);try{b.call(p)}finally{bn(Gt.LifecycleHookEnd,p,b)}}}}}(e,n),function Kn(e,n){const i=e.cleanup,u=n[r.VVG];if(null!==i)for(let M=0;M<i.length-1;M+=2)if("string"==typeof i[M]){const N=i[M+3];N>=0?u[N]():u[-N].unsubscribe(),M+=2}else i[M].call(u[i[M+1]]);null!==u&&(n[r.VVG]=null);const p=n[r.Czx];if(null!==p){n[r.Czx]=null;for(let M=0;M<p.length;M++)(0,p[M])()}const b=n[r.tQN];if(null!==b){n[r.tQN]=null;for(const M of b)M.destroy()}}(e,n),1===n[r.eDl].type&&n[r.GpT].destroy();const u=n[r.rQE];if(null!==u&&(0,r.A0l)(n[r.f7T])){u!==n[r.f7T]&&jt(u,n);const p=n[r.Ds7];null!==p&&p.detachView(e)}Xs(n)}finally{(0,R.Ht)(i)}}function An(e,n,i,u){const p=e?.[r.Isx];if(null==p||null==p.leave||!p.leave.has(n.index))return u(!1);e&&qu.add(e[r.ID]),d(i,()=>{if(p.leave&&p.leave.has(n.index)){const M=p.leave.get(n.index),N=[];if(M){for(let G=0;G<M.animateFns.length;G++){const ce=M.animateFns[G],{promise:_e}=ce();N.push(_e)}p.detachedLeaveAnimationFns=void 0}p.running=Promise.allSettled(N),function Bn(e,n){const i=e[r.Isx]?.running;i?i.then(()=>{e[r.Isx].running=void 0,qu.delete(e[r.ID]),n(!0)}):n(!1)}(e,u)}else e&&qu.delete(e[r.ID]),u(!1)},p)}function ar(e,n,i){return xr(e,n.parent,i)}function xr(e,n,i){let u=n;for(;null!==u&&168&u.type;)u=(n=u).parent;if(null===u)return i[r.jgP];if((0,r.Qs1)(u)){const{encapsulation:p}=e.data[u.directiveStart+u.componentOffset];if(p===se.None||p===se.Emulated)return null}return(0,r.d31)(u,i)}function Qr(e,n,i){return Ri(e,n,i)}function Hr(e,n,i){return 40&e.type?(0,r.d31)(e,i):null}let Lo,Ri=Hr;function Ps(e,n){Ri=e,Lo=n}function rs(e,n,i,u){const p=ar(e,u,n),b=n[r.GpT],N=Qr(u.parent||n[r.qlT],u,n);if(null!=p)if(Array.isArray(i))for(let G=0;G<i.length;G++)ne(b,p,i[G],N,!1);else ne(b,p,i,N,!1);void 0!==Lo&&Lo(b,u,n,i,p)}function na(e,n){if(null!==n){const i=n.type;if(3&i)return(0,r.d31)(n,e);if(4&i)return Fs(-1,e[n.index]);if(8&i){const u=n.child;if(null!==u)return na(e,u);{const p=e[n.index];return(0,r.A0l)(p)?Fs(-1,p):(0,r.IvY)(p)}}if(128&i)return na(e,n.next);if(32&i)return fc(n,e)()||(0,r.IvY)(e[n.index]);{const u=rl(e,n);return null!==u?Array.isArray(u)?u[0]:na((0,r._0$)(e[r.b5C]),u):na(e,n.next)}}return null}function rl(e,n){return null!==n?e[r.b5C][r.qlT].projection[n.projection]:null}function Fs(e,n){const i=r.Y20+e+1;if(i<n.length){const u=n[i],p=u[r.eDl].firstChild;if(null!==p)return na(u,p)}return n[r.s6P]}function il(e,n,i,u,p,b,M){for(;null!=i;){const N=u[r.YEL];if(128===i.type){i=i.next;continue}const G=u[i.index],ce=i.type;if(M&&0===n&&(G&&dn((0,r.IvY)(G),u),i.flags|=2),!Yn(i))if(8&ce)il(e,n,i.child,u,p,b,!1),Z(n,e,N,p,G,i,b,u);else if(32&ce){const _e=fc(i,u);let We;for(;We=_e();)Z(n,e,N,p,We,i,b,u);Z(n,e,N,p,G,i,b,u)}else 16&ce?ra(e,n,u,i,p,b):Z(n,e,N,p,G,i,b,u);i=M?i.projectionNext:i.next}}function Gs(e,n,i,u,p,b){il(i,u,e.firstChild,n,p,b,!1)}function ra(e,n,i,u,p,b){const M=i[r.b5C],G=M[r.qlT].projection[u.projection];if(Array.isArray(G))for(let ce=0;ce<G.length;ce++)Z(n,e,i[r.YEL],p,G[ce],u,b,i);else{let ce=G;const _e=M[r.f7T];Co(u)&&(ce.flags|=128),il(e,n,ce,_e,p,b,!0)}}function gc(e,n,i,u,p){const b=(0,r._px)(),M=2&u;try{(0,r.ypq)(-1),M&&n.length>r.Yw1&&Wd(e,n,r.Yw1,!1),bn(M?Gt.TemplateUpdateStart:Gt.TemplateCreateStart,p,i),i(u,p)}finally{(0,r.ypq)(b),bn(M?Gt.TemplateUpdateEnd:Gt.TemplateCreateEnd,p,i)}}function fu(e,n,i){(function Wh(e,n,i){const u=i.directiveStart,p=i.directiveEnd;(0,r.Qs1)(i)&&function _f(e,n,i){const u=(0,r.d31)(n,e),p=Ou(i),b=e[r.M0L].rendererFactory,M=Bc(e,wc(e,p,null,Lc(i),u,n,null,b.createRenderer(u,i),null,null,null));e[n.index]=M}(n,i,e.data[u+i.componentOffset]),e.firstCreatePass||Vi(i,n);const b=i.initialInputs;for(let M=u;M<p;M++){const N=e.data[M],G=wi(n,e,M,i);dn(G,n),null!==b&&Cf(0,M-u,G,N,0,b),(0,r.JlV)(N)&&((0,r.KdJ)(i.index,n)[r.SKP]=wi(n,e,M,i))}})(e,n,i),!(64&~i.flags)&&function oh(e,n,i){const u=i.directiveStart,p=i.directiveEnd,b=i.index,M=(0,r.Z9v)();try{(0,r.ypq)(b);for(let N=u;N<p;N++){const G=e.data[N],ce=n[N];(0,r.RZ9)(N),(null!==G.hostBindings||0!==G.hostVars||null!==G.hostAttrs)&&zh(G,ce)}}finally{(0,r.ypq)(-1),(0,r.RZ9)(M)}}(e,n,i)}function ia(e,n,i=r.d31){const u=n.localNames;if(null!==u){let p=n.index+1;for(let b=0;b<u.length;b+=2){const M=u[b+1],N=-1===M?i(n,e):e[M];e[p++]=N}}}let ud=()=>null;function Aa(e,n,i,u,p,b){qd(e,n[r.eDl],n,i,u)?(0,r.Qs1)(e)&&Vu(n,e.index):(3&e.type&&(i=function mc(e){return"class"===e?"className":"for"===e?"htmlFor":"formaction"===e?"formAction":"innerHtml"===e?"innerHTML":"readonly"===e?"readOnly":"tabindex"===e?"tabIndex":e}(i)),kr(e,n,i,u,p,b))}function kr(e,n,i,u,p,b){if(3&e.type){const M=(0,r.d31)(e,n);u=null!=b?b(u,e.value||"",i):u,p.setProperty(M,i,u)}}function Vu(e,n){const i=(0,r.KdJ)(n,e);16&i[r.Wg1]||(i[r.Wg1]|=64)}function zh(e,n){null!==e.hostBindings&&e.hostBindings(1,n)}function Td(e,n){const i=e.directiveRegistry;let u=null;if(i)for(let p=0;p<i.length;p++){const b=i[p];Fc(n,b.selectors,!1)&&(u??=[],(0,r.JlV)(b)?u.unshift(b):u.push(b))}return u}function Sd(e,n,i,u,p,b,M){if(null==b)e.removeAttribute(n,p,i);else{const N=null==M?(0,r.eFE)(b):M(b,u||"",p);e.setAttribute(n,p,N,i)}}function Cf(e,n,i,u,p,b){const M=b[n];if(null!==M)for(let N=0;N<M.length;N+=2)dc(u,i,M[N],M[N+1])}function Kd(e,n,i,u,p){const b=r.Yw1+i,M=n[r.eDl],N=p(M,n,e,u,i);n[b]=N,(0,r.iMd)(e,!0);const G=2===e.type;return G?(xn(n[r.GpT],N,e),(0===(0,r.znI)()||(0,r.yoD)(e))&&dn(N,n),(0,r.Fje)()):dn(N,n),(0,r.SX7)()&&(!G||!Yn(e))&&rs(M,n,N,e),e}function Xd(e){let n=e;return(0,r.YWB)()?(0,r.Pfq)():(n=n.parent,(0,r.iMd)(n,!1)),n}function ah(e,n,i){return(null===e||(0,r.JlV)(e))&&(i=(0,r.zAe)(i[n.index])),i[r.GpT]}function Ef(e,n){const i=e[r.YEL];if(!i)return;let u;try{u=i.get(r.ZTf,null)}catch{u=null}u?.(n)}function qd(e,n,i,u,p){const b=e.inputs?.[u],M=e.hostDirectiveInputs?.[u];let N=!1;if(M)for(let G=0;G<M.length;G+=2){const ce=M[G];dc(n.data[ce],i[ce],M[G+1],p),N=!0}if(b)for(const G of b)dc(n.data[G],i[G],u,p),N=!0;return N}function xf(e,n){const i=(0,r.KdJ)(n,e),u=i[r.eDl];!function Df(e,n){for(let i=n.length;i<e.blueprint.length;i++)n.push(e.blueprint[i])}(u,i);const p=i[r.jgP];null!==p&&null===i[r.tcA]&&(i[r.tcA]=null),bn(Gt.ComponentStart);try{Yd(u,i,i[r.SKP])}finally{bn(Gt.ComponentEnd,i[r.SKP])}}function Yd(e,n,i){(0,r.ID8)(n);try{const u=e.viewQuery;null!==u&&V(1,u,i);const p=e.template;null!==p&&gc(e,n,p,1,i),e.firstCreatePass&&(e.firstCreatePass=!1),n[r.Ds7]?.finishViewCreation(e),e.staticContentQueries&&W(e,n),e.staticViewQueries&&V(2,e.viewQuery,i);const b=e.components;null!==b&&function Xh(e,n){for(let i=0;i<n.length;i++)xf(e,n[i])}(n,b)}catch(u){throw e.firstCreatePass&&(e.incompleteFirstPass=!0,e.firstCreatePass=!1),u}finally{n[r.Wg1]&=-5,(0,r.bll)()}}function Hc(e,n,i,u){const p=(0,R.Ht)(null);try{const b=n.tView,G=wc(e,b,i,4096&e[r.Wg1]?4096:16,null,n,null,null,u?.injector??null,u?.embeddedViewInjector??null,u?.dehydratedView??null);G[r.rQE]=e[n.index];const _e=e[r.Ds7];return null!==_e&&(G[r.Ds7]=_e.createEmbeddedView(b)),Yd(b,G,i),G}finally{(0,R.Ht)(p)}}function Sc(e,n){return!n||null===n.firstChild||Co(e)}function cd(e,n,i,u,p=!1){for(;null!==i;){if(128===i.type){i=p?i.projectionNext:i.next;continue}const b=n[i.index];null!==b&&u.push((0,r.IvY)(b)),(0,r.A0l)(b)&&lh(b,u);const M=i.type;if(8&M)cd(e,n,i.child,u);else if(32&M){const N=fc(i,n);let G;for(;G=N();)u.push(G)}else if(16&M){const N=rl(n,i);if(Array.isArray(N))u.push(...N);else{const G=(0,r._0$)(n[r.b5C]);cd(G[r.eDl],G,N,u,!0)}}i=p?i.projectionNext:i.next}return u}function lh(e,n){for(let i=r.Y20;i<e.length;i++){const u=e[i],p=u[r.eDl].firstChild;null!==p&&cd(u[r.eDl],u,p,n)}e[r.s6P]!==e[r.jgP]&&n.push(e[r.s6P])}function uh(e){if(null!==e[r.JEi]){for(const n of e[r.JEi])n.impl.addSequence(n);e[r.JEi].length=0}}let Ad=[];const Jd={...R.pL,consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:e=>{(0,r.blu)(e.lView)},consumerOnSignalRead(){this.lView[r.Iaj]=this}},Yh={...R.pL,consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:e=>{let n=(0,r._0$)(e.lView);for(;n&&!Md(n[r.eDl]);)n=(0,r._0$)(n);n&&(0,r.HAh)(n)},consumerOnSignalRead(){this.lView[r.Iaj]=this}};function Md(e){return 2!==e.type}function dd(e){if(null===e[r.tQN])return;let n=!0;for(;n;){let i=!1;for(const u of e[r.tQN])u.dirty&&(i=!0,null===u.zone||Zone.current===u.zone?u.run():u.zone.run(()=>u.run()));n=i&&!!(8192&e[r.Wg1])}}function ef(e,n=0){const u=e[r.M0L].rendererFactory;u.begin?.();try{!function dh(e,n){const i=(0,r.yP_)();try{(0,r.cBl)(!0),Sf(e,n);let u=0;for(;(0,r.dMS)(e);){if(100===u)throw new r.buA(103,!1);u++,Sf(e,1)}}finally{(0,r.cBl)(i)}}(e,n)}finally{u.end?.()}}function Ac(e,n,i,u){if((0,r.EPY)(n))return;const p=n[r.Wg1];(0,r.ID8)(n);let N=!0,G=null,ce=null;Md(e)?(ce=function Tf(e){return e[r.Iaj]??function Qd(e){const n=Ad.pop()??Object.create(Jd);return n.lView=e,n}(e)}(n),G=(0,R.Bg)(ce)):null===(0,R.nR)()?(N=!1,ce=function qh(e){const n=e[r.Iaj]??Object.create(Yh);return n.lView=e,n}(n),G=(0,R.Bg)(ce)):n[r.Iaj]&&((0,R.XR)(n[r.Iaj]),n[r.Iaj]=null);try{(0,r.HUe)(n),(0,r.Kw3)(e.bindingStartIndex),null!==i&&gc(e,n,i,2,u);const _e=!(3&~p);if(_e){const Tt=e.preOrderCheckHooks;null!==Tt&&Er(n,Tt,null)}else{const Tt=e.preOrderHooks;null!==Tt&&mi(n,Tt,0,null),Jn(n,0)}if(function Jh(e){for(let n=Eo(e);null!==n;n=bo(n)){if(!(2&n[r.Wg1]))continue;const i=n[r.nfM];for(let u=0;u<i.length;u++)(0,r.HAh)(i[u])}}(n),dd(n),jc(n,0),null!==e.contentQueries&&W(e,n),_e){const Tt=e.contentCheckHooks;null!==Tt&&Er(n,Tt)}else{const Tt=e.contentHooks;null!==Tt&&mi(n,Tt,1),Jn(n,1)}!function Af(e,n){const i=e.hostBindingOpCodes;if(null!==i)try{for(let u=0;u<i.length;u++){const p=i[u];if(p<0)(0,r.ypq)(~p);else{const b=p,M=i[++u],N=i[++u];(0,r.vQI)(M,b);const G=n[b];bn(Gt.HostBindingsUpdateStart,G);try{N(2,G)}finally{bn(Gt.HostBindingsUpdateEnd,G)}}}}finally{(0,r.ypq)(-1)}}(e,n);const We=e.components;null!==We&&hh(n,We,0);const Ct=e.viewQuery;if(null!==Ct&&V(2,Ct,u),_e){const Tt=e.viewCheckHooks;null!==Tt&&Er(n,Tt)}else{const Tt=e.viewHooks;null!==Tt&&mi(n,Tt,2),Jn(n,2)}if(!0===e.firstUpdatePass&&(e.firstUpdatePass=!1),n[r.pcR]){for(const Tt of n[r.pcR])Tt();n[r.pcR]=null}uh(n),n[r.Wg1]&=-73}catch(_e){throw(0,r.blu)(n),_e}finally{null!==ce&&((0,R.Wu)(ce,G),N&&function ch(e){e.lView[r.Iaj]!==e&&(e.lView=null,Ad.push(e))}(ce)),(0,r.bll)()}}function jc(e,n){for(let i=Eo(e);null!==i;i=bo(i))for(let u=r.Y20;u<i.length;u++)fh(i[u],n)}function Zh(e,n,i){bn(Gt.ComponentStart);const u=(0,r.KdJ)(n,e);try{fh(u,i)}finally{bn(Gt.ComponentEnd,u[r.SKP])}}function fh(e,n){(0,r.F1c)(e)&&Sf(e,n)}function Sf(e,n){const u=e[r.eDl],p=e[r.Wg1],b=e[r.Iaj];let M=!!(0===n&&16&p);if(M||=!!(64&p&&0===n),M||=!!(1024&p),M||=!(!b?.dirty||!(0,R.si)(b)),M||=!1,b&&(b.dirty=!1),e[r.Wg1]&=-9217,M)Ac(u,e,u.template,e[r.SKP]);else if(8192&p){const N=(0,R.Ht)(null);try{dd(e),jc(e,1);const G=u.components;null!==G&&hh(e,G,1),uh(e)}finally{(0,R.Ht)(N)}}}function hh(e,n,i){for(let u=0;u<n.length;u++)Zh(e,n[u],i)}function Mc(e,n){const i=(0,r.yP_)()?64:1088;for(e[r.M0L].changeDetectionScheduler?.notify(n);e;){e[r.Wg1]|=i;const u=(0,r._0$)(e);if((0,r.EFk)(e)&&!u)return e;e=u}return null}function Mf(e,n,i,u){return[e,!0,0,n,null,u,null,i,null,null]}function ph(e,n){const i=r.Y20+n;if(i<e.length)return e[i]}function Qu(e,n,i,u=!0){const p=n[r.eDl];if(function zp(e,n,i,u){const p=r.Y20+u,b=i.length;u>0&&(i[p-1][r.K29]=n),u<b-r.Y20?(n[r.K29]=i[p],(0,r.EYC)(i,r.Y20+u,n)):(i.push(n),n[r.K29]=null),n[r.f7T]=i;const M=n[r.rQE];null!==M&&i!==M&&gl(M,n);const N=n[r.Ds7];null!==N&&N.insertView(e),(0,r._gW)(n),n[r.Wg1]|=128}(p,n,e,i),u){const M=Fs(i,e),N=n[r.GpT],G=N.parentNode(e[r.s6P]);null!==G&&function ye(e,n,i,u,p,b){u[r.jgP]=p,u[r.qlT]=n,Gs(e,u,i,1,p,b)}(p,e[r.qlT],N,n,G,M)}const b=n[r.tcA];null!==b&&null!==b.firstChild&&(b.firstChild=null)}function Id(e,n){const i=fd(e,n);return void 0!==i&&Lt(i[r.eDl],i),i}function fd(e,n){if(e.length<=r.Y20)return;const i=r.Y20+n,u=e[i];if(u){const p=u[r.rQE];null!==p&&p!==e&&jt(p,u),n>0&&(e[i-1][r.K29]=u[r.K29]);const b=(0,r.E6O)(e,r.Y20+n);ue(u[r.eDl],u);const M=b[r.Ds7];null!==M&&M.detachView(b[r.eDl]),u[r.f7T]=null,u[r.K29]=null,u[r.Wg1]&=-129}return u}function gl(e,n){const i=e[r.nfM],u=n[r.f7T];((0,r.q$2)(u)||n[r.b5C]!==u[r.f7T][r.b5C])&&(e[r.Wg1]|=2),null===i?e[r.nfM]=[n]:i.push(n)}class If{_lView;_cdRefInjectingView;_appRef=null;_attachedToViewContainer=!1;exhaustive;get rootNodes(){const n=this._lView,i=n[r.eDl];return cd(i,n,i.firstChild,[])}constructor(n,i){this._lView=n,this._cdRefInjectingView=i}get context(){return this._lView[r.SKP]}set context(n){this._lView[r.SKP]=n}get destroyed(){return(0,r.EPY)(this._lView)}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const n=this._lView[r.f7T];if((0,r.A0l)(n)){const i=n[r.bm_],u=i?i.indexOf(this):-1;u>-1&&(fd(n,u),(0,r.E6O)(i,u))}this._attachedToViewContainer=!1}Lt(this._lView[r.eDl],this._lView)}onDestroy(n){(0,r.ik5)(this._lView,n)}markForCheck(){Mc(this._cdRefInjectingView||this._lView,4)}detach(){this._lView[r.Wg1]&=-129}reattach(){(0,r._gW)(this._lView),this._lView[r.Wg1]|=128}detectChanges(){this._lView[r.Wg1]|=1024,ef(this._lView)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new r.buA(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;const n=(0,r.EFk)(this._lView),i=this._lView[r.rQE];null!==i&&!n&&jt(i,this._lView),nt(this._lView[r.eDl],this._lView)}attachToAppRef(n){if(this._attachedToViewContainer)throw new r.buA(902,!1);this._appRef=n;const i=(0,r.EFk)(this._lView),u=this._lView[r.rQE];null!==u&&!i&&gl(u,this._lView),(0,r._gW)(this._lView)}}let hd=(()=>class e{_declarationLView;_declarationTContainer;elementRef;static __NG_ELEMENT_ID__=gh;constructor(i,u,p){this._declarationLView=i,this._declarationTContainer=u,this.elementRef=p}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(i,u){return this.createEmbeddedViewImpl(i,u)}createEmbeddedViewImpl(i,u,p){const b=Hc(this._declarationLView,this._declarationTContainer,i,{embeddedViewInjector:u,dehydratedView:p});return new If(b)}})();function gh(){return kd((0,r.Mx4)(),(0,r.OAn)())}function kd(e,n){return 4&e.type?new hd(n,e,qn(e,n)):null}function _h(e,n,i){const u=n.insertBeforeIndex,p=Array.isArray(u)?u[0]:u;return null===p?Hr(e,0,i):(0,r.IvY)(i[p])}function vh(e,n,i,u,p){const b=n.insertBeforeIndex;if(Array.isArray(b)){let M=u,N=null;if(3&n.type||(N=M,M=p),null!==M&&-1===n.componentOffset)for(let G=1;G<b.length;G++)A(e,M,i[b[G]],N,!1)}}function Ju(e,n,i,u,p){let b=e.data[n];if(null===b)b=Pf(e,n,i,u,p),(0,r.JjR)()&&(b.flags|=32);else if(64&b.type){b.type=i,b.value=u,b.attrs=p;const M=(0,r.Ab)();b.injectorIndex=null===M?-1:M.injectorIndex}return(0,r.iMd)(b,!0),b}function Pf(e,n,i,u,p){const b=(0,r.veI)(),M=(0,r.YWB)(),G=e.data[n]=function ap(e,n,i,u,p,b){let M=n?n.injectorIndex:-1,N=0;return(0,r.KtD)()&&(N|=128),{type:i,index:u,insertBeforeIndex:null,injectorIndex:M,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,fieldIndex:-1,customControlIndex:-1,propertyBindings:null,flags:N,providerIndexes:0,value:p,attrs:b,mergedAttrs:null,localNames:null,initialInputs:null,inputs:null,hostDirectiveInputs:null,outputs:null,hostDirectiveOutputs:null,directiveToIndex:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:n,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,M?b:b&&b.parent,i,n,u,p);return function Ff(e,n,i,u){null===e.firstChild&&(e.firstChild=n),null!==i&&(u?null==i.child&&null!==n.parent&&(i.child=n):null===i.next&&(i.next=n,n.prev=i))}(e,G,b,M),G}function nf(e,n){if(e.push(n),e.length>1)for(let i=e.length-2;i>=0;i--){const u=e[i];Nf(u)||rf(u,n)&&null===Of(u)&&Nd(u,n.index)}}function Nf(e){return!(64&e.type)}function rf(e,n){return Nf(n)||e.index>n.index}function Of(e){const n=e.insertBeforeIndex;return Array.isArray(n)?n[0]:n}function Nd(e,n){const i=e.insertBeforeIndex;Array.isArray(i)?i[0]=n:(Ps(_h,vh),e.insertBeforeIndex=n)}function Jl(e,n){const i=e.data[n];return null===i||"string"==typeof i?null:i.hasOwnProperty("currentCaseLViewIndex")?i:i.value}function oa(e,n,i){const u=Pf(e,i,64,null,null);return nf(n,u),u}function ys(e,n){const i=n[e.currentCaseLViewIndex];return null===i?i:i<0?~i:i}function Bf(e){return e>>>17}function Vf(e){return(131070&e)>>>1}function f(e,n,i){e.index=0;const u=ys(n,i);e.removes=null!==u?n.remove[u]:r.Mlv}function _(e){if(e.index<e.removes.length){const n=e.removes[e.index++];return n>0?e.lView[n]:(e.stack.push(e.index,e.removes),f(e,e.lView[r.eDl].data[~n],e.lView),_(e))}return 0===e.stack.length?(e.lView=void 0,null):(e.removes=e.stack.pop(),e.index=e.stack.pop(),_(e))}function w(){const e={stack:[],index:-1};return function n(i,u){for(e.lView=u;e.stack.length;)e.stack.pop();return f(e,i.value,u),_.bind(null,e)}}function w0(e,n,i){for(const u of i.node.cases[i.case]){const p=n.get(u.index-r.Yw1);p&&Ee(e,p,!1)}}function Eh(e){const n=e[r.qFA]??[],u=e[r.f7T][r.GpT],p=[];for(const b of n)void 0!==b.data.di?p.push(b):eg(b,u);e[r.qFA]=p}function T0(e){const{lContainer:n}=e,i=n[r.qFA];if(null===i)return;const p=n[r.f7T][r.GpT];for(const b of i)eg(b,p)}function eg(e,n){let i=0,u=e.firstChild;if(u){const p=e.data.r;for(;i<p;){const b=u.nextSibling;Ee(n,u,!1),u=b,i++}}}function bh(e){Eh(e);const n=e[r.jgP];(0,r.q$2)(n)&&xh(n);for(let i=r.Y20;i<e.length;i++)xh(e[i])}function xh(e){!function D0(e){const n=e[r.tcA];if(n){const{i18nNodes:i,dehydratedIcuData:u}=n;if(i&&u){const p=e[r.GpT];for(const b of u.values())w0(p,i,b)}n.i18nNodes=void 0,n.dehydratedIcuData=void 0}}(e);const n=e[r.eDl];for(let i=r.Yw1;i<n.bindingStartIndex;i++)(0,r.A0l)(e[i])?bh(e[i]):(0,r.q$2)(e[i])&&xh(e[i])}let R0=class{},ag=class{};class P0{resolveComponentFactory(n){throw new r.buA(917,!1)}}let Hf=class{static NULL=new P0};class hp{}let F0=(()=>class e{destroyNode=null;static __NG_ELEMENT_ID__=()=>function pp(){const e=(0,r.OAn)(),n=(0,r.Mx4)(),i=(0,r.KdJ)(n.index,e);return((0,r.q$2)(i)?i:e)[r.GpT]}()})(),N0=(()=>{class e{static \u0275prov=(0,r.jDH)({token:e,providedIn:"root",factory:()=>null})}return e})();function gp(e){return void 0!==e.ngModule}function Od(e){return!!(0,r.phH)(e)}function Dh(e){return!!(0,r.oyA)(e)}function lg(e){return!!(0,r.HaV)(e)}function jf(e){return!!(0,r.xUg)(e)}function L0(e,n){if((0,r.Jzi)(e)&&!(e=(0,r.nl4)(e)))throw new Error(`Expected forwardRef function, imported from "${(0,r.PP7)(n)}", to return a standalone entity or NgModule but got "${(0,r.PP7)(e)||e}".`);if(null==(0,r.phH)(e)){const i=(0,r.xUg)(e)||(0,r.HaV)(e)||(0,r.oyA)(e);if(null==i)throw gp(e)?new Error(`A module with providers was imported from "${(0,r.PP7)(n)}". Modules with providers are not supported in standalone components imports.`):new Error(`The "${(0,r.PP7)(e)}" type, imported from "${(0,r.PP7)(n)}", must be a standalone component / directive / pipe or an NgModule. Did you forget to add the required @Component / @Directive / @Pipe or @NgModule annotation?`);if(!i.standalone){const u=function O0(e){return(0,r.xUg)(e)?"component":(0,r.HaV)(e)?"directive":(0,r.oyA)(e)?"pipe":"type"}(e);throw new Error(`The "${(0,r.PP7)(e)}" ${u}, imported from "${(0,r.PP7)(n)}", is not standalone. Does the ${u} have the standalone: false flag?`)}}}class B0{ownerNgModule=new Map;ngModulesWithSomeUnresolvedDecls=new Set;ngModulesScopeCache=new Map;standaloneComponentsScopeCache=new Map;resolveNgModulesDecls(){if(0!==this.ngModulesWithSomeUnresolvedDecls.size){for(const n of this.ngModulesWithSomeUnresolvedDecls){const i=(0,r.phH)(n);if(i?.declarations)for(const u of ns(i.declarations))jf(u)&&this.ownerNgModule.set(u,n)}this.ngModulesWithSomeUnresolvedDecls.clear()}}getComponentDependencies(n,i){this.resolveNgModulesDecls();const u=(0,r.xUg)(n);if(null===u)throw new Error(`Attempting to get component dependencies for a type that is not a component: ${n}`);if(u.standalone){const p=this.getStandaloneComponentScope(n,i);return p.compilation.isPoisoned?{dependencies:[]}:{dependencies:[...p.compilation.directives,...p.compilation.pipes,...p.compilation.ngModules]}}{if(!this.ownerNgModule.has(n))return{dependencies:[]};const p=this.getNgModuleScope(this.ownerNgModule.get(n));return p.compilation.isPoisoned?{dependencies:[]}:{dependencies:[...p.compilation.directives,...p.compilation.pipes]}}}registerNgModule(n,i){if(!Od(n))throw new Error(`Attempting to register a Type which is not NgModule as NgModule: ${n}`);this.ngModulesWithSomeUnresolvedDecls.add(n)}clearScopeCacheFor(n){this.ngModulesScopeCache.delete(n),this.standaloneComponentsScopeCache.delete(n)}getNgModuleScope(n){if(this.ngModulesScopeCache.has(n))return this.ngModulesScopeCache.get(n);const i=this.computeNgModuleScope(n);return this.ngModulesScopeCache.set(n,i),i}computeNgModuleScope(n){const i=(0,r.WbQ)(n),u={exported:{directives:new Set,pipes:new Set},compilation:{directives:new Set,pipes:new Set}};for(const p of ns(i.imports))if(Od(p)){const b=this.getNgModuleScope(p);gd(b.exported.directives,u.compilation.directives),gd(b.exported.pipes,u.compilation.pipes)}else{if(!(0,r.QuC)(p)){u.compilation.isPoisoned=!0;break}if(lg(p)||jf(p))u.compilation.directives.add(p);else{if(!Dh(p))throw new r.buA(980,"The standalone imported type is neither a component nor a directive nor a pipe");u.compilation.pipes.add(p)}}if(!u.compilation.isPoisoned)for(const p of ns(i.declarations)){if(Od(p)||(0,r.QuC)(p)){u.compilation.isPoisoned=!0;break}Dh(p)?u.compilation.pipes.add(p):u.compilation.directives.add(p)}for(const p of ns(i.exports))if(Od(p)){const b=this.getNgModuleScope(p);gd(b.exported.directives,u.exported.directives),gd(b.exported.pipes,u.exported.pipes),gd(b.exported.directives,u.compilation.directives),gd(b.exported.pipes,u.compilation.pipes)}else Dh(p)?u.exported.pipes.add(p):u.exported.directives.add(p);return u}getStandaloneComponentScope(n,i){if(this.standaloneComponentsScopeCache.has(n))return this.standaloneComponentsScopeCache.get(n);const u=this.computeStandaloneComponentScope(n,i);return this.standaloneComponentsScopeCache.set(n,u),u}computeStandaloneComponentScope(n,i){const u={compilation:{directives:new Set([n]),pipes:new Set,ngModules:new Set}};for(const p of(0,r.Bqz)(i??[])){const b=(0,r.nl4)(p);try{L0(b,n)}catch{return u.compilation.isPoisoned=!0,u}if(Od(b)){u.compilation.ngModules.add(b);const M=this.getNgModuleScope(b);if(M.exported.isPoisoned)return u.compilation.isPoisoned=!0,u;gd(M.exported.directives,u.compilation.directives),gd(M.exported.pipes,u.compilation.pipes)}else if(Dh(b))u.compilation.pipes.add(b);else{if(!lg(b)&&!jf(b))return u.compilation.isPoisoned=!0,u;u.compilation.directives.add(b)}}return u}isOrphanComponent(n){const i=(0,r.xUg)(n);return!(!i||i.standalone||(this.resolveNgModulesDecls(),this.ownerNgModule.has(n)))}}function gd(e,n){for(const i of e)n.add(i)}const Gf=new B0,mp={};class lf{injector;parentInjector;constructor(n,i){this.injector=n,this.parentInjector=i}get(n,i,u){const p=this.injector.get(n,mp,u);return p!==mp||i===mp?p:this.parentInjector.get(n,i,u)}}function wh(e,n,i){let u=i?e.styles:null,p=i?e.classes:null,b=0;if(null!==n)for(let M=0;M<n.length;M++){const N=n[M];if("number"==typeof N)b=N;else if(1==b)p=(0,r.n$e)(p,N);else if(2==b){const ce=n[++M];u=(0,r.n$e)(u,N+": "+ce+";")}}i?e.styles=u:e.stylesWithoutHost=u,i?e.classes=p:e.classesWithoutHost=p}function uf(e,n=0){const i=(0,r.OAn)();return null===i?(0,r.KVO)(e,n):Xi((0,r.Mx4)(),i,(0,r.nl4)(e),n)}function ug(){throw new Error("invalid")}function cg(e,n,i,u,p){const b=null===u?null:{"":-1},M=p(e,i);if(null!==M){let N=M,G=null,ce=null;for(const _e of M)if(null!==_e.resolveHostDirectives){[N,G,ce]=_e.resolveHostDirectives(M);break}!function H0(e,n,i,u,p,b,M){const N=u.length;let G=null;for(let Ct=0;Ct<N;Ct++){const Tt=u[Ct];null===G&&(0,r.JlV)(Tt)&&(G=Tt,U0(e,i,Ct)),ui(Vi(i,n),e,Tt.type)}(function z0(e,n,i){e.flags|=1,e.directiveStart=n,e.directiveEnd=n+i,e.providerIndexes=n})(i,e.data.length,N),G?.viewProvidersResolver&&G.viewProvidersResolver(G);for(let Ct=0;Ct<N;Ct++){const Tt=u[Ct];Tt.providersResolver&&Tt.providersResolver(Tt)}let ce=!1,_e=!1,We=Il(e,n,N,null);N>0&&(i.directiveToIndex=new Map);for(let Ct=0;Ct<N;Ct++){const Tt=u[Ct];if(i.mergedAttrs=sr(i.mergedAttrs,Tt.hostAttrs),j0(e,i,n,We,Tt),W0(We,Tt,p),null!==M&&M.has(Tt)){const[Wn,wr]=M.get(Tt);i.directiveToIndex.set(Tt.type,[We,Wn+i.directiveStart,wr+i.directiveStart])}else(null===b||!b.has(Tt))&&i.directiveToIndex.set(Tt.type,We);null!==Tt.contentQueries&&(i.flags|=4),(null!==Tt.hostBindings||null!==Tt.hostAttrs||0!==Tt.hostVars)&&(i.flags|=64);const cn=Tt.type.prototype;!ce&&(cn.ngOnChanges||cn.ngOnInit||cn.ngDoCheck)&&((e.preOrderHooks??=[]).push(i.index),ce=!0),!_e&&(cn.ngOnChanges||cn.ngDoCheck)&&((e.preOrderCheckHooks??=[]).push(i.index),_e=!0),We++}!function _p(e,n,i){for(let u=n.directiveStart;u<n.directiveEnd;u++){const p=e.data[u];if(null!==i&&i.has(p)){const b=i.get(p);vp(0,n,b,u),vp(1,n,b,u),hg(n,u,!0)}else dg(0,n,p,u),dg(1,n,p,u),hg(n,u,!1)}}(e,i,b)}(e,n,i,N,b,G,ce)}null!==b&&null!==u&&function V0(e,n,i){const u=e.localNames=[];for(let p=0;p<n.length;p+=2){const b=i[n[p+1]];if(null==b)throw new r.buA(-301,!1);u.push(n[p],b)}}(i,u,b)}function U0(e,n,i){n.componentOffset=i,(e.components??=[]).push(n.index)}function dg(e,n,i,u){const p=0===e?i.inputs:i.outputs;for(const b in p)if(p.hasOwnProperty(b)){let M;M=0===e?n.inputs??={}:n.outputs??={},M[b]??=[],M[b].push(u),fg(n,b)}}function vp(e,n,i,u){const p=0===e?i.inputs:i.outputs;for(const b in p)if(p.hasOwnProperty(b)){const M=p[b];let N;N=0===e?n.hostDirectiveInputs??={}:n.hostDirectiveOutputs??={},N[M]??=[],N[M].push(u,b),fg(n,M)}}function fg(e,n){"class"===n?e.flags|=8:"style"===n&&(e.flags|=16)}function hg(e,n,i){const{attrs:u,inputs:p,hostDirectiveInputs:b}=e;if(null===u||!i&&null===p||i&&null===b||yd(e))return e.initialInputs??=[],void e.initialInputs.push(null);let M=null,N=0;for(;N<u.length;){const G=u[N];if(0!==G)if(5!==G){if("number"==typeof G)break;if(!i&&p.hasOwnProperty(G)){const ce=p[G];for(const _e of ce)if(_e===n){M??=[],M.push(G,u[N+1]);break}}else if(i&&b.hasOwnProperty(G)){const ce=b[G];for(let _e=0;_e<ce.length;_e+=2)if(ce[_e]===n){M??=[],M.push(ce[_e+1],u[N+1]);break}}N+=2}else N+=2;else N+=4}e.initialInputs??=[],e.initialInputs.push(M)}function j0(e,n,i,u,p){e.data[u]=p;const b=p.factory||(p.factory=(0,r.wGu)(p.type,!0)),M=new Pr(b,(0,r.JlV)(p),uf,null);e.blueprint[u]=M,i[u]=M,function G0(e,n,i,u,p){const b=p.hostBindings;if(b){let M=e.hostBindingOpCodes;null===M&&(M=e.hostBindingOpCodes=[]);const N=~n.index;(function $0(e){let n=e.length;for(;n>0;){const i=e[--n];if("number"==typeof i&&i<0)return i}return 0})(M)!=N&&M.push(N),M.push(i,u,b)}}(e,n,u,Il(e,i,p.hostVars,Ho),p)}function W0(e,n,i){if(i){if(n.exportAs)for(let u=0;u<n.exportAs.length;u++)i[n.exportAs[u]]=e;(0,r.JlV)(n)&&(i[""]=e)}}function yp(e,n,i,u,p,b,M,N){const G=n[r.eDl],ce=G.consts,We=Ju(G,e,i,u,(0,r.db4)(ce,M));return b&&cg(G,n,We,(0,r.db4)(ce,N),p),We.mergedAttrs=sr(We.mergedAttrs,We.attrs),null!==We.attrs&&wh(We,We.attrs,!1),null!==We.mergedAttrs&&wh(We,We.mergedAttrs,!0),null!==G.queries&&G.queries.elementStart(G,We),We}function Cp(e,n){On(e,n),(0,r.srX)(n)&&e.queries.elementEnd(n)}function pg(e,n,i,u,p,b){const M=n.consts,G=Ju(n,e,i,u,(0,r.db4)(M,p));if(G.mergedAttrs=sr(G.mergedAttrs,G.attrs),null!=b){const ce=(0,r.db4)(M,b);G.localNames=[];for(let _e=0;_e<ce.length;_e+=2)G.localNames.push(ce[_e],-1)}return null!==G.attrs&&wh(G,G.attrs,!1),null!==G.mergedAttrs&&wh(G,G.mergedAttrs,!0),null!==n.queries&&n.queries.elementStart(n,G),G}function Ep(e){return!!mg(e)&&(Array.isArray(e)||!(e instanceof Map)&&Symbol.iterator in e)}function gg(e,n){if(Array.isArray(e))for(let i=0;i<e.length;i++)n(e[i]);else{const i=e[Symbol.iterator]();let u;for(;!(u=i.next()).done;)n(u.value)}}function mg(e){return null!==e&&("function"==typeof e||"object"==typeof e)}function Rc(e,n,i){return e[n]=i}function $f(e,n){return e[n]}function aa(e,n,i){return i!==Ho&&(!Object.is(e[n],i)&&(e[n]=i,!0))}function Ld(e,n,i,u){const p=aa(e,n,i);return aa(e,n+1,u)||p}function Th(e,n,i,u,p){const b=Ld(e,n,i,u);return aa(e,n+2,p)||b}function ec(e,n,i,u,p,b){const M=Ld(e,n,i,u);return Ld(e,n+2,p,b)||M}const _g=Symbol("CONTROL");function $c(e,n,i){return function u(p){Mc((0,r.Qs1)(e)?(0,r.KdJ)(e.index,n):n,5);const M=n[r.SKP];let N=vg(n,M,i,p),G=u.__ngNextListenerFn__;for(;G;)N=vg(n,M,G,p)&&N,G=G.__ngNextListenerFn__;return N}}function vg(e,n,i,u){const p=(0,R.Ht)(null);try{return bn(Gt.OutputStart,n,i),!1!==i(u)}catch(b){return Ef(e,b),!1}finally{bn(Gt.OutputEnd,n,i),(0,R.Ht)(p)}}function Sh(e,n,i,u,p,b,M,N){const G=(0,r.yoD)(e);let ce=!1,_e=null;if(!u&&G&&(_e=function Y0(e,n,i,u){const p=e.cleanup;if(null!=p)for(let b=0;b<p.length-1;b+=2){const M=p[b];if(M===i&&p[b+1]===u){const N=n[r.VVG],G=p[b+2];return N&&N.length>G?N[G]:null}"string"==typeof M&&(b+=2)}return null}(n,i,b,e.index)),null!==_e)(_e.__ngLastListenerFn__||_e).__ngNextListenerFn__=M,_e.__ngLastListenerFn__=M,ce=!0;else{const We=(0,r.d31)(e,i),Ct=u?u(We):We,Tt=p.listen(Ct,b,N);(function q0(e){return e.startsWith("animation")||e.startsWith("transition")})(b)||yg(u?Wn=>u((0,r.IvY)(Wn[e.index])):e.index,n,i,b,N,Tt,!1)}return ce}function yg(e,n,i,u,p,b,M){const N=n.firstCreatePass?(0,r.vNG)(n):null,G=(0,r.d_l)(i),ce=G.length;G.push(p,b),N&&N.push(u,e,ce,(ce+1)*(M?-1:1))}function cf(e,n,i,u,p,b){const N=n[r.eDl],We=n[i][N.data[i].outputs[u]].subscribe(b);yg(e.index,N,n,p,b,We,!0)}const Wc=Symbol("BINDING");class bg extends Hf{ngModule;constructor(n){super(),this.ngModule=n}resolveComponentFactory(n){const i=(0,r.xUg)(n);return new Ah(i,this.ngModule)}}class Ah extends ag{componentDef;ngModule;selector;componentType;ngContentSelectors;isBoundToModule;cachedInputs=null;cachedOutputs=null;get inputs(){return this.cachedInputs??=function im(e){return Object.keys(e).map(n=>{const[i,u,p]=e[n],b={propName:i,templateName:n,isSignal:0!==(u&ed.SignalBased)};return p&&(b.transform=p),b})}(this.componentDef.inputs),this.cachedInputs}get outputs(){return this.cachedOutputs??=function om(e){return Object.keys(e).map(n=>({propName:e[n],templateName:n}))}(this.componentDef.outputs),this.cachedOutputs}constructor(n,i){super(),this.componentDef=n,this.ngModule=i,this.componentType=n.type,this.selector=function mf(e){return e.map(Ed).join(",")}(n.selectors),this.ngContentSelectors=n.ngContentSelectors??[],this.isBoundToModule=!!i}create(n,i,u,p,b,M){bn(Gt.DynamicComponentStart);const N=(0,R.Ht)(null);try{const G=this.componentDef,ce=function cm(e,n,i,u){const p=e?["ng-version","21.0.8"]:function Jc(e){const n=[],i=[];let u=1,p=2;for(;u<e.length;){let b=e[u];if("string"==typeof b)2===p?""!==b&&n.push(b,e[++u]):8===p&&i.push(b);else{if(!Yl(p))break;p=b}u++}return i.length&&n.push(1,...i),n}(n.selectors[0]);let b=null,M=null,N=0;if(i)for(const _e of i)N+=_e[Wc].requiredVars,_e.create&&(_e.targetIdx=0,(b??=[]).push(_e)),_e.update&&(_e.targetIdx=0,(M??=[]).push(_e));if(u)for(let _e=0;_e<u.length;_e++){const We=u[_e];if("function"!=typeof We)for(const Ct of We.bindings){N+=Ct[Wc].requiredVars;const Tt=_e+1;Ct.create&&(Ct.targetIdx=Tt,(b??=[]).push(Ct)),Ct.update&&(Ct.targetIdx=Tt,(M??=[]).push(Ct))}}const G=[n];if(u)for(const _e of u){const Ct=(0,r.HaV)("function"==typeof _e?_e:_e.type);G.push(Ct)}return Oc(0,null,function dm(e,n){return e||n?i=>{if(1&i&&e)for(const u of e)u.create();if(2&i&&n)for(const u of n)u.update()}:null}(b,M),1,N,G,null,null,null,[p],null)}(u,G,M,b),_e=function sm(e,n,i){let u=n instanceof r.uvJ?n:n?.injector;return u&&null!==e.getStandaloneInjector&&(u=e.getStandaloneInjector(u)||u),u?new lf(i,u):i}(G,p||this.ngModule,n),We=function am(e){const n=e.get(hp,null);if(null===n)throw new r.buA(407,!1);return{rendererFactory:n,sanitizer:e.get(N0,null),changeDetectionScheduler:e.get(r.hk6,null),ngReflect:!1}}(_e),Ct=We.rendererFactory.createRenderer(null,G),Tt=u?function Cu(e,n,i,u){const b=u.get(he,!1)||i===se.ShadowDom||i===se.ExperimentalIsolatedShadowDom,M=e.selectRootElement(n,b);return function Ss(e){ud(e)}(M),M}(Ct,u,G.encapsulation,_e):function lm(e,n){const i=function um(e){return(e.selectors[0][0]||"div").toLowerCase()}(e);return g(n,i,"svg"===i?r.jNX:"math"===i?r.rJ1:null)}(G,Ct),cn=M?.some(xg)||b?.some(ei=>"function"!=typeof ei&&ei.bindings.some(xg)),Wn=wc(null,ce,null,512|Lc(G),null,null,We,Ct,_e,null,null);Wn[r.Yw1]=Tt,(0,r.ID8)(Wn);let wr=null;try{const ei=yp(r.Yw1,Wn,2,"#host",()=>ce.directiveRegistry,!0,0);xn(Ct,Tt,ei),dn(Tt,Wn),fu(ce,Wn,ei),z(ce,ei,Wn),Cp(ce,ei),void 0!==i&&function hm(e,n,i){const u=e.projection=[];for(let p=0;p<n.length;p++){const b=i[p];u.push(null!=b&&b.length?Array.from(b):null)}}(ei,this.ngContentSelectors,i),wr=(0,r.KdJ)(ei.index,Wn),Wn[r.SKP]=wr[r.SKP],Yd(ce,Wn,null)}catch(ei){throw null!==wr&&Xs(wr),Xs(Wn),ei}finally{bn(Gt.DynamicComponentEnd),(0,r.bll)()}return new fm(this.componentType,Wn,!!cn)}finally{(0,R.Ht)(N)}}}function xg(e){const n=e[Wc].kind;return"input"===n||"twoWay"===n}class fm extends R0{_rootLView;_hasInputBindings;instance;hostView;changeDetectorRef;componentType;location;previousInputValues=null;_tNode;constructor(n,i,u){super(),this._rootLView=i,this._hasInputBindings=u,this._tNode=(0,r.XRZ)(i[r.eDl],r.Yw1),this.location=qn(this._tNode,i),this.instance=(0,r.KdJ)(this._tNode.index,i)[r.SKP],this.hostView=this.changeDetectorRef=new If(i,void 0),this.componentType=n}setInput(n,i){const u=this._tNode;if(this.previousInputValues??=new Map,this.previousInputValues.has(n)&&Object.is(this.previousInputValues.get(n),i))return;const p=this._rootLView;qd(u,p[r.eDl],p,n,i),this.previousInputValues.set(n,i),Mc((0,r.KdJ)(u.index,p),1)}get injector(){return new Xr(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(n){this.hostView.onDestroy(n)}}let Mh=(()=>class e{static __NG_ELEMENT_ID__=pm})();function pm(){return Tg((0,r.Mx4)(),(0,r.OAn)())}const gm=Mh,Dg=class extends gm{_lContainer;_hostTNode;_hostLView;constructor(n,i,u){super(),this._lContainer=n,this._hostTNode=i,this._hostLView=u}get element(){return qn(this._hostTNode,this._hostLView)}get injector(){return new Xr(this._hostTNode,this._hostLView)}get parentInjector(){const n=Di(this._hostTNode,this._hostLView);if(Zn(n)){const i=Fn(n,this._hostLView),u=Fi(n);return new Xr(i[r.eDl].data[u+8],i)}return new Xr(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(n){const i=wg(this._lContainer);return null!==i&&i[n]||null}get length(){return this._lContainer.length-r.Y20}createEmbeddedView(n,i,u){let p,b;"number"==typeof u?p=u:null!=u&&(p=u.index,b=u.injector);const N=n.createEmbeddedViewImpl(i||{},b,null);return this.insertImpl(N,p,Sc(this._hostTNode,null)),N}createComponent(n,i,u,p,b,M,N){const G=n&&!st(n);let ce;if(G)ce=i;else{const wr=i||{};ce=wr.index,u=wr.injector,p=wr.projectableNodes,b=wr.environmentInjector||wr.ngModuleRef,M=wr.directives,N=wr.bindings}const _e=G?n:new Ah((0,r.xUg)(n)),We=u||this.parentInjector;if(!b&&null==_e.ngModule){const ei=(G?We:this.parentInjector).get(r.uvJ,null);ei&&(b=ei)}(0,r.xUg)(_e.componentType??{});const Wn=_e.create(We,p,null,b,M,N);return this.insertImpl(Wn.hostView,ce,Sc(this._hostTNode,null)),Wn}insert(n,i){return this.insertImpl(n,i,!0)}insertImpl(n,i,u){const p=n._lView;if((0,r.ITl)(p)){const N=this.indexOf(n);if(-1!==N)this.detach(N);else{const G=p[r.f7T],ce=new Dg(G,G[r.qlT],G[r.f7T]);ce.detach(ce.indexOf(n))}}const b=this._adjustIndex(i),M=this._lContainer;return Qu(M,p,b,u),n.attachToViewContainerRef(),(0,r.EYC)(bp(M),b,n),n}move(n,i){return this.insert(n,i)}indexOf(n){const i=wg(this._lContainer);return null!==i?i.indexOf(n):-1}remove(n){const i=this._adjustIndex(n,-1),u=fd(this._lContainer,i);u&&((0,r.E6O)(bp(this._lContainer),i),Lt(u[r.eDl],u))}detach(n){const i=this._adjustIndex(n,-1),u=fd(this._lContainer,i);return u&&null!=(0,r.E6O)(bp(this._lContainer),i)?new If(u):null}_adjustIndex(n,i=0){return n??this.length+i}};function wg(e){return e[r.bm_]}function bp(e){return e[r.bm_]||(e[r.bm_]=[])}function Tg(e,n){let i;const u=n[e.index];return(0,r.A0l)(u)?i=u:(i=Mf(u,n,null,e),n[e.index]=i,Bc(n,i)),Sg(i,n,e,u),new Dg(i,e,n)}let Sg=function Mg(e,n,i,u){if(e[r.s6P])return;let p;p=8&i.type?(0,r.IvY)(u):function mm(e,n){const i=e[r.GpT],u=i.createComment(""),p=(0,r.d31)(n,e),b=i.parentNode(p);return A(i,b,u,i.nextSibling(p),!1),u}(n,i),e[r.s6P]=p};class Dp{queryList;matches=null;constructor(n){this.queryList=n}clone(){return new Dp(this.queryList)}setDirty(){this.queryList.setDirty()}}class wp{queries;constructor(n=[]){this.queries=n}createEmbeddedView(n){const i=n.queries;if(null!==i){const u=null!==n.contentQueries?n.contentQueries[0]:i.length,p=[];for(let b=0;b<u;b++){const M=i.getByIndex(b);p.push(this.queries[M.indexInDeclarationView].clone())}return new wp(p)}return null}insertView(n){this.dirtyQueriesWithMatches(n)}detachView(n){this.dirtyQueriesWithMatches(n)}finishViewCreation(n){this.dirtyQueriesWithMatches(n)}dirtyQueriesWithMatches(n){for(let i=0;i<this.queries.length;i++)null!==ut(n,i).matches&&this.queries[i].setDirty()}}class Ig{flags;read;predicate;constructor(n,i,u=null){this.flags=i,this.read=u,this.predicate="string"==typeof n?function te(e){return e.split(",").map(n=>n.trim())}(n):n}}class Tp{queries;constructor(n=[]){this.queries=n}elementStart(n,i){for(let u=0;u<this.queries.length;u++)this.queries[u].elementStart(n,i)}elementEnd(n){for(let i=0;i<this.queries.length;i++)this.queries[i].elementEnd(n)}embeddedTView(n){let i=null;for(let u=0;u<this.length;u++){const p=null!==i?i.length:0,b=this.getByIndex(u).embeddedTView(n,p);b&&(b.indexInDeclarationView=u,null!==i?i.push(b):i=[b])}return null!==i?new Tp(i):null}template(n,i){for(let u=0;u<this.queries.length;u++)this.queries[u].template(n,i)}getByIndex(n){return this.queries[n]}get length(){return this.queries.length}track(n){this.queries.push(n)}}class Sp{metadata;matches=null;indexInDeclarationView=-1;crossesNgTemplate=!1;_declarationNodeIndex;_appliesToNextNode=!0;constructor(n,i=-1){this.metadata=n,this._declarationNodeIndex=i}elementStart(n,i){this.isApplyingToNode(i)&&this.matchTNode(n,i)}elementEnd(n){this._declarationNodeIndex===n.index&&(this._appliesToNextNode=!1)}template(n,i){this.elementStart(n,i)}embeddedTView(n,i){return this.isApplyingToNode(n)?(this.crossesNgTemplate=!0,this.addMatch(-n.index,i),new Sp(this.metadata)):null}isApplyingToNode(n){if(this._appliesToNextNode&&1&~this.metadata.flags){const i=this._declarationNodeIndex;let u=n.parent;for(;null!==u&&8&u.type&&u.index!==i;)u=u.parent;return i===(null!==u?u.index:-1)}return this._appliesToNextNode}matchTNode(n,i){const u=this.metadata.predicate;if(Array.isArray(u))for(let p=0;p<u.length;p++){const b=u[p];this.matchTNodeWithReadOption(n,i,ym(i,b)),this.matchTNodeWithReadOption(n,i,Wi(i,n,b,!1,!1))}else u===hd?4&i.type&&this.matchTNodeWithReadOption(n,i,-1):this.matchTNodeWithReadOption(n,i,Wi(i,n,u,!1,!1))}matchTNodeWithReadOption(n,i,u){if(null!==u){const p=this.metadata.read;if(null!==p)if(p===tr||p===Mh||p===hd&&4&i.type)this.addMatch(i.index,-2);else{const b=Wi(i,n,p,!1,!1);null!==b&&this.addMatch(i.index,b)}else this.addMatch(i.index,u)}}addMatch(n,i){null===this.matches?this.matches=[n,i]:this.matches.push(n,i)}}function ym(e,n){const i=e.localNames;if(null!==i)for(let u=0;u<i.length;u+=2)if(i[u]===n)return i[u+1];return null}function X_(e,n,i,u){return-1===i?function Cm(e,n){return 11&e.type?qn(e,n):4&e.type?kd(e,n):null}(n,e):-2===i?function q_(e,n,i){return i===tr?qn(n,e):i===hd?kd(n,e):i===Mh?Tg(n,e):void 0}(e,n,u):wi(e,e[r.eDl],i,n)}function c(e,n,i,u){const p=n[r.Ds7].queries[u];if(null===p.matches){const b=e.data,M=i.matches,N=[];for(let G=0;null!==M&&G<M.length;G+=2){const ce=M[G];N.push(ce<0?null:X_(n,b[ce],M[G+1],i.metadata.read))}p.matches=N}return p.matches}function T(e,n,i,u){const p=e.queries.getByIndex(i),b=p.matches;if(null!==b){const M=c(e,n,p,i);for(let N=0;N<b.length;N+=2){const G=b[N];if(G>0)u.push(M[N/2]);else{const ce=b[N+1],_e=n[-G];for(let We=r.Y20;We<_e.length;We++){const Ct=_e[We];Ct[r.rQE]===Ct[r.f7T]&&T(Ct[r.eDl],Ct,ce,u)}if(null!==_e[r.nfM]){const We=_e[r.nfM];for(let Ct=0;Ct<We.length;Ct++){const Tt=We[Ct];T(Tt[r.eDl],Tt,ce,u)}}}}}return u}function l(e,n){return e[r.Ds7].queries[n].queryList}function h(e,n,i){const u=new To(!(4&~i));return(0,r.B22)(e,n,u,u.destroy),(n[r.Ds7]??=new wp).queries.push(new Dp(u))-1}function E(e,n,i){const u=(0,r.klJ)();return u.firstCreatePass&&(Fe(u,new Ig(e,n,i),-1),!(2&~n)&&(u.staticViewQueries=!0)),h(u,(0,r.OAn)(),n)}function P(e,n,i,u){const p=(0,r.klJ)();if(p.firstCreatePass){const b=(0,r.Mx4)();Fe(p,new Ig(n,i,u),b.index),function Qe(e,n){const i=e.contentQueries||(e.contentQueries=[]);n!==(i.length?i[i.length-1]:-1)&&i.push(e.queries.length-1,n)}(p,e),!(2&~i)&&(p.staticContentQueries=!0)}return h(p,(0,r.OAn)(),i)}function Fe(e,n,i){null===e.queries&&(e.queries=new Tp),e.queries.track(new Sp(n,i))}function ut(e,n){return e.queries.getByIndex(n)}function Rt(e,n){const i=e[r.eDl],u=ut(i,n);return u.crossesNgTemplate?T(i,e,n,[]):c(i,e,u,n)}function Zt(e,n,i){let u;const p=(0,R.KZ)(()=>{u._dirtyCounter();const b=function Pn(e,n){const i=e._lView,u=e._queryIndex;if(void 0===i||void 0===u||4&i[r.Wg1])return n?void 0:r.Mlv;const p=l(i,u),b=Rt(i,u);return p.reset(b,Yi),n?p.first:p._changesDetected||void 0===e._flatValue?e._flatValue=p.toArray():e._flatValue}(u,e);if(n&&void 0===b)throw new r.buA(-951,!1);return b});return u=p[R.bh],u._dirtyCounter=(0,r.vPA)(0),u._flatValue=void 0,p}function Yt(e){return Zt(!0,!1)}function Mn(e){return Zt(!0,!0)}function ai(e,n){const i=e[R.bh];i._lView=(0,r.OAn)(),i._queryIndex=n,i._queryList=l(i._lView,n),i._queryList.onDirty(()=>i._dirtyCounter.update(u=>u+1))}let Dn=new Map;const br=new Set;function Dr(e){return Jr.apply(this,arguments)}function Jr(){return Jr=(0,L.A)(function*(e){const n=Dn;Dn=new Map;const i=new Map;function u(b){const M=i.get(b);if(M)return M;const N=e(b).then(G=>function Wr(e,n){return qo.apply(this,arguments)}(b,G));return i.set(b,N),N}const p=Array.from(n).map(function(){var b=(0,L.A)(function*([M,N]){if(N.styleUrl&&N.styleUrls?.length)throw new Error("@Component cannot define both `styleUrl` and `styleUrls`. Use `styleUrl` if the component has one stylesheet, or `styleUrls` if it has multiple");const G=[];N.templateUrl&&G.push(u(N.templateUrl).then(Ct=>{N.template=Ct}));const ce="string"==typeof N.styles?[N.styles]:N.styles??[];N.styles=ce;let{styleUrl:_e,styleUrls:We}=N;if(_e&&(We=[_e],N.styleUrl=void 0),We?.length){const Ct=Promise.all(We.map(Tt=>u(Tt))).then(Tt=>{ce.push(...Tt),N.styleUrls=void 0});G.push(Ct)}yield Promise.all(G),br.delete(M)});return function(M){return b.apply(this,arguments)}}());yield Promise.all(p)}),Jr.apply(this,arguments)}function Ki(){return 0===Dn.size}function qo(){return(qo=(0,L.A)(function*(e,n){if("string"==typeof n)return n;if(void 0!==n.status&&200!==n.status)throw new r.buA(918,!1);return n.text()})).apply(this,arguments)}const _o=new Map;function Vn(e,n){(function Vr(e,n,i){if(n&&n!==i)throw new r.buA(921,!1)})(0,_o.get(n)||null,e),_o.set(n,e)}let Nr=class{},Ci=class{};function ji(e,n){return new Zl(e,n??null,[])}class Zl extends Nr{ngModuleType;_parent;_bootstrapComponents=[];_r3Injector;instance;destroyCbs=[];componentFactoryResolver=new bg(this);constructor(n,i,u,p=!0){super(),this.ngModuleType=n,this._parent=i;const b=(0,r.phH)(n);this._bootstrapComponents=ns(b.bootstrap),this._r3Injector=(0,r.Pz9)(n,i,[{provide:Nr,useValue:this},{provide:Hf,useValue:this.componentFactoryResolver},...u],(0,r.AsM)(n),new Set(["environment"])),p&&this.resolveInjectorInitializers()}resolveInjectorInitializers(){this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(this.ngModuleType)}get injector(){return this._r3Injector}destroy(){const n=this._r3Injector;!n.destroyed&&n.destroy(),this.destroyCbs.forEach(i=>i()),this.destroyCbs=null}onDestroy(n){this.destroyCbs.push(n)}}class Oa extends Ci{moduleType;constructor(n){super(),this.moduleType=n}create(n){return new Zl(this.moduleType,n,[])}}function eu(e,n,i){return new Zl(e,n,i,!1)}class hu extends Nr{injector;componentFactoryResolver=new bg(this);instance=null;constructor(n){super();const i=new r.e5P([...n.providers,{provide:Nr,useValue:this},{provide:Hf,useValue:this.componentFactoryResolver}],n.parent||(0,r.WB9)(),n.debugName,new Set(["environment"]));this.injector=i,n.runEnvironmentInitializers&&i.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(n){this.injector.onDestroy(n)}}function Ns(e,n,i=null){return new hu({providers:e,parent:n,debugName:i,runEnvironmentInitializers:!0}).injector}let pu=(()=>{class e{_injector;cachedInjectors=new Map;constructor(i){this._injector=i}getOrCreateStandaloneInjector(i){if(!i.standalone)return null;if(!this.cachedInjectors.has(i)){const u=(0,r.jXY)(!1,i.type),p=u.length>0?Ns([u],this._injector,""):null;this.cachedInjectors.set(i,p)}return this.cachedInjectors.get(i)}ngOnDestroy(){try{for(const i of this.cachedInjectors.values())null!==i&&i.destroy()}finally{this.cachedInjectors.clear()}}static \u0275prov=(0,r.jDH)({token:e,providedIn:"environment",factory:()=>new e((0,r.KVO)(r.uvJ))})}return e})();function Bd(e){return Ae(()=>{const n=Pg(e),i={...n,decls:e.decls,vars:e.vars,template:e.template,consts:e.consts||null,ngContentSelectors:e.ngContentSelectors,onPush:e.changeDetection===Os.OnPush,directiveDefs:null,pipeDefs:null,dependencies:n.standalone&&e.dependencies||null,getStandaloneInjector:n.standalone?p=>p.get(pu).getOrCreateStandaloneInjector(i):null,getExternalStyles:null,signals:e.signals??!1,data:e.data||{},encapsulation:e.encapsulation||se.Emulated,styles:e.styles||r.Mlv,_:null,schemas:e.schemas||null,tView:null,id:""};n.standalone&&nl("NgStandalone"),io(i);const u=e.dependencies;return i.directiveDefs=Ka(u,df),i.pipeDefs=Ka(u,r.oyA),i.id=function md(e){let n=0;const u=[e.selectors,e.ngContentSelectors,e.hostVars,e.hostAttrs,"function"==typeof e.consts?"":e.consts,e.vars,e.decls,e.encapsulation,e.standalone,e.signals,e.exportAs,JSON.stringify(e.inputs),JSON.stringify(e.outputs),Object.getOwnPropertyNames(e.type.prototype),!!e.contentQueries,!!e.viewQuery];for(const b of u.join("|"))n=Math.imul(31,n)+b.charCodeAt(0)|0;return n+=2147483648,"c"+n}(i),i})}function df(e){return(0,r.xUg)(e)||(0,r.HaV)(e)}function Ap(e){return Ae(()=>({type:e.type,bootstrap:e.bootstrap||r.Mlv,declarations:e.declarations||r.Mlv,imports:e.imports||r.Mlv,exports:e.exports||r.Mlv,transitiveCompileScopes:null,schemas:e.schemas||null,id:e.id||null}))}function kg(e,n){if(null==e)return r.MZA;const i={};for(const u in e)if(e.hasOwnProperty(u)){const p=e[u];let b,M,N,G;Array.isArray(p)?(N=p[0],b=p[1],M=p[2]??b,G=p[3]||null):(b=p,M=p,N=ed.None,G=null),i[b]=[u,N,G],n[b]=M}return i}function Vd(e){if(null==e)return r.MZA;const n={};for(const i in e)e.hasOwnProperty(i)&&(n[e[i]]=i);return n}function Mp(e){return Ae(()=>{const n=Pg(e);return io(n),n})}function Rg(e){return{type:e.type,name:e.name,factory:null,pure:!1!==e.pure,standalone:e.standalone??!0,onDestroy:e.type.prototype.ngOnDestroy||null}}function Pg(e){const n={};return{type:e.type,providersResolver:null,viewProvidersResolver:null,factory:null,hostBindings:e.hostBindings||null,hostVars:e.hostVars||0,hostAttrs:e.hostAttrs||null,contentQueries:e.contentQueries||null,declaredInputs:n,inputConfig:e.inputs||r.MZA,exportAs:e.exportAs||null,standalone:e.standalone??!0,signals:!0===e.signals,selectors:e.selectors||r.Mlv,viewQuery:e.viewQuery||null,features:e.features||null,setInput:null,resolveHostDirectives:null,hostDirectives:null,inputs:kg(e.inputs,n),outputs:Vd(e.outputs),debugInfo:null}}function io(e){e.features?.forEach(n=>n(e))}function Ka(e,n){return e?()=>{const i="function"==typeof e?e():e,u=[];for(const p of i){const b=n(p);null!==b&&u.push(b)}return u}:null}function k1(e){const n=[];let i=!1,u=null,p=null;for(let b=0;b<e.length;b++){const M=e[b];if(null!==M.hostDirectives){const N=n.length;u??=new Map,p??=new Map,Y_(M,n,u),p.set(M,[N,n.length-1])}0===b&&(0,r.JlV)(M)&&(i=!0,n.push(M))}for(let b=i?1:0;b<e.length;b++)n.push(e[b]);return[n,u,p]}function Y_(e,n,i){if(null!==e.hostDirectives)for(const u of e.hostDirectives)if("function"==typeof u){const p=u();for(const b of p)Q_(Em(b),n,i)}else Q_(u,n,i)}function Q_(e,n,i){const u=(0,r.HaV)(e.directive);(function R1(e,n){for(const i in n)n.hasOwnProperty(i)&&(e[n[i]]=e[i])})(u.declaredInputs,e.inputs),Y_(u,n,i),i.set(u,e),n.push(u)}function Em(e){return"function"==typeof e?{directive:(0,r.nl4)(e),inputs:r.MZA,outputs:r.MZA}:{directive:(0,r.nl4)(e.directive),inputs:J_(e.inputs),outputs:J_(e.outputs)}}function J_(e){if(void 0===e||0===e.length)return r.MZA;const n={};for(let i=0;i<e.length;i+=2)n[e[i]]=e[i+1];return n}function bm(e){let n=function P1(e){return Object.getPrototypeOf(e.prototype).constructor}(e.type),i=!0;const u=[e];for(;n;){let p;if((0,r.JlV)(e))p=n.\u0275cmp||n.\u0275dir;else{if(n.\u0275cmp)throw new r.buA(903,!1);p=n.\u0275dir}if(p){if(i){u.push(p);const M=e;M.inputs=xm(e.inputs),M.declaredInputs=xm(e.declaredInputs),M.outputs=xm(e.outputs);const N=p.hostBindings;N&&B1(e,N);const G=p.viewQuery,ce=p.contentQueries;if(G&&O1(e,G),ce&&L1(e,ce),F1(e,p),(0,r.dwj)(e.outputs,p.outputs),(0,r.JlV)(p)&&p.data.animation){const _e=e.data;_e.animation=(_e.animation||[]).concat(p.data.animation)}}const b=p.features;if(b)for(let M=0;M<b.length;M++){const N=b[M];N&&N.ngInherit&&N(e),N===bm&&(i=!1)}}n=Object.getPrototypeOf(n)}!function N1(e){let n=0,i=null;for(let u=e.length-1;u>=0;u--){const p=e[u];p.hostVars=n+=p.hostVars,p.hostAttrs=sr(p.hostAttrs,i=sr(i,p.hostAttrs))}}(u)}function F1(e,n){for(const i in n.inputs){if(!n.inputs.hasOwnProperty(i)||e.inputs.hasOwnProperty(i))continue;const u=n.inputs[i];void 0!==u&&(e.inputs[i]=u,e.declaredInputs[i]=n.declaredInputs[i])}}function xm(e){return e===r.MZA?{}:e===r.Mlv?[]:e}function O1(e,n){const i=e.viewQuery;e.viewQuery=i?(u,p)=>{n(u,p),i(u,p)}:n}function L1(e,n){const i=e.contentQueries;e.contentQueries=i?(u,p,b)=>{n(u,p,b),i(u,p,b)}:n}function B1(e,n){const i=e.hostBindings;e.hostBindings=i?(u,p)=>{n(u,p),i(u,p)}:n}function ev(e,n,i,u,p,b,M,N){if(i.firstCreatePass){e.mergedAttrs=sr(e.mergedAttrs,e.attrs);const _e=e.tView=Oc(2,e,p,b,M,i.directiveRegistry,i.pipeRegistry,null,i.schemas,i.consts,null);null!==i.queries&&(i.queries.template(i,e),_e.queries=i.queries.embeddedTView(e))}N&&(e.flags|=N),(0,r.iMd)(e,!1);const G=nv(i,n,e,u);(0,r.SX7)()&&rs(i,n,G,e),dn(G,n);const ce=Mf(G,n,G,e);n[u+r.Yw1]=ce,Bc(n,ce)}function zf(e,n,i,u,p,b,M,N,G,ce,_e){const We=i+r.Yw1;let Ct;if(n.firstCreatePass){if(Ct=Ju(n,We,4,M||null,N||null),null!=ce){const Tt=(0,r.db4)(n.consts,ce);Ct.localNames=[];for(let cn=0;cn<Tt.length;cn+=2)Ct.localNames.push(Tt[cn],-1)}}else Ct=n.data[We];return ev(Ct,e,n,i,u,p,b,G),null!=ce&&ia(e,Ct,_e),Ct}function Dm(e,n,i,u,p,b,M,N){const G=(0,r.OAn)(),ce=(0,r.klJ)();return function V1(e,n,i,u,p,b,M,N,G,ce,_e){const We=i+r.Yw1;let Ct;n.firstCreatePass?(Ct=Ju(n,We,4,M||null,N||null),(0,r.ckz)()&&cg(n,e,Ct,(0,r.db4)(n.consts,ce),Td),On(n,Ct)):Ct=n.data[We],ev(Ct,e,n,i,u,p,b,G),(0,r.yoD)(Ct)&&fu(n,e,Ct),null!=ce&&ia(e,Ct,_e)}(G,ce,e,n,i,u,p,(0,r.db4)(ce.consts,b),void 0,M,N),Dm}let nv=function rv(e,n,i,u){return(0,r.m7n)(!0),n[r.GpT].createComment("")};var xl=function(e){return e[e.NOT_STARTED=0]="NOT_STARTED",e[e.IN_PROGRESS=1]="IN_PROGRESS",e[e.COMPLETE=2]="COMPLETE",e[e.FAILED=3]="FAILED",e}(xl||{}),ua=function(e){return e[e.Placeholder=0]="Placeholder",e[e.Loading=1]="Loading",e[e.Complete=2]="Complete",e[e.Error=3]="Error",e}(ua||{}),Ih=function(e){return e[e.Initial=-1]="Initial",e}(Ih||{}),ov=function(e){return e[e.Manual=0]="Manual",e[e.Playthrough=1]="Playthrough",e}(ov||{});function kp(e,n,i){const u=av(e);null===n[u]&&(n[u]=[]),n[u].push(i)}function Og(e,n){const i=av(e),u=n[i];if(null!==u){for(const p of u)p();n[i]=null}}function sv(e){Og(1,e),Og(0,e),Og(2,e)}function av(e){let n=4;return 1===e?n=5:2===e&&(n=9),n}function Rp(e){return e+1}function tc(e,n){return e[Rp(n.index)]}function gu(e,n){const i=Rp(n.index);return e.data[i]}function wm(e,n){return n===ua.Placeholder?e.placeholderBlockConfig?.[0]??null:n===ua.Loading?e.loadingBlockConfig?.[0]??null:null}function lv(e){return e.loadingBlockConfig?.[1]??null}function uv(e,n){if(!e||0===e.length)return n;const i=new Set(e);for(const u of n)i.add(u);return e.length===i.size?e:Array.from(i)}function Tm(e,n,i,u){const p=i.get(r.SKi);return function _t(e,n,i,u){const p=St(u);let b=Ua.get(e)?.get(p);q.has(p)||q.set(p,{observer:i(u),count:0});const M=q.get(p);if(!b){b=new ae,M.observer.observe(e);let N=Ua.get(e);N?N.set(p,b):(N=new Map,Ua.set(e,N)),N.set(p,b),M.count++}return b.callbacks.add(n),()=>{if(Ua.get(e)?.has(p)){if(b.callbacks.delete(n),0===b.callbacks.size){M.observer.unobserve(e),M.count--;const N=Ua.get(e);N&&(N.delete(p),0===N.size&&Ua.delete(e))}0===M.count&&(M.observer.disconnect(),q.delete(p))}}}(e,()=>p.run(n),b=>p.runOutsideAngular(()=>function Je(e){const n=St(e);return new IntersectionObserver(i=>{for(const u of i)u.isIntersecting&&Ua.has(u.target)&&Ua.get(u.target)?.get(n)?.listener()},e)}(b)),u)}function Ph(e,n,i,u,p,b,M,N){const G=e[r.YEL],ce=G.get(r.SKi);let _e;_e=function ta(e,n){const i=n?.injector??(0,r.WQX)(r.zZn);return nl("NgAfterRender"),wd(e,i,n,!1)}({read:function We(){if((0,r.EPY)(e))return void _e.destroy();const Ct=tc(e,n),Tt=Ct[1];if(Tt!==Ih.Initial&&Tt!==ua.Placeholder)return void _e.destroy();const cn=function q1(e,n,i){return null==i?e:i>=0?(0,r.jRZ)(i,e):e[n.index][r.Y20]??null}(e,n,u);if(!cn||(_e.destroy(),(0,r.EPY)(cn)))return;const Wn=function Y1(e,n){return(0,r.vaC)(r.Yw1+n,e)}(cn,i),wr=p(Wn,()=>{ce.run(()=>{e!==cn&&(0,r.DyX)(cn,wr),b()})},G,N);e!==cn&&(0,r.ik5)(cn,wr),kp(M,Ct,wr)}},{injector:G})}function Lg(e,n){const i=n.get(Z1);return i.add(e),()=>i.remove(e)}let Z1=(()=>{class e{executingCallbacks=!1;idleId=null;current=new Set;deferred=new Set;ngZone=(0,r.WQX)(r.SKi);requestIdleCallbackFn=(()=>typeof requestIdleCallback<"u"?requestIdleCallback:setTimeout)().bind(globalThis);cancelIdleCallbackFn=(()=>typeof requestIdleCallback<"u"?cancelIdleCallback:clearTimeout)().bind(globalThis);add(i){(this.executingCallbacks?this.deferred:this.current).add(i),null===this.idleId&&this.scheduleIdleCallback()}remove(i){const{current:u,deferred:p}=this;u.delete(i),p.delete(i),0===u.size&&0===p.size&&this.cancelIdleCallback()}scheduleIdleCallback(){const i=()=>{this.cancelIdleCallback(),this.executingCallbacks=!0;for(const u of this.current)u();if(this.current.clear(),this.executingCallbacks=!1,this.deferred.size>0){for(const u of this.deferred)this.current.add(u);this.deferred.clear(),this.scheduleIdleCallback()}};this.idleId=this.requestIdleCallbackFn(()=>this.ngZone.run(i))}cancelIdleCallback(){null!==this.idleId&&(this.cancelIdleCallbackFn(this.idleId),this.idleId=null)}ngOnDestroy(){this.cancelIdleCallback(),this.current.clear(),this.deferred.clear()}static \u0275prov=(0,r.jDH)({token:e,providedIn:"root",factory:()=>new e})}return e})();function Bg(e){return(n,i)=>dv(e,n,i)}function dv(e,n,i){const u=i.get(eE),p=i.get(r.SKi);return u.add(e,n,p),()=>u.remove(n)}let eE=(()=>{class e{executingCallbacks=!1;timeoutId=null;invokeTimerAt=null;current=[];deferred=[];add(i,u,p){this.addToQueue(this.executingCallbacks?this.deferred:this.current,Date.now()+i,u),this.scheduleTimer(p)}remove(i){const{current:u,deferred:p}=this;-1===this.removeFromQueue(u,i)&&this.removeFromQueue(p,i),0===u.length&&0===p.length&&this.clearTimeout()}addToQueue(i,u,p){let b=i.length;for(let M=0;M<i.length;M+=2)if(i[M]>u){b=M;break}(0,r.llW)(i,b,u,p)}removeFromQueue(i,u){let p=-1;for(let b=0;b<i.length;b+=2)if(i[b+1]===u){p=b;break}return p>-1&&(0,r.gsJ)(i,p,2),p}scheduleTimer(i){const u=()=>{this.clearTimeout(),this.executingCallbacks=!0;const b=[...this.current],M=Date.now();for(let G=0;G<b.length;G+=2){const _e=b[G+1];if(!(b[G]<=M))break;_e()}let N=-1;for(let G=0;G<this.current.length&&this.current[G]<=M;G+=2)N=G+1;if(N>=0&&(0,r.gsJ)(this.current,0,N+1),this.executingCallbacks=!1,this.deferred.length>0){for(let G=0;G<this.deferred.length;G+=2)this.addToQueue(this.current,this.deferred[G],this.deferred[G+1]);this.deferred.length=0}this.scheduleTimer(i)};if(this.current.length>0){const b=Date.now(),M=this.current[0];if(null===this.timeoutId||this.invokeTimerAt&&this.invokeTimerAt-M>16){this.clearTimeout();const N=Math.max(M-b,16);this.invokeTimerAt=M,this.timeoutId=i.runOutsideAngular(()=>setTimeout(()=>i.run(u),N))}}}clearTimeout(){null!==this.timeoutId&&(clearTimeout(this.timeoutId),this.timeoutId=null)}ngOnDestroy(){this.clearTimeout(),this.current.length=0,this.deferred.length=0}static \u0275prov=(0,r.jDH)({token:e,providedIn:"root",factory:()=>new e})}return e})(),tE=(()=>{class e{cachedInjectors=new Map;getOrCreateInjector(i,u,p,b){if(!this.cachedInjectors.has(i)){const M=p.length>0?Ns(p,u,b):null;this.cachedInjectors.set(i,M)}return this.cachedInjectors.get(i)}ngOnDestroy(){try{for(const i of this.cachedInjectors.values())null!==i&&i.destroy()}finally{this.cachedInjectors.clear()}}static \u0275prov=(0,r.jDH)({token:e,providedIn:"environment",factory:()=>new e})}return e})();const nE=new r.nKC("");function Sm(e,n,i){return e.get(tE).getOrCreateInjector(n,e,i,"")}function ff(e,n,i,u=!1){const p=i[r.f7T],b=p[r.eDl];if((0,r.EPY)(p))return;const M=tc(p,n),G=M[7];if(!(null!==G&&e<G)&&pv(M[1],e)&&pv(M[0]??-1,e)){const ce=gu(b,n),We=u||null===lv(ce)&&null===wm(ce,ua.Loading)&&!wm(ce,ua.Placeholder)?fv:Am;try{We(e,M,i,n,p)}catch(Ct){Ef(p,Ct)}}}function fv(e,n,i,u,p){bn(Gt.DeferBlockStateStart);const b=function K1(e,n,i){const p=gu(n[r.eDl],i);switch(e){case ua.Complete:return p.primaryTmplIndex;case ua.Loading:return p.loadingTmplIndex;case ua.Error:return p.errorTmplIndex;case ua.Placeholder:return p.placeholderTmplIndex;default:return null}}(e,p,u);if(null!==b){n[1]=e;const M=p[r.eDl],G=(0,r.XRZ)(M,b+r.Yw1),ce=0;let _e;if(Id(i,ce),e===ua.Complete){const cn=gu(M,u),Wn=cn.providers;Wn&&Wn.length>0&&(_e=function rE(e,n,i){if(e instanceof lf){const p=e.injector,M=Sm(e.parentInjector,n,i);return new lf(p,M)}const u=e.get(r.uvJ);if(u!==e){const p=Sm(u,n,i);return new lf(e,p)}return Sm(e,n,i)}(p[r.YEL],cn,Wn))}const{dehydratedView:We,dehydratedViewIx:Ct}=function iE(e,n){const i=e[r.qFA]?.findIndex(p=>p.data.s===n[1])??-1;return{dehydratedView:i>-1?e[r.qFA][i]:null,dehydratedViewIx:i}}(i,n),Tt=Hc(p,G,null,{injector:_e,dehydratedView:We});if(Qu(i,Tt,ce,Sc(G,We)),Mc(Tt,2),Ct>-1&&i[r.qFA]?.splice(Ct,1),(e===ua.Complete||e===ua.Error)&&Array.isArray(n[8])){for(const cn of n[8])cn();n[8]=null}}bn(Gt.DeferBlockStateEnd)}function oE(e,n,i,u,p){const b=Date.now(),N=gu(p[r.eDl],u);if(null===n[2]||n[2]<=b){n[2]=null;const G=lv(N),ce=null!==n[3];if(e!==ua.Loading||null===G||ce){e>ua.Loading&&ce&&(n[3](),n[3]=null,n[0]=null),fv(e,n,i,u,p);const _e=wm(N,e);null!==_e&&(n[2]=b+_e,hv(_e,n,u,i,p))}else{n[0]=e;const _e=hv(G,n,u,i,p);n[3]=_e}}else n[0]=e}function hv(e,n,i,u,p){return dv(e,()=>{const M=n[0];n[2]=null,n[0]=null,null!==M&&ff(M,i,u)},p[r.YEL])}function pv(e,n){return e<n}function Fh(e,n){ff(ua.Placeholder,n,e[n.index])}function gv(e,n,i){e.loadingPromise.then(()=>{e.loadingState===xl.COMPLETE?ff(ua.Complete,n,i):e.loadingState===xl.FAILED&&ff(ua.Error,n,i)})}let Am=null;function aE(e,n,i,u){return Ae(()=>{const p=e;null!==n&&(p.hasOwnProperty("decorators")&&void 0!==p.decorators?p.decorators.push(...n):p.decorators=n),null!==i&&(p.ctorParameters=i),null!==u&&(p.propDecorators=p.hasOwnProperty("propDecorators")&&void 0!==p.propDecorators?{...p.propDecorators,...u}:u)})}let mv=(()=>{class e{log(i){console.log(i)}warn(i){console.warn(i)}static \u0275fac=function(u){return new(u||e)};static \u0275prov=(0,r.jDH)({token:e,factory:e.\u0275fac,providedIn:"platform"})}return e})();function yv(e){return function vv(e){return"function"==typeof e&&void 0!==e[R.bh]}(e)&&"function"==typeof e.set}function KE(e,n){!function Pv(e,n){if(typeof COMPILED>"u"||!COMPILED){const i=r.laP;i.ng??={},i.ng[e]=n}}(e,n)}const Fv=new r.nKC(""),Nv=new r.nKC("");let km,XE=(()=>{class e{_ngZone;registry;_isZoneStable=!0;_callbacks=[];_taskTrackingZone=null;_destroyRef;constructor(i,u,p){this._ngZone=i,this.registry=u,(0,r.M6u)()&&(this._destroyRef=(0,r.WQX)(r.abz,{optional:!0})??void 0),km||(function YE(e){km=e}(p),p.addToWindow(u)),this._watchAngularEvents(),i.run(()=>{this._taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){const i=this._ngZone.onUnstable.subscribe({next:()=>{this._isZoneStable=!1}}),u=this._ngZone.runOutsideAngular(()=>this._ngZone.onStable.subscribe({next:()=>{r.SKi.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}}));this._destroyRef?.onDestroy(()=>{i.unsubscribe(),u.unsubscribe()})}isStable(){return this._isZoneStable&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;0!==this._callbacks.length;){let i=this._callbacks.pop();clearTimeout(i.timeoutId),i.doneCb()}});else{let i=this.getPendingTasks();this._callbacks=this._callbacks.filter(u=>!u.updateCb||!u.updateCb(i)||(clearTimeout(u.timeoutId),!1))}}getPendingTasks(){return this._taskTrackingZone?this._taskTrackingZone.macroTasks.map(i=>({source:i.source,creationLocation:i.creationLocation,data:i.data})):[]}addCallback(i,u,p){let b=-1;u&&u>0&&(b=setTimeout(()=>{this._callbacks=this._callbacks.filter(M=>M.timeoutId!==b),i()},u)),this._callbacks.push({doneCb:i,timeoutId:b,updateCb:p})}whenStable(i,u,p){if(p&&!this._taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(i,u,p),this._runCallbacksIfReady()}registerApplication(i){this.registry.registerApplication(i,this)}unregisterApplication(i){this.registry.unregisterApplication(i)}findProviders(i,u,p){return[]}static \u0275fac=function(u){return new(u||e)((0,r.KVO)(r.SKi),(0,r.KVO)(qE),(0,r.KVO)(Nv))};static \u0275prov=(0,r.jDH)({token:e,factory:e.\u0275fac})}return e})(),qE=(()=>{class e{_applications=new Map;registerApplication(i,u){this._applications.set(i,u)}unregisterApplication(i){this._applications.delete(i)}unregisterAllApplications(){this._applications.clear()}getTestability(i){return this._applications.get(i)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(i,u=!0){return km?.findTestabilityInTree(this,i,u)??null}static \u0275fac=function(u){return new(u||e)};static \u0275prov=(0,r.jDH)({token:e,factory:e.\u0275fac,providedIn:"platform"})}return e})();function Ov(e){return!!e&&"function"==typeof e.then}function Lv(e){return!!e&&"function"==typeof e.subscribe}const Bv=new r.nKC("");function QE(e){return(0,r.EmA)([{provide:Bv,multi:!0,useValue:e}])}let Vv=(()=>{class e{resolve;reject;initialized=!1;done=!1;donePromise=new Promise((i,u)=>{this.resolve=i,this.reject=u});appInits=(0,r.WQX)(Bv,{optional:!0})??[];injector=(0,r.WQX)(r.zZn);constructor(){}runInitializers(){if(this.initialized)return;const i=[];for(const p of this.appInits){const b=(0,r.N4e)(this.injector,p);if(Ov(b))i.push(b);else if(Lv(b)){const M=new Promise((N,G)=>{b.subscribe({complete:N,error:G})});i.push(M)}}const u=()=>{this.done=!0,this.resolve()};Promise.all(i).then(()=>{u()}).catch(p=>{this.reject(p)}),0===i.length&&u(),this.initialized=!0}static \u0275fac=function(u){return new(u||e)};static \u0275prov=(0,r.jDH)({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();const Uv=new r.nKC("");function JE(){}function ZE(){(0,R.KO)(()=>{throw new r.buA(600,"")})}function Hv(e,n){return Array.isArray(n)?n.reduce(Hv,e):{...e,...n}}let Rm=(()=>{class e{_runningTick=!1;_destroyed=!1;_destroyListeners=[];_views=[];internalErrorHandler=(0,r.WQX)(r.ZTf);afterRenderManager=(0,r.WQX)(pc);zonelessEnabled=(0,r.WQX)(r.Evm);rootEffectScheduler=(0,r.WQX)(r.VML);dirtyFlags=0;tracingSnapshot=null;allTestViews=new Set;autoDetectTestViews=new Set;includeAllTestViews=!1;afterTick=new ve.B;get allViews(){return[...(this.includeAllTestViews?this.allTestViews:this.autoDetectTestViews).keys(),...this._views]}get destroyed(){return this._destroyed}componentTypes=[];components=[];internalPendingTask=(0,r.WQX)(r.rev);get isStable(){return this.internalPendingTask.hasPendingTasksObservable.pipe((0,ke.T)(i=>!i))}constructor(){(0,r.WQX)(Ao,{optional:!0})}whenStable(){let i;return new Promise(u=>{i=this.isStable.subscribe({next:p=>{p&&u()}})}).finally(()=>{i.unsubscribe()})}_injector=(0,r.WQX)(r.uvJ);_rendererFactory=null;get injector(){return this._injector}bootstrap(i,u){return this.bootstrapImpl(i,u)}bootstrapImpl(i,u,p=r.zZn.NULL){return this._injector.get(r.SKi).run(()=>{bn(Gt.BootstrapComponentStart);const M=i instanceof ag;if(!this._injector.get(Vv).done)throw new r.buA(405,"");let G;G=M?i:this._injector.get(Hf).resolveComponentFactory(i),this.componentTypes.push(G.componentType);const ce=function eb(e){return e.isBoundToModule}(G)?void 0:this._injector.get(Nr),We=G.create(p,[],u||G.selector,ce),Ct=We.location.nativeElement,Tt=We.injector.get(Fv,null);return Tt?.registerApplication(Ct),We.onDestroy(()=>{this.detachView(We.hostView),Hg(this.components,We),Tt?.unregisterApplication(Ct)}),this._loadComponent(We),bn(Gt.BootstrapComponentEnd,We),We})}tick(){this.zonelessEnabled||(this.dirtyFlags|=1),this._tick()}_tick(){bn(Gt.ChangeDetectionStart),null!==this.tracingSnapshot?this.tracingSnapshot.run(od.CHANGE_DETECTION,this.tickImpl):this.tickImpl()}tickImpl=()=>{if(this._runningTick)throw bn(Gt.ChangeDetectionEnd),new r.buA(101,!1);const i=(0,R.Ht)(null);try{this._runningTick=!0,this.synchronize()}finally{this._runningTick=!1,this.tracingSnapshot?.dispose(),this.tracingSnapshot=null,(0,R.Ht)(i),this.afterTick.next(),bn(Gt.ChangeDetectionEnd)}};synchronize(){null===this._rendererFactory&&!this._injector.destroyed&&(this._rendererFactory=this._injector.get(hp,null,{optional:!0}));let i=0;for(;0!==this.dirtyFlags&&i++<10;){bn(Gt.ChangeDetectionSyncStart);try{this.synchronizeOnce()}finally{bn(Gt.ChangeDetectionSyncEnd)}}}synchronizeOnce(){16&this.dirtyFlags&&(this.dirtyFlags&=-17,this.rootEffectScheduler.flush());let i=!1;if(7&this.dirtyFlags){const u=!!(1&this.dirtyFlags);this.dirtyFlags&=-8,this.dirtyFlags|=8;for(let{_lView:p}of this.allViews)(u||(0,r.dMS)(p))&&(ef(p,u&&!this.zonelessEnabled?0:1),i=!0);if(this.dirtyFlags&=-5,this.syncDirtyFlagsWithViews(),23&this.dirtyFlags)return}i||(this._rendererFactory?.begin?.(),this._rendererFactory?.end?.()),8&this.dirtyFlags&&(this.dirtyFlags&=-9,this.afterRenderManager.execute()),this.syncDirtyFlagsWithViews()}syncDirtyFlagsWithViews(){this.allViews.some(({_lView:i})=>(0,r.dMS)(i))?this.dirtyFlags|=2:this.dirtyFlags&=-8}attachView(i){const u=i;this._views.push(u),u.attachToAppRef(this)}detachView(i){const u=i;Hg(this._views,u),u.detachFromAppRef()}_loadComponent(i){this.attachView(i.hostView);try{this.tick()}catch(p){this.internalErrorHandler(p)}this.components.push(i),this._injector.get(Uv,[]).forEach(p=>p(i))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(i=>i()),this._views.slice().forEach(i=>i.destroy())}finally{this._destroyed=!0,this._views=[],this._destroyListeners=[]}}onDestroy(i){return this._destroyListeners.push(i),()=>Hg(this._destroyListeners,i)}destroy(){if(this._destroyed)throw new r.buA(406,!1);const i=this._injector;i.destroy&&!i.destroyed&&i.destroy()}get viewCount(){return this._views.length}static \u0275fac=function(u){return new(u||e)};static \u0275prov=(0,r.jDH)({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function Hg(e,n){const i=e.indexOf(n);i>-1&&e.splice(i,1)}function Pm(){let e,n;return{promise:new Promise((u,p)=>{e=u,n=p}),resolve:e,reject:n}}function jv(e){const n=(0,r.OAn)(),i=(0,r.Mx4)();if(Fh(n,i),!Wv(0,n))return;const u=n[r.YEL];kp(0,tc(n,i),e(()=>qf(0,n,i),u))}function Gv(e){const n=(0,r.OAn)(),i=n[r.YEL],u=(0,r.Mx4)(),b=gu(n[r.eDl],u);b.loadingState===xl.NOT_STARTED&&kp(1,tc(n,u),e(()=>Fp(b,n,u),i))}function $v(e,n,i){const u=n[r.YEL],p=tc(n,i),b=p[6];kp(2,p,e(()=>Yf(u,b),u))}function Fp(e,n,i){Fm(e,n,i)}function Fm(e,n,i){const u=n[r.YEL],p=n[r.eDl];if(e.loadingState!==xl.NOT_STARTED)return e.loadingPromise??Promise.resolve();const b=tc(n,i),M=function X1(e,n){return(0,r.XRZ)(e,n.primaryTmplIndex+r.Yw1)}(p,e);e.loadingState=xl.IN_PROGRESS,Og(1,b);let N=e.dependencyResolverFn;const G=u.get(r.u5s).add();return N?(e.loadingPromise=Promise.allSettled(N()).then(ce=>{let _e=!1;const We=[],Ct=[];for(const Tt of ce){if("fulfilled"!==Tt.status){_e=!0;break}{const cn=Tt.value,Wn=(0,r.xUg)(cn)||(0,r.HaV)(cn);if(Wn)We.push(Wn);else{const wr=(0,r.oyA)(cn);wr&&Ct.push(wr)}}}if(_e){if(e.loadingState=xl.FAILED,null===e.errorTmplIndex){const cn=new r.buA(-750,!1);Ef(n,cn)}}else{e.loadingState=xl.COMPLETE;const Tt=M.tView;if(We.length>0){Tt.directiveRegistry=uv(Tt.directiveRegistry,We);const cn=We.map(wr=>wr.type),Wn=(0,r.jXY)(!1,...cn);e.providers=Wn}Ct.length>0&&(Tt.pipeRegistry=uv(Tt.pipeRegistry,Ct))}}),e.loadingPromise.finally(()=>{e.loadingPromise=null,G()})):(e.loadingPromise=Promise.resolve().then(()=>{e.loadingPromise=null,e.loadingState=xl.COMPLETE,G()}),e.loadingPromise)}function Wv(e,n){return n[r.YEL].get(nE,null,{optional:!0})?.behavior!==ov.Manual}function qf(e,n,i){const u=n[r.eDl],p=n[i.index];if(!Wv(0,n))return;const b=tc(n,i),M=gu(u,i);switch(sv(b),M.loadingState){case xl.NOT_STARTED:ff(ua.Loading,i,p),Fm(M,n,i),M.loadingState===xl.IN_PROGRESS&&gv(M,i,p);break;case xl.IN_PROGRESS:ff(ua.Loading,i,p),gv(M,i,p);break;case xl.COMPLETE:ff(ua.Complete,i,p);break;case xl.FAILED:ff(ua.Error,i,p)}}function Yf(e,n,i){return Nm.apply(this,arguments)}function Nm(){return(Nm=(0,L.A)(function*(e,n,i){const u=e.get(Nn);if(u.hydrating.has(n))return;const{parentBlockPromise:b,hydrationQueue:M}=function xa(e,n){const i=n.get(Nn),p=n.get(Mr).get("__nghDeferData__",{});let b=!1,M=e,N=null;const G=[];for(;!b&&M;){b=i.has(M);const ce=i.hydrating.get(M);if(null===N&&null!=ce){N=ce.promise;break}G.unshift(M),M=p[M].p}return{parentBlockPromise:N,hydrationQueue:G}}(n,e);if(0===M.length)return;null!==b&&M.shift(),function ib(e,n){for(let i of n)e.hydrating.set(i,Pm())}(u,M),null!==b&&(yield b);const N=M[0];u.has(N)?yield zv(e,M,i):u.awaitParentBlock(N,(0,L.A)(function*(){return yield zv(e,M,i)}))})).apply(this,arguments)}function zv(e,n,i){return Om.apply(this,arguments)}function Om(){return(Om=(0,L.A)(function*(e,n,i){const u=e.get(Nn),p=u.hydrating,b=e.get(r.rev),M=b.add();for(let G=0;G<n.length;G++){const ce=n[G],_e=u.get(ce);if(null==_e){rb(G,n,u),Kv(n.slice(G),u);break}if(yield sb(_e),yield ob(e),nb(_e)){T0(_e),Kv(n.slice(G),u);break}p.get(ce).resolve()}const N=n[n.length-1];yield p.get(N)?.promise,b.remove(M),i&&i(n),function tg(e,n,i,u){null!==e&&(i.cleanup(n),bh(e.lContainer),function S0(e){const n=e._views;for(const i of n){const u=Ds(i);null!==u&&null!==u[r.jgP]&&((0,r.q$2)(u)?xh(u):bh(u))}}(u))}(u.get(N),n,u,e.get(Rm))})).apply(this,arguments)}function nb(e){return tc(e.lView,e.tNode)[1]===ua.Error}function rb(e,n,i){const u=e-1,p=u>-1?i.get(n[u]):null;p&&bh(p.lContainer)}function Kv(e,n){const i=n.hydrating;for(const u in e)i.get(u)?.reject();n.cleanup(e)}function ob(e){return new Promise(n=>Dd(n,{injector:e}))}function sb(e){return Lm.apply(this,arguments)}function Lm(){return(Lm=(0,L.A)(function*(e){const{tNode:n,lView:i}=e,u=tc(i,n);return new Promise(p=>{(function ab(e,n){Array.isArray(e[8])||(e[8]=[]),e[8].push(n)})(u,p),qf(0,i,n)})})).apply(this,arguments)}function ml(e,n,i){return 0===e?Xv(n,i):2!==e||!Xv(n,i)}function Xv(e,n){const i=e[r.YEL],u=gu(e[r.eDl],n),p=Ya(i),b=function lb(e){return null!=e&&!(1&~e)}(u.flags),N=null!==tc(e,n)[6];return!(b&&N&&p)}function hf(e,n){const i=gu(e,n);return i.hydrateTriggers??=new Map}function Bm(e,n,i,u){const p=(0,r.OAn)();return aa(p,(0,r.xbp)(),n)&&((0,r.klJ)(),function Kh(e,n,i,u,p,b){const M=(0,r.d31)(e,n);Sd(n[r.GpT],M,b,e.value,i,u,p)}((0,r.CpD)(),p,e,n,i,u)),Bm}const Ob=new r.nKC("",{factory:()=>!1}),Lb=new r.nKC("",{factory:()=>Bb}),Bb=4e3,Qf=typeof document<"u"&&"function"==typeof document?.documentElement?.getAnimations;function jg(e){return e[r.YEL].get(Ob,!1)}function Vm(e){const n=Oh.get(e);if(n){for(const i of n.cleanupFns)i();Oh.delete(e)}Jf.delete(e)}const Hb=()=>{},Oh=new WeakMap,Jf=new WeakMap,Lh=new WeakMap;function Um(e,n){const i=Lh.get(e);if(i&&i.length>0){const u=i.findIndex(p=>p===n);u>-1&&i.splice(u,1)}0===i?.length&&Lh.delete(e)}function Gg(e,n){const i=Lh.get(e)?.shift(),u=n[r.rQE];if(u){const b=Fs(e.index,u)?.previousSibling;i&&b&&i===b&&i.dispatchEvent(new CustomEvent("animationend",{detail:{cancel:!0}}))}}function Qv(e,n){Lh.has(e)?Lh.get(e)?.push(n):Lh.set(e,[n])}function $g(e){const n=e[r.Isx]??={};return n.enter??=new Map}function Zf(e){const n=e[r.Isx]??={};return n.leave??=new Map}function Jv(e){const n="function"==typeof e?e():e;let i=Array.isArray(n)?n:null;return"string"==typeof n&&(i=n.trim().split(/\s+/).filter(u=>u)),i}function Zv(e,n){const i=Jf.get(n);return void 0===i||n===e.target&&(void 0!==i.animationName&&e.animationName===i.animationName||void 0!==i.propertyName&&e.propertyName===i.propertyName)}function Wg(e,n,i){const u=e.get(n.index)??{animateFns:[]};u.animateFns.push(i),e.set(n.index,u)}function Hm(e,n){if(e)for(const i of e)i();for(const i of n)i()}function jm(e,n){const i=Zf(e).get(n.index);i&&(i.resolvers=void 0)}function zg(e,n,i,u,p){Um(n,i),Hm(u,p),jm(e,n)}function ey(){const e=(0,r.OAn)(),n=(0,r.klJ)(),i=(0,r.Mx4)();n.firstCreatePass&&function Qb(e,n,i){const u=n.inputs?.field??n.inputs?.formField;if(!u||(0,r.Qs1)(n)&&u.includes(n.directiveStart+n.componentOffset))return;const p=u.find(M=>_g in i[M]);if(void 0===p)return;n.fieldIndex=p;const b=function Jb(e,n){return!!n[e.fieldIndex].\u0275interopControl&&(e.flags|=4096,!0)}(n,i)||function Zb(e,n){for(let i=n.directiveStart;i<n.directiveEnd;i++){const u=e.data[i];if(iy(u,"value"))return n.flags|=1024,n.customControlIndex=i,!0;if(iy(u,"checked"))return n.flags|=2048,n.customControlIndex=i,!0}return!1}(e,n);if(!function ex(e){return!!function rx(e){if(2!==e.type)return!1;const n=e.value;return"input"===n||"textarea"===n||"select"===n}(e)&&(e.flags|=8192,function cx(e){if(!e.attrs||"input"!==e.value)return!1;for(let n=0;n<e.attrs.length;n+=2){const i=e.attrs[n];if(gn(i))break;if("type"===i){const u=e.attrs[n+1];return"date"===u||"datetime-local"===u||"month"===u||"number"===u||"range"===u||"time"===u||"week"===u}}return!1}(e)&&(e.flags|=16384),function dx(e){return"select"!==e.value}(e)&&(e.flags|=32768),!0)}(n)&&!b)throw new r.buA(318,!1)}(n,i,e);const u=ry(i,e);u&&(nl("NgSignalForms"),1024&i.flags?sy(e,i,u,"value"):2048&i.flags?sy(e,i,u,"checked"):4096&i.flags?function nx(e){const n=e.\u0275interopControl;n.registerOnChange(i=>e.state().setControlValue(i)),n.registerOnTouched(()=>e.state().markAsTouched())}(u):function ix(e,n,i){const u=(0,r.klJ)(),p=e[r.GpT],b=(0,r.d31)(n,e),M=()=>{const G=i.state();G.setControlValue(function fx(e,n){switch(e.type){case"checkbox":return e.checked;case"number":case"range":case"datetime-local":if("number"==typeof n())return e.valueAsNumber;break;case"date":case"month":case"time":case"week":const i=n();if(ly(i))return e.valueAsDate;if("number"==typeof i)return e.valueAsNumber}return e.value}(b,G.value))};Sh(n,u,e,void 0,p,"input",M,$c(n,e,M));const N=()=>{i.state().markAsTouched()};if(Sh(n,u,e,void 0,p,"blur",N,$c(n,e,N)),2===n.type&&"select"===n.value&&"function"==typeof MutationObserver){const G=function ox(e,n){const i=new MutationObserver(u=>{u.some(p=>function sx(e){if("childList"===e.type||"characterData"===e.type){if(e.target instanceof Comment)return!1;for(const n of e.addedNodes)if(!(n instanceof Comment))return!0;for(const n of e.removedNodes)if(!(n instanceof Comment))return!0;return!1}return"attributes"===e.type&&e.target instanceof HTMLOptionElement}(p))&&(e.value=n.state().value())});return i.observe(e,{attributes:!0,attributeFilter:["value"],characterData:!0,childList:!0,subtree:!0}),i}(b,i);(0,r.B22)(u,e,G,G.disconnect)}}(e,i,u),u.\u0275register())}function ty(e,n,i){const u=(0,r.OAn)(),p=(0,r.CpD)();aa(u,(0,r.xbp)(),e)&&((0,r.klJ)(),Aa(p,u,n,e,u[r.GpT],i)),function ny(e,n){const i=ry(n,e);i&&(function ax(e,n,i){if(i.classes){const u=Qg(e);u.classes??={},i.state();const p=e[r.GpT],b=(0,r.d31)(n,e);for(const[M,N]of i.classes){const G=N();Ex(u.classes,M,G)&&(G?p.addClass(b,M):p.removeClass(b,M))}}}(e,n,i),1024&n.flags?ay(n,e,i,"value"):2048&n.flags?ay(n,e,i,"checked"):4096&n.flags?function lx(e,n,i){const u=i.\u0275interopControl,p=Qg(n),b=i.state(),M=!!(8192&e.flags),N=M?(0,r.d31)(e,n):null,G=n[r.GpT],ce=b.value();Bh(p,zm,ce)&&(0,r.O8t)(()=>u.writeValue(ce));for(const _e of Km){const We=b[_e]?.();if(Bh(p,_e,We)){const Ct=Yg[_e],Tt=$m(e,n,Ct,We);_e===cy?u.setDisabledState&&(0,r.O8t)(()=>u.setDisabledState(We)):M&&!Tt&&Wm(e,G,N,_e,We,Ct)}}}(n,e,i):function ux(e,n,i){const u=(0,r.d31)(e,n),p=n[r.GpT],b=i.state(),M=Qg(n),N=b.controlValue();Bh(M,zm,N)&&function hx(e,n){switch(e.type){case"checkbox":return void(e.checked=n);case"radio":return void(e.checked=n===e.value);case"number":case"range":case"datetime-local":if("number"==typeof n)return void uy(e,n);break;case"date":case"month":case"time":case"week":if(ly(n))return void(e.valueAsDate=n);if("number"==typeof n)return void uy(e,n)}e.value=n}(u,N);for(const G of Km){const ce=b[G]?.();if(Bh(M,G,ce)){const _e=Yg[G];Wm(e,p,u,G,ce,_e),$m(e,n,_e,ce)}}}(n,e,i)),(0,r.xbp)()}(u,p)}function ry(e,n){const i=e.fieldIndex;return-1===i?null:n[i]}function iy(e,n){return function tx(e,n){return n in e.inputs}(e,n)&&oy(e,n+"Change")}function oy(e,n){return n in e.outputs}function sy(e,n,i,u){const p=(0,r.klJ)(),b=n.customControlIndex,M=u+"Change";cf(n,e,b,M,M,$c(n,e,ce=>i.state().setControlValue(ce)));const G="touchedChange";oy(p.data[b],G)&&cf(n,e,b,G,G,$c(n,e,()=>i.state().markAsTouched()))}function ay(e,n,i,u){const p=(0,r.klJ)(),b=e.customControlIndex,M=n[b],N=p.data[b],G=i.state(),ce=Qg(n),_e=G.controlValue();Bh(ce,zm,_e)&&dc(N,M,u,_e);const We=!!(8192&e.flags),Ct=We?(0,r.d31)(e,n):null,Tt=n[r.GpT];for(const cn of Km){const Wn=G[cn]?.();if(Bh(ce,cn,Wn)){const wr=Yg[cn];$m(e,n,wr,Wn),We&&!(wr in N.inputs)&&Wm(e,Tt,Ct,cn,Wn,wr)}}}function $m(e,n,i,u){const p=e.inputs?.[i];if(p){const b=(0,r.klJ)();for(const M of p)dc(b.data[M],n[M],i,u);return!0}return!1}function Wm(e,n,i,u,p,b){switch(u){case vx:n.setAttribute(i,b,p);break;case cy:case yx:case Cx:!function bx(e,n,i,u){u?e.setAttribute(n,i,""):e.removeAttribute(n,i)}(n,i,b,p);break;case px:case mx:16384&e.flags&&dy(n,i,b,p);break;case gx:case _x:32768&e.flags&&dy(n,i,b,p)}}function ly(e){return null===e||e instanceof Date}function uy(e,n){isNaN(n)?e.value="":e.valueAsNumber=n}const cy=(0,r.kLh)({disabled:r.kLh}),px=(0,r.kLh)({max:r.kLh}),gx=(0,r.kLh)({maxLength:r.kLh}),mx=(0,r.kLh)({min:r.kLh}),_x=(0,r.kLh)({minLength:r.kLh}),vx=(0,r.kLh)({name:r.kLh}),yx=(0,r.kLh)({readonly:r.kLh}),Cx=(0,r.kLh)({required:r.kLh}),zm=(0,r.kLh)({controlValue:r.kLh}),Yg={disabled:"disabled",disabledReasons:"disabledReasons",dirty:"dirty",errors:"errors",hidden:"hidden",invalid:"invalid",max:"max",maxLength:"maxLength",min:"min",minLength:"minLength",name:"name",pattern:"pattern",pending:"pending",readonly:"readonly",required:"required",touched:"touched"},Km=Object.keys(Yg);function Qg(e){const n=(0,r.c$7)();let i=e[n];return i===Ho&&(i=e[n]={}),i}function Bh(e,n,i){return!Object.is(e[n],i)&&(e[n]=i,!0)}function Ex(e,n,i){return!Object.is(e[n],i)&&(e[n]=i,!0)}function dy(e,n,i,u){void 0!==u?e.setAttribute(n,i,u.toString()):e.removeAttribute(n,i)}class xx{destroy(n){}updateValue(n,i){}swap(n,i){const u=Math.min(n,i),p=Math.max(n,i),b=this.detach(p);if(p-u>1){const M=this.detach(u);this.attach(u,b),this.attach(p,M)}else this.attach(u,b)}move(n,i){this.attach(i,this.detach(n))}}function Xm(e,n,i,u,p){return e===i&&Object.is(n,u)?1:Object.is(p(e,n),p(i,u))?-1:0}function qm(e,n,i,u){return!(void 0===n||!n.has(u)||(e.attach(i,n.get(u)),n.delete(u),0))}function fy(e,n,i,u,p){if(qm(e,n,u,i(u,p)))e.updateValue(u,p);else{const b=e.create(u,p);e.attach(u,b)}}function hy(e,n,i,u){const p=new Set;for(let b=n;b<=i;b++)p.add(u(b,e.at(b)));return p}class py{kvMap=new Map;_vMap=void 0;has(n){return this.kvMap.has(n)}delete(n){if(!this.has(n))return!1;const i=this.kvMap.get(n);return void 0!==this._vMap&&this._vMap.has(i)?(this.kvMap.set(n,this._vMap.get(i)),this._vMap.delete(i)):this.kvMap.delete(n),!0}get(n){return this.kvMap.get(n)}set(n,i){if(this.kvMap.has(n)){let u=this.kvMap.get(n);void 0===this._vMap&&(this._vMap=new Map);const p=this._vMap;for(;p.has(u);)u=p.get(u);p.set(u,i)}else this.kvMap.set(n,i)}forEach(n){for(let[i,u]of this.kvMap)if(n(u,i),void 0!==this._vMap){const p=this._vMap;for(;p.has(u);)u=p.get(u),n(u,i)}}}function gy(e,n,i,u,p,b,M,N){nl("NgControlFlow");const G=(0,r.OAn)(),ce=(0,r.klJ)();return zf(G,ce,e,n,i,u,p,(0,r.db4)(ce.consts,b),256,M,N),Ym}function Ym(e,n,i,u,p,b,M,N){nl("NgControlFlow");const G=(0,r.OAn)(),ce=(0,r.klJ)();return zf(G,ce,e,n,i,u,p,(0,r.db4)(ce.consts,b),512,M,N),Ym}function my(e,n){nl("NgControlFlow");const i=(0,r.OAn)(),u=(0,r.xbp)(),p=i[u]!==Ho?i[u]:-1,b=-1!==p?Jg(i,r.Yw1+p):void 0;if(aa(i,u,e)){const N=(0,R.Ht)(null);try{if(void 0!==b&&Id(b,0),-1!==e){const G=r.Yw1+e,ce=Jg(i,G),_e=Qm(i[r.eDl],G),We=null;Qu(ce,Hc(i,_e,n,{dehydratedView:We}),0,Sc(_e,We))}}finally{(0,R.Ht)(N)}}else if(void 0!==b){const N=ph(b,0);void 0!==N&&(N[r.SKP]=n)}}class wx{lContainer;$implicit;$index;constructor(n,i,u){this.lContainer=n,this.$implicit=i,this.$index=u}get $count(){return this.lContainer.length-r.Y20}}function _y(e){return e}function vy(e,n){return n}class Tx{hasEmptyBlock;trackByFn;liveCollection;constructor(n,i,u){this.hasEmptyBlock=n,this.trackByFn=i,this.liveCollection=u}}function yy(e,n,i,u,p,b,M,N,G,ce,_e,We,Ct){nl("NgControlFlow");const Tt=(0,r.OAn)(),cn=(0,r.klJ)(),Wn=void 0!==G,wr=(0,r.OAn)(),ei=N?M.bind(wr[r.b5C][r.SKP]):M,ir=new Tx(Wn,ei);wr[r.Yw1+e]=ir,zf(Tt,cn,e+1,n,i,u,p,(0,r.db4)(cn.consts,b),256),Wn&&zf(Tt,cn,e+2,G,ce,_e,We,(0,r.db4)(cn.consts,Ct),512)}class Sx extends xx{lContainer;hostLView;templateTNode;operationsCounter=void 0;needsIndexUpdate=!1;constructor(n,i,u){super(),this.lContainer=n,this.hostLView=i,this.templateTNode=u}get length(){return this.lContainer.length-r.Y20}at(n){return this.getLView(n)[r.SKP].$implicit}attach(n,i){const u=i[r.tcA];this.needsIndexUpdate||=n!==this.length,Qu(this.lContainer,i,n,Sc(this.templateTNode,u)),function Ax(e,n){if(e.length<=r.Y20)return;const u=e[r.Y20+n],p=u?u[r.Isx]:void 0;u&&p&&p.detachedLeaveAnimationFns&&p.detachedLeaveAnimationFns.length>0&&(function C(e,n){const i=e.get(o);if(n.detachedLeaveAnimationFns){for(const u of n.detachedLeaveAnimationFns)i.queue.delete(u);n.detachedLeaveAnimationFns=void 0}}(u[r.YEL],p),qu.delete(u[r.ID]),p.detachedLeaveAnimationFns=void 0)}(this.lContainer,n)}detach(n){return this.needsIndexUpdate||=n!==this.length-1,function Mx(e,n){if(e.length<=r.Y20)return;const u=e[r.Y20+n],p=u?u[r.Isx]:void 0;p&&p.leave&&p.leave.size>0&&(p.detachedLeaveAnimationFns=[])}(this.lContainer,n),function Ix(e,n){return fd(e,n)}(this.lContainer,n)}create(n,i){return Hc(this.hostLView,this.templateTNode,new wx(this.lContainer,i,n),{dehydratedView:null})}destroy(n){Lt(n[r.eDl],n)}updateValue(n,i){this.getLView(n)[r.SKP].$implicit=i}reset(){this.needsIndexUpdate=!1}updateIndexes(){if(this.needsIndexUpdate)for(let n=0;n<this.length;n++)this.getLView(n)[r.SKP].$index=n}getLView(n){return function kx(e,n){return ph(e,n)}(this.lContainer,n)}}function Cy(e){const n=(0,R.Ht)(null),i=(0,r._px)();try{const u=(0,r.OAn)(),p=u[r.eDl],b=u[i],M=i+1,N=Jg(u,M);if(void 0===b.liveCollection){const ce=Qm(p,M);b.liveCollection=new Sx(N,u,ce)}else b.liveCollection.reset();const G=b.liveCollection;if(function Dx(e,n,i,u){let p,b,M=0,N=e.length-1;if(Array.isArray(n)){(0,R.Ht)(u);let ce=n.length-1;for((0,R.Ht)(null);M<=N&&M<=ce;){const _e=e.at(M),We=n[M],Ct=Xm(M,_e,M,We,i);if(0!==Ct){Ct<0&&e.updateValue(M,We),M++;continue}const Tt=e.at(N),cn=n[ce],Wn=Xm(N,Tt,ce,cn,i);if(0!==Wn){Wn<0&&e.updateValue(N,cn),N--,ce--;continue}const wr=i(M,_e),ei=i(N,Tt),ir=i(M,We);if(Object.is(ir,ei)){const os=i(ce,cn);Object.is(os,wr)?(e.swap(M,N),e.updateValue(N,cn),ce--,N--):e.move(N,M),e.updateValue(M,We),M++;continue}if(p??=new py,b??=hy(e,M,N,i),qm(e,p,M,ir))e.updateValue(M,We),M++,N++;else if(b.has(ir))p.set(wr,e.detach(M)),N--;else{const os=e.create(M,n[M]);e.attach(M,os),M++,N++}}for(;M<=ce;)fy(e,p,i,M,n[M]),M++}else if(null!=n){(0,R.Ht)(u);const ce=n[Symbol.iterator]();(0,R.Ht)(null);let _e=ce.next();for(;!_e.done&&M<=N;){const We=e.at(M),Ct=_e.value,Tt=Xm(M,We,M,Ct,i);if(0!==Tt)Tt<0&&e.updateValue(M,Ct),M++,_e=ce.next();else{p??=new py,b??=hy(e,M,N,i);const cn=i(M,Ct);if(qm(e,p,M,cn))e.updateValue(M,Ct),M++,N++,_e=ce.next();else if(b.has(cn)){const Wn=i(M,We);p.set(Wn,e.detach(M)),N--}else e.attach(M,e.create(M,Ct)),M++,N++,_e=ce.next()}}for(;!_e.done;)fy(e,p,i,e.length,_e.value),_e=ce.next()}for(;M<=N;)e.destroy(e.detach(N--));p?.forEach(ce=>{e.destroy(ce)})}(G,e,b.trackByFn,n),G.updateIndexes(),b.hasEmptyBlock){const ce=(0,r.xbp)(),_e=0===G.length;if(aa(u,ce,_e)){const We=i+2,Ct=Jg(u,We);if(_e){const Tt=Qm(p,We),cn=null;Qu(Ct,Hc(u,Tt,void 0,{dehydratedView:cn}),0,Sc(Tt,cn))}else p.firstUpdatePass&&Eh(Ct),Id(Ct,0)}}}finally{(0,R.Ht)(n)}}function Jg(e,n){return e[n]}function Qm(e,n){return(0,r.XRZ)(e,n)}function Jm(e,n,i){const u=(0,r.OAn)();return aa(u,(0,r.xbp)(),n)&&((0,r.klJ)(),Aa((0,r.CpD)(),u,e,n,u[r.GpT],i)),Jm}function Zm(e,n,i,u,p){qd(n,e,i,p?"class":"style",u)}function Zg(e,n,i,u){const p=(0,r.OAn)(),b=p[r.eDl],M=e+r.Yw1,N=b.firstCreatePass?yp(M,p,2,n,Td,(0,r.ckz)(),i,u):b.data[M];if(Kd(N,p,e,n,n_),(0,r.yoD)(N)){const G=p[r.eDl];fu(G,p,N),z(G,N,p)}return null!=u&&ia(p,N),Zg}function e0(){const e=(0,r.klJ)(),i=Xd((0,r.Mx4)());return e.firstCreatePass&&Cp(e,i),(0,r.UhH)(i)&&(0,r.krE)(),(0,r.N79)(),null!=i.classesWithoutHost&&function Li(e){return!!(8&e.flags)}(i)&&Zm(e,i,(0,r.OAn)(),i.classesWithoutHost,!0),null!=i.stylesWithoutHost&&function oi(e){return!!(16&e.flags)}(i)&&Zm(e,i,(0,r.OAn)(),i.stylesWithoutHost,!1),e0}function e_(e,n,i,u){return Zg(e,n,i,u),e0(),e_}function t0(e,n,i,u){const p=(0,r.OAn)(),b=p[r.eDl],M=e+r.Yw1,N=b.firstCreatePass?pg(M,b,2,n,i,u):b.data[M];return Kd(N,p,e,n,n_),null!=u&&ia(p,N),t0}function n0(){const n=Xd((0,r.Mx4)());return(0,r.UhH)(n)&&(0,r.krE)(),(0,r.N79)(),n0}function t_(e,n,i,u){return t0(e,n,i,u),n0(),t_}let n_=(e,n,i,u,p)=>((0,r.m7n)(!0),g(n[r.GpT],u,(0,r.UaU)()));function r0(e,n,i){const u=(0,r.OAn)(),p=u[r.eDl],b=e+r.Yw1,M=p.firstCreatePass?yp(b,u,8,"ng-container",Td,(0,r.ckz)(),n,i):p.data[b];if(Kd(M,u,e,"ng-container",o_),(0,r.yoD)(M)){const N=u[r.eDl];fu(N,u,M),z(N,M,u)}return null!=i&&ia(u,M),r0}function Np(){const e=(0,r.klJ)(),i=Xd((0,r.Mx4)());return e.firstCreatePass&&Cp(e,i),Np}function r_(e,n,i){return r0(e,n,i),Np(),r_}function i_(e,n,i){const u=(0,r.OAn)(),p=u[r.eDl],b=e+r.Yw1,M=p.firstCreatePass?pg(b,p,8,"ng-container",n,i):p.data[b];return Kd(M,u,e,"ng-container",o_),null!=i&&ia(u,M),i_}function Ey(){return Xd((0,r.Mx4)()),Np}let o_=(e,n,i,u,p)=>((0,r.m7n)(!0),D(n[r.GpT],""));function xy(){return(0,r.OAn)()}function s_(e,n,i){const u=(0,r.OAn)();return aa(u,(0,r.xbp)(),n)&&((0,r.klJ)(),kr((0,r.CpD)(),u,e,n,u[r.GpT],i)),s_}function a_(e,n,i){const u=(0,r.OAn)();if(aa(u,(0,r.xbp)(),n)){const b=(0,r.klJ)(),M=(0,r.CpD)();kr(M,u,e,n,ah((0,r.MT)(b.data),M,u),i)}return a_}const Op=void 0;var Nx=["en",[["a","p"],["AM","PM"]],[["AM","PM"]],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Op,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Op,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm\u202fa","h:mm:ss\u202fa","h:mm:ss\u202fa z","h:mm:ss\u202fa zzzz"],["{1}, {0}",Op,Op,Op],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function Fx(e){const n=Math.floor(Math.abs(e)),i=e.toString().replace(/^[^.]*\.?/,"").length;return 1===n&&0===i?1:5}];let Vh={};function l_(e){const n=function Ox(e){return e.toLowerCase().replace(/_/g,"-")}(e);let i=wy(n);if(i)return i;const u=n.split("-")[0];if(i=wy(u),i)return i;if("en"===u)return Nx;throw new r.buA(701,!1)}function Dy(e){return l_(e)[Uh.PluralCase]}function wy(e){return e in Vh||(Vh[e]=r.laP.ng&&r.laP.ng.common&&r.laP.ng.common.locales&&r.laP.ng.common.locales[e]),Vh[e]}var Uh=function(e){return e[e.LocaleId=0]="LocaleId",e[e.DayPeriodsFormat=1]="DayPeriodsFormat",e[e.DayPeriodsStandalone=2]="DayPeriodsStandalone",e[e.DaysFormat=3]="DaysFormat",e[e.DaysStandalone=4]="DaysStandalone",e[e.MonthsFormat=5]="MonthsFormat",e[e.MonthsStandalone=6]="MonthsStandalone",e[e.Eras=7]="Eras",e[e.FirstDayOfWeek=8]="FirstDayOfWeek",e[e.WeekendRange=9]="WeekendRange",e[e.DateFormat=10]="DateFormat",e[e.TimeFormat=11]="TimeFormat",e[e.DateTimeFormat=12]="DateTimeFormat",e[e.NumberSymbols=13]="NumberSymbols",e[e.NumberFormats=14]="NumberFormats",e[e.CurrencyCode=15]="CurrencyCode",e[e.CurrencySymbol=16]="CurrencySymbol",e[e.CurrencyName=17]="CurrencyName",e[e.Currencies=18]="Currencies",e[e.Directionality=19]="Directionality",e[e.PluralCase=20]="PluralCase",e[e.ExtraData=21]="ExtraData",e}(Uh||{});const Lx=["zero","one","two","few","many"],u_="en-US",o0={marker:"element"},s0={marker:"ICU"};var rc=function(e){return e[e.SHIFT=2]="SHIFT",e[e.APPEND_EAGERLY=1]="APPEND_EAGERLY",e[e.COMMENT=2]="COMMENT",e}(rc||{});let Ty=u_;function Ux(e){"string"==typeof e&&(Ty=e.toLowerCase().replace(/_/g,"-"))}let Lp=0,Bp=0;let Vp=(e,n,i,u)=>((0,r.m7n)(!0),function Sy(e,n,i){const u=e[r.GpT];switch(i){case Node.COMMENT_NODE:return D(u,n);case Node.TEXT_NODE:return j(u,n);case Node.ELEMENT_NODE:return g(u,n,null)}}(e,i,u));function Ay(e,n,i,u){const p=i[r.GpT];let M,b=null;for(let N=0;N<n.length;N++){const G=n[N];if("string"==typeof G){const ce=n[++N];null===i[ce]&&(i[ce]=Vp(i,0,G,Node.TEXT_NODE))}else if("number"==typeof G)switch(1&G){case 0:const ce=Bf(G);let _e,We;if(null===b&&(b=ce,M=p.parentNode(u)),ce===b?(_e=u,We=M):(_e=null,We=(0,r.IvY)(i[ce])),null!==We){const Wn=Vf(G);A(p,We,i[Wn],_e,!1);const ei=Jl(e,Wn);if(null!==ei&&"object"==typeof ei){const ir=ys(ei,i);null!==ir&&Ay(e,ei.create[ir],i,i[ei.anchorIdx])}}break;case 1:const Tt=n[++N],cn=n[++N];Sd(p,(0,r.vaC)(G>>>1,i),null,null,Tt,cn,null)}else switch(G){case s0:const ce=n[++N],_e=n[++N];null===i[_e]&&dn(i[_e]=Vp(i,0,ce,Node.COMMENT_NODE),i);break;case o0:const We=n[++N],Ct=n[++N];null===i[Ct]&&dn(i[Ct]=Vp(i,0,We,Node.ELEMENT_NODE),i)}}}function My(e,n,i,u,p){for(let b=0;b<i.length;b++){const M=i[b],N=i[++b];if(M&p){let G="";for(let ce=b+1;ce<=b+N;ce++){const _e=i[ce];if("string"==typeof _e)G+=_e;else if("number"==typeof _e)if(_e<0)G+=(0,r.eFE)(n[u-_e]);else{const We=_e>>>2;switch(3&_e){case 1:const Ct=i[++ce],Tt=i[++ce],cn=e.data[We];"string"==typeof cn?Sd(n[r.GpT],n[We],null,cn,Ct,G,Tt):Aa(cn,n,Ct,G,n[r.GpT],Tt);break;case 0:const Wn=n[We];null!==Wn&&S(n[r.GpT],Wn,G);break;case 2:zx(e,Jl(e,We),n,G);break;case 3:Iy(e,Jl(e,We),u,n)}}}}else{const G=i[b+1];if(G>0&&!(3&~G)){const _e=Jl(e,G>>>2);n[_e.currentCaseLViewIndex]<0&&Iy(e,_e,u,n)}}b+=N}}function Iy(e,n,i,u){let p=u[n.currentCaseLViewIndex];if(null!==p){let b=Lp;p<0&&(p=u[n.currentCaseLViewIndex]=~p,b=-1),My(e,u,n.update[p],i,b)}}function zx(e,n,i,u){const p=function Kx(e,n){let i=e.cases.indexOf(n);if(-1===i)switch(e.type){case 1:{const u=function Bx(e,n){const i=Dy(n)(parseInt(e,10)),u=Lx[i];return void 0!==u?u:"other"}(n,function Hx(){return Ty}());i=e.cases.indexOf(u),-1===i&&"other"!==u&&(i=e.cases.indexOf("other"));break}case 0:i=e.cases.indexOf("other")}return-1===i?null:i}(n,u);if(ys(n,i)!==p&&(ky(e,n,i),i[n.currentCaseLViewIndex]=null===p?null:~p,null!==p)){const M=i[n.anchorIdx];M&&Ay(e,n.create[p],i,M)}}function ky(e,n,i){let u=ys(n,i);if(null!==u){const p=n.remove[u];for(let b=0;b<p.length;b++){const M=p[b];if(M>0){const N=(0,r.vaC)(M,i);null!==N&&Ee(i[r.GpT],N)}else ky(e,Jl(e,~M),i)}}}const a0=/\ufffd(\d+):?\d*\ufffd/gi,Xx=/({\s*\ufffd\d+:?\d*\ufffd\s*,\s*\S{6}\s*,[\s\S]*})/gi,qx=/\ufffd(\d+)\ufffd/,Py=/^\s*(\ufffd\d+:?\d*\ufffd)\s*,\s*(select|plural)\s*,/,Yx=/\ufffd\/?\*(\d+:\d+)\ufffd/gi,Qx=/\ufffd(\/?[#*]\d+):?\d*\ufffd/gi,Jx=/\uE500/g;function Fy(e,n,i,u,p,b,M){const N=Il(e,u,1,null);let G=N<<rc.SHIFT,ce=(0,r.Ab)();n===ce&&(ce=null),null===ce&&(G|=rc.APPEND_EAGERLY),M&&(G|=rc.COMMENT,function Uc(e){void 0===Vc&&(Vc=e())}(w)),p.push(G,null===b?"":b);const _e=Pf(e,N,M?32:1,null===b?"":b,null);nf(i,_e);const We=_e.index;return(0,r.iMd)(_e,!1),null!==ce&&n!==ce&&function Lf(e,n){let i=e.insertBeforeIndex;null===i?(Ps(_h,vh),i=e.insertBeforeIndex=[null,n]):((0,r.Xln)(Array.isArray(i),!0,"Expecting array here"),i.push(n))}(ce,We),_e}function tD(e,n,i,u,p,b,M,N){const G=N.match(a0),_e=Fy(n,i,u,M,p,G?null:N,!1).index;G&&Hp(b,N,_e,null,0,null),e.push({kind:0,index:_e})}function Hp(e,n,i,u,p,b){const M=e.length,N=M+1;e.push(null,null);const G=M+2,ce=n.split(a0);let _e=0;for(let We=0;We<ce.length;We++){const Ct=ce[We];if(1&We){const Tt=p+parseInt(Ct,10);e.push(-1-Tt),_e|=Ny(Tt)}else""!==Ct&&e.push(Ct)}return e.push(i<<2|(u?1:0)),u&&e.push(u,b),e[M]=_e,e[N]=e.length-G,_e}function rD(e){let n=0;for(let i=0;i<e.length;i++){const u=e[i];"number"==typeof u&&u<0&&n++}return n}function Ny(e){return 1<<Math.min(e,31)}function Oy(e){let n,b,i="",u=0,p=!1;for(;null!==(n=Yx.exec(e));)p?n[0]===`\ufffd/*${b}\ufffd`&&(u=n.index,p=!1):(i+=e.substring(u,n.index+n[0].length),b=n[1],p=!0);return i+=e.slice(u),i}function Ly(e,n,i,u,p,b,M){let N=0;const G={type:b.type,currentCaseLViewIndex:Il(n,i,1,null),anchorIdx:M,cases:[],create:[],remove:[],update:[]};(function lD(e,n,i){e.push(Ny(n.mainBinding),2,-1-n.mainBinding,i<<2|2)})(u,b,M),function lp(e,n,i){const u=e.data[n];null===u?e.data[n]=i:u.value=i}(n,M,G);const ce=b.values,_e=[];for(let We=0;We<ce.length;We++){const Ct=ce[We],Tt=[];for(let Wn=0;Wn<Ct.length;Wn++){const wr=Ct[Wn];if("string"!=typeof wr){const ei=Tt.push(wr)-1;Ct[Wn]=`\x3c!--\ufffd${ei}\ufffd--\x3e`}}const cn=[];_e.push(cn),N=sD(cn,n,G,i,u,p,b.cases[We],Ct.join(""),Tt)|N}N&&function uD(e,n,i){e.push(n,1,i<<2|3)}(u,N,M),e.push({kind:3,index:M,cases:_e,currentCaseLViewIndex:G.currentCaseLViewIndex})}function oD(e){const n=[],i=[];let u=1,p=0;const b=c_(e=e.replace(Py,function(M,N,G){return u="select"===G?0:1,p=parseInt(N.slice(1),10),""}));for(let M=0;M<b.length;){let N=b[M++].trim();1===u&&(N=N.replace(/\s*(?:=)?(\w+)\s*/,"$1")),N.length&&n.push(N);const G=c_(b[M++]);n.length>i.length&&i.push(G)}return{type:u,mainBinding:p,cases:n,values:i}}function c_(e){if(!e)return[];let n=0;const i=[],u=[],p=/[{}]/g;let b;for(p.lastIndex=0;b=p.exec(e);){const N=b.index;if("}"==b[0]){if(i.pop(),0==i.length){const G=e.substring(n,N);Py.test(G)?u.push(oD(G)):u.push(G),n=N+1}}else{if(0==i.length){const G=e.substring(n,N);u.push(G),n=N+1}i.push("{")}}const M=e.substring(n);return u.push(M),u}function sD(e,n,i,u,p,b,M,N,G){const ce=[],_e=[],We=[];i.cases.push(M),i.create.push(ce),i.remove.push(_e),i.update.push(We);const Tt=sc(no()).getInertBodyElement(N),cn=Hs(Tt)||Tt;return cn?By(e,n,i,u,p,ce,_e,We,cn,b,G,0):0}function By(e,n,i,u,p,b,M,N,G,ce,_e,We){let Ct=0,Tt=G.firstChild;for(;Tt;){const cn=Il(n,u,1,null);switch(Tt.nodeType){case Node.ELEMENT_NODE:const Wn=Tt,wr=Wn.tagName.toLowerCase();if(uu.hasOwnProperty(wr)){d_(b,o0,wr,ce,cn),n.data[cn]=wr;const mu=Wn.attributes;for(let Hd=0;Hd<mu.length;Hd++){const nh=mu.item(Hd),S1=nh.name.toLowerCase();nh.value.match(a0)?lc.hasOwnProperty(S1)&&Hp(N,nh.value,cn,nh.name,0,ea[S1]?ju:null):cD(b,cn,nh)}const Xa={kind:1,index:cn,children:[]};e.push(Xa),Ct=By(Xa.children,n,i,u,p,b,M,N,Tt,cn,_e,We+1)|Ct,Vy(M,cn,We)}break;case Node.TEXT_NODE:const ei=Tt.textContent||"",ir=ei.match(a0);d_(b,null,ir?"":ei,ce,cn),Vy(M,cn,We),ir&&(Ct=Hp(N,ei,cn,null,0,null)|Ct),e.push({kind:0,index:cn});break;case Node.COMMENT_NODE:const os=qx.exec(Tt.textContent||"");if(os){const Xa=_e[parseInt(os[1],10)];d_(b,s0,"",ce,cn),Ly(e,n,u,p,ce,Xa,cn),aD(M,cn,We)}}Tt=Tt.nextSibling}return Ct}function Vy(e,n,i){0===i&&e.push(n)}function aD(e,n,i){0===i&&(e.push(~n),e.push(n))}function d_(e,n,i,u,p){null!==n&&e.push(n),e.push(i,p,function a(e,n,i){return e|n<<17|i<<1}(0,u,p))}function cD(e,n,i){e.push(n<<1|1,i.name,i.value)}const dD=/\[(\ufffd.+?\ufffd?)\]/,fD=/\[(\ufffd.+?\ufffd?)\]|(\ufffd\/?\*\d+:\d+\ufffd)/g,hD=/({\s*)(VAR_(PLURAL|SELECT)(_\d+)?)(\s*,)/g,pD=/{([A-Z0-9_]+)}/g,gD=/\ufffdI18N_EXP_(ICU(_\d+)?)\ufffd/g,mD=/\/\*/,_D=/\d+\:(\d+)/;function Hy(e,n,i=-1){const u=(0,r.klJ)(),p=(0,r.OAn)(),b=r.Yw1+e,M=(0,r.db4)(u.consts,n),N=(0,r.Ab)();u.firstCreatePass&&function eD(e,n,i,u,p,b){const M=(0,r.Ab)(),N=[],G=[],ce=[[]],_e=[[]];p=function iD(e,n){if(function s(e){return-1===e}(n))return Oy(e);{const i=e.indexOf(`:${n}\ufffd`)+2+n.toString().length,u=e.search(new RegExp(`\ufffd\\/\\*\\d+:${n}\ufffd`));return Oy(e.substring(i,u))}}(p,b);const We=function Zx(e){return e.replace(Jx," ")}(p).split(Qx);for(let Ct=0;Ct<We.length;Ct++){let Tt=We[Ct];if(1&Ct){const cn=47===Tt.charCodeAt(0),Wn=Tt.charCodeAt(cn?1:0),wr=r.Yw1+Number.parseInt(Tt.substring(cn?2:1));if(cn)ce.shift(),_e.shift(),(0,r.iMd)((0,r.Ab)(),!1);else{const ei=oa(e,ce[0],wr);ce.unshift([]),(0,r.iMd)(ei,!0);const ir={kind:2,index:wr,children:[],type:35===Wn?0:1};_e[0].push(ir),_e.unshift(ir.children)}}else{const cn=c_(Tt);for(let Wn=0;Wn<cn.length;Wn++){let wr=cn[Wn];if(1&Wn){const ei=wr;if("object"!=typeof ei)throw new Error(`Unable to parse ICU expression in "${p}" message.`);const os=Fy(e,M,ce[0],i,N,"",!0).index;Ly(_e[0],e,i,G,n,ei,os)}else""!==wr&&tD(_e[0],e,M,ce[0],N,G,i,wr)}}}e.data[u]={create:N,update:G,ast:_e[0],parentTNodeIndex:n}}(u,null===N?0:N.index,p,b,M,i),2===u.type?p[r.b5C][r.Wg1]|=32:p[r.Wg1]|=32;const G=u.data[b],_e=xr(u,N===p[r.qlT]?null:N,p);(function Wx(e,n,i,u){const p=e[r.GpT];for(let b=0;b<n.length;b++){const M=n[b++],ce=(M&rc.APPEND_EAGERLY)===rc.APPEND_EAGERLY,_e=M>>>rc.SHIFT;let We=e[_e],Ct=!1;null===We&&(We=e[_e]=Vp(e,0,n[b],(M&rc.COMMENT)===rc.COMMENT?Node.COMMENT_NODE:Node.TEXT_NODE),Ct=(0,r.SX7)()),ce&&null!==i&&Ct&&A(p,i,We,u,!1)}})(p,G.create,_e,N&&8&N.type?p[N.index]:null),(0,r.xyx)(!0)}function jy(){(0,r.xyx)(!1)}function f_(e,n,i){const u=(0,r.OAn)(),p=(0,r.klJ)(),b=(0,r.Mx4)();return p_(p,u,u[r.GpT],b,e,n,i),f_}function h_(e,n,i){const u=(0,r.OAn)(),p=(0,r.klJ)(),b=(0,r.Mx4)();return(3&b.type||i)&&Sh(b,p,u,i,u[r.GpT],e,n,$c(b,u,n)),h_}function p_(e,n,i,u,p,b,M){let N=!0,G=null;if((3&u.type||M)&&(G??=$c(u,n,b),Sh(u,e,n,M,i,p,b,G)&&(N=!1)),N){const ce=u.outputs?.[p],_e=u.hostDirectiveOutputs?.[p];if(_e&&_e.length)for(let We=0;We<_e.length;We+=2){const Ct=_e[We],Tt=_e[We+1];G??=$c(u,n,b),cf(u,n,Ct,Tt,p,G)}if(ce&&ce.length)for(const We of ce)G??=$c(u,n,b),cf(u,n,We,p,p,G)}}function Wy(e=1){return(0,r.jvu)(e)}function xD(e,n){let i=null;const u=function Qc(e){const n=e.attrs;if(null!=n){const i=n.indexOf(5);if(!(1&i))return n[i+1]}return null}(e);for(let p=0;p<n.length;p++){const b=n[p];if("*"!==b){if(null===u?Fc(e,b,!0):Nc(u,b))return p}else i=p}return i}function g_(e,n,i,u){return P(e,n,i,u),g_}function m_(e,n,i){return E(e,n,i),m_}function zy(e){const n=(0,r.OAn)(),i=(0,r.klJ)(),u=(0,r.w7Z)();(0,r.GA0)(u+1);const p=ut(i,u);if(e.dirty&&(0,r.vOT)(n)===!(2&~p.metadata.flags)){if(null===p.matches)e.reset([]);else{const b=Rt(n,u);e.reset(b,Yi),e.notifyOnChanges()}return!0}return!1}function Ky(){return l((0,r.OAn)(),(0,r.w7Z)())}function __(e,n,i,u){return ai(e,E(n,i,u)),__}function qy(e=1){(0,r.GA0)((0,r.w7Z)()+e)}function Yy(e){const n=(0,r.VPL)();return(0,r.Hh6)(n,r.Yw1+e)}function l0(e,n){return e<<17|n<<2}function eh(e){return e>>17&32767}function v_(e){return 2|e}function Hh(e){return(131068&e)>>2}function y_(e,n){return-131069&e|n<<2}function C_(e){return 1|e}function Qy(e,n,i,u){const p=e[i+1],b=null===n;let M=u?eh(p):Hh(p),N=!1;for(;0!==M&&(!1===N||b);){const ce=e[M+1];RD(e[M],n)&&(N=!0,e[M+1]=u?C_(ce):v_(ce)),M=u?eh(ce):Hh(ce)}N&&(e[i+1]=u?v_(p):C_(p))}function RD(e,n){return null===e||null==n||(Array.isArray(e)?e[1]:e)===n||!(!Array.isArray(e)||"string"!=typeof n)&&(0,r.FRF)(e,n)>=0}const Ul={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function Jy(e){return e.substring(Ul.key,Ul.keyEnd)}function PD(e){return e.substring(Ul.value,Ul.valueEnd)}function Zy(e,n){const i=Ul.textEnd;return i===n?-1:(n=Ul.keyEnd=function OD(e,n,i){for(;n<i&&e.charCodeAt(n)>32;)n++;return n}(e,Ul.key=n,i),jh(e,n,i))}function eC(e,n){const i=Ul.textEnd;let u=Ul.key=jh(e,n,i);return i===u?-1:(u=Ul.keyEnd=function LD(e,n,i){let u;for(;n<i&&(45===(u=e.charCodeAt(n))||95===u||(-33&u)>=65&&(-33&u)<=90||u>=48&&u<=57);)n++;return n}(e,u,i),u=nC(e,u,i),u=Ul.value=jh(e,u,i),u=Ul.valueEnd=function BD(e,n,i){let u=-1,p=-1,b=-1,M=n,N=M;for(;M<i;){const G=e.charCodeAt(M++);if(59===G)return N;34===G||39===G?N=M=rC(e,G,M,i):n===M-4&&85===b&&82===p&&76===u&&40===G?N=M=rC(e,41,M,i):G>32&&(N=M),b=p,p=u,u=-33&G}return N}(e,u,i),nC(e,u,i))}function tC(e){Ul.key=0,Ul.keyEnd=0,Ul.value=0,Ul.valueEnd=0,Ul.textEnd=e.length}function jh(e,n,i){for(;n<i&&e.charCodeAt(n)<=32;)n++;return n}function nC(e,n,i,u){return(n=jh(e,n,i))<i&&n++,n}function rC(e,n,i,u){let p=-1,b=i;for(;b<u;){const M=e.charCodeAt(b++);if(M==n&&92!==p)return b;p=92==M&&92===p?0:M}throw new Error}function E_(e,n,i){return sC(e,n,i,!1),E_}function b_(e,n){return sC(e,n,null,!0),b_}function iC(e){aC(cC,VD,e,!1)}function VD(e,n){for(let i=function ND(e){return tC(e),eC(e,jh(e,0,Ul.textEnd))}(n);i>=0;i=eC(n,i))cC(e,Jy(n),PD(n))}function oC(e){aC(zD,UD,e,!0)}function UD(e,n){for(let i=function FD(e){return tC(e),Zy(e,jh(e,0,Ul.textEnd))}(n);i>=0;i=Zy(n,i))(0,r.ezK)(e,Jy(n),!0)}function sC(e,n,i,u){const p=(0,r.OAn)(),b=(0,r.klJ)(),M=(0,r.b$O)(2);b.firstUpdatePass&&uC(b,e,M,u),n!==Ho&&aa(p,M,n)&&dC(b,b.data[(0,r._px)()],p,p[r.GpT],e,p[M+1]=function XD(e,n){return null==e||""===e||("string"==typeof n?e+=n:"object"==typeof e&&(e=(0,r.AsM)(hl(e)))),e}(n,i),u,M)}function aC(e,n,i,u){const p=(0,r.klJ)(),b=(0,r.b$O)(2);p.firstUpdatePass&&uC(p,null,b,u);const M=(0,r.OAn)();if(i!==Ho&&aa(M,b,i)){const N=p.data[(0,r._px)()];if(hC(N,u)&&!lC(p,b)){let G=u?N.classesWithoutHost:N.stylesWithoutHost;null!==G&&(i=(0,r.n$e)(G,i||"")),Zm(p,N,M,i,u)}else!function KD(e,n,i,u,p,b,M,N){p===Ho&&(p=r.Mlv);let G=0,ce=0,_e=0<p.length?p[0]:null,We=0<b.length?b[0]:null;for(;null!==_e||null!==We;){const Ct=G<p.length?p[G+1]:void 0,Tt=ce<b.length?b[ce+1]:void 0;let Wn,cn=null;_e===We?(G+=2,ce+=2,Ct!==Tt&&(cn=We,Wn=Tt)):null===We||null!==_e&&_e<We?(G+=2,cn=_e):(ce+=2,cn=We,Wn=Tt),null!==cn&&dC(e,n,i,u,cn,Wn,M,N),_e=G<p.length?p[G]:null,We=ce<b.length?b[ce]:null}}(p,N,M,M[r.GpT],M[b+1],M[b+1]=function WD(e,n,i){if(null==i||""===i)return r.Mlv;const u=[],p=hl(i);if(Array.isArray(p))for(let b=0;b<p.length;b++)e(u,p[b],!0);else if("object"==typeof p)for(const b in p)p.hasOwnProperty(b)&&e(u,b,p[b]);else"string"==typeof p&&n(u,p);return u}(e,n,i),u,b)}}function lC(e,n){return n>=e.expandoStartIndex}function uC(e,n,i,u){const p=e.data;if(null===p[i+1]){const b=p[(0,r._px)()],M=lC(e,i);hC(b,u)&&null===n&&!M&&(n=!1),n=function HD(e,n,i,u){const p=(0,r.MT)(e);let b=u?n.residualClasses:n.residualStyles;if(null===p)0===(u?n.classBindings:n.styleBindings)&&(i=jp(i=x_(null,e,n,i,u),n.attrs,u),b=null);else{const M=n.directiveStylingLast;if(-1===M||e[M]!==p)if(i=x_(p,e,n,i,u),null===b){let G=function jD(e,n,i){const u=i?n.classBindings:n.styleBindings;if(0!==Hh(u))return e[eh(u)]}(e,n,u);void 0!==G&&Array.isArray(G)&&(G=x_(null,e,n,G[1],u),G=jp(G,n.attrs,u),function GD(e,n,i,u){e[eh(i?n.classBindings:n.styleBindings)]=u}(e,n,u,G))}else b=function $D(e,n,i){let u;const p=n.directiveEnd;for(let b=1+n.directiveStylingLast;b<p;b++)u=jp(u,e[b].hostAttrs,i);return jp(u,n.attrs,i)}(e,n,u)}return void 0!==b&&(u?n.residualClasses=b:n.residualStyles=b),i}(p,b,n,u),function ID(e,n,i,u,p,b){let M=b?n.classBindings:n.styleBindings,N=eh(M),G=Hh(M);e[u]=i;let _e,ce=!1;if(Array.isArray(i)?(_e=i[1],(null===_e||(0,r.FRF)(i,_e)>0)&&(ce=!0)):_e=i,p)if(0!==G){const Ct=eh(e[N+1]);e[u+1]=l0(Ct,N),0!==Ct&&(e[Ct+1]=y_(e[Ct+1],u)),e[N+1]=function AD(e,n){return 131071&e|n<<17}(e[N+1],u)}else e[u+1]=l0(N,0),0!==N&&(e[N+1]=y_(e[N+1],u)),N=u;else e[u+1]=l0(G,0),0===N?N=u:e[G+1]=y_(e[G+1],u),G=u;ce&&(e[u+1]=v_(e[u+1])),Qy(e,_e,u,!0),Qy(e,_e,u,!1),function kD(e,n,i,u,p){const b=p?e.residualClasses:e.residualStyles;null!=b&&"string"==typeof n&&(0,r.FRF)(b,n)>=0&&(i[u+1]=C_(i[u+1]))}(n,_e,e,u,b),M=l0(N,G),b?n.classBindings=M:n.styleBindings=M}(p,b,n,i,M,u)}}function x_(e,n,i,u,p){let b=null;const M=i.directiveEnd;let N=i.directiveStylingLast;for(-1===N?N=i.directiveStart:N++;N<M&&(b=n[N],u=jp(u,b.hostAttrs,p),b!==e);)N++;return null!==e&&(i.directiveStylingLast=N),u}function jp(e,n,i){const u=i?1:2;let p=-1;if(null!==n)for(let b=0;b<n.length;b++){const M=n[b];"number"==typeof M?p=M:p===u&&(Array.isArray(e)||(e=void 0===e?[]:["",e]),(0,r.ezK)(e,M,!!i||n[++b]))}return void 0===e?null:e}function cC(e,n,i){(0,r.ezK)(e,n,hl(i))}function zD(e,n,i){const u=String(n);""!==u&&!u.includes(" ")&&(0,r.ezK)(e,u,i)}function dC(e,n,i,u,p,b,M,N){if(!(3&n.type))return;const G=e.data,ce=G[N+1],_e=function MD(e){return!(1&~e)}(ce)?fC(G,n,i,p,Hh(ce),M):void 0;u0(_e)||(u0(b)||function SD(e){return!(2&~e)}(ce)&&(b=fC(G,null,i,p,N,M)),function Sa(e,n,i,u,p){if(n)p?e.addClass(i,u):e.removeClass(i,u);else{let b=-1===u.indexOf("-")?void 0:Oo.DashCase;null==p?e.removeStyle(i,u,b):("string"==typeof p&&p.endsWith("!important")&&(p=p.slice(0,-10),b|=Oo.Important),e.setStyle(i,u,p,b))}}(u,M,(0,r.vaC)((0,r._px)(),i),p,b))}function fC(e,n,i,u,p,b){const M=null===n;let N;for(;p>0;){const G=e[p],ce=Array.isArray(G),_e=ce?G[1]:G,We=null===_e;let Ct=i[p+1];Ct===Ho&&(Ct=We?r.Mlv:void 0);let Tt=We?(0,r.K7h)(Ct,u):_e===u?Ct:void 0;if(ce&&!u0(Tt)&&(Tt=(0,r.K7h)(G,u)),u0(Tt)&&(N=Tt,M))return N;const cn=e[p+1];p=M?eh(cn):Hh(cn)}if(null!==n){let G=b?n.residualClasses:n.residualStyles;null!=G&&(N=(0,r.K7h)(G,u))}return N}function u0(e){return void 0!==e}function hC(e,n){return!!(e.flags&(n?8:16))}function pC(e,n=""){const i=(0,r.OAn)(),u=(0,r.klJ)(),p=e+r.Yw1,b=u.firstCreatePass?Ju(u,p,1,n,null):u.data[p],M=gC(u,i,b,n,e);i[p]=M,(0,r.SX7)()&&rs(u,i,M,b),(0,r.iMd)(b,!1)}let gC=(e,n,i,u,p)=>((0,r.m7n)(!0),j(n[r.GpT],u));function mC(e,n){let i=!1,u=(0,r.c$7)();for(let b=1;b<n.length;b+=2)i=aa(e,u++,n[b])||i;if((0,r.Kw3)(u),!i)return Ho;let p=n[0];for(let b=1;b<n.length;b+=2)p+=(0,r.eFE)(n[b])+(b+1!==n.length?n[b+1]:"");return p}function _C(e,n,i,u=""){return aa(e,(0,r.xbp)(),i)?n+(0,r.eFE)(i)+u:Ho}function vC(e,n,i,u,p,b=""){const N=Ld(e,(0,r.c$7)(),i,p);return(0,r.b$O)(2),N?n+(0,r.eFE)(i)+u+(0,r.eFE)(p)+b:Ho}function yC(e,n,i,u,p,b,M,N=""){const ce=Th(e,(0,r.c$7)(),i,p,M);return(0,r.b$O)(3),ce?n+(0,r.eFE)(i)+u+(0,r.eFE)(p)+b+(0,r.eFE)(M)+N:Ho}function CC(e,n,i,u,p,b,M,N,G,ce=""){const We=ec(e,(0,r.c$7)(),i,p,M,G);return(0,r.b$O)(4),We?n+(0,r.eFE)(i)+u+(0,r.eFE)(p)+b+(0,r.eFE)(M)+N+(0,r.eFE)(G)+ce:Ho}function EC(e,n,i,u,p,b,M,N,G,ce,_e,We=""){const Ct=(0,r.c$7)();let Tt=ec(e,Ct,i,p,M,G);return Tt=aa(e,Ct+4,_e)||Tt,(0,r.b$O)(5),Tt?n+(0,r.eFE)(i)+u+(0,r.eFE)(p)+b+(0,r.eFE)(M)+N+(0,r.eFE)(G)+ce+(0,r.eFE)(_e)+We:Ho}function bC(e,n,i,u,p,b,M,N,G,ce,_e,We,Ct,Tt=""){const cn=(0,r.c$7)();let Wn=ec(e,cn,i,p,M,G);return Wn=Ld(e,cn+4,_e,Ct)||Wn,(0,r.b$O)(6),Wn?n+(0,r.eFE)(i)+u+(0,r.eFE)(p)+b+(0,r.eFE)(M)+N+(0,r.eFE)(G)+ce+(0,r.eFE)(_e)+We+(0,r.eFE)(Ct)+Tt:Ho}function xC(e,n,i,u,p,b,M,N,G,ce,_e,We,Ct,Tt,cn,Wn=""){const wr=(0,r.c$7)();let ei=ec(e,wr,i,p,M,G);return ei=Th(e,wr+4,_e,Ct,cn)||ei,(0,r.b$O)(7),ei?n+(0,r.eFE)(i)+u+(0,r.eFE)(p)+b+(0,r.eFE)(M)+N+(0,r.eFE)(G)+ce+(0,r.eFE)(_e)+We+(0,r.eFE)(Ct)+Tt+(0,r.eFE)(cn)+Wn:Ho}function DC(e,n,i,u,p,b,M,N,G,ce,_e,We,Ct,Tt,cn,Wn,wr,ei=""){const ir=(0,r.c$7)();let os=ec(e,ir,i,p,M,G);return os=ec(e,ir+4,_e,Ct,cn,wr)||os,(0,r.b$O)(8),os?n+(0,r.eFE)(i)+u+(0,r.eFE)(p)+b+(0,r.eFE)(M)+N+(0,r.eFE)(G)+ce+(0,r.eFE)(_e)+We+(0,r.eFE)(Ct)+Tt+(0,r.eFE)(cn)+Wn+(0,r.eFE)(wr)+ei:Ho}function D_(e){return c0("",e),D_}function c0(e,n,i){const u=(0,r.OAn)(),p=_C(u,e,n,i);return p!==Ho&&Ud(u,(0,r._px)(),p),c0}function w_(e,n,i,u,p){const b=(0,r.OAn)(),M=vC(b,e,n,i,u,p);return M!==Ho&&Ud(b,(0,r._px)(),M),w_}function Ud(e,n,i){const u=(0,r.vaC)(n,e);S(e[r.GpT],u,i)}function T_(e,n,i){yv(n)&&(n=n());const u=(0,r.OAn)();return aa(u,(0,r.xbp)(),n)&&((0,r.klJ)(),Aa((0,r.CpD)(),u,e,n,u[r.GpT],i)),T_}function RC(e,n){const i=yv(e);return i&&e.set(n),i}function S_(e,n){const i=(0,r.OAn)(),u=(0,r.klJ)(),p=(0,r.Mx4)();return p_(u,i,i[r.GpT],p,e,n),S_}const PC={};function A_(e){nl("NgLet");const n=(0,r.klJ)(),i=(0,r.OAn)(),u=e+r.Yw1,p=Ju(n,u,128,null,null);return(0,r.iMd)(p,!1),(0,r.M_e)(n,i,u,PC),A_}function FC(e){const n=(0,r.klJ)(),i=(0,r.OAn)(),u=(0,r._px)();return(0,r.M_e)(n,i,u,e),e}function NC(e){const n=(0,r.VPL)(),i=(0,r.Hh6)(n,r.Yw1+e);if(i===PC)throw new r.buA(314,!1);return i}function OC(e){return aa((0,r.OAn)(),(0,r.xbp)(),e)?(0,r.eFE)(e):Ho}function LC(e,n,i=""){return _C((0,r.OAn)(),e,n,i)}function BC(e,n,i){const u=(0,r.klJ)();u.firstCreatePass&&VC(n,u.data,u.blueprint,(0,r.JlV)(e),i)}function VC(e,n,i,u,p){if(e=(0,r.nl4)(e),Array.isArray(e))for(let b=0;b<e.length;b++)VC(e[b],n,i,u,p);else{const b=(0,r.klJ)(),M=(0,r.OAn)(),N=(0,r.Mx4)();let G=(0,r.Y3W)(e)?e:(0,r.nl4)(e.provide);const ce=(0,r.Rc9)(e),_e=1048575&N.providerIndexes,We=N.directiveStart,Ct=N.providerIndexes>>20;if((0,r.Y3W)(e)||!e.multi){const Tt=new Pr(ce,p,uf,null),cn=I_(G,n,p?_e:_e+Ct,We);-1===cn?(ui(Vi(N,M),b,G),M_(b,e,n.length),n.push(G),N.directiveStart++,N.directiveEnd++,p&&(N.providerIndexes+=1048576),i.push(Tt),M.push(Tt)):(i[cn]=Tt,M[cn]=Tt)}else{const Tt=I_(G,n,_e+Ct,We),cn=I_(G,n,_e,_e+Ct),wr=cn>=0&&i[cn];if(p&&!wr||!p&&!(Tt>=0&&i[Tt])){ui(Vi(N,M),b,G);const ei=function aw(e,n,i,u,p){const M=new Pr(e,i,uf,null);return M.multi=[],M.index=n,M.componentProviders=0,UC(M,p,u&&!i),M}(p?sw:ow,i.length,p,u,ce);!p&&wr&&(i[cn].providerFactory=ei),M_(b,e,n.length,0),n.push(G),N.directiveStart++,N.directiveEnd++,p&&(N.providerIndexes+=1048576),i.push(ei),M.push(ei)}else M_(b,e,Tt>-1?Tt:cn,UC(i[p?cn:Tt],ce,!p&&u));!p&&u&&wr&&i[cn].componentProviders++}}}function M_(e,n,i,u){const p=(0,r.Y3W)(n),b=(0,r.MME)(n);if(p||b){const G=(b?(0,r.nl4)(n.useClass):n).prototype.ngOnDestroy;if(G){const ce=e.destroyHooks||(e.destroyHooks=[]);if(!p&&n.multi){const _e=ce.indexOf(i);-1===_e?ce.push(i,[u,G]):ce[_e+1].push(u,G)}else ce.push(i,G)}}}function UC(e,n,i){return i&&e.componentProviders++,e.multi.push(n)-1}function I_(e,n,i,u){for(let p=i;p<u;p++)if(n[p]===e)return p;return-1}function ow(e,n,i,u,p){return k_(this.multi,[])}function sw(e,n,i,u,p){const b=this.multi;let M;if(this.providerFactory){const N=this.providerFactory.componentProviders,G=wi(u,u[r.eDl],this.providerFactory.index,p);M=G.slice(0,N),k_(b,M);for(let ce=N;ce<G.length;ce++)M.push(G[ce])}else M=[],k_(b,M);return M}function k_(e,n){for(let i=0;i<e.length;i++)n.push((0,e[i])());return n}function HC(e,n){return i=>{i.providersResolver=(u,p)=>BC(u,p?p(e):e,!1),n&&(i.viewProvidersResolver=(u,p)=>BC(u,p?p(n):n,!0))}}function d0(e){if("function"==typeof e)return e;const n=(0,r.Bqz)(e);return n.some(r.Jzi)?()=>n.map(r.nl4).map(jC):n.map(jC)}function jC(e){return gp(e)?e.ngModule:e}function GC(e,n){const i=(0,r.gxQ)()+e,u=(0,r.OAn)();return u[i]===Ho?Rc(u,i,n()):$f(u,i)}function $C(e,n,i){return XC((0,r.OAn)(),(0,r.gxQ)(),e,n,i)}function WC(e,n,i,u){return qC((0,r.OAn)(),(0,r.gxQ)(),e,n,i,u)}function zC(e,n,i,u,p){return YC((0,r.OAn)(),(0,r.gxQ)(),e,n,i,u,p)}function KC(e,n,i,u,p,b,M){return QC((0,r.OAn)(),(0,r.gxQ)(),e,n,i,u,p,b)}function Gp(e,n){const i=e[n];return i===Ho?void 0:i}function XC(e,n,i,u,p,b){const M=n+i;return aa(e,M,p)?Rc(e,M+1,b?u.call(b,p):u(p)):Gp(e,M+1)}function qC(e,n,i,u,p,b,M){const N=n+i;return Ld(e,N,p,b)?Rc(e,N+2,M?u.call(M,p,b):u(p,b)):Gp(e,N+2)}function YC(e,n,i,u,p,b,M,N){const G=n+i;return Th(e,G,p,b,M)?Rc(e,G+3,N?u.call(N,p,b,M):u(p,b,M)):Gp(e,G+3)}function QC(e,n,i,u,p,b,M,N,G){const ce=n+i;return ec(e,ce,p,b,M,N)?Rc(e,ce+4,G?u.call(G,p,b,M,N):u(p,b,M,N)):Gp(e,ce+4)}function JC(e,n,i,u,p,b){let M=n+i,N=!1;for(let G=0;G<p.length;G++)aa(e,M++,p[G])&&(N=!0);return N?Rc(e,M,u.apply(b,p)):Gp(e,M)}function ZC(e,n){const i=(0,r.klJ)();let u;const p=e+r.Yw1;i.firstCreatePass?(u=function mw(e,n){if(n)for(let i=n.length-1;i>=0;i--){const u=n[i];if(e===u.name)return u}}(n,i.pipeRegistry),i.data[p]=u,u.onDestroy&&(i.destroyHooks??=[]).push(p,u.onDestroy)):u=i.data[p];const b=u.factory||(u.factory=(0,r.wGu)(u.type,!0)),N=(0,r.a2B)(uf);try{const G=Bi(!1),ce=b();return Bi(G),(0,r.M_e)(i,(0,r.OAn)(),p,ce),ce}finally{(0,r.a2B)(N)}}function e1(e,n,i){const u=e+r.Yw1,p=(0,r.OAn)(),b=(0,r.Hh6)(p,u);return $p(p,u)?XC(p,(0,r.gxQ)(),n,b.transform,i,b):b.transform(i)}function t1(e,n,i,u){const p=e+r.Yw1,b=(0,r.OAn)(),M=(0,r.Hh6)(b,p);return $p(b,p)?qC(b,(0,r.gxQ)(),n,M.transform,i,u,M):M.transform(i,u)}function $p(e,n){return e[r.eDl].data[n].pure}function f0(e,n,i,u,p){const b=p[r.eDl];if(b!==u.tView)for(let M=r.Yw1;M<b.bindingStartIndex;M++){const N=p[M];if((0,r.A0l)(N)){(0,r.q$2)(N[r.jgP])&&f0(e,n,i,u,N[r.jgP]);for(let G=r.Y20;G<N.length;G++)f0(e,n,i,u,N[G])}else(0,r.q$2)(N)&&f0(e,n,i,u,N)}else!function Sw(e,n,i,u,p){const b=p[r.SKP];let M=p[r.jgP];const N=p[r.f7T],G=p[r.qlT],ce=p[r.YEL].get(r.SKi,null),_e=()=>{if(u.encapsulation===se.ShadowDom||u.encapsulation===se.ExperimentalIsolatedShadowDom){const cn=M.cloneNode(!1);M.replaceWith(cn),M=cn}const We=Ou(i),Ct=wc(N,We,b,Lc(i),M,G,null,null,null,null,null);(function Aw(e,n,i,u){for(let p=r.Yw1;p<e[r.eDl].bindingStartIndex;p++){const b=e[p];if(((0,r.q$2)(b)||(0,r.A0l)(b))&&b[r.K29]===n){b[r.K29]=i;break}}e[r.EJG]===n&&(e[r.EJG]=i),e[r.Yrj]===n&&(e[r.Yrj]=i),i[r.K29]=n[r.K29],n[r.K29]=null,e[u]=i})(N,p,Ct,G.index),Lt(p[r.eDl],p);const Tt=p[r.M0L].rendererFactory;(function Tw(e,n){e.componentReplaced?.(n.id)})(Tt,u),Ct[r.GpT]=Tt.createRenderer(M,i),ue(p[r.eDl],p),function Mw(e){if(null!==e.projection){for(const n of e.projection)li(n)&&(n.projectionNext=null,n.flags&=-3);e.projection=null}}(G),Yd(We,Ct,b),Ac(We,Ct,We.template,b)};null===ce?n1(e,n,_e):ce.run(()=>n1(e,n,_e))}(e,n,i,u,p)}function n1(e,n,i){try{i()}catch(u){if(null!==n&&u.message){const b=u.message+(u.stack?"\n"+u.stack:"");e?.hot?.send?.("angular:invalidate",{id:n,message:b,error:!0})}throw u}}const pf={\u0275\u0275animateEnter:function Kg(e){if(nl("NgAnimateEnter"),!Qf)return Kg;const n=(0,r.OAn)();if(jg(n))return Kg;const i=(0,r.Mx4)();return Gg(i,n),Wg($g(n),i,()=>function $b(e,n,i){const u=(0,r.d31)(n,e),p=e[r.GpT],b=e[r.YEL].get(r.SKi),M=Jv(i),N=[],G=_e=>{if(_e.target!==u)return;const We=_e instanceof AnimationEvent?"animationend":"transitionend";b.runOutsideAngular(()=>{p.listen(u,We,ce)})},ce=_e=>{_e.target===u&&function Wb(e,n,i){const u=Oh.get(n);if(e.target===n&&u&&Zv(e,n)){e.stopImmediatePropagation();for(const p of u.classList)i.removeClass(n,p);Vm(n)}}(_e,u,p)};if(M&&M.length>0){b.runOutsideAngular(()=>{N.push(p.listen(u,"animationstart",G)),N.push(p.listen(u,"transitionstart",G))}),function Ub(e,n,i){const u=Oh.get(e);if(u){for(const p of n)u.classList.push(p);for(const p of i)u.cleanupFns.push(p)}else Oh.set(e,{classList:n,cleanupFns:i})}(u,M,N);for(const _e of M)p.addClass(u,_e);b.runOutsideAngular(()=>{requestAnimationFrame(()=>{if(id(u,Jf,Qf),!Jf.has(u)){for(const _e of M)p.removeClass(u,_e);Vm(u)}})})}}(n,i,e)),x(n[r.YEL]),F(n[r.YEL],$g(n)),Kg},\u0275\u0275animateEnterListener:function Xg(e){if(nl("NgAnimateEnter"),!Qf)return Xg;const n=(0,r.OAn)();if(jg(n))return Xg;const i=(0,r.Mx4)();return Gg(i,n),Wg($g(n),i,()=>function zb(e,n,i){const u=(0,r.d31)(n,e);i.call(e[r.SKP],{target:u,animationComplete:Hb})}(n,i,e)),x(n[r.YEL]),F(n[r.YEL],$g(n)),Xg},\u0275\u0275animateLeave:function qg(e){if(nl("NgAnimateLeave"),!Qf)return qg;const n=(0,r.OAn)();if(jg(n))return qg;const u=(0,r.Mx4)();return Gg(u,n),Wg(Zf(n),u,()=>function Kb(e,n,i){const{promise:u,resolve:p}=Pm(),b=(0,r.d31)(n,e),M=e[r.GpT],N=e[r.YEL].get(r.SKi);qu.add(e[r.ID]),(Zf(e).get(n.index).resolvers??=[]).push(p);const G=Jv(i);return G&&G.length>0?function Xb(e,n,i,u,p,b){!function jb(e,n){if(!Qf)return;const i=Oh.get(e);if(i&&i.classList.length>0&&function Gb(e,n){for(const i of n)if(e.classList.contains(i))return!0;return!1}(e,i.classList))for(const u of i.classList)n.removeClass(e,u);Vm(e)}(e,p);const M=[],N=Zf(i).get(n.index)?.resolvers,G=ce=>{if(ce.target===e&&(ce instanceof CustomEvent||Zv(ce,e))){if(ce.stopImmediatePropagation(),Jf.delete(e),Um(n,e),Array.isArray(n.projection))for(const _e of u)p.removeClass(e,_e);Hm(N,M),jm(i,n)}};b.runOutsideAngular(()=>{M.push(p.listen(e,"animationend",G)),M.push(p.listen(e,"transitionend",G))}),Qv(n,e);for(const ce of u)p.addClass(e,ce);b.runOutsideAngular(()=>{requestAnimationFrame(()=>{id(e,Jf,Qf),Jf.has(e)||(Um(n,e),Hm(N,M),jm(i,n))})})}(b,n,e,G,M,N):p(),{promise:u,resolve:p}}(n,u,e)),x(n[r.YEL]),qg},\u0275\u0275animateLeaveListener:function Gm(e){if(nl("NgAnimateLeave"),!Qf)return Gm;const n=(0,r.OAn)(),i=(0,r.Mx4)();return Gg(i,n),qu.add(n[r.ID]),Wg(Zf(n),i,()=>function qb(e,n,i){const{promise:u,resolve:p}=Pm(),b=(0,r.d31)(n,e),M=[],N=e[r.GpT],G=jg(e),ce=e[r.YEL].get(r.SKi),_e=e[r.YEL].get(Lb);(Zf(e).get(n.index).resolvers??=[]).push(p);const We=Zf(e).get(n.index)?.resolvers;if(G)zg(e,n,b,We,M);else{const Ct=setTimeout(()=>zg(e,n,b,We,M),_e),Tt={target:b,animationComplete:()=>{zg(e,n,b,We,M),clearTimeout(Ct)}};Qv(n,b),ce.runOutsideAngular(()=>{M.push(N.listen(b,"animationend",()=>{zg(e,n,b,We,M),clearTimeout(Ct)},{once:!0}))}),i.call(e[r.SKP],Tt)}return{promise:u,resolve:p}}(n,i,e)),x(n[r.YEL]),Gm},\u0275\u0275attribute:Bm,\u0275\u0275defineComponent:Bd,\u0275\u0275defineDirective:Mp,\u0275\u0275defineInjectable:r.jDH,\u0275\u0275defineInjector:r.G2t,\u0275\u0275defineNgModule:Ap,\u0275\u0275definePipe:Rg,\u0275\u0275directiveInject:uf,\u0275\u0275getInheritedFactory:He,\u0275\u0275inject:r.KVO,\u0275\u0275injectAttribute:hn,\u0275\u0275invalidFactory:ug,\u0275\u0275invalidFactoryDep:r.dmw,\u0275\u0275templateRefExtractor:function Cw(e,n){return kd(e,n)},\u0275\u0275resetView:r.Njj,\u0275\u0275HostDirectivesFeature:function I1(e){const n=i=>{const u=Array.isArray(e);null===i.hostDirectives?(i.resolveHostDirectives=k1,i.hostDirectives=u?e.map(Em):[e]):u?i.hostDirectives.unshift(...e.map(Em)):i.hostDirectives.unshift(e)};return n.ngInherit=!0,n},\u0275\u0275NgOnChangesFeature:ht,\u0275\u0275ProvidersFeature:HC,\u0275\u0275InheritDefinitionFeature:bm,\u0275\u0275ExternalStylesFeature:function lw(e){return n=>{e.length<1||(n.getExternalStyles=i=>e.map(p=>p+"?ngcomp"+(i?"="+encodeURIComponent(i):"")+"&e="+n.encapsulation))}},\u0275\u0275nextContext:Wy,\u0275\u0275namespaceHTML:r.joV,\u0275\u0275namespaceMathML:r.By9,\u0275\u0275namespaceSVG:r.qSk,\u0275\u0275enableBindings:r.cSN,\u0275\u0275disableBindings:r.fuf,\u0275\u0275elementStart:Zg,\u0275\u0275elementEnd:e0,\u0275\u0275element:e_,\u0275\u0275elementContainerStart:r0,\u0275\u0275elementContainerEnd:Np,\u0275\u0275domElement:t_,\u0275\u0275domElementStart:t0,\u0275\u0275domElementEnd:n0,\u0275\u0275domElementContainer:function by(e,n,i){return i_(e,n,i),Ey(),by},\u0275\u0275domElementContainerStart:i_,\u0275\u0275domElementContainerEnd:Ey,\u0275\u0275domTemplate:function tv(e,n,i,u,p,b,M,N){const G=(0,r.OAn)(),ce=(0,r.klJ)();return zf(G,ce,e,n,i,u,p,(0,r.db4)(ce.consts,b),void 0,M,N),tv},\u0275\u0275domListener:h_,\u0275\u0275elementContainer:r_,\u0275\u0275pureFunction0:GC,\u0275\u0275pureFunction1:$C,\u0275\u0275pureFunction2:WC,\u0275\u0275pureFunction3:zC,\u0275\u0275pureFunction4:KC,\u0275\u0275pureFunction5:function dw(e,n,i,u,p,b,M){const N=(0,r.gxQ)()+e,G=(0,r.OAn)(),ce=ec(G,N,i,u,p,b);return aa(G,N+4,M)||ce?Rc(G,N+5,n(i,u,p,b,M)):$f(G,N+5)},\u0275\u0275pureFunction6:function fw(e,n,i,u,p,b,M,N){const G=(0,r.gxQ)()+e,ce=(0,r.OAn)(),_e=ec(ce,G,i,u,p,b);return Ld(ce,G+4,M,N)||_e?Rc(ce,G+6,n(i,u,p,b,M,N)):$f(ce,G+6)},\u0275\u0275pureFunction7:function hw(e,n,i,u,p,b,M,N,G){const ce=(0,r.gxQ)()+e,_e=(0,r.OAn)();let We=ec(_e,ce,i,u,p,b);return Th(_e,ce+4,M,N,G)||We?Rc(_e,ce+7,n(i,u,p,b,M,N,G)):$f(_e,ce+7)},\u0275\u0275pureFunction8:function pw(e,n,i,u,p,b,M,N,G,ce){const _e=(0,r.gxQ)()+e,We=(0,r.OAn)(),Ct=ec(We,_e,i,u,p,b);return ec(We,_e+4,M,N,G,ce)||Ct?Rc(We,_e+8,n(i,u,p,b,M,N,G,ce)):$f(We,_e+8)},\u0275\u0275pureFunctionV:function gw(e,n,i){return JC((0,r.OAn)(),(0,r.gxQ)(),e,n,i)},\u0275\u0275getCurrentView:xy,\u0275\u0275restoreView:r.eBV,\u0275\u0275listener:f_,\u0275\u0275projection:function wD(e,n=0,i,u,p,b){const M=(0,r.OAn)(),N=(0,r.klJ)(),G=u?e+1:null;null!==G&&zf(M,N,G,u,p,b,null,i);const ce=Ju(N,r.Yw1+e,16,null,i||null);null===ce.projection&&(ce.projection=n),(0,r.Pfq)();const We=!M[r.tcA]||(0,r.KtD)();null===M[r.b5C][r.qlT].projection[ce.projection]&&null!==G?function TD(e,n,i){const u=r.Yw1+i,p=n.data[u],b=e[u];Qu(b,Hc(e,p,void 0,{dehydratedView:null}),0,Sc(p,null))}(M,N,G):We&&!Yn(ce)&&function Na(e,n,i){ra(n[r.GpT],0,n,i,ar(e,i,n),Qr(i.parent||n[r.qlT],i,n))}(N,M,ce)},\u0275\u0275syntheticHostProperty:a_,\u0275\u0275syntheticHostListener:function $y(e,n){const i=(0,r.Mx4)(),u=(0,r.OAn)(),p=(0,r.klJ)();return p_(p,u,ah((0,r.MT)(p.data),i,u),i,e,n),$y},\u0275\u0275pipeBind1:e1,\u0275\u0275pipeBind2:t1,\u0275\u0275pipeBind3:function _w(e,n,i,u,p){const b=e+r.Yw1,M=(0,r.OAn)(),N=(0,r.Hh6)(M,b);return $p(M,b)?YC(M,(0,r.gxQ)(),n,N.transform,i,u,p,N):N.transform(i,u,p)},\u0275\u0275pipeBind4:function vw(e,n,i,u,p,b){const M=e+r.Yw1,N=(0,r.OAn)(),G=(0,r.Hh6)(N,M);return $p(N,M)?QC(N,(0,r.gxQ)(),n,G.transform,i,u,p,b,G):G.transform(i,u,p,b)},\u0275\u0275pipeBindV:function yw(e,n,i){const u=e+r.Yw1,p=(0,r.OAn)(),b=(0,r.Hh6)(p,u);return $p(p,u)?JC(p,(0,r.gxQ)(),n,b.transform,i,b):b.transform.apply(b,i)},\u0275\u0275projectionDef:function DD(e){const n=(0,r.OAn)()[r.b5C][r.qlT];if(!n.projection){const u=n.projection=(0,r.WfI)(e?e.length:1,null),p=u.slice();let b=n.child;for(;null!==b;){if(128!==b.type){const M=e?xD(b,e):0;null!==M&&(p[M]?p[M].projectionNext=b:u[M]=b,p[M]=b)}b=b.next}}},\u0275\u0275domProperty:s_,\u0275\u0275ariaProperty:function Yv(e,n){const i=(0,r.OAn)();if(aa(i,(0,r.xbp)(),n)){const p=(0,r.klJ)(),b=(0,r.CpD)();if(qd(b,p,i,e,n))(0,r.Qs1)(b)&&Vu(i,b.index);else{const N=(0,r.d31)(b,i);Sd(i[r.GpT],N,null,b.value,e,n,null)}}return Yv},\u0275\u0275property:Jm,\u0275\u0275control:ty,\u0275\u0275controlCreate:ey,\u0275\u0275pipe:ZC,\u0275\u0275queryRefresh:zy,\u0275\u0275queryAdvance:qy,\u0275\u0275viewQuery:m_,\u0275\u0275viewQuerySignal:__,\u0275\u0275loadQuery:Ky,\u0275\u0275contentQuery:g_,\u0275\u0275contentQuerySignal:function Xy(e,n,i,u,p){return ai(n,P(e,i,u,p)),Xy},\u0275\u0275reference:Yy,\u0275\u0275classMap:oC,\u0275\u0275styleMap:iC,\u0275\u0275styleProp:E_,\u0275\u0275classProp:b_,\u0275\u0275advance:Zc,\u0275\u0275template:Dm,\u0275\u0275conditional:my,\u0275\u0275conditionalCreate:gy,\u0275\u0275conditionalBranchCreate:Ym,\u0275\u0275defer:function hb(e,n,i,u,p,b,M,N,G,ce){const _e=(0,r.OAn)(),We=(0,r.klJ)(),Ct=e+r.Yw1,Tt=zf(_e,We,e,null,0,0),cn=_e[r.YEL],Wn=Ya(cn);if(We.firstCreatePass){nl("NgDefer");const Hd={primaryTmplIndex:n,loadingTmplIndex:u??null,placeholderTmplIndex:p??null,errorTmplIndex:b??null,placeholderBlockConfig:null,loadingBlockConfig:null,dependencyResolverFn:i??null,loadingState:xl.NOT_STARTED,loadingPromise:null,providers:null,hydrateTriggers:null,debug:null,flags:ce??0};G?.(We,Hd,N,M),function z1(e,n,i){const u=Rp(n);e.data[u]=i}(We,Ct,Hd)}const wr=_e[Ct];let ei=null,ir=null;if(wr[r.qFA]?.length>0){const Hd=wr[r.qFA][0].data;ir=Hd.di??null,ei=Hd.s}const os=[null,Ih.Initial,null,null,null,null,ir,ei,null,null];!function W1(e,n,i){e[Rp(n)]=i}(_e,Ct,os);let mu=null;null!==ir&&Wn&&(mu=cn.get(Nn),mu.add(ir,{lView:_e,tNode:Tt,lContainer:wr}));const Xa=()=>{sv(os),null!==ir&&mu?.cleanup([ir])};kp(0,os,()=>(0,r.DyX)(_e,Xa)),(0,r.ik5)(_e,Xa)},\u0275\u0275deferWhen:function pb(e){const n=(0,r.OAn)(),i=(0,r.CpD)();if(ml(0,n,i)&&aa(n,(0,r.xbp)(),e)){const p=(0,R.Ht)(null);try{const b=!!e,N=tc(n,i)[1];!1===b&&N===Ih.Initial?Fh(n,i):!0===b&&(N===Ih.Initial||N===ua.Placeholder)&&qf(0,n,i)}finally{(0,R.Ht)(p)}}},\u0275\u0275deferOnIdle:function vb(){ml(0,(0,r.OAn)(),(0,r.Mx4)())&&jv(Lg)},\u0275\u0275deferOnImmediate:function Eb(){const e=(0,r.OAn)(),n=(0,r.Mx4)();ml(0,e,n)&&(null===gu(e[r.eDl],n).loadingTmplIndex&&Fh(e,n),qf(0,e,n))},\u0275\u0275deferOnTimer:function Db(e){ml(0,(0,r.OAn)(),(0,r.Mx4)())&&jv(Bg(e))},\u0275\u0275deferOnHover:function Sb(e,n){const i=(0,r.OAn)(),u=(0,r.Mx4)();ml(0,i,u)&&(Fh(i,u),Ph(i,u,e,n,Ie,()=>qf(0,i,u),0))},\u0275\u0275deferOnInteraction:function Ib(e,n){const i=(0,r.OAn)(),u=(0,r.Mx4)();ml(0,i,u)&&(Fh(i,u),Ph(i,u,e,n,me,()=>qf(0,i,u),0))},\u0275\u0275deferOnViewport:function Pb(e,n,i){const u=(0,r.OAn)(),p=(0,r.Mx4)();ml(0,u,p)&&(Fh(u,p),Ph(u,p,e,n,Tm,()=>qf(0,u,p),0,i))},\u0275\u0275deferPrefetchWhen:function gb(e){const n=(0,r.OAn)(),i=(0,r.CpD)();if(ml(1,n,i)&&aa(n,(0,r.xbp)(),e)){const p=(0,R.Ht)(null);try{const b=!!e,N=gu(n[r.eDl],i);!0===b&&N.loadingState===xl.NOT_STARTED&&Fp(N,n,i)}finally{(0,R.Ht)(p)}}},\u0275\u0275deferPrefetchOnIdle:function yb(){ml(1,(0,r.OAn)(),(0,r.Mx4)())&&Gv(Lg)},\u0275\u0275deferPrefetchOnImmediate:function bb(){const e=(0,r.OAn)(),n=(0,r.Mx4)();if(!ml(1,e,n))return;const u=gu(e[r.eDl],n);u.loadingState===xl.NOT_STARTED&&Fm(u,e,n)},\u0275\u0275deferPrefetchOnTimer:function wb(e){ml(1,(0,r.OAn)(),(0,r.Mx4)())&&Gv(Bg(e))},\u0275\u0275deferPrefetchOnHover:function Ab(e,n){const i=(0,r.OAn)(),u=(0,r.Mx4)();if(!ml(1,i,u))return;const b=gu(i[r.eDl],u);b.loadingState===xl.NOT_STARTED&&Ph(i,u,e,n,Ie,()=>Fp(b,i,u),1)},\u0275\u0275deferPrefetchOnInteraction:function kb(e,n){const i=(0,r.OAn)(),u=(0,r.Mx4)();if(!ml(1,i,u))return;const b=gu(i[r.eDl],u);b.loadingState===xl.NOT_STARTED&&Ph(i,u,e,n,me,()=>Fp(b,i,u),1)},\u0275\u0275deferPrefetchOnViewport:function Fb(e,n,i){const u=(0,r.OAn)(),p=(0,r.Mx4)();if(!ml(1,u,p))return;const M=gu(u[r.eDl],p);M.loadingState===xl.NOT_STARTED&&Ph(u,p,e,n,Tm,()=>Fp(M,u,p),1,i)},\u0275\u0275deferHydrateWhen:function mb(e){const n=(0,r.OAn)(),i=(0,r.CpD)();if(!ml(2,n,i))return;const u=(0,r.xbp)();if(hf((0,r.klJ)(),i).set(6,null),aa(n,u,e)){const M=n[r.YEL],N=(0,R.Ht)(null);try{1==!!e&&Yf(M,tc(n,i)[6])}finally{(0,R.Ht)(N)}}},\u0275\u0275deferHydrateNever:function _b(){const e=(0,r.OAn)(),n=(0,r.Mx4)();ml(2,e,n)&&hf((0,r.klJ)(),n).set(7,null)},\u0275\u0275deferHydrateOnIdle:function Cb(){const e=(0,r.OAn)(),n=(0,r.Mx4)();ml(2,e,n)&&(hf((0,r.klJ)(),n).set(0,null),$v(Lg,e,n))},\u0275\u0275deferHydrateOnImmediate:function xb(){const e=(0,r.OAn)(),n=(0,r.Mx4)();ml(2,e,n)&&(hf((0,r.klJ)(),n).set(1,null),Yf(e[r.YEL],tc(e,n)[6]))},\u0275\u0275deferHydrateOnTimer:function Tb(e){const n=(0,r.OAn)(),i=(0,r.Mx4)();ml(2,n,i)&&(hf((0,r.klJ)(),i).set(5,{type:5,delay:e}),$v(Bg(e),n,i))},\u0275\u0275deferHydrateOnHover:function Mb(){const e=(0,r.OAn)(),n=(0,r.Mx4)();ml(2,e,n)&&hf((0,r.klJ)(),n).set(4,null)},\u0275\u0275deferHydrateOnInteraction:function Rb(){const e=(0,r.OAn)(),n=(0,r.Mx4)();ml(2,e,n)&&hf((0,r.klJ)(),n).set(3,null)},\u0275\u0275deferHydrateOnViewport:function Nb(e){const n=(0,r.OAn)(),i=(0,r.Mx4)();ml(2,n,i)&&hf((0,r.klJ)(),i).set(2,e?{type:2,intersectionObserverOptions:e}:null)},\u0275\u0275deferEnableTimerScheduling:function sE(e,n,i,u){const p=e.consts;null!=i&&(n.placeholderBlockConfig=(0,r.db4)(p,i)),null!=u&&(n.loadingBlockConfig=(0,r.db4)(p,u)),null===Am&&(Am=oE)},\u0275\u0275repeater:Cy,\u0275\u0275repeaterCreate:yy,\u0275\u0275repeaterTrackByIndex:_y,\u0275\u0275repeaterTrackByIdentity:vy,\u0275\u0275componentInstance:function Yb(){return(0,r.OAn)()[r.b5C][r.SKP]},\u0275\u0275text:pC,\u0275\u0275textInterpolate:D_,\u0275\u0275textInterpolate1:c0,\u0275\u0275textInterpolate2:w_,\u0275\u0275textInterpolate3:function wC(e,n,i,u,p,b,M){const N=(0,r.OAn)(),G=yC(N,e,n,i,u,p,b,M);return G!==Ho&&Ud(N,(0,r._px)(),G),wC},\u0275\u0275textInterpolate4:function TC(e,n,i,u,p,b,M,N,G){const ce=(0,r.OAn)(),_e=CC(ce,e,n,i,u,p,b,M,N,G);return _e!==Ho&&Ud(ce,(0,r._px)(),_e),TC},\u0275\u0275textInterpolate5:function SC(e,n,i,u,p,b,M,N,G,ce,_e){const We=(0,r.OAn)(),Ct=EC(We,e,n,i,u,p,b,M,N,G,ce,_e);return Ct!==Ho&&Ud(We,(0,r._px)(),Ct),SC},\u0275\u0275textInterpolate6:function AC(e,n,i,u,p,b,M,N,G,ce,_e,We,Ct){const Tt=(0,r.OAn)(),cn=bC(Tt,e,n,i,u,p,b,M,N,G,ce,_e,We,Ct);return cn!==Ho&&Ud(Tt,(0,r._px)(),cn),AC},\u0275\u0275textInterpolate7:function MC(e,n,i,u,p,b,M,N,G,ce,_e,We,Ct,Tt,cn){const Wn=(0,r.OAn)(),wr=xC(Wn,e,n,i,u,p,b,M,N,G,ce,_e,We,Ct,Tt,cn);return wr!==Ho&&Ud(Wn,(0,r._px)(),wr),MC},\u0275\u0275textInterpolate8:function IC(e,n,i,u,p,b,M,N,G,ce,_e,We,Ct,Tt,cn,Wn,wr){const ei=(0,r.OAn)(),ir=DC(ei,e,n,i,u,p,b,M,N,G,ce,_e,We,Ct,Tt,cn,Wn,wr);return ir!==Ho&&Ud(ei,(0,r._px)(),ir),IC},\u0275\u0275textInterpolateV:function kC(e){const n=(0,r.OAn)(),i=mC(n,e);return i!==Ho&&Ud(n,(0,r._px)(),i),kC},\u0275\u0275i18n:function yD(e,n,i){Hy(e,n,i),jy()},\u0275\u0275i18nAttributes:function CD(e,n){const i=(0,r.klJ)(),u=(0,r.db4)(i.consts,n);!function nD(e,n,i){const p=(0,r.Mx4)().index,b=[];if(e.firstCreatePass&&null===e.data[n]){for(let M=0;M<i.length;M+=2){const N=i[M],G=i[M+1];if(""!==G){if(Xx.test(G))throw new Error(`ICU expressions are not supported in attributes. Message: "${G}".`);Hp(b,G,p,N,rD(b),null)}}e.data[n]=b}}(i,e+r.Yw1,u)},\u0275\u0275i18nExp:function Gy(e){return function jx(e){e&&(Lp|=1<<Math.min(Bp,31)),Bp++}(aa((0,r.OAn)(),(0,r.xbp)(),e)),Gy},\u0275\u0275i18nStart:Hy,\u0275\u0275i18nEnd:jy,\u0275\u0275i18nApply:function ED(e){!function Gx(e,n,i){if(Bp>0){const u=e.data[i];My(e,n,Array.isArray(u)?u:u.update,(0,r.c$7)()-Bp-1,Lp)}Lp=0,Bp=0}((0,r.klJ)(),(0,r.OAn)(),e+r.Yw1)},\u0275\u0275i18nPostprocess:function bD(e,n={}){return function vD(e,n={}){let i=e;if(dD.test(e)){const u={},p=[0];i=i.replace(fD,(b,M,N)=>{const G=M||N,ce=u[G]||[];if(ce.length||(G.split("|").forEach(Wn=>{const wr=Wn.match(_D),ei=wr?parseInt(wr[1],10):0,ir=mD.test(Wn);ce.push([ei,ir,Wn])}),u[G]=ce),!ce.length)throw new Error(`i18n postprocess: unmatched placeholder - ${G}`);const _e=p[p.length-1];let We=0;for(let Wn=0;Wn<ce.length;Wn++)if(ce[Wn][0]===_e){We=Wn;break}const[Ct,Tt,cn]=ce[We];return Tt?p.pop():_e!==Ct&&p.push(Ct),ce.splice(We,1),cn})}return Object.keys(n).length&&(i=i.replace(hD,(u,p,b,M,N,G)=>n.hasOwnProperty(b)?`${p}${n[b]}${G}`:u),i=i.replace(pD,(u,p)=>n.hasOwnProperty(p)?n[p]:u),i=i.replace(gD,(u,p)=>{if(n.hasOwnProperty(p)){const b=n[p];if(!b.length)throw new Error(`i18n postprocess: unmatched ICU - ${u} with key: ${p}`);return b.shift()}return u})),i}(e,n)},\u0275\u0275resolveWindow:js,\u0275\u0275resolveDocument:Wa,\u0275\u0275resolveBody:function hs(e){return e.ownerDocument.body},\u0275\u0275setComponentScope:function uw(e,n,i){const u=e.\u0275cmp;u.directiveDefs=Ka(n,df),u.pipeDefs=Ka(i,r.oyA)},\u0275\u0275setNgModuleScope:function cw(e,n){return Ae(()=>{const i=(0,r.WbQ)(e);i.declarations=d0(n.declarations||r.Mlv),i.imports=d0(n.imports||r.Mlv),i.exports=d0(n.exports||r.Mlv),n.bootstrap&&(i.bootstrap=d0(n.bootstrap)),Gf.registerNgModule(e,n)})},\u0275\u0275registerNgModuleType:Vn,\u0275\u0275getComponentDepsFactory:function Ew(e,n){return()=>{try{return Gf.getComponentDependencies(e,n).dependencies}catch(i){throw console.error(`Computing dependencies in local compilation mode for the component "${e.name}" failed with the exception:`,i),i}}},\u0275setClassDebugInfo:function bw(e,n){const i=(0,r.xUg)(e);null!==i&&(i.debugInfo=n)},\u0275\u0275declareLet:A_,\u0275\u0275storeLet:FC,\u0275\u0275readContextLet:NC,\u0275\u0275attachSourceLocations:function YD(e,n){const i=(0,r.klJ)(),u=(0,r.OAn)(),p=u[r.GpT],b="data-ng-source-location";for(const[M,N,G,ce]of n){(0,r.XRZ)(i,M+r.Yw1);const We=(0,r.vaC)(M+r.Yw1,u);We.hasAttribute(b)||p.setAttribute(We,b,`${e}@o:${N},l:${G},c:${ce}`)}},\u0275\u0275interpolate:OC,\u0275\u0275interpolate1:LC,\u0275\u0275interpolate2:function QD(e,n,i,u,p=""){return vC((0,r.OAn)(),e,n,i,u,p)},\u0275\u0275interpolate3:function JD(e,n,i,u,p,b,M=""){return yC((0,r.OAn)(),e,n,i,u,p,b,M)},\u0275\u0275interpolate4:function ZD(e,n,i,u,p,b,M,N,G=""){return CC((0,r.OAn)(),e,n,i,u,p,b,M,N,G)},\u0275\u0275interpolate5:function ew(e,n,i,u,p,b,M,N,G,ce,_e=""){return EC((0,r.OAn)(),e,n,i,u,p,b,M,N,G,ce,_e)},\u0275\u0275interpolate6:function tw(e,n,i,u,p,b,M,N,G,ce,_e,We,Ct=""){return bC((0,r.OAn)(),e,n,i,u,p,b,M,N,G,ce,_e,We,Ct)},\u0275\u0275interpolate7:function nw(e,n,i,u,p,b,M,N,G,ce,_e,We,Ct,Tt,cn=""){return xC((0,r.OAn)(),e,n,i,u,p,b,M,N,G,ce,_e,We,Ct,Tt,cn)},\u0275\u0275interpolate8:function rw(e,n,i,u,p,b,M,N,G,ce,_e,We,Ct,Tt,cn,Wn,wr=""){return DC((0,r.OAn)(),e,n,i,u,p,b,M,N,G,ce,_e,We,Ct,Tt,cn,Wn,wr)},\u0275\u0275interpolateV:function iw(e){return mC((0,r.OAn)(),e)},\u0275\u0275sanitizeHtml:Kr,\u0275\u0275sanitizeStyle:function ii(e){const n=Xl();return n?n.sanitize(Cr.STYLE,e)||"":Zs(e,"Style")?hl(e):(0,r.eFE)(e)},\u0275\u0275sanitizeResourceUrl:ds,\u0275\u0275sanitizeScript:function vs(e){const n=Xl();if(n)return bl(n.sanitize(Cr.SCRIPT,e)||"");if(Zs(e,"Script"))return bl(hl(e));throw new r.buA(905,!1)},\u0275\u0275validateAttribute:function _d(e,n,i){const u=n.toLowerCase(),p=i.toLowerCase();if(!Bl[u]?.has(p))return e;const b=(0,r.CpD)();if(2!==b.type)return e;const M=(0,r.OAn)();throw"iframe"===u&&function yr(e){const n=(0,r.OAn)();e.src="",e.srcdoc=di(""),Ee(n[r.GpT],e)}((0,r.d31)(b,M)),new r.buA(-910,!1)},\u0275\u0275sanitizeUrl:mo,\u0275\u0275sanitizeUrlOrResourceUrl:Rs,\u0275\u0275trustConstantHtml:function Ga(e){return di(e[0])},\u0275\u0275trustConstantResourceUrl:function wa(e){return function Fa(e){return Qs()?.createScriptURL(e)||e}(e[0])},forwardRef:r.Rfq,resolveForwardRef:r.nl4,\u0275\u0275twoWayProperty:T_,\u0275\u0275twoWayBindingSet:RC,\u0275\u0275twoWayListener:S_,\u0275\u0275replaceMetadata:function Dw(e,n,i,u,p=null,b=null){const M=(0,r.xUg)(e);n.apply(null,[e,i,...u]);const{newDef:N,oldDef:G}=function ww(e,n){const i={...e};return{newDef:Object.assign(e,n,{directiveDefs:i.directiveDefs,pipeDefs:i.pipeDefs,setInput:i.setInput,type:i.type}),oldDef:i}}(M,(0,r.xUg)(e));if(e[r.CQl]=N,G.tView){const ce=function Cs(){return Ws}().values();for(const _e of ce)(0,r.EFk)(_e)&&null===_e[r.f7T]&&f0(p,b,N,G,_e)}},\u0275\u0275getReplaceMetadataURL:function xw(e,n,i){const u=`./@ng/component?c=${e}&t=${encodeURIComponent(n)}`;return new URL(u,i).href}};let Gh=null;function Iw(e){null!==Gh&&(e.defaultEncapsulation!==Gh.defaultEncapsulation||e.preserveWhitespaces!==Gh.preserveWhitespaces)||(Gh=e)}const Wp=[];function u1(e){return gp(e)?e.ngModule:e}const Xw=ie("NgModule",e=>e,void 0,0,(e,n)=>function Fw(e,n={}){(function Nw(e,n){const u=(0,r.Bqz)(n.declarations||r.Mlv);let p=null;Object.defineProperty(e,r.hmW,{configurable:!0,get:()=>(null===p&&(p=at().compileNgModule(pf,`ng:///${e.name}/\u0275mod.js`,{type:e,bootstrap:(0,r.Bqz)(n.bootstrap||r.Mlv).map(r.nl4),declarations:u.map(r.nl4),imports:(0,r.Bqz)(n.imports||r.Mlv).map(r.nl4).map(u1),exports:(0,r.Bqz)(n.exports||r.Mlv).map(r.nl4).map(u1),schemas:n.schemas?(0,r.Bqz)(n.schemas):null,id:n.id||null}),p.schemas||(p.schemas=[])),p)});let b=null;Object.defineProperty(e,r.zSs,{get:()=>{if(null===b){const N=at();b=N.compileFactory(pf,`ng:///${e.name}/\u0275fac.js`,{name:e.name,type:e,deps:rt(e),target:N.FactoryTarget.NgModule,typeArgumentCount:0})}return b},configurable:!1});let M=null;Object.defineProperty(e,r.ONQ,{get:()=>{if(null===M){const N={name:e.name,type:e,providers:n.providers||r.Mlv,imports:[(n.imports||r.Mlv).map(r.nl4),(n.exports||r.Mlv).map(r.nl4)]};M=at().compileInjector(pf,`ng:///${e.name}/\u0275inj.js`,N)}return M},configurable:!1})})(e,n),void 0!==n.id&&Vn(e,n.id),function Rw(e,n){Wp.push({moduleType:e,ngModule:n})}(e,n)}(e,n));class qw{ngModuleFactory;componentFactories;constructor(n,i){this.ngModuleFactory=n,this.componentFactories=i}}let Yw=(()=>{class e{compileModuleSync(i){return new Oa(i)}compileModuleAsync(i){return Promise.resolve(this.compileModuleSync(i))}compileModuleAndAllComponentsSync(i){const u=this.compileModuleSync(i),b=ns((0,r.phH)(i).declarations).reduce((M,N)=>{const G=(0,r.xUg)(N);return G&&M.push(new Ah(G)),M},[]);return new qw(u,b)}compileModuleAndAllComponentsAsync(i){return Promise.resolve(this.compileModuleAndAllComponentsSync(i))}clearCache(){}clearCacheFor(i){}getModuleId(i){}static \u0275fac=function(u){return new(u||e)};static \u0275prov=(0,r.jDH)({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();const Qw=new r.nKC("");let Jw=(()=>{class e{applicationErrorHandler=(0,r.WQX)(r.ZTf);appRef=(0,r.WQX)(Rm);taskService=(0,r.WQX)(r.rev);ngZone=(0,r.WQX)(r.SKi);zonelessEnabled=(0,r.WQX)(r.Evm);tracing=(0,r.WQX)(Ao,{optional:!0});zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run;schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}];subscriptions=new oe.yU;angularZoneId=this.zoneIsDefined?this.ngZone._inner?.get(r.AbJ):null;scheduleInRootZone=!this.zonelessEnabled&&this.zoneIsDefined&&((0,r.WQX)(r.AQb,{optional:!0})??!1);cancelScheduledCallback=null;useMicrotaskScheduler=!1;runningTick=!1;pendingRenderTaskId=null;constructor(){this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()}))}notify(i){if(!this.zonelessEnabled&&5===i)return;switch(i){case 0:case 6:case 13:this.appRef.dirtyFlags|=2;break;case 3:case 2:case 4:case 5:case 1:this.appRef.dirtyFlags|=4;break;case 12:this.appRef.dirtyFlags|=16;break;case 11:break;default:this.appRef.dirtyFlags|=8}if(this.appRef.tracingSnapshot=this.tracing?.snapshot(this.appRef.tracingSnapshot)??null,!this.shouldScheduleTick())return;const u=this.useMicrotaskScheduler?r.uiq:r.l4E;this.pendingRenderTaskId=this.taskService.add(),this.cancelScheduledCallback=this.scheduleInRootZone?Zone.root.run(()=>u(()=>this.tick())):this.ngZone.runOutsideAngular(()=>u(()=>this.tick()))}shouldScheduleTick(){return!(this.appRef.destroyed||null!==this.pendingRenderTaskId||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&Zone.current.get(r.AbJ+this.angularZoneId))}tick(){if(this.runningTick||this.appRef.destroyed)return;if(0===this.appRef.dirtyFlags)return void this.cleanup();!this.zonelessEnabled&&7&this.appRef.dirtyFlags&&(this.appRef.dirtyFlags|=1);const i=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick()},void 0,this.schedulerTickApplyArgs)}catch(u){this.taskService.remove(i),this.applicationErrorHandler(u)}finally{this.cleanup()}this.useMicrotaskScheduler=!0,(0,r.uiq)(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(i)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,null!==this.pendingRenderTaskId){const i=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(i)}}static \u0275fac=function(u){return new(u||e)};static \u0275prov=(0,r.jDH)({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function b1(){return[{provide:r.hk6,useExisting:Jw},{provide:r.SKi,useClass:r.myG},{provide:r.Evm,useValue:!0}]}const x1=new r.nKC("",{factory:()=>(0,r.WQX)(x1,{optional:!0,skipSelf:!0})||function Zw(){return typeof $localize<"u"&&$localize.locale||u_}()}),eT=new r.nKC("",{factory:()=>"USD"})},5558(on,ct,$){"use strict";$.d(ct,{n:()=>ve});var L=$(8750),r=$(9974),R=$(4360);function ve(oe,ke){return(0,r.N)((Ae,ee)=>{let v=null,m=0,ie=!1;const xe=()=>ie&&!v&&ee.complete();Ae.subscribe((0,R._)(ee,t=>{v?.unsubscribe();let Le=0;const Se=m++;(0,L.Tg)(oe(t,Se)).subscribe(v=(0,R._)(ee,je=>ee.next(ke?ke(t,je,Se,Le++):je),()=>{v=null,xe()}))},()=>{ie=!0,xe()}))})}},5707(on,ct,$){"use strict";$.d(ct,{we:()=>Ae,B2:()=>Tp});var L=$(467),r=$(375),R=$(7705),ve=$(7017),oe=$(9769);let ke=(()=>{class c{saveState(l,h){try{localStorage.setItem(l,JSON.stringify(h))}catch(E){console.error("Error saving state to localStorage",E)}}loadState(l){try{const h=localStorage.getItem(l);return h?JSON.parse(h):null}catch(h){return console.error("Error loading state from localStorage",h),this.clearState(l),null}}clearState(l){try{localStorage.removeItem(l)}catch(h){console.error("Error clearing state from localStorage",h)}}static \u0275fac=function(h){return new(h||c)};static \u0275prov=r.jDH({token:c,factory:c.\u0275fac,providedIn:"root"})}return c})(),Ae=(()=>{class c{persistenceService=(0,r.WQX)(ke);STORAGE_KEY="smartTableConfig";initialTableConfig={feature:"row_contact",key:"row_contact_default",api:{url:"CONTACT",pathTable:"v1/Master/RowContact/GetAll",pathExport:"v1/Master/RowContact/export",method:"GET",defaultPageSize:12},config:{id:"row-contact-table",title:"Contact Master",dataStrategy:"SYNC",pagingMode:"paginator",infiniteScrollBehavior:"append",paginatorPosition:"bottom",stripedRows:!0,showGridlines:!1,rowHover:!0,globalFilterFields:["organization_name","contact_person","communication_detail","email_id","created_time"],enableColumnChooser:!0,exportConfig:{enabled:!0,options:[{label:"CSV",key:"csv",icon:"pi pi-file"},{label:"Excel",key:"excel",icon:"pi pi-file-excel"},{label:"PDF",key:"pdf",icon:"pi pi-file-pdf"}]},enableRowMenu:!0,enableHeaderActions:!0,enableSavedQueries:!0,enableConfigButton:!0,enableChipFilters:!0,enableMultiSelect:!0,enableFreeze:!0,defaultRows:10,role:"ADMIN",toolbarButtonMode:"iconAndText",toolbarActions:[{label:"Refresh",icon:"pi pi-refresh",key:"refresh"},{label:"Filter",icon:"pi pi-filter",key:"toggle:filter-sidebar"},{label:"Config",icon:"pi pi-cog",key:"toggle:config-sidebar"},{label:"Add Contact",icon:"pi pi-plus",key:"add:contacts"}],sizerConfig:{enabled:!0,defaultDensity:"compact",densities:[{name:"comfortable",rowHeight:60,cssClass:"text-base"},{name:"cozy",rowHeight:50,cssClass:"text-sm"},{name:"compact",rowHeight:36,cssClass:"text-xs"},{name:"ultra-compact",rowHeight:28,cssClass:"text-xs"}],additionalReservedSpace:0},encryptionConfig:{enabled:!0,encryptedFields:["communication_detail","email_id"],secretKey:"my-super-secret-key-for-demo"},cardViewConfig:{cardsPerRow:4},emptyStateConfig:{enabled:!0,imageUrl:"",title:"Your Contact List is Empty",subtitle:"Get started by adding your first contact or importing from another service.",actions:[{label:"Add New Contact",icon:"pi pi-plus",key:"add:contacts",class:"bg-indigo-600 hover:bg-indigo-700 text-white"}],migration:{enabled:!0,title:"Migrate your data from third-party systems",logos:[{src:"https://picsum.photos/seed/zohocrm/120/30",alt:"Zoho CRM"},{src:"https://picsum.photos/seed/quickbooks/150/30",alt:"Quickbooks"},{src:"https://picsum.photos/seed/salesforce/120/30",alt:"Salesforce"}],moreText:"and more",action:{label:"Import Contacts",key:"import:contacts",class:"bg-cyan-500 hover:bg-cyan-600 text-white"}}},footerConfig:{enabled:!0,columns:[{code:"contact_person",aggregation:"count",display:"Total Contacts: {value}"},{code:"annual_revenue",aggregation:"sum",display:"Total Revenue: {value}"}]},styleConfig:{enableTransparency:!1,headerBackgroundColor:"var(--marg-header-bg)",footerBackgroundColor:"var(--marg-header-bg)",backgroundImageUrl:""}},advancedFilters:{enabled:!0,groups:[{name:"System Defined Filters",collapsible:!0,filters:[{code:"annual_revenue",name:"Annual Revenue",type:"numeric",operators:["=","!=",">","<",">=","<=","between","not between"],defaultOperator:">="}]},{name:"Date Filters",collapsible:!0,filters:[{code:"created_time",name:"Created Date",type:"date",dateOperators:["in the last 30 days","this month","this year","today"]}]},{name:"Lead Filters",collapsible:!1,filters:[{code:"lead_source",name:"Lead Source",type:"select",options:["Web","Organic","Referral"]}]}]},columns:[{index:0,name:"Select",code:"select_box",display:"table_cell",columnType:"CHECKBOX",width:"50px",align:"center",sortable:!1,filterable:!1,frozen:!0,showOnColumnChooser:!1},{index:1,name:"Contact Person",code:"contact_person",display:"table_cell",width:"250px",sortable:!0,filterable:!0,frozen:!0,cardHeader:!0,listRow:!0,filterOnCodes:["contact_person","organization_name"],cellTemplate:[{code:"avatar_url",columnType:"IMAGE",imageConfig:{shape:"circle"}},{code:"contact_person",tag:"p",bold:!0},{code:"organization_name",tag:"small"}]},{index:2,name:"Company",code:"organization_name",display:"table_cell",sortable:!0,filterable:!0,width:"200px"},{index:3,name:"Communication",code:"communication_detail",display:"table_cell",width:"150px",sortable:!0,filterable:!0,cardRow:!0,mask:{enabled:!0,unmaskEnabled:!0,visibleStart:0,visibleEnd:4,maskChar:"X"}},{index:4,name:"Email",code:"email_id",display:"table_cell",width:"250px",sortable:!0,filterable:!0,cardHeader1:!0,listRow:!0},{index:5,name:"Annual Revenue",code:"annual_revenue",display:"table_cell",align:"right",sortable:!0,filterable:!0,width:"150px",cardRow:!0,columnType:"numeric"},{index:6,name:"Created",code:"created_time",display:"table_cell",columnType:"DATE",width:"180px",sortable:!0,filterable:!0},{index:7,name:"Lead Source",code:"lead_source",display:"table_cell",sortable:!0,filterable:!0,width:"150px",cardRow:!0,listRow:!0},{index:8,name:"Action",code:"action",display:"table_cell",columnType:"ACTION",width:"120px",align:"center",showOnColumnChooser:!1}],rowActions:[{label:"Edit",icon:"pi pi-pencil",action:"edit",color:"text-blue-500"},{label:"Email",icon:"pi pi-envelope",action:"email",color:"text-gray-500"},{label:"Delete",icon:"pi pi-trash",action:"delete",color:"text-red-500"}],rowMenu:[{label:"Actions",items:[{label:"Edit",icon:"pi pi-pencil",action:"edit",shortcut:"E"},{label:"Duplicate",icon:"pi pi-copy",action:"duplicate"},{label:"Delete",icon:"pi pi-trash",action:"delete",shortcut:"Del"}]},{label:"Communication",items:[{label:"Call",icon:"pi pi-phone",action:"call"},{label:"WhatsApp",icon:"pi pi-whatsapp",action:"whatsapp"},{label:"Email",icon:"pi pi-envelope",action:"email"},{label:"SMS",icon:"pi pi-comment",action:"sms"}]}],headerMenu:[{label:"Bulk Actions",items:[{label:"Delete Selected",icon:"pi pi-trash",action:"delete_selected"}]}],drawerConfig:{width:"400px",position:"right",buttons:[],headerActions:[]}};configSignal=(0,r.vPA)(this.loadConfig());config=this.configSignal.asReadonly();constructor(){(0,r.QZP)(()=>{this.persistenceService.saveState(this.STORAGE_KEY,this.configSignal())})}loadConfig(){const l=this.persistenceService.loadState(this.STORAGE_KEY);return l?(l.config.styleConfig||(l.config.styleConfig={...this.initialTableConfig.config.styleConfig}),l.config.footerConfig||(l.config.footerConfig={...this.initialTableConfig.config.footerConfig}),l):this.initialTableConfig}updateDataStrategy(l){this.configSignal.update(h=>({...h,config:{...h.config,dataStrategy:l}}))}updateInfiniteScrollBehavior(l){this.configSignal.update(h=>({...h,config:{...h.config,infiniteScrollBehavior:l}}))}updateCardsPerRow(l){this.configSignal.update(h=>({...h,config:{...h.config,cardViewConfig:{...h.config.cardViewConfig,cardsPerRow:l}}}))}updateFullConfig(l){this.configSignal.set(l)}resetToDefaults(){this.configSignal.set(JSON.parse(JSON.stringify(this.initialTableConfig)))}static \u0275fac=function(h){return new(h||c)};static \u0275prov=r.jDH({token:c,factory:c.\u0275fac,providedIn:"root"})}return c})();function ee(c,T){if(!c)return"";const l=T.visibleStart??0,h=T.visibleEnd??0,E=T.maskChar??"*";if(c.length<=l+h)return c;const P=c.substring(0,l),te=c.substring(c.length-h);return`${P}${E.repeat(Math.max(0,c.length-l-h))}${te}`}function xe(c,T,l){const h=T.validations?.find(Rt=>Rt.code===l),E=T.code===l?T.isRequired:void 0,P=T.code===l?T.emailValidation:void 0,te=T.code===l?T.genericValidation:void 0,Fe=h?.isRequired||E;if(Fe){const Rt=function ie(c,T){return!T?.status||null!=c&&""!==String(c).trim()?null:{isValid:!1,style:{bgcolor:T.bgcolor,textcolor:T.textcolor,tooltip:T.tooltip}}}(c,Fe);if(Rt)return Rt}const Qe=h?.emailValidation||P;if(Qe){const Rt=function v(c,T){const l=String(c||"").trim();if(T.required&&!l)return{isValid:!1,style:{bgcolor:T.bgcolor||"rgba(255, 235, 238, 0.6)",textcolor:T.textcolor,tooltip:T.tooltip||"Email is required."}};if(!l)return null;if(!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(l))return{isValid:!1,style:{bgcolor:T.bgcolor||"rgba(255, 240, 210, 0.6)",tooltip:"Invalid email format."}};if(T.blacklist?.includes(l))return{isValid:!1,style:{bgcolor:T.bgcolor||"rgba(255, 235, 238, 0.6)",tooltip:"This email address is blacklisted."}};const E=l.split("@")[1];return T.notAllowedDomains?.includes(E)?{isValid:!1,style:{bgcolor:T.bgcolor||"rgba(255, 235, 238, 0.6)",tooltip:`Emails from the domain '${E}' are not allowed.`}}:T.allowedDomains&&T.allowedDomains.length>0&&!T.allowedDomains.includes(E)?{isValid:!1,style:{bgcolor:T.bgcolor||"rgba(255, 240, 210, 0.6)",tooltip:"Only emails from allowed domains are accepted."}}:null}(c,Qe);if(Rt)return Rt}const ut=h?.genericValidation||te;if(ut){const Rt=function m(c,T){const l=String(c||"");if(!l)return null;if(void 0!==T.minLength&&l.length<T.minLength)return{isValid:!1,style:{bgcolor:T.bgcolor||"rgba(255, 240, 210, 0.6)",textcolor:T.textcolor,tooltip:T.tooltip||`Must be at least ${T.minLength} characters long.`}};if(void 0!==T.maxLength&&l.length>T.maxLength)return{isValid:!1,style:{bgcolor:T.bgcolor||"rgba(255, 240, 210, 0.6)",textcolor:T.textcolor,tooltip:T.tooltip||`Cannot be more than ${T.maxLength} characters long.`}};if(T.onlyNumbers&&!/^\d+$/.test(l))return{isValid:!1,style:{bgcolor:T.bgcolor||"rgba(255, 240, 210, 0.6)",textcolor:T.textcolor,tooltip:T.tooltip||"Only numbers are allowed."}};if(T.pattern)try{if(!new RegExp(T.pattern).test(l))return{isValid:!1,style:{bgcolor:T.bgcolor||"rgba(255, 240, 210, 0.6)",textcolor:T.textcolor,tooltip:T.tooltip||"The format is invalid."}}}catch(h){console.error("Invalid regex pattern in configuration:",T.pattern,h)}return null}(c,ut);if(Rt)return Rt}return{isValid:!0,style:null}}var t=$(5547);const Le=(c,T)=>T.label;function Se(c,T){1&c&&t.Hgh(0,"hr",1)}function je(c,T){if(1&c&&(t.rj2(0,"div",3)(1,"p",5),t.EFF(2),t.eux()()),2&c){const l=t.XpG().$implicit;t.R7$(2),t.JRh(l.label)}}function Te(c,T){if(1&c&&t.Hgh(0,"i"),2&c){const l=t.XpG().$implicit;t.HbH(l.icon+" w-4 text-center")}}function be(c,T){1&c&&t.Hgh(0,"span",10)}function Oe(c,T){if(1&c&&(t.rj2(0,"span",11),t.EFF(1),t.eux()),2&c){const l=t.XpG().$implicit;t.R7$(),t.JRh(l.shortcut)}}function at(c,T){1&c&&t.Hgh(0,"i",12)}function ze(c,T){if(1&c&&t.Hgh(0,"i"),2&c){const l=t.XpG().$implicit;t.HbH(l.icon+" w-4 text-center")}}function et(c,T){1&c&&t.Hgh(0,"span",10)}function st(c,T){if(1&c&&(t.rj2(0,"span",11),t.EFF(1),t.eux()),2&c){const l=t.XpG().$implicit;t.R7$(),t.JRh(l.shortcut)}}function rn(c,T){if(1&c){const l=t.RV6();t.rj2(0,"a",7),t.VwU("click",function(){const E=r.eBV(l).$implicit,P=t.XpG(4);return r.Njj(P.onActionClick(E))}),t.rj2(1,"div",8),t.nVh(2,ze,1,2,"i",9)(3,et,1,0,"span",10),t.rj2(4,"span"),t.EFF(5),t.eux()(),t.nVh(6,st,2,1,"span",11),t.eux()}if(2&c){const l=T.$implicit,h=t.XpG(4);t.AVh("cursor-pointer",!!l.action&&!h.isItemDisabled(l))("hover:bg-gray-100",!!l.action&&!h.isItemDisabled(l))("hover:bg-gray-100",!!l.action&&!h.isItemDisabled(l))("opacity-50",h.isItemDisabled(l))("cursor-not-allowed",h.isItemDisabled(l)),t.R7$(2),t.vxM(l.icon?2:3),t.R7$(3),t.JRh(l.label),t.R7$(),t.vxM(l.shortcut?6:-1)}}function It(c,T){if(1&c&&(t.rj2(0,"div",13)(1,"div",2),t.Z7z(2,rn,7,13,"a",14,Le),t.eux()()),2&c){const l=t.XpG().$implicit;t.R7$(2),t.Dyx(l.items)}}function Ht(c,T){if(1&c){const l=t.RV6();t.rj2(0,"div",6),t.VwU("mouseenter",function(){const E=r.eBV(l).$implicit,P=t.XpG(2);return r.Njj(P.handleMouseEnter(E))})("mouseleave",function(){const E=r.eBV(l).$implicit,P=t.XpG(2);return r.Njj(P.handleMouseLeave(E))}),t.rj2(1,"a",7),t.VwU("click",function(){const E=r.eBV(l).$implicit,P=t.XpG(2);return r.Njj(P.onActionClick(E))}),t.rj2(2,"div",8),t.nVh(3,Te,1,2,"i",9)(4,be,1,0,"span",10),t.rj2(5,"span"),t.EFF(6),t.eux()(),t.rj2(7,"div",8),t.nVh(8,Oe,2,1,"span",11),t.nVh(9,at,1,0,"i",12),t.eux()(),t.nVh(10,It,4,0,"div",13),t.eux()}if(2&c){const l=T.$implicit,h=t.XpG(2);t.R7$(),t.AVh("cursor-pointer",!!l.action&&!h.isItemDisabled(l))("hover:bg-gray-100",!!l.action&&!h.isItemDisabled(l))("hover:bg-gray-100",!!l.action&&!h.isItemDisabled(l))("opacity-50",h.isItemDisabled(l))("cursor-not-allowed",h.isItemDisabled(l)),t.R7$(2),t.vxM(l.icon?3:4),t.R7$(3),t.JRh(l.label),t.R7$(2),t.vxM(l.shortcut?8:-1),t.R7$(),t.vxM(l.items?9:-1),t.R7$(),t.vxM(l.items&&h.openSubMenu()===l.label?10:-1)}}function At(c,T){if(1&c&&(t.nVh(0,Se,1,0,"hr",1),t.rj2(1,"div",2),t.nVh(2,je,3,1,"div",3),t.Z7z(3,Ht,11,15,"div",4,Le),t.eux()),2&c){const l=T.$implicit;t.vxM(0!==T.$index?0:-1),t.R7$(),t.BMQ("aria-labelledby",l.label),t.R7$(),t.vxM("Actions"!==l.label?2:-1),t.R7$(),t.Dyx(l.items)}}let Me=(()=>{class c{menuConfig=R.hFB.required();row=R.hFB.required();position=(0,R.hFB)(null);actionClicked=(0,R.CGW)();openSubMenu=(0,r.vPA)(null);isItemDisabled(l){const h=this.row();switch(l.action){case"call":case"whatsapp":case"sms":return!h.communication_detail;case"email":return!h.email_id;default:return!1}}onActionClick(l){!l.action||this.isItemDisabled(l)||this.actionClicked.emit({action:l.action,row:this.row()})}handleMouseEnter(l){l.items&&this.openSubMenu.set(l.label)}handleMouseLeave(l){l.items&&this.openSubMenu.set(null)}static \u0275fac=function(h){return new(h||c)};static \u0275cmp=t.VBU({type:c,selectors:[["app-row-menu"]],inputs:{menuConfig:[1,"menuConfig"],row:[1,"row"],position:[1,"position"]},outputs:{actionClicked:"actionClicked"},decls:3,vars:14,consts:[[1,"w-56","rounded-md","shadow-lg","bg-white","ring-1","ring-black","ring-opacity-5","focus:outline-none","z-20"],[1,"border-gray-200"],["role","menu","aria-orientation","vertical",1,"py-1"],[1,"px-3","pt-2","pb-1"],[1,"relative"],[1,"text-xs","font-semibold","text-gray-500","uppercase","tracking-wider"],[1,"relative",3,"mouseenter","mouseleave"],["role","menuitem",1,"flex","items-center","justify-between","px-3","py-2","text-sm","text-gray-700","transition-colors","duration-150",3,"click"],[1,"flex","items-center","gap-3"],[3,"class"],[1,"w-4"],[1,"text-xs","text-gray-400"],[1,"pi","pi-chevron-right","text-xs","text-gray-400"],[1,"absolute","left-full","-top-1","ml-1","w-56","rounded-md","shadow-lg","bg-white","ring-1","ring-black","ring-opacity-5","focus:outline-none","z-30"],["role","menuitem",1,"flex","items-center","justify-between","px-3","py-2","text-sm","text-gray-700","transition-colors","duration-150",3,"cursor-pointer","hover:bg-gray-100","opacity-50","cursor-not-allowed"]],template:function(h,E){1&h&&(t.rj2(0,"div",0),t.Z7z(1,At,5,3,null,null,Le),t.eux()),2&h&&(t.xc7("left",E.position()?E.position().x+"px":null)("top",E.position()?E.position().y+"px":null),t.AVh("origin-top-right",!E.position())("absolute",!E.position())("right-0",!E.position())("mt-2",!E.position())("fixed",!!E.position()),t.R7$(),t.Dyx(E.menuConfig()))},dependencies:[oe.MD],encapsulation:2,changeDetection:0})}return c})();const gt=(c,T)=>T.label;function Ve(c,T){if(1&c&&(t.rj2(0,"div",2)(1,"p",5),t.EFF(2),t.eux()()),2&c){const l=t.XpG().$implicit;t.R7$(2),t.JRh(l.label)}}function en(c,T){if(1&c){const l=t.RV6();t.rj2(0,"a",6),t.VwU("click",function(){const E=r.eBV(l).$implicit,P=t.XpG(2);return r.Njj(P.onActionClick(E.action))}),t.Hgh(1,"i"),t.rj2(2,"span"),t.EFF(3),t.eux()()}if(2&c){const l=T.$implicit;t.R7$(),t.HbH(l.icon),t.R7$(2),t.JRh(l.label)}}function Bt(c,T){1&c&&t.Hgh(0,"hr",4)}function Dt(c,T){if(1&c&&(t.rj2(0,"div",1),t.nVh(1,Ve,3,1,"div",2),t.Z7z(2,en,4,3,"a",3,gt),t.eux(),t.nVh(4,Bt,1,0,"hr",4)),2&c){const l=T.$implicit,h=T.$index,E=T.$count,P=t.XpG();t.BMQ("aria-labelledby",l.label),t.R7$(),t.vxM(P.menuConfig().length>1?1:-1),t.R7$(),t.Dyx(l.items),t.R7$(2),t.vxM(h!==E-1?4:-1)}}let ht=(()=>{class c{menuConfig=R.hFB.required();actionClicked=(0,R.CGW)();onActionClick(l){this.actionClicked.emit(l)}static \u0275fac=function(h){return new(h||c)};static \u0275cmp=t.VBU({type:c,selectors:[["app-header-menu"]],inputs:{menuConfig:[1,"menuConfig"]},outputs:{actionClicked:"actionClicked"},decls:3,vars:0,consts:[[1,"origin-top-right","absolute","right-0","mt-2","w-48","rounded-md","shadow-lg","bg-white","ring-1","ring-black","ring-opacity-5","focus:outline-none","z-20"],["role","menu","aria-orientation","vertical",1,"py-1"],[1,"px-4","py-2"],["href","javascript:void(0)","role","menuitem",1,"flex","items-center","gap-3","px-4","py-2","text-sm","text-gray-700","hover:bg-gray-100","transition-colors","duration-150"],[1,"border-gray-200"],[1,"text-xs","text-gray-400","uppercase","tracking-wider"],["href","javascript:void(0)","role","menuitem",1,"flex","items-center","gap-3","px-4","py-2","text-sm","text-gray-700","hover:bg-gray-100","transition-colors","duration-150",3,"click"]],template:function(h,E){1&h&&(t.rj2(0,"div",0),t.Z7z(1,Dt,5,3,null,null,gt),t.eux()),2&h&&(t.R7$(),t.Dyx(E.menuConfig()))},dependencies:[oe.MD],encapsulation:2,changeDetection:0})}return c})(),Ke=(()=>{class c{elementRef=(0,r.WQX)(t.aKT);clickOutside=new r.bkB;constructor(){(0,r.QZP)(()=>{const l=h=>{this.elementRef.nativeElement.contains(h.target)||this.clickOutside.emit()};return document.addEventListener("mousedown",l),()=>{document.removeEventListener("mousedown",l)}})}static \u0275fac=function(h){return new(h||c)};static \u0275dir=t.FsC({type:c,selectors:[["","clickOutside",""]],outputs:{clickOutside:"clickOutside"}})}return c})();const Ge=()=>["S","M","T","W","T","F","S"],Ft=(c,T)=>T.date.getTime();function Xe(c,T){if(1&c&&(t.j41(0,"div",17),t.EFF(1),t.k0s()),2&c){const l=T.$implicit;t.R7$(),t.JRh(l)}}function Ze(c,T){if(1&c){const l=t.RV6();t.j41(0,"div",19)(1,"button",21),t.bIt("click",function(){const E=r.eBV(l).$implicit,P=t.XpG(2);return r.Njj(P.selectDate(E.date))}),t.EFF(2),t.nI1(3,"date"),t.k0s()()}if(2&c){const l=T.$implicit,h=t.XpG(2);t.R7$(),t.AVh("text-gray-400",!l.isCurrentMonth)("font-semibold",h.isToday(l.date))("bg-indigo-600",h.isToday(l.date))("text-white",h.isToday(l.date))("hover:bg-gray-200",!h.isDateInRange(l.date))("bg-indigo-100",h.isDateInRange(l.date))("text-indigo-700",h.isDateInRange(l.date))("rounded-l-full",h.isRangeStart(l.date)&&!!h.rangeEnd())("rounded-r-full",h.isRangeEnd(l.date))("rounded-full",h.isRangeStart(l.date)&&!h.rangeEnd()||h.isRangeStart(l.date)&&h.isRangeEnd(l.date)),t.R7$(),t.SpI(" ",t.i5U(3,21,l.date,"d")," ")}}function dt(c,T){if(1&c&&(t.j41(0,"span"),t.EFF(1),t.nI1(2,"date"),t.nI1(3,"date"),t.k0s()),2&c){const l=t.XpG(2);t.R7$(),t.Lme("",t.i5U(2,2,l.rangeStart(),"shortDate")," - ",t.i5U(3,5,l.rangeEnd(),"shortDate"))}}function Et(c,T){if(1&c&&(t.j41(0,"span"),t.EFF(1),t.nI1(2,"date"),t.k0s()),2&c){const l=t.XpG(2);t.R7$(),t.JRh(t.i5U(2,1,l.rangeStart(),"shortDate"))}}function yt(c,T){1&c&&(t.j41(0,"span"),t.EFF(1,"Select a date or a range"),t.k0s())}function Nt(c,T){if(1&c){const l=t.RV6();t.j41(0,"div",6)(1,"div",10)(2,"button",11),t.bIt("click",function(){r.eBV(l);const E=t.XpG();return r.Njj(E.changeMonth(-1))}),t.nrm(3,"i",12),t.k0s(),t.j41(4,"span",13),t.EFF(5),t.nI1(6,"date"),t.k0s(),t.j41(7,"button",14),t.bIt("click",function(){r.eBV(l);const E=t.XpG();return r.Njj(E.changeMonth(1))}),t.nrm(8,"i",15),t.k0s()(),t.j41(9,"div",16),t.Z7z(10,Xe,2,1,"div",17,t.fX1),t.k0s(),t.j41(12,"div",18),t.Z7z(13,Ze,4,24,"div",19,Ft),t.k0s(),t.j41(15,"div",20),t.nVh(16,dt,4,8,"span")(17,Et,3,4,"span")(18,yt,2,0,"span"),t.k0s()()}if(2&c){const l=t.XpG();t.R7$(5),t.JRh(t.i5U(6,2,l.currentMonth(),"LLLL yyyy")),t.R7$(5),t.Dyx(t.lJ4(5,Ge)),t.R7$(3),t.Dyx(l.calendarGrid()),t.R7$(3),t.vxM(l.rangeStart()&&l.rangeEnd()?16:l.rangeStart()?17:18)}}function wn(c,T){if(1&c){const l=t.RV6();t.j41(0,"li",32)(1,"input",34),t.bIt("change",function(){const E=r.eBV(l).$implicit,P=t.XpG(2);return r.Njj(P.toggleValue(E))}),t.k0s(),t.j41(2,"label",35),t.EFF(3),t.k0s()()}if(2&c){const l=T.$implicit,h=t.XpG(2);t.R7$(),t.Y8G("id","filter-val-"+l)("checked",h.selectedValues().has(l)),t.R7$(),t.Y8G("for","filter-val-"+l)("title",l),t.R7$(),t.JRh(l)}}function bn(c,T){1&c&&(t.j41(0,"li",33),t.EFF(1,"No values found."),t.k0s())}function Gt(c,T){if(1&c){const l=t.RV6();t.j41(0,"div",2)(1,"div",22)(2,"div",23),t.nrm(3,"i",24),t.k0s(),t.j41(4,"input",25,0),t.bIt("input",function(){r.eBV(l);const E=t.sdS(5),P=t.XpG();return r.Njj(P.searchTerm.set(E.value))}),t.k0s()()(),t.j41(6,"div",26)(7,"div",27)(8,"input",28),t.bIt("change",function(){r.eBV(l);const E=t.XpG();return r.Njj(E.toggleSelectAll())}),t.k0s(),t.j41(9,"label",29),t.EFF(10,"(Select All)"),t.k0s()(),t.nrm(11,"hr",30),t.j41(12,"ul",31),t.Z7z(13,wn,4,5,"li",32,t.fX1),t.nVh(15,bn,2,0,"li",33),t.k0s()()}if(2&c){const l=t.XpG();t.R7$(8),t.Y8G("checked",l.isAllSelected()),t.R7$(5),t.Dyx(l.filteredValues()),t.R7$(2),t.vxM(0===l.filteredValues().length?15:-1)}}let kn=(()=>{class c{column=R.hFB.required();data=R.hFB.required();activeFilter=(0,R.hFB)();apply=(0,R.CGW)();close=(0,R.CGW)();searchTerm=(0,r.vPA)("");selectedValues=(0,r.vPA)(new Set);currentMonth=(0,r.vPA)(new Date);rangeStart=(0,r.vPA)(null);rangeEnd=(0,r.vPA)(null);uniqueValues=(0,ve.EW)(()=>{const l=this.column().code,h=this.data().map(E=>String(E[l]??"")).filter(E=>""!==E.trim());return[...new Set(h)].sort()});filteredValues=(0,ve.EW)(()=>{const l=this.searchTerm().toLowerCase();return l?this.uniqueValues().filter(h=>h.toLowerCase().includes(l)):this.uniqueValues()});isAllSelected=(0,ve.EW)(()=>{const l=this.filteredValues();return 0!==l.length&&l.every(h=>this.selectedValues().has(h))});calendarGrid=(0,ve.EW)(()=>{const l=this.currentMonth(),h=l.getFullYear(),E=l.getMonth(),P=new Date(h,E,1),te=new Date(h,E+1,0),Fe=P.getDay(),Qe=te.getDate(),ut=[];for(let Zt=0;Zt<Fe;Zt++){const Yt=new Date(P);Yt.setDate(Yt.getDate()-(Fe-Zt)),ut.push({date:Yt,isCurrentMonth:!1})}for(let Zt=1;Zt<=Qe;Zt++){const Yt=new Date(h,E,Zt);ut.push({date:Yt,isCurrentMonth:!0})}const Rt=42-ut.length;for(let Zt=1;Zt<=Rt;Zt++){const Yt=new Date(te);Yt.setDate(Yt.getDate()+Zt),ut.push({date:Yt,isCurrentMonth:!1})}return ut});constructor(){(0,r.QZP)(()=>{const l=this.column(),h=this.activeFilter();if("DATE"===l.columnType)!h||"="!==h.operator&&"between"!==h.operator?this.resetDateSelection():(this.rangeStart.set(h.value1?new Date(h.value1+"T00:00:00"):null),this.rangeEnd.set(h.value2?new Date(h.value2+"T00:00:00"):null),h.value1&&this.currentMonth.set(new Date(h.value1+"T00:00:00")));else{const E=this.uniqueValues();if(h&&h.value1){const P=String(h.value1).split(",");this.selectedValues.set(new Set(P))}else this.selectedValues.set(new Set(E))}},{allowSignalWrites:!0})}toggleSelectAll(){const l=this.isAllSelected(),h=this.filteredValues();this.selectedValues.update(E=>{const P=new Set(E);return h.forEach(l?te=>P.delete(te):te=>P.add(te)),P})}toggleValue(l){this.selectedValues.update(h=>{const E=new Set(h);return E.has(l)?E.delete(l):E.add(l),E})}handleApply(){if("DATE"===this.column().columnType){const l=this.rangeStart();let h=this.rangeEnd();if(l&&h&&h<l){const E=l;this.rangeStart.set(h),this.rangeEnd.set(E),h=E}if(l&&h){const E={code:this.column().code,name:this.column().name,type:"date",operator:"between",value1:l.toISOString().split("T")[0],value2:h.toISOString().split("T")[0]};this.apply.emit({filter:E})}else if(l){const E={code:this.column().code,name:this.column().name,type:"date",operator:"=",value1:l.toISOString().split("T")[0]};this.apply.emit({filter:E})}else this.apply.emit({filter:null})}else{const l=Array.from(this.selectedValues()),h=this.uniqueValues();if(0===l.length||l.length===h.length)this.apply.emit({filter:null});else{const E={code:this.column().code,name:this.column().name,type:"select",operator:"=",value1:l.join(",")};this.apply.emit({filter:E})}}}handleClear(){"DATE"===this.column().columnType?this.resetDateSelection():(this.selectedValues.set(new Set),this.searchTerm.set("")),this.apply.emit({filter:null})}handleSort(l){this.apply.emit({sort:{column:this.column().code,direction:l}})}selectDate(l){const h=this.rangeStart(),E=this.rangeEnd();!h||E?(this.rangeStart.set(l),this.rangeEnd.set(null)):this.rangeEnd.set(l)}changeMonth(l){this.currentMonth.update(h=>{const E=new Date(h);return E.setMonth(E.getMonth()+l),E})}isDateInRange(l){const h=this.rangeStart(),E=this.rangeEnd();return!!h&&(E?l>=(h<E?h:E)&&l<=(h<E?E:h):l.getTime()===h.getTime())}isRangeStart(l){return this.rangeStart()?.getTime()===l.getTime()}isRangeEnd(l){return this.rangeEnd()?.getTime()===l.getTime()}isToday(l){const h=new Date;return l.getDate()===h.getDate()&&l.getMonth()===h.getMonth()&&l.getFullYear()===h.getFullYear()}resetDateSelection(){this.rangeStart.set(null),this.rangeEnd.set(null),this.currentMonth.set(new Date)}static \u0275fac=function(h){return new(h||c)};static \u0275cmp=t.VBU({type:c,selectors:[["app-excel-filter"]],inputs:{column:[1,"column"],data:[1,"data"],activeFilter:[1,"activeFilter"]},outputs:{apply:"apply",close:"close"},decls:17,vars:1,consts:[["searchInput",""],[1,"absolute","top-full","right-0","mt-2","w-72","rounded-md","shadow-lg","bg-white","ring-1","ring-black","ring-opacity-5","focus:outline-none","z-30","flex","flex-col","max-h-[28rem]",3,"clickOutside","click"],[1,"p-2","border-b","border-gray-200","flex-shrink-0"],[1,"flex","items-center","gap-2","w-full","px-2","py-1.5","text-sm","rounded-md","text-gray-700","hover:bg-gray-100",3,"click"],[1,"pi","pi-sort-amount-up-alt","w-4","text-center"],[1,"pi","pi-sort-amount-down","w-4","text-center"],[1,"p-3"],[1,"p-2","border-t","border-gray-200","flex-shrink-0","flex","justify-end","gap-2"],[1,"px-3","py-1.5","text-xs","font-medium","text-gray-700","bg-white","border","border-gray-300","rounded-md","hover:bg-gray-50",3,"click"],[1,"px-3","py-1.5","text-xs","font-medium","text-white","bg-indigo-600","border","border-transparent","rounded-md","hover:bg-indigo-700",3,"click"],[1,"flex","items-center","justify-between","mb-2"],["title","Previous month",1,"p-2","rounded-full","hover:bg-gray-100",3,"click"],[1,"pi","pi-chevron-left","text-xs"],[1,"text-sm","font-semibold"],["title","Next month",1,"p-2","rounded-full","hover:bg-gray-100",3,"click"],[1,"pi","pi-chevron-right","text-xs"],[1,"grid","grid-cols-7","text-center","text-xs","text-gray-500"],[1,"w-8","h-8","flex","items-center","justify-center","font-medium"],[1,"grid","grid-cols-7","text-center","text-sm"],[1,"flex","justify-center","items-center"],[1,"mt-3","text-xs","text-center","text-gray-500"],[1,"w-8","h-8","rounded-full","transition-colors",3,"click"],[1,"relative"],[1,"absolute","inset-y-0","left-0","pl-3","flex","items-center","pointer-events-none"],[1,"pi","pi-search","text-gray-400","text-xs"],["type","search","placeholder","Search values...",1,"block","w-full","pl-8","pr-3","py-1.5","border","border-gray-300","rounded-md","bg-white","text-sm","focus:ring-1","focus:ring-indigo-500","focus:border-indigo-500",3,"input"],[1,"flex-grow","p-2","overflow-y-auto"],[1,"flex","items-center","px-1"],["type","checkbox","id","select-all-filter",1,"h-4","w-4","rounded","border-gray-300","text-indigo-600","focus:ring-indigo-500",3,"change","checked"],["for","select-all-filter",1,"ml-2","text-sm","font-medium","text-gray-900"],[1,"my-2","border-gray-200"],[1,"space-y-1"],[1,"flex","items-center","p-1","rounded-md","hover:bg-gray-100"],[1,"px-2","py-1","text-sm","text-center","text-gray-500"],["type","checkbox",1,"h-4","w-4","rounded","border-gray-300","text-indigo-600","focus:ring-indigo-500",3,"change","id","checked"],[1,"ml-2","text-sm","text-gray-700","truncate",3,"for","title"]],template:function(h,E){1&h&&(t.j41(0,"div",1),t.bIt("clickOutside",function(){return E.close.emit()})("click",function(te){return te.stopPropagation()}),t.j41(1,"div",2)(2,"button",3),t.bIt("click",function(){return E.handleSort("asc")}),t.nrm(3,"i",4),t.j41(4,"span"),t.EFF(5,"Sort Ascending"),t.k0s()(),t.j41(6,"button",3),t.bIt("click",function(){return E.handleSort("desc")}),t.nrm(7,"i",5),t.j41(8,"span"),t.EFF(9,"Sort Descending"),t.k0s()()(),t.nVh(10,Nt,19,6,"div",6)(11,Gt,16,2),t.j41(12,"div",7)(13,"button",8),t.bIt("click",function(){return E.handleClear()}),t.EFF(14," Clear "),t.k0s(),t.j41(15,"button",9),t.bIt("click",function(){return E.handleApply()}),t.EFF(16," Apply "),t.k0s()()()),2&h&&(t.R7$(10),t.vxM("DATE"===E.column().columnType?10:11))},dependencies:[oe.MD,Ke,oe.vh],encapsulation:2,changeDetection:0})}return c})();const On=(c,T)=>T.code,Er=(c,T)=>T.organization_id,mi=(c,T)=>T.action;function Jn(c,T){if(1&c){const l=t.RV6();t.j41(0,"input",14),t.bIt("change",function(){r.eBV(l);const E=t.XpG(2);return r.Njj(E.toggleSelectAll())})("click",function(E){return r.eBV(l),r.Njj(E.stopPropagation())}),t.k0s()}if(2&c){const l=t.XpG(2);t.Y8G("checked",l.isAllSelectedOnPage())}}function Pt(c,T){if(1&c){const l=t.RV6();t.j41(0,"app-header-menu",18),t.bIt("actionClicked",function(E){r.eBV(l);const P=t.XpG(3);return r.Njj(P.handleHeaderMenuAction(E))})("clickOutside",function(){r.eBV(l);const E=t.XpG(3);return r.Njj(E.isHeaderMenuOpen.set(!1))}),t.k0s()}if(2&c){const l=t.XpG(3);t.Y8G("menuConfig",l.headerMenuConfig())}}function Kt(c,T){if(1&c){const l=t.RV6();t.j41(0,"div",11)(1,"button",15),t.bIt("click",function(E){r.eBV(l);const P=t.XpG(2);return E.stopPropagation(),r.Njj(P.isHeaderMenuOpen.set(!P.isHeaderMenuOpen()))}),t.nrm(2,"i",16),t.k0s(),t.nVh(3,Pt,1,1,"app-header-menu",17),t.k0s()}if(2&c){const l=t.XpG(2);t.R7$(),t.AVh("opacity-50",0===l.selectedIds().size),t.Y8G("disabled",0===l.selectedIds().size),t.R7$(2),t.vxM(l.isHeaderMenuOpen()?3:-1)}}function Un(c,T){if(1&c&&t.nrm(0,"i",20),2&c){const l=t.XpG(3);t.AVh("pi-sort-amount-up-alt","asc"===l.sortDirection())("pi-sort-amount-down","desc"===l.sortDirection())}}function fr(c,T){if(1&c&&(t.j41(0,"div",12)(1,"span"),t.EFF(2),t.k0s(),t.nVh(3,Un,1,4,"i",19),t.k0s()),2&c){const l=t.XpG().$implicit,h=t.XpG();t.R7$(2),t.JRh(l.name),t.R7$(),t.vxM(h.sortColumn()===l.code?3:-1)}}function Pr(c,T){if(1&c){const l=t.RV6();t.j41(0,"app-excel-filter",24),t.bIt("apply",function(E){r.eBV(l);const P=t.XpG(2).$implicit,te=t.XpG();return r.Njj(te.handleApplyExcelFilter(E,P.code))})("close",function(){r.eBV(l);const E=t.XpG(3);return r.Njj(E.closeFilterMenu())}),t.k0s()}if(2&c){let l;const h=t.XpG(2).$implicit,E=t.XpG();t.Y8G("column",h)("data",E.data())("activeFilter",null==(l=E.activeFilters())?null:l[h.code])}}function fi(c,T){if(1&c){const l=t.RV6();t.j41(0,"div",13)(1,"button",21),t.bIt("click",function(E){r.eBV(l);const P=t.XpG().$implicit,te=t.XpG();return r.Njj(te.openFilterMenu(P,E))}),t.nrm(2,"i",22),t.k0s(),t.nVh(3,Pr,1,3,"app-excel-filter",23),t.k0s()}if(2&c){let l;const h=t.XpG().$implicit,E=t.XpG();t.R7$(),t.AVh("text-indigo-500",null==(l=E.activeFilters())?null:l[h.code]),t.R7$(2),t.vxM(E.openFilterMenuForColumn()===h?3:-1)}}function li(c,T){if(1&c){const l=t.RV6();t.j41(0,"th",8),t.bIt("dragover",function(E){r.eBV(l);const P=t.XpG();return r.Njj(P.onDragOver(E))})("drop",function(E){const P=r.eBV(l).$index,te=t.XpG();return r.Njj(te.onDrop(E,P))})("dragend",function(){r.eBV(l);const E=t.XpG();return r.Njj(E.onDragEnd())}),t.j41(1,"div",9),t.bIt("dragstart",function(){const E=r.eBV(l).$index,P=t.XpG();return r.Njj(P.onDragStart(E))})("click",function(){const E=r.eBV(l).$implicit,P=t.XpG();return r.Njj(P.onSort(E.code))})("keydown.enter",function(E){const P=r.eBV(l).$implicit,te=t.XpG();return E.preventDefault(),r.Njj(te.onSort(P.code))})("keydown.space",function(E){const P=r.eBV(l).$implicit,te=t.XpG();return E.preventDefault(),r.Njj(te.onSort(P.code))}),t.nVh(2,Jn,1,1,"input",10)(3,Kt,4,4,"div",11)(4,fr,4,2,"div",12),t.nVh(5,fi,4,3,"div",13),t.k0s()()}if(2&c){const l=T.$implicit,h=T.$index,E=T.$count,P=t.XpG();t.xc7("width",l.width)("left",l.frozen?P.columnOffsets()[h]:null),t.AVh("border-r",h===E-1||l.frozen||P.showGridlines())("sticky",l.frozen)("z-30",l.frozen)("bg-gray-100",l.frozen)("opacity-50",P.draggedColumnIndex()===h),t.R7$(),t.AVh("justify-center","center"===l.align)("justify-end","right"===l.align)("justify-between","center"!==l.align&&"right"!==l.align)("cursor-pointer",l.sortable)("cursor-move","CHECKBOX"!==l.columnType&&"ACTION"!==l.columnType&&!l.frozen),t.Y8G("title",l.sortable?P.sortColumn()===l.code?"asc"===P.sortDirection()?"Sort descending":"Sort ascending":"Sort by "+l.name:null),t.BMQ("draggable","CHECKBOX"!==l.columnType&&"ACTION"!==l.columnType&&!l.frozen)("tabindex",l.sortable?0:-1),t.R7$(),t.vxM("CHECKBOX"===l.columnType&&P.enableMultiSelect()?2:"ACTION"===l.columnType&&P.headerMenuConfig()?3:4),t.R7$(3),t.vxM(l.filterable?5:-1)}}function Gi(c,T){if(1&c){const l=t.RV6();t.j41(0,"input",30),t.bIt("change",function(){r.eBV(l);const E=t.XpG(3).$implicit,P=t.XpG();return r.Njj(P.toggleRowSelection(E.organization_id))})("click",function(E){return r.eBV(l),r.Njj(E.stopPropagation())}),t.k0s()}if(2&c){const l=t.XpG(3).$implicit,h=t.XpG();t.Y8G("checked",h.selectedIds().has(l.organization_id))}}function Li(c,T){if(1&c&&t.nVh(0,Gi,1,1,"input",29),2&c){const l=t.XpG(3);t.vxM(l.enableMultiSelect()?0:-1)}}function oi(c,T){if(1&c){const l=t.RV6();t.j41(0,"button",36),t.bIt("click",function(E){const P=r.eBV(l).$implicit,te=t.XpG(4).$implicit,Fe=t.XpG();return E.stopPropagation(),r.Njj(Fe.rowAction.emit({action:P.action,row:te}))}),t.nrm(1,"i"),t.k0s()}if(2&c){const l=T.$implicit;t.HbH(l.color),t.Y8G("title",l.label),t.R7$(),t.HbH(l.icon)}}function yn(c,T){1&c&&t.Z7z(0,oi,2,5,"button",35,mi),2&c&&t.Dyx(T)}function or(c,T){if(1&c){const l=t.RV6();t.j41(0,"app-row-menu",37),t.bIt("actionClicked",function(E){r.eBV(l);const P=t.XpG(4);return r.Njj(P.handleRowMenuAction(E))})("clickOutside",function(){r.eBV(l);const E=t.XpG(4);return r.Njj(E.closeRowMenu())}),t.k0s()}if(2&c){const l=t.XpG(3).$implicit,h=t.XpG();t.Y8G("menuConfig",h.rowMenuConfig())("row",l)("position",h.contextMenuPosition())}}function ln(c,T){if(1&c){const l=t.RV6();t.j41(0,"div",28)(1,"div",31),t.nVh(2,yn,2,0),t.k0s(),t.j41(3,"button",32),t.bIt("click",function(E){r.eBV(l);const P=t.XpG(2).$implicit,te=t.XpG();return r.Njj(te.toggleRowMenu(E,P.organization_id))}),t.nrm(4,"i",33),t.k0s(),t.nVh(5,or,1,3,"app-row-menu",34),t.k0s()}if(2&c){let l;const h=t.XpG(2),E=h.$implicit,P=h.$index,te=t.XpG();t.R7$(),t.AVh("opacity-100",te.keyboardActiveRowIndex()===P),t.R7$(),t.vxM((l=te.rowActions())?2:-1,l),t.R7$(),t.AVh("opacity-100",te.keyboardActiveRowIndex()===P),t.R7$(2),t.vxM(te.openMenuRowId()===E.organization_id?5:-1)}}function gn(c,T){if(1&c&&(t.j41(0,"span"),t.EFF(1),t.nI1(2,"date"),t.k0s()),2&c){const l=t.XpG().$implicit,h=t.XpG().$implicit;t.R7$(),t.JRh(t.i5U(2,1,h[l.code],"mediumDate"))}}function zn(c,T){if(1&c&&(t.j41(0,"span",39),t.EFF(1),t.k0s(),t.j41(2,"span",40),t.EFF(3),t.k0s()),2&c){const l=t.XpG(4).$implicit;t.R7$(),t.JRh(l.contact_person),t.R7$(2),t.SpI("(",l.organization_name,")")}}function sr(c,T){if(1&c&&t.nrm(0,"img",41),2&c){const l=t.XpG(2).$implicit,h=t.XpG(5).$implicit;t.Y8G("src",h[l.code],t.B4B)}}function Tr(c,T){if(1&c&&(t.j41(0,"div",42)(1,"span",43),t.EFF(2),t.k0s()()),2&c){const l=t.XpG(7).$implicit;t.R7$(2),t.JRh((null==l.contact_person?null:l.contact_person[0])||"A")}}function Zn(c,T){if(1&c&&t.nVh(0,sr,1,1,"img",41)(1,Tr,3,1,"div",42),2&c){const l=t.XpG().$implicit,h=t.XpG(5).$implicit;t.vxM(h[l.code]?0:1)}}function Fi(c,T){1&c&&t.nVh(0,Zn,2,1),2&c&&t.vxM("IMAGE"===T.$implicit.columnType?0:-1)}function oo(c,T){if(1&c&&(t.j41(0,"p",39),t.EFF(1),t.k0s()),2&c){t.XpG();const l=t.r8f(0),h=t.XpG().$implicit;t.AVh("font-bold",h.bold),t.R7$(),t.JRh(l)}}function Fn(c,T){if(1&c&&(t.j41(0,"small",47),t.EFF(1),t.k0s()),2&c){t.XpG();const l=t.r8f(0),h=t.XpG().$implicit;t.AVh("font-bold",h.bold),t.R7$(),t.JRh(l)}}function Hn(c,T){if(1&c&&(t.j41(0,"span"),t.EFF(1),t.k0s()),2&c){t.XpG();const l=t.r8f(0),h=t.XpG().$implicit;t.AVh("font-bold",h.bold),t.R7$(),t.JRh(l)}}function Bi(c,T){if(1&c&&(t.SS7(0),t.nVh(1,oo,2,3,"p",44)(2,Fn,2,3,"small",45)(3,Hn,2,3,"span",46)),2&c){let l;const h=t.XpG().$implicit,E=t.XpG(5).$implicit;t.bH3(E[h.code]),t.R7$(),t.vxM("p"===(l=h.tag||"span")?1:"small"===l?2:"span"===l?3:-1)}}function Ei(c,T){1&c&&t.nVh(0,Bi,4,2),2&c&&t.vxM("IMAGE"!==T.$implicit.columnType?0:-1)}function pi(c,T){if(1&c&&(t.j41(0,"div",38),t.Z7z(1,Fi,1,1,null,null,On),t.j41(3,"div"),t.Z7z(4,Ei,1,1,null,null,On),t.k0s()()),2&c){const l=t.XpG(3).$implicit;t.R7$(),t.Dyx(l.cellTemplate),t.R7$(3),t.Dyx(l.cellTemplate)}}function fo(c,T){if(1&c&&t.nVh(0,zn,4,2)(1,pi,6,0,"div",38),2&c){const l=t.XpG(4);t.vxM("ultra-compact"===l.density()?0:1)}}function Ai(c,T){if(1&c&&(t.j41(0,"span"),t.EFF(1),t.k0s()),2&c){const l=t.XpG(2).$implicit,h=t.XpG().$implicit;t.R7$(),t.JRh(h[l.code])}}function Lr(c,T){if(1&c&&t.nVh(0,fo,2,1)(1,Ai,2,1,"span"),2&c){const l=t.XpG().$implicit;t.vxM(l.cellTemplate?0:1)}}function Pi(c,T){if(1&c&&(t.j41(0,"td",27),t.nVh(1,Li,1,1)(2,ln,6,6,"div",28)(3,gn,3,4,"span")(4,Lr,2,1),t.k0s()),2&c){let l;const h=T.$implicit,E=T.$index,P=T.$count,te=t.XpG().$implicit,Fe=t.r8f(0),Qe=t.XpG();t.HbH(Qe.densityClass()),t.xc7("left",h.frozen?Qe.columnOffsets()[E]:null),t.AVh("font-bold",Fe)("!text-sm",Fe&&("compact"===Qe.density()||"ultra-compact"===Qe.density()))("!text-base",Fe&&"cozy"===Qe.density())("!text-lg",Fe&&"comfortable"===Qe.density())("border-r",E===P-1||h.frozen||Qe.showGridlines())("sticky",h.frozen)("z-10",h.frozen)("bg-white",h.frozen&&!Qe.selectedIds().has(te.organization_id))("group-hover:bg-gray-100",h.frozen&&Qe.rowHover()&&!Qe.selectedIds().has(te.organization_id))("bg-transparent",Fe)("text-center","center"===h.align)("text-right","right"===h.align)("text-left","center"!==h.align&&"right"!==h.align),t.R7$(),t.vxM("CHECKBOX"===(l=h.columnType)?1:"ACTION"===l?2:"DATE"===l?3:4)}}function Vi(c,T){if(1&c){const l=t.RV6();t.SS7(0),t.j41(1,"tr",25),t.bIt("click",function(){const E=r.eBV(l).$implicit,P=t.XpG();return r.Njj(P.onRowClick(E))})("contextmenu",function(E){const P=r.eBV(l).$implicit,te=t.XpG();return r.Njj(te.onRowContextMenu(E,P))}),t.Z7z(2,Pi,5,31,"td",26,On),t.k0s()}if(2&c){const l=T.$implicit,h=T.$index,E=t.XpG(),P=t.bH3(E.selectedIds().has(l.organization_id)||E.keyboardActiveRowIndex()===h);t.R7$(),t.AVh("odd:bg-gray-50",E.stripedRows()&&!P)("hover:bg-gray-100",E.rowHover()&&!P)("z-10",P)("border-y-2",P)("border-y-indigo-400",P)("-my-px",P),t.Y8G("id","table-item-"+l.organization_id),t.R7$(),t.Dyx(E.columns())}}function vo(c,T){if(1&c&&(t.j41(0,"td",49),t.EFF(1,"\xa0"),t.k0s()),2&c){const l=T.$index,h=T.$count,E=t.XpG(2);t.HbH(E.densityClass()),t.AVh("border-r",l===h-1||E.showGridlines())}}function Ui(c,T){if(1&c&&(t.j41(0,"tr",6),t.Z7z(1,vo,2,4,"td",48,On),t.k0s()),2&c){const l=t.XpG();t.R7$(),t.Dyx(l.columns())}}function Di(c,T){if(1&c&&t.nrm(0,"div",52),2&c){const l=t.XpG().$implicit,h=t.XpG();t.Y8G("innerHTML",h[l.code],t.npT)}}function ui(c,T){1&c&&(t.j41(0,"span"),t.EFF(1,"\xa0"),t.k0s())}function $i(c,T){if(1&c&&(t.j41(0,"td",51),t.nVh(1,Di,1,1,"div",52)(2,ui,2,0,"span"),t.k0s()),2&c){const l=T.$implicit,h=T.$index,E=T.$count,P=t.XpG(),te=t.XpG();t.xc7("left",l.frozen?te.columnOffsets()[h]:null),t.AVh("border-r",h===E-1||l.frozen||te.showGridlines())("sticky",l.frozen)("z-10",l.frozen)("bg-gray-100",l.frozen)("text-center","center"===l.align)("text-right","right"===l.align)("text-left","center"!==l.align&&"right"!==l.align),t.R7$(),t.vxM(P[l.code]?1:2)}}function _i(c,T){if(1&c&&(t.j41(0,"tfoot",7)(1,"tr"),t.Z7z(2,$i,3,17,"td",50,On),t.k0s()()),2&c){const l=t.XpG();t.R7$(2),t.Dyx(l.columns())}}let Mi=(()=>{class c{columns=R.hFB.required();data=R.hFB.required();sortColumn=R.hFB.required();sortDirection=R.hFB.required();density=(0,R.hFB)("cozy");densityClass=(0,R.hFB)("");rowMenuConfig=R.hFB.required();rowActions=(0,R.hFB)();headerMenuConfig=(0,R.hFB)();selectedIds=(0,R.hFB)(new Set);enableMultiSelect=(0,R.hFB)(!1);customTemplate=(0,R.hFB)(null);loading=(0,R.hFB)(!1);keyboardActiveRowIndex=(0,R.hFB)(null);pageSize=(0,R.hFB)(10);isInfiniteScroll=(0,R.hFB)(!1);activeFilters=(0,R.hFB)();stripedRows=(0,R.hFB)(!0);showGridlines=(0,R.hFB)(!1);rowHover=(0,R.hFB)(!0);footerConfig=(0,R.hFB)();sortChange=(0,R.CGW)();rowAction=(0,R.CGW)();headerAction=(0,R.CGW)();selectionChange=(0,R.CGW)();columnReorder=(0,R.CGW)();rowClicked=(0,R.CGW)();filterChange=(0,R.CGW)();draggedColumnIndex=(0,r.vPA)(null);dragOverIndex=(0,r.vPA)(null);unmaskedCells=(0,r.vPA)(new Set);openMenuRowId=(0,r.vPA)(null);isHeaderMenuOpen=(0,r.vPA)(!1);contextMenuPosition=(0,r.vPA)(null);openFilterMenuForColumn=(0,r.vPA)(null);isAllSelectedOnPage=(0,ve.EW)(()=>{const l=this.data().map(h=>h.organization_id);return 0!==l.length&&l.every(h=>this.selectedIds().has(h))});emptyRows=(0,ve.EW)(()=>{const l=this.pageSize(),h=this.data().length;return this.isInfiniteScroll()||h>=l?[]:Array(l-h).fill(0)});columnOffsets=(0,ve.EW)(()=>{const l=this.columns(),h=new Array(l.length).fill(null);let E=0;for(let P=0;P<l.length;P++){const te=l[P];te.frozen&&(h[P]=`${E}px`,E+=te.width?parseInt(te.width,10):150)}return h});footerData=(0,ve.EW)(()=>{const l=this.footerConfig(),h=this.data();if(!l||!l.enabled||!l.columns||0===h.length)return null;const E={},P=h.length,te={};for(const Fe of l.columns)te[Fe.code]||(te[Fe.code]=[]),te[Fe.code].push(Fe);for(const Fe in te){const Qe=te[Fe];let ut=0,Rt=0;if(Qe.some(Mn=>"sum"===Mn.aggregation||"avg"===Mn.aggregation))for(const Mn of h){const jr=Number(Mn[Fe]);isNaN(jr)||(ut+=jr,Rt++)}const Yt=[];for(const Mn of Qe){let ai,jr=0;switch(Mn.aggregation){case"count":jr=P;break;case"sum":jr=ut;break;case"avg":jr=Rt>0?ut/Rt:0}ai="sum"===Mn.aggregation||"avg"===Mn.aggregation?new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",minimumFractionDigits:0,maximumFractionDigits:0}).format(jr):new Intl.NumberFormat("en-US").format(jr),Yt.push(Mn.display.replace("{value}",ai))}E[Fe]=Yt.join("<br>")}return E});onSort(l){if(!this.columns().find(E=>E.code===l)?.sortable)return;let h="asc";this.sortColumn()===l&&"asc"===this.sortDirection()&&(h="desc"),this.sortChange.emit({column:l,direction:h})}onRowClick(l){this.rowClicked.emit(l)}handleApplyExcelFilter(l,h){l.sort&&this.sortChange.emit(l.sort),Object.prototype.hasOwnProperty.call(l,"filter")&&this.filterChange.emit({code:h,filter:l.filter??null}),this.closeFilterMenu()}toggleRowSelection(l){const h=new Set(this.selectedIds());h.has(l)?h.delete(l):h.add(l),this.selectionChange.emit(h)}toggleSelectAll(){const l=this.isAllSelectedOnPage(),h=new Set(this.selectedIds());this.data().map(P=>P.organization_id).forEach(l?P=>h.delete(P):P=>h.add(P)),this.selectionChange.emit(h)}onRowContextMenu(l,h){this.selectedIds().has(h.organization_id)||this.selectionChange.emit(new Set([h.organization_id])),l.preventDefault(),this.openMenuRowId.set(h.organization_id),this.contextMenuPosition.set({x:l.clientX,y:l.clientY})}toggleRowMenu(l,h){l.stopPropagation(),this.contextMenuPosition.set(null),this.openMenuRowId.update(E=>E===h?null:h)}openFilterMenu(l,h){h.stopPropagation(),this.openFilterMenuForColumn.set(l)}closeFilterMenu(){this.openFilterMenuForColumn.set(null)}closeRowMenu(){this.openMenuRowId.set(null),this.contextMenuPosition.set(null)}handleRowMenuAction(l){this.rowAction.emit(l),this.closeRowMenu()}handleHeaderMenuAction(l){this.headerAction.emit({action:l,selectedIds:Array.from(this.selectedIds())}),this.isHeaderMenuOpen.set(!1)}onDragStart(l){const h=this.columns()[l].columnType;"CHECKBOX"===h||"ACTION"===h||this.draggedColumnIndex.set(l)}onDragOver(l){l.preventDefault()}onDragEnter(l){null!==this.draggedColumnIndex()&&this.draggedColumnIndex()!==l&&this.dragOverIndex.set(l)}onDragLeave(){this.dragOverIndex.set(null)}onDrop(l,h){l.preventDefault();const E=this.draggedColumnIndex(),P=this.columns()[h];if("CHECKBOX"===P.columnType||"ACTION"===P.columnType)return this.draggedColumnIndex.set(null),void this.dragOverIndex.set(null);if(null===E||E===h)return this.draggedColumnIndex.set(null),void this.dragOverIndex.set(null);const te=[...this.columns()],Fe=te.splice(E,1)[0];te.splice(h,0,Fe),this.columnReorder.emit(te),this.draggedColumnIndex.set(null),this.dragOverIndex.set(null)}onDragEnd(){this.draggedColumnIndex.set(null),this.dragOverIndex.set(null)}isUnmasked(l,h){const E=`${l}-${h}`;return this.unmaskedCells().has(E)}toggleMask(l,h){const E=`${l}-${h}`;this.unmaskedCells.update(P=>{const te=new Set(P);return te.has(E)?te.delete(E):te.add(E),te})}maskString(l,h){return ee(l,{visibleStart:h.visibleStart,visibleEnd:h.visibleEnd,maskChar:h.maskChar})}getCellValidation(l,h){const E=xe(l[h.code],h,h.code);if(!E.isValid)return E;if(h.validations)for(const P of h.validations){const te=xe(l[P.code],h,P.code);if(!te.isValid)return te}return{isValid:!0,style:null}}static \u0275fac=function(h){return new(h||c)};static \u0275cmp=t.VBU({type:c,selectors:[["app-table-view"]],inputs:{columns:[1,"columns"],data:[1,"data"],sortColumn:[1,"sortColumn"],sortDirection:[1,"sortDirection"],density:[1,"density"],densityClass:[1,"densityClass"],rowMenuConfig:[1,"rowMenuConfig"],rowActions:[1,"rowActions"],headerMenuConfig:[1,"headerMenuConfig"],selectedIds:[1,"selectedIds"],enableMultiSelect:[1,"enableMultiSelect"],customTemplate:[1,"customTemplate"],loading:[1,"loading"],keyboardActiveRowIndex:[1,"keyboardActiveRowIndex"],pageSize:[1,"pageSize"],isInfiniteScroll:[1,"isInfiniteScroll"],activeFilters:[1,"activeFilters"],stripedRows:[1,"stripedRows"],showGridlines:[1,"showGridlines"],rowHover:[1,"rowHover"],footerConfig:[1,"footerConfig"]},outputs:{sortChange:"sortChange",rowAction:"rowAction",headerAction:"headerAction",selectionChange:"selectionChange",columnReorder:"columnReorder",rowClicked:"rowClicked",filterChange:"filterChange"},decls:12,vars:1,consts:[[1,"h-full","overflow-auto","border-x","border-b","border-gray-300"],[1,"min-w-full","border-collapse","bg-white"],[1,"sticky","top-0","z-20","bg-gray-100"],["scope","col",1,"p-2","border-b","border-t","border-l","border-gray-300","font-semibold","text-gray-600","transition-all","duration-150","relative","text-xs",3,"width","left","border-r","sticky","z-30","bg-gray-100","opacity-50"],[1,""],[1,"transition-colors","duration-150","cursor-pointer","relative","group","border-b","border-gray-200",3,"id","odd:bg-gray-50","hover:bg-gray-100","z-10","border-y-2","border-y-indigo-400","-my-px"],[1,"border-b","border-gray-200"],[1,"sticky","bottom-0","z-20","bg-gray-100"],["scope","col",1,"p-2","border-b","border-t","border-l","border-gray-300","font-semibold","text-gray-600","transition-all","duration-150","relative","text-xs",3,"dragover","drop","dragend"],[1,"flex","items-center","gap-2","p-1","rounded-md","focus:outline-none","focus:ring-2","focus:ring-indigo-500","focus:ring-offset-1",3,"dragstart","click","keydown.enter","keydown.space","title"],["type","checkbox","title","Select all on page",1,"h-4","w-4","rounded","border-gray-300","text-indigo-600","focus:ring-indigo-500",3,"checked"],[1,"relative","mx-auto"],[1,"flex","items-center"],[1,"relative"],["type","checkbox","title","Select all on page",1,"h-4","w-4","rounded","border-gray-300","text-indigo-600","focus:ring-indigo-500",3,"change","click","checked"],["title","Bulk actions",1,"p-1","rounded-full","hover:bg-gray-200",3,"click","disabled"],[1,"pi","pi-ellipsis-v"],[3,"menuConfig"],[3,"actionClicked","clickOutside","menuConfig"],[1,"pi","ml-2","text-xs",3,"pi-sort-amount-up-alt","pi-sort-amount-down"],[1,"pi","ml-2","text-xs"],["title","Filter column",1,"p-1","rounded-full","hover:bg-gray-200",3,"click"],[1,"pi","pi-filter"],[3,"column","data","activeFilter"],[3,"apply","close","column","data","activeFilter"],[1,"transition-colors","duration-150","cursor-pointer","relative","group","border-b","border-gray-200",3,"click","contextmenu","id"],[1,"whitespace-nowrap","p-1.5","border-l","border-gray-200","transition-all","duration-150",3,"class","font-bold","!text-sm","!text-base","!text-lg","border-r","sticky","z-10","left","bg-white","group-hover:bg-gray-100","bg-transparent","text-center","text-right","text-left"],[1,"whitespace-nowrap","p-1.5","border-l","border-gray-200","transition-all","duration-150"],[1,"flex","justify-center","items-center","gap-1","relative"],["type","checkbox",1,"h-4","w-4","rounded","border-gray-300","text-indigo-600","focus:ring-indigo-500",3,"checked"],["type","checkbox",1,"h-4","w-4","rounded","border-gray-300","text-indigo-600","focus:ring-indigo-500",3,"change","click","checked"],[1,"flex","items-center","gap-1","transition-opacity","opacity-0","group-hover:opacity-100","focus-within:opacity-100"],["title","More actions",1,"p-1.5","rounded-full","transition-opacity","opacity-0","group-hover:opacity-100","focus-within:opacity-100","hover:bg-gray-200",3,"click"],[1,"pi","pi-ellipsis-v","text-xs"],[3,"menuConfig","row","position"],[1,"p-1.5","rounded-full",3,"class","title"],[1,"p-1.5","rounded-full",3,"click","title"],[3,"actionClicked","clickOutside","menuConfig","row","position"],[1,"flex","items-center","gap-2"],[1,"font-semibold","text-gray-800"],[1,"text-gray-500","ml-1"],["alt","Avatar",1,"h-6","w-6","object-cover","flex-shrink-0","rounded-full",3,"src"],[1,"h-6","w-6","bg-gray-200","flex","items-center","justify-center","flex-shrink-0","rounded-full"],[1,"text-xs","font-semibold","text-gray-500"],[1,"font-semibold","text-gray-800",3,"font-bold"],[1,"text-gray-500",3,"font-bold"],[3,"font-bold"],[1,"text-gray-500"],[1,"whitespace-nowrap","p-1.5","border-l","border-gray-200",3,"border-r","class"],[1,"whitespace-nowrap","p-1.5","border-l","border-gray-200"],[1,"p-2","border-t","border-l","border-gray-300","font-semibold","text-gray-700","text-xs",3,"left","border-r","sticky","z-10","bg-gray-100","text-center","text-right","text-left"],[1,"p-2","border-t","border-l","border-gray-300","font-semibold","text-gray-700","text-xs"],[3,"innerHTML"]],template:function(h,E){if(1&h&&(t.j41(0,"div",0)(1,"table",1)(2,"thead",2)(3,"tr"),t.Z7z(4,li,6,29,"th",3,On),t.k0s()(),t.j41(6,"tbody",4),t.Z7z(7,Vi,4,14,"tr",5,Er),t.Z7z(9,Ui,3,0,"tr",6,t.Vm6),t.k0s(),t.nVh(11,_i,4,0,"tfoot",7),t.k0s()()),2&h){let P;t.R7$(4),t.Dyx(E.columns()),t.R7$(3),t.Dyx(E.data()),t.R7$(2),t.Dyx(E.emptyRows()),t.R7$(2),t.vxM((P=(null==(P=E.footerConfig())?null:P.enabled)&&E.footerData())?11:-1,P)}},dependencies:[oe.MD,Me,ht,Ke,kn,oe.vh],encapsulation:2,changeDetection:0})}return c})();var Xi=$(345);let Io=(()=>{class c{template=R.hFB.required();data=R.hFB.required();sanitizer=(0,r.WQX)(Xi.up);sanitizedHtml=(0,ve.EW)(()=>{let l=this.template();const h=this.data();return l&&h?(l=l.replace(/\{\{(.*?)\}\}/g,(E,P)=>{const te=P.trim(),Fe=h[te];return null!=Fe?String(Fe):""}),this.sanitizer.bypassSecurityTrustHtml(l)):this.sanitizer.bypassSecurityTrustHtml("")});static \u0275fac=function(h){return new(h||c)};static \u0275cmp=t.VBU({type:c,selectors:[["app-dynamic-item"]],inputs:{template:[1,"template"],data:[1,"data"]},decls:1,vars:1,consts:[[3,"innerHTML"]],template:function(h,E){1&h&&t.Hgh(0,"div",0),2&h&&t.Avn("innerHTML",E.sanitizedHtml(),t.npT)},encapsulation:2,changeDetection:0})}return c})();const Do=(c,T)=>T.organization_id,Wi=(c,T)=>T.code,wo=(c,T)=>T.action;function wi(c,T){if(1&c){const l=t.RV6();t.j41(0,"div",3),t.bIt("click",function(){r.eBV(l);const E=t.XpG().$implicit,P=t.XpG();return r.Njj(P.onCardClick(E))})("contextmenu",function(E){r.eBV(l);const P=t.XpG().$implicit,te=t.XpG();return r.Njj(te.onCardContextMenu(E,P))}),t.nrm(1,"app-dynamic-item",4),t.k0s()}if(2&c){const l=t.XpG(),h=l.$implicit,E=l.$index,P=t.XpG();t.AVh("cursor-pointer",P.enableMultiSelect())("border-transparent",!P.selectedIds().has(h.organization_id))("border-indigo-500",P.selectedIds().has(h.organization_id))("ring-2",P.selectedIds().has(h.organization_id)||P.keyboardActiveRowIndex()===E)("ring-indigo-500",P.selectedIds().has(h.organization_id)||P.keyboardActiveRowIndex()===E),t.Y8G("id","card-item-"+h.organization_id),t.R7$(),t.Y8G("template",T)("data",h)}}function ss(c,T){if(1&c&&t.nrm(0,"img",17),2&c){const l=t.XpG(2).$implicit,h=t.XpG();t.AVh("h-10","compact"!==h.density())("w-10","compact"!==h.density())("h-9","compact"===h.density())("w-9","compact"===h.density()),t.Y8G("src",l.avatar_url,t.B4B)}}function yo(c,T){if(1&c&&(t.j41(0,"div",18)(1,"span",19),t.EFF(2),t.k0s()()),2&c){const l=t.XpG(2).$implicit,h=t.XpG();t.AVh("h-10","compact"!==h.density())("w-10","compact"!==h.density())("h-9","compact"===h.density())("w-9","compact"===h.density()),t.R7$(),t.AVh("text-base","compact"!==h.density())("text-sm","compact"===h.density()),t.R7$(),t.JRh((null==l.contact_person?null:l.contact_person[0])||"A")}}function Ji(c,T){if(1&c){const l=t.RV6();t.j41(0,"app-row-menu",23),t.bIt("actionClicked",function(E){r.eBV(l);const P=t.XpG(4);return r.Njj(P.handleRowMenuAction(E))})("clickOutside",function(){r.eBV(l);const E=t.XpG(4);return r.Njj(E.closeRowMenu())}),t.k0s()}if(2&c){const l=t.XpG(3).$implicit,h=t.XpG();t.Y8G("menuConfig",h.rowMenuConfig())("row",l)("position",h.contextMenuPosition())}}function Zi(c,T){if(1&c){const l=t.RV6();t.j41(0,"div",13)(1,"button",20),t.bIt("click",function(E){r.eBV(l);const P=t.XpG(2).$implicit,te=t.XpG();return r.Njj(te.toggleRowMenu(E,P.organization_id))}),t.nrm(2,"i",21),t.k0s(),t.nVh(3,Ji,1,3,"app-row-menu",22),t.k0s()}if(2&c){const l=t.XpG(2).$implicit,h=t.XpG();t.R7$(3),t.vxM(h.openMenuRowId()===l.organization_id?3:-1)}}function qi(c,T){if(1&c&&t.EFF(0),2&c){const l=t.XpG().$implicit,h=t.XpG(2).$implicit,E=t.XpG();t.SpI(" ",E.maskString(h[l.code],l.mask)," ")}}function Xr(c,T){if(1&c&&t.EFF(0),2&c){const l=t.XpG().$implicit,h=t.XpG(2).$implicit;t.SpI(" ",h[l.code]||"N/A"," ")}}function Bo(c,T){if(1&c&&(t.j41(0,"div",24)(1,"dt",25),t.EFF(2),t.k0s(),t.j41(3,"dd",26),t.nVh(4,qi,1,1)(5,Xr,1,1),t.k0s()()),2&c){const l=T.$implicit,h=t.XpG(2).$implicit,E=t.XpG(),P=E.getFieldValidationState(h,l);t.HbH(E.densityClass()),t.xc7("background-color",P.isValid||null==P.style?null:P.style.bgcolor),t.Y8G("title",P.isValid?"":null==P.style?null:P.style.tooltip),t.R7$(2),t.JRh(l.name),t.R7$(2),t.vxM(null!=l.mask&&l.mask.enabled?4:5)}}function He(c,T){if(1&c){const l=t.RV6();t.j41(0,"button",30),t.bIt("click",function(E){const P=r.eBV(l).$implicit,te=t.XpG(4).$implicit,Fe=t.XpG();return E.stopPropagation(),r.Njj(Fe.rowAction.emit({action:P.action,row:te}))}),t.nrm(1,"i"),t.k0s()}if(2&c){const l=T.$implicit;t.HbH(l.color),t.Y8G("title",l.label),t.R7$(),t.HbH(l.icon)}}function pt(c,T){1&c&&t.Z7z(0,He,2,5,"button",29,wo),2&c&&t.Dyx(T)}function lt(c,T){if(1&c&&(t.j41(0,"footer",27)(1,"div",28),t.nVh(2,pt,2,0),t.k0s()()),2&c){let l;const h=t.XpG(3);t.AVh("p-2","compact"!==h.density())("p-1","compact"===h.density()),t.R7$(2),t.vxM((l=h.rowActions())?2:-1,l)}}function tn(c,T){if(1&c){const l=t.RV6();t.j41(0,"div",5),t.bIt("contextmenu",function(E){r.eBV(l);const P=t.XpG().$implicit,te=t.XpG();return r.Njj(te.onCardContextMenu(E,P))}),t.j41(1,"header",6)(2,"div",7),t.nVh(3,ss,1,9,"img",8)(4,yo,3,13,"div",9),t.j41(5,"div",10)(6,"h3",11),t.EFF(7),t.k0s(),t.j41(8,"p",12),t.EFF(9),t.k0s()()(),t.nVh(10,Zi,4,1,"div",13),t.k0s(),t.j41(11,"div",14),t.bIt("click",function(){r.eBV(l);const E=t.XpG().$implicit,P=t.XpG();return r.Njj(P.handleCardBodyClick(E))}),t.j41(12,"dl"),t.Z7z(13,Bo,6,7,"div",15,Wi),t.k0s()(),t.nVh(15,lt,3,5,"footer",16),t.k0s()}if(2&c){const l=t.XpG(),h=l.$implicit,E=l.$index,P=t.XpG();t.AVh("border-gray-200",!P.selectedIds().has(h.organization_id))("hover:shadow-xl",!P.selectedIds().has(h.organization_id))("bg-slate-50",P.selectedIds().has(h.organization_id))("border-slate-500",P.selectedIds().has(h.organization_id))("ring-2",P.keyboardActiveRowIndex()===E)("ring-offset-2",P.keyboardActiveRowIndex()===E)("ring-slate-500",P.keyboardActiveRowIndex()===E),t.Y8G("id","card-item-"+h.organization_id),t.R7$(),t.AVh("p-4","compact"!==P.density())("p-3","compact"===P.density()),t.R7$(2),t.vxM(h.avatar_url?3:4),t.R7$(3),t.AVh("text-base","comfortable"===P.density())("text-sm","cozy"===P.density()||"compact"===P.density()),t.R7$(),t.JRh(h.contact_person),t.R7$(),t.HbH(P.densityClass()),t.R7$(),t.SpI(" ",h.organization_name||"N/A"," "),t.R7$(),t.vxM(P.rowMenuConfig()?10:-1),t.R7$(),t.AVh("p-4","compact"!==P.density())("p-3","compact"===P.density()),t.R7$(),t.AVh("space-y-3","comfortable"===P.density())("space-y-2","comfortable"!==P.density()),t.R7$(),t.Dyx(P.cardRowColumns()),t.R7$(2),t.vxM(P.rowActions()&&P.rowActions().length>0?15:-1)}}function hn(c,T){if(1&c&&t.nVh(0,wi,2,13,"div",1)(1,tn,16,38,"div",2),2&c){let l;const h=t.XpG();t.vxM((l=h.customTemplate())?0:1,l)}}let un=(()=>{class c{columns=R.hFB.required();data=R.hFB.required();density=(0,R.hFB)("cozy");densityClass=(0,R.hFB)("");selectedIds=(0,R.hFB)(new Set);enableMultiSelect=(0,R.hFB)(!1);rowMenuConfig=(0,R.hFB)();rowActions=(0,R.hFB)();cardViewConfig=(0,R.hFB)();customTemplate=(0,R.hFB)(null);keyboardActiveRowIndex=(0,R.hFB)(null);selectionChange=(0,R.CGW)();rowAction=(0,R.CGW)();rowClicked=(0,R.CGW)();openMenuRowId=(0,r.vPA)(null);contextMenuPosition=(0,r.vPA)(null);cardHeaderColumn=(0,ve.EW)(()=>this.columns().find(l=>l.cardHeader));cardHeader1Column=(0,ve.EW)(()=>this.columns().find(l=>l.cardHeader1));cardRowColumns=(0,ve.EW)(()=>this.columns().filter(l=>l.cardRow));imageColumn=(0,ve.EW)(()=>this.columns().find(l=>"IMAGE"===l.columnType));gridClasses=(0,ve.EW)(()=>{switch(Number(this.cardViewConfig()?.cardsPerRow??4)){case 1:return"grid-cols-1";case 2:return"grid-cols-2 sm:grid-cols-1";case 3:return"grid-cols-3 md:grid-cols-2 sm:grid-cols-1";case 4:default:return"grid-cols-4 lg:grid-cols-3 md:grid-cols-2 sm:grid-cols-1";case 5:return"grid-cols-5 xl:grid-cols-4 lg:grid-cols-3 md:grid-cols-2 sm:grid-cols-1";case 6:return"grid-cols-6 xxl:grid-cols-5 xl:grid-cols-4 lg:grid-cols-3 md:grid-cols-2 sm:grid-cols-1"}});onCardClick(l){this.rowClicked.emit(l)}onCardContextMenu(l,h){l.preventDefault(),this.openMenuRowId.set(h.organization_id),this.contextMenuPosition.set({x:l.clientX,y:l.clientY})}handleCardBodyClick(l){this.rowClicked.emit(l),this.enableMultiSelect()&&this.toggleSelection(l.organization_id)}toggleSelection(l){if(!this.enableMultiSelect())return;const h=new Set(this.selectedIds());h.has(l)?h.delete(l):h.add(l),this.selectionChange.emit(h)}getFieldValidationState(l,h){return xe(l[h.code],h,h.code)}maskString(l,h){return ee(l,{visibleStart:h.visibleStart,visibleEnd:h.visibleEnd,maskChar:h.maskChar})}formatPhoneNumber(l){return l?l.replace(/\D/g,""):""}toggleRowMenu(l,h){if(l.stopPropagation(),this.openMenuRowId()===h)return this.openMenuRowId.set(null),void this.contextMenuPosition.set(null);const P=l.currentTarget.getBoundingClientRect();let Fe=P.right-224;Fe<0&&(Fe=P.left),this.contextMenuPosition.set({x:Fe,y:P.bottom+4}),this.openMenuRowId.set(h)}closeRowMenu(){this.openMenuRowId.set(null),this.contextMenuPosition.set(null)}handleRowMenuAction(l){this.rowAction.emit(l),this.closeRowMenu()}static \u0275fac=function(h){return new(h||c)};static \u0275cmp=t.VBU({type:c,selectors:[["app-card-view"]],inputs:{columns:[1,"columns"],data:[1,"data"],density:[1,"density"],densityClass:[1,"densityClass"],selectedIds:[1,"selectedIds"],enableMultiSelect:[1,"enableMultiSelect"],rowMenuConfig:[1,"rowMenuConfig"],rowActions:[1,"rowActions"],cardViewConfig:[1,"cardViewConfig"],customTemplate:[1,"customTemplate"],keyboardActiveRowIndex:[1,"keyboardActiveRowIndex"]},outputs:{selectionChange:"selectionChange",rowAction:"rowAction",rowClicked:"rowClicked"},decls:3,vars:8,consts:[[1,"grid"],[1,"border-2","rounded-lg","transition-all","duration-200","h-full",3,"id","cursor-pointer","border-transparent","border-indigo-500","ring-2","ring-indigo-500"],[1,"border","rounded-lg","bg-white","overflow-hidden","transition-all","duration-200","flex","flex-col","relative","group",3,"id","border-gray-200","hover:shadow-xl","bg-slate-50","border-slate-500","ring-2","ring-offset-2","ring-slate-500"],[1,"border-2","rounded-lg","transition-all","duration-200","h-full",3,"click","contextmenu","id"],[3,"template","data"],[1,"border","rounded-lg","bg-white","overflow-hidden","transition-all","duration-200","flex","flex-col","relative","group",3,"contextmenu","id"],[1,"flex","justify-between","items-start","gap-4","border-b","border-gray-200","bg-gray-50"],[1,"flex","items-center","gap-4","min-w-0"],["alt","Avatar",1,"rounded-full","object-cover","flex-shrink-0",3,"src","h-10","w-10","h-9","w-9"],[1,"bg-gray-200","flex","items-center","justify-center","rounded-full","object-cover","flex-shrink-0",3,"h-10","w-10","h-9","w-9"],[1,"min-w-0"],[1,"font-bold","text-gray-900","truncate"],[1,"text-gray-600","truncate"],[1,"relative","flex-shrink-0"],[1,"flex-grow","cursor-pointer",3,"click"],[1,"grid","grid-cols-3","gap-2","p-1","-m-1","rounded-md","transition-colors","duration-150",3,"class","background-color","title"],[1,"border-t","border-gray-200","bg-gray-50","flex","items-center","justify-start",3,"p-2","p-1"],["alt","Avatar",1,"rounded-full","object-cover","flex-shrink-0",3,"src"],[1,"bg-gray-200","flex","items-center","justify-center","rounded-full","object-cover","flex-shrink-0"],[1,"font-semibold","text-gray-500"],["title","More actions",1,"p-1","rounded-full","text-gray-500","hover:text-gray-700","hover:bg-gray-200",3,"click"],[1,"pi","pi-ellipsis-v"],[3,"menuConfig","row","position"],[3,"actionClicked","clickOutside","menuConfig","row","position"],[1,"grid","grid-cols-3","gap-2","p-1","-m-1","rounded-md","transition-colors","duration-150",3,"title"],[1,"text-gray-500","font-medium","col-span-1"],[1,"text-gray-800","truncate","col-span-2"],[1,"border-t","border-gray-200","bg-gray-50","flex","items-center","justify-start"],[1,"flex","items-center","gap-1"],[1,"p-1.5","rounded-full","text-sm","hover:bg-gray-200",3,"class","title"],[1,"p-1.5","rounded-full","text-sm","hover:bg-gray-200",3,"click","title"]],template:function(h,E){1&h&&(t.j41(0,"div",0),t.Z7z(1,hn,2,1,null,null,Do),t.k0s()),2&h&&(t.HbH(E.gridClasses()),t.AVh("gap-6","comfortable"===E.density())("gap-4","cozy"===E.density())("gap-3","compact"===E.density()),t.R7$(),t.Dyx(E.data()))},dependencies:[oe.MD,Me,Ke,Io],encapsulation:2,changeDetection:0})}return c})();const an=(c,T)=>T.organization_id;function Rr(c,T){if(1&c&&(t.j41(0,"div",6),t.nrm(1,"app-dynamic-item",7),t.k0s()),2&c){const l=t.XpG().$implicit,h=t.XpG();t.AVh("border-transparent",!h.selectedIds().has(l.organization_id))("border-indigo-500",h.selectedIds().has(l.organization_id)),t.R7$(),t.Y8G("template",T)("data",l)}}function rt(c,T){if(1&c&&t.nrm(0,"img",18),2&c){const l=t.XpG(),h=t.XpG(2).$implicit,E=t.XpG();t.AVh("h-10","compact"!==E.density())("w-10","compact"!==E.density())("mr-4","compact"!==E.density())("h-8","compact"===E.density())("w-8","compact"===E.density())("mr-3","compact"===E.density()),t.Y8G("src",h[l.code],t.B4B)}}function Wt(c,T){if(1&c&&(t.j41(0,"div",19)(1,"span",20),t.EFF(2),t.k0s()()),2&c){const l=t.XpG(3).$implicit,h=t.XpG();t.AVh("h-10","compact"!==h.density())("w-10","compact"!==h.density())("mr-4","compact"!==h.density())("h-8","compact"===h.density())("w-8","compact"===h.density())("mr-3","compact"===h.density()),t.R7$(),t.AVh("text-sm","compact"!==h.density())("text-xs","compact"===h.density()),t.R7$(),t.JRh((null==l.contact_person?null:l.contact_person[0])||"A")}}function Qt(c,T){if(1&c&&t.nVh(0,rt,1,13,"img",16)(1,Wt,3,17,"div",17),2&c){const l=t.XpG(2).$implicit;t.vxM(l[T.code]?0:1)}}function Cn(c,T){if(1&c&&(t.j41(0,"p",21),t.EFF(1),t.k0s()),2&c){const l=t.XpG(2).$implicit,h=t.XpG();t.AVh("text-md","comfortable"===h.density())("text-sm","cozy"===h.density())("text-xs","compact"===h.density()||"ultra-compact"===h.density()),t.R7$(),t.JRh(l[T.code])}}function ge(c,T){if(1&c&&t.EFF(0),2&c){t.XpG();const l=t.r8f(0),h=t.XpG(2).$implicit,E=t.XpG();t.SpI(" ",E.maskString(h[l.code],l.mask)," ")}}function Ye(c,T){if(1&c&&t.EFF(0),2&c){t.XpG();const l=t.r8f(0),h=t.XpG(2).$implicit;t.SpI(" ",h[l.code]||"N/A"," ")}}function ot(c,T){if(1&c&&(t.SS7(0),t.j41(1,"p",22),t.nVh(2,ge,1,1)(3,Ye,1,1),t.k0s()),2&c){const l=t.XpG(2).$implicit,h=t.XpG(),E=t.bH3(h.rowColumns()[0]),P=h.getFieldValidationState(l,E);t.R7$(),t.xc7("background-color",P.isValid||null==P.style?null:P.style.bgcolor),t.Y8G("title",P.isValid?"":null==P.style?null:P.style.tooltip),t.R7$(),t.vxM(null!=E.mask&&E.mask.enabled?2:3)}}function kt(c,T){if(1&c&&t.EFF(0),2&c){t.XpG();const l=t.r8f(0),h=t.XpG(2).$implicit,E=t.XpG();t.SpI(" ",E.maskString(h[l.code],l.mask)," ")}}function Tn(c,T){if(1&c&&t.EFF(0),2&c){t.XpG();const l=t.r8f(0),h=t.XpG(2).$implicit;t.SpI(" ",h[l.code]||"N/A"," ")}}function nr(c,T){if(1&c&&(t.SS7(0),t.j41(1,"span",23),t.nVh(2,kt,1,1)(3,Tn,1,1),t.k0s()),2&c){const l=t.XpG(2).$implicit,h=t.XpG(),E=t.bH3(h.rowColumns()[1]),P=h.getFieldValidationState(l,E);t.R7$(),t.HbH(h.densityClass()),t.xc7("background-color",P.isValid||null==P.style?null:P.style.bgcolor),t.Y8G("title",P.isValid?"":null==P.style?null:P.style.tooltip),t.R7$(),t.vxM(null!=E.mask&&E.mask.enabled?2:3)}}function _r(c,T){if(1&c){const l=t.RV6();t.j41(0,"div",8),t.nVh(1,Qt,2,1),t.j41(2,"div",9),t.nVh(3,Cn,2,7,"p",10),t.nVh(4,ot,4,5,"p",11),t.k0s(),t.j41(5,"div",12),t.nVh(6,nr,4,7,"span",13),t.k0s(),t.j41(7,"button",14),t.bIt("click",function(E){return r.eBV(l),r.Njj(E.stopPropagation())}),t.nrm(8,"i",15),t.k0s()()}if(2&c){let l,h;const E=t.XpG(2);t.AVh("p-4","comfortable"===E.density())("p-3","cozy"===E.density())("p-2","compact"===E.density())("p-1","ultra-compact"===E.density()),t.R7$(),t.vxM((l="ultra-compact"!==E.density()&&E.imageColumn())?1:-1,l),t.R7$(),t.HbH(E.densityClass()),t.R7$(),t.vxM((h=E.headerColumn())?3:-1,h),t.R7$(),t.vxM(E.rowColumns().length>0?4:-1),t.R7$(),t.AVh("ml-4","compact"!==E.density())("ml-2","compact"===E.density()),t.R7$(),t.vxM(E.rowColumns().length>1?6:-1),t.R7$(),t.AVh("ml-4","compact"!==E.density())("ml-2","compact"===E.density())}}function Ur(c,T){if(1&c){const l=t.RV6();t.j41(0,"li",3),t.bIt("click",function(){const E=r.eBV(l).$implicit,P=t.XpG();return r.Njj(P.onItemClick(E))}),t.nVh(1,Rr,2,6,"div",4)(2,_r,9,22,"div",5),t.k0s()}if(2&c){let l;const h=T.$implicit,E=T.$index,P=t.XpG();t.AVh("cursor-pointer",!0)("hover:bg-gray-200/50",!P.selectedIds().has(h.organization_id))("bg-slate-50",P.selectedIds().has(h.organization_id))("ring-2",P.keyboardActiveRowIndex()===E)("ring-offset-2",P.keyboardActiveRowIndex()===E)("ring-slate-500",P.keyboardActiveRowIndex()===E),t.Y8G("id","list-item-"+h.organization_id),t.R7$(),t.vxM((l=P.customTemplate())?1:2,l)}}let qn=(()=>{class c{columns=R.hFB.required();data=R.hFB.required();density=(0,R.hFB)("cozy");densityClass=(0,R.hFB)("");selectedIds=(0,R.hFB)(new Set);enableMultiSelect=(0,R.hFB)(!1);customTemplate=(0,R.hFB)(null);keyboardActiveRowIndex=(0,R.hFB)(null);selectionChange=(0,R.CGW)();rowClicked=(0,R.CGW)();headerColumn=(0,ve.EW)(()=>this.columns().find(l=>l.cardHeader));rowColumns=(0,ve.EW)(()=>this.columns().filter(l=>l.listRow));imageColumn=(0,ve.EW)(()=>this.columns().find(l=>"IMAGE"===l.columnType));onItemClick(l){this.rowClicked.emit(l),this.enableMultiSelect()&&this.toggleSelection(l.organization_id)}toggleSelection(l){if(!this.enableMultiSelect())return;const h=new Set(this.selectedIds());h.has(l)?h.delete(l):h.add(l),this.selectionChange.emit(h)}getFieldValidationState(l,h){return xe(l[h.code],h,h.code)}maskString(l,h){return ee(l,{visibleStart:h.visibleStart,visibleEnd:h.visibleEnd,maskChar:h.maskChar})}static \u0275fac=function(h){return new(h||c)};static \u0275cmp=t.VBU({type:c,selectors:[["app-list-view"]],inputs:{columns:[1,"columns"],data:[1,"data"],density:[1,"density"],densityClass:[1,"densityClass"],selectedIds:[1,"selectedIds"],enableMultiSelect:[1,"enableMultiSelect"],customTemplate:[1,"customTemplate"],keyboardActiveRowIndex:[1,"keyboardActiveRowIndex"]},outputs:{selectionChange:"selectionChange",rowClicked:"rowClicked"},decls:4,vars:0,consts:[[1,"border","border-gray-200","rounded-lg"],[1,"divide-y","divide-gray-200"],[1,"transition-colors","duration-150","relative",3,"id","cursor-pointer","hover:bg-gray-200/50","bg-slate-50","ring-2","ring-offset-2","ring-slate-500"],[1,"transition-colors","duration-150","relative",3,"click","id"],[1,"border-2","rounded-lg",3,"border-transparent","border-indigo-500"],[1,"flex","items-center","justify-between",3,"p-4","p-3","p-2","p-1"],[1,"border-2","rounded-lg"],[3,"template","data"],[1,"flex","items-center","justify-between"],[1,"flex-1","min-w-0"],[1,"font-semibold","text-indigo-600","truncate",3,"text-md","text-sm","text-xs"],[1,"text-gray-500","truncate","p-1","-ml-1","rounded-md",3,"background-color","title"],[1,"inline-flex","items-center","text-base","font-semibold","text-gray-900"],[1,"text-gray-600","p-1","rounded-md",3,"class","background-color","title"],["title","View Details",1,"text-gray-500","hover:text-gray-700",3,"click"],[1,"pi","pi-chevron-right"],["alt","Avatar",1,"rounded-full","object-cover","flex-shrink-0",3,"src","h-10","w-10","mr-4","h-8","w-8","mr-3"],[1,"bg-gray-200","flex","items-center","justify-center","rounded-full","object-cover","flex-shrink-0",3,"h-10","w-10","mr-4","h-8","w-8","mr-3"],["alt","Avatar",1,"rounded-full","object-cover","flex-shrink-0",3,"src"],[1,"bg-gray-200","flex","items-center","justify-center","rounded-full","object-cover","flex-shrink-0"],[1,"font-semibold","text-gray-500"],[1,"font-semibold","text-indigo-600","truncate"],[1,"text-gray-500","truncate","p-1","-ml-1","rounded-md",3,"title"],[1,"text-gray-600","p-1","rounded-md",3,"title"]],template:function(h,E){1&h&&(t.j41(0,"div",0)(1,"ul",1),t.Z7z(2,Ur,3,14,"li",2,an),t.k0s()()),2&h&&(t.R7$(2),t.Dyx(E.data()))},dependencies:[oe.MD,Io],encapsulation:2,changeDetection:0})}return c})();function tr(c,T){let l;if(void 0===T)for(const h of c)null!=h&&(l<h||void 0===l&&h>=h)&&(l=h);else{let h=-1;for(let E of c)null!=(E=T(E,++h,c))&&(l<E||void 0===l&&E>=E)&&(l=E)}return l}function Yi(c){return c}function Vo(c){return"translate("+c+",0)"}function Co(c){return"translate(0,"+c+")"}function As(c){return T=>+c(T)}function qr(c,T){return T=Math.max(0,c.bandwidth()-2*T)/2,c.round()&&(T=Math.round(T)),l=>+c(l)+T}function Os(){return!this.__axis}function Ws(c,T){var l=[],h=null,E=null,P=6,te=6,Fe=3,Qe=typeof window<"u"&&window.devicePixelRatio>1?0:.5,ut=1===c||4===c?-1:1,Rt=4===c||2===c?"x":"y",Zt=1===c||3===c?Vo:Co;function Yt(Mn){var jr=h??(T.ticks?T.ticks.apply(T,l):T.domain()),ai=E??(T.tickFormat?T.tickFormat.apply(T,l):Yi),Pn=Math.max(P,0)+Fe,Dn=T.range(),br=+Dn[0]+Qe,Dr=+Dn[Dn.length-1]+Qe,Jr=(T.bandwidth?qr:As)(T.copy(),Qe),Or=Mn.selection?Mn.selection():Mn,Oi=Or.selectAll(".domain").data([null]),Go=Or.selectAll(".tick").data(jr,T).order(),is=Go.exit(),la=Go.enter().append("g").attr("class","tick"),Ki=Go.select("line"),Wr=Go.select("text");Oi=Oi.merge(Oi.enter().insert("path",".tick").attr("class","domain").attr("stroke","currentColor")),Go=Go.merge(la),Ki=Ki.merge(la.append("line").attr("stroke","currentColor").attr(Rt+"2",ut*P)),Wr=Wr.merge(la.append("text").attr("fill","currentColor").attr(Rt,ut*Pn).attr("dy",1===c?"0em":3===c?"0.71em":"0.32em")),Mn!==Or&&(Oi=Oi.transition(Mn),Go=Go.transition(Mn),Ki=Ki.transition(Mn),Wr=Wr.transition(Mn),is=is.transition(Mn).attr("opacity",1e-6).attr("transform",function(qo){return isFinite(qo=Jr(qo))?Zt(qo+Qe):this.getAttribute("transform")}),la.attr("opacity",1e-6).attr("transform",function(qo){var _o=this.parentNode.__axis;return Zt((_o&&isFinite(_o=_o(qo))?_o:Jr(qo))+Qe)})),is.remove(),Oi.attr("d",4===c||2===c?te?"M"+ut*te+","+br+"H"+Qe+"V"+Dr+"H"+ut*te:"M"+Qe+","+br+"V"+Dr:te?"M"+br+","+ut*te+"V"+Qe+"H"+Dr+"V"+ut*te:"M"+br+","+Qe+"H"+Dr),Go.attr("opacity",1).attr("transform",function(qo){return Zt(Jr(qo)+Qe)}),Ki.attr(Rt+"2",ut*P),Wr.attr(Rt,ut*Pn).text(ai),Or.filter(Os).attr("fill","none").attr("font-size",10).attr("font-family","sans-serif").attr("text-anchor",2===c?"start":4===c?"end":"middle"),Or.each(function(){this.__axis=Jr})}return Yt.scale=function(Mn){return arguments.length?(T=Mn,Yt):T},Yt.ticks=function(){return l=Array.from(arguments),Yt},Yt.tickArguments=function(Mn){return arguments.length?(l=null==Mn?[]:Array.from(Mn),Yt):l.slice()},Yt.tickValues=function(Mn){return arguments.length?(h=null==Mn?null:Array.from(Mn),Yt):h&&h.slice()},Yt.tickFormat=function(Mn){return arguments.length?(E=Mn,Yt):E},Yt.tickSize=function(Mn){return arguments.length?(P=te=+Mn,Yt):P},Yt.tickSizeInner=function(Mn){return arguments.length?(P=+Mn,Yt):P},Yt.tickSizeOuter=function(Mn){return arguments.length?(te=+Mn,Yt):te},Yt.tickPadding=function(Mn){return arguments.length?(Fe=+Mn,Yt):Fe},Yt.offset=function(Mn){return arguments.length?(Qe=+Mn,Yt):Qe},Yt}function Xs(){}function Cs(c){return null==c?Xs:function(){return this.querySelector(c)}}function De(){return[]}function Be(c){return null==c?De:function(){return this.querySelectorAll(c)}}function Ln(c){return function(){return this.matches(c)}}function hr(c){return function(T){return T.matches(c)}}var yi=Array.prototype.find;function Si(){return this.firstElementChild}var Hi=Array.prototype.filter;function zr(){return Array.from(this.children)}function ao(c){return new Array(c.length)}function Eo(c,T){this.ownerDocument=c.ownerDocument,this.namespaceURI=c.namespaceURI,this._next=null,this._parent=c,this.__data__=T}function So(c,T,l,h,E,P){for(var Fe,te=0,Qe=T.length,ut=P.length;te<ut;++te)(Fe=T[te])?(Fe.__data__=P[te],h[te]=Fe):l[te]=new Eo(c,P[te]);for(;te<Qe;++te)(Fe=T[te])&&(E[te]=Fe)}function Ls(c,T,l,h,E,P,te){var Fe,Qe,Mn,ut=new Map,Rt=T.length,Zt=P.length,Yt=new Array(Rt);for(Fe=0;Fe<Rt;++Fe)(Qe=T[Fe])&&(Yt[Fe]=Mn=te.call(Qe,Qe.__data__,Fe,T)+"",ut.has(Mn)?E[Fe]=Qe:ut.set(Mn,Qe));for(Fe=0;Fe<Zt;++Fe)Mn=te.call(c,P[Fe],Fe,P)+"",(Qe=ut.get(Mn))?(h[Fe]=Qe,Qe.__data__=P[Fe],ut.delete(Mn)):l[Fe]=new Eo(c,P[Fe]);for(Fe=0;Fe<Rt;++Fe)(Qe=T[Fe])&&ut.get(Yt[Fe])===Qe&&(E[Fe]=Qe)}function ca(c){return c.__data__}function da(c){return"object"==typeof c&&"length"in c?c:Array.from(c)}function Qo(c,T){return c<T?-1:c>T?1:c>=T?0:NaN}Eo.prototype={constructor:Eo,appendChild:function(c){return this._parent.insertBefore(c,this._next)},insertBefore:function(c,T){return this._parent.insertBefore(c,T)},querySelector:function(c){return this._parent.querySelector(c)},querySelectorAll:function(c){return this._parent.querySelectorAll(c)}};var po="http://www.w3.org/1999/xhtml";const Bs={svg:"http://www.w3.org/2000/svg",xhtml:po,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function ls(c){var T=c+="",l=T.indexOf(":");return l>=0&&"xmlns"!==(T=c.slice(0,l))&&(c=c.slice(l+1)),Bs.hasOwnProperty(T)?{space:Bs[T],local:c}:c}function no(c){return function(){this.removeAttribute(c)}}function Ms(c){return function(){this.removeAttributeNS(c.space,c.local)}}function we(c,T){return function(){this.setAttribute(c,T)}}function de(c,T){return function(){this.setAttributeNS(c.space,c.local,T)}}function Ce(c,T){return function(){var l=T.apply(this,arguments);null==l?this.removeAttribute(c):this.setAttribute(c,l)}}function it(c,T){return function(){var l=T.apply(this,arguments);null==l?this.removeAttributeNS(c.space,c.local):this.setAttributeNS(c.space,c.local,l)}}function fn(c){return c.ownerDocument&&c.ownerDocument.defaultView||c.document&&c||c.defaultView}function In(c){return function(){this.style.removeProperty(c)}}function er(c,T,l){return function(){this.style.setProperty(c,T,l)}}function lr(c,T,l){return function(){var h=T.apply(this,arguments);null==h?this.style.removeProperty(c):this.style.setProperty(c,h,l)}}function ci(c,T){return c.style.getPropertyValue(T)||fn(c).getComputedStyle(c,null).getPropertyValue(T)}function Sr(c){return function(){delete this[c]}}function zi(c,T){return function(){this[c]=T}}function Qi(c,T){return function(){var l=T.apply(this,arguments);null==l?delete this[c]:this[c]=l}}function zo(c){return c.trim().split(/^|\s+/)}function Po(c){return c.classList||new Uo(c)}function Uo(c){this._node=c,this._names=zo(c.getAttribute("class")||"")}function ba(c,T){for(var l=Po(c),h=-1,E=T.length;++h<E;)l.add(T[h])}function us(c,T){for(var l=Po(c),h=-1,E=T.length;++h<E;)l.remove(T[h])}function Ba(c){return function(){ba(this,c)}}function ka(c){return function(){us(this,c)}}function Vs(c,T){return function(){(T.apply(this,arguments)?ba:us)(this,c)}}function Ra(){this.textContent=""}function Dl(c){return function(){this.textContent=c}}function _u(c){return function(){var T=c.apply(this,arguments);this.textContent=T??""}}function sl(){this.innerHTML=""}function le(c){return function(){this.innerHTML=c}}function he(c){return function(){var T=c.apply(this,arguments);this.innerHTML=T??""}}function Re(){this.nextSibling&&this.parentNode.appendChild(this)}function vr(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function Ko(c){return function(){var T=this.ownerDocument,l=this.namespaceURI;return l===po&&T.documentElement.namespaceURI===po?T.createElement(c):T.createElementNS(l,c)}}function gs(c){return function(){return this.ownerDocument.createElementNS(c.space,c.local)}}function ha(c){var T=ls(c);return(T.local?gs:Ko)(T)}function xs(){return null}function I(){var c=this.parentNode;c&&c.removeChild(this)}function q(){var c=this.cloneNode(!1),T=this.parentNode;return T?T.insertBefore(c,this.nextSibling):c}function ae(){var c=this.cloneNode(!0),T=this.parentNode;return T?T.insertBefore(c,this.nextSibling):c}function St(c){return function(){var T=this.__on;if(T){for(var P,l=0,h=-1,E=T.length;l<E;++l)P=T[l],c.type&&P.type!==c.type||P.name!==c.name?T[++h]=P:this.removeEventListener(P.type,P.listener,P.options);++h?T.length=h:delete this.__on}}}function Mt(c,T,l){return function(){var E,h=this.__on,P=function Je(c){return function(T){c.call(this,T,this.__data__)}}(T);if(h)for(var te=0,Fe=h.length;te<Fe;++te)if((E=h[te]).type===c.type&&E.name===c.name)return this.removeEventListener(E.type,E.listener,E.options),this.addEventListener(E.type,E.listener=P,E.options=l),void(E.value=T);this.addEventListener(c.type,P,l),E={type:c.type,name:c.name,value:T,listener:P,options:l},h?h.push(E):this.__on=[E]}}function wt(c,T,l){var h=fn(c),E=h.CustomEvent;"function"==typeof E?E=new E(T,l):(E=h.document.createEvent("Event"),l?(E.initEvent(T,l.bubbles,l.cancelable),E.detail=l.detail):E.initEvent(T,!1,!1)),c.dispatchEvent(E)}function Jt(c,T){return function(){return wt(this,c,T)}}function Ot(c,T){return function(){return wt(this,c,T.apply(this,arguments))}}Uo.prototype={add:function(c){this._names.indexOf(c)<0&&(this._names.push(c),this._node.setAttribute("class",this._names.join(" ")))},remove:function(c){var T=this._names.indexOf(c);T>=0&&(this._names.splice(T,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(c){return this._names.indexOf(c)>=0}};var Xt=[null];function qt(c,T){this._groups=c,this._parents=T}function sn(){return new qt([[document.documentElement]],Xt)}qt.prototype=sn.prototype={constructor:qt,select:function pe(c){"function"!=typeof c&&(c=Cs(c));for(var T=this._groups,l=T.length,h=new Array(l),E=0;E<l;++E)for(var Qe,ut,P=T[E],te=P.length,Fe=h[E]=new Array(te),Rt=0;Rt<te;++Rt)(Qe=P[Rt])&&(ut=c.call(Qe,Qe.__data__,Rt,P))&&("__data__"in Qe&&(ut.__data__=Qe.__data__),Fe[Rt]=ut);return new qt(h,this._parents)},selectAll:function dn(c){c="function"==typeof c?function xt(c){return function(){return function qe(c){return null==c?[]:Array.isArray(c)?c:Array.from(c)}(c.apply(this,arguments))}}(c):Be(c);for(var T=this._groups,l=T.length,h=[],E=[],P=0;P<l;++P)for(var Qe,te=T[P],Fe=te.length,ut=0;ut<Fe;++ut)(Qe=te[ut])&&(h.push(c.call(Qe,Qe.__data__,ut,te)),E.push(Qe));return new qt(h,E)},selectChild:function ti(c){return this.select(null==c?Si:function bi(c){return function(){return yi.call(this.children,c)}}("function"==typeof c?c:hr(c)))},selectChildren:function to(c){return this.selectAll(null==c?zr:function Ii(c){return function(){return Hi.call(this.children,c)}}("function"==typeof c?c:hr(c)))},filter:function Yo(c){"function"!=typeof c&&(c=Ln(c));for(var T=this._groups,l=T.length,h=new Array(l),E=0;E<l;++E)for(var Qe,P=T[E],te=P.length,Fe=h[E]=[],ut=0;ut<te;++ut)(Qe=P[ut])&&c.call(Qe,Qe.__data__,ut,P)&&Fe.push(Qe);return new qt(h,this._parents)},data:function $o(c,T){if(!arguments.length)return Array.from(this,ca);var l=T?Ls:So,h=this._parents,E=this._groups;"function"!=typeof c&&(c=function bo(c){return function(){return c}}(c));for(var P=E.length,te=new Array(P),Fe=new Array(P),Qe=new Array(P),ut=0;ut<P;++ut){var Rt=h[ut],Zt=E[ut],Yt=Zt.length,Mn=da(c.call(Rt,Rt&&Rt.__data__,ut,h)),jr=Mn.length,ai=Fe[ut]=new Array(jr),Pn=te[ut]=new Array(jr);l(Rt,Zt,ai,Pn,Qe[ut]=new Array(Yt),Mn,T);for(var Jr,Or,br=0,Dr=0;br<jr;++br)if(Jr=ai[br]){for(br>=Dr&&(Dr=br+1);!(Or=Pn[Dr])&&++Dr<jr;);Jr._next=Or||null}}return(te=new qt(te,h))._enter=Fe,te._exit=Qe,te},enter:function Es(){return new qt(this._enter||this._groups.map(ao),this._parents)},exit:function lo(){return new qt(this._exit||this._groups.map(ao),this._parents)},join:function ol(c,T,l){var h=this.enter(),E=this,P=this.exit();return"function"==typeof c?(h=c(h))&&(h=h.selection()):h=h.append(c+""),null!=T&&(E=T(E))&&(E=E.selection()),null==l?P.remove():l(P),h&&E?h.merge(E).order():E},merge:function Ro(c){for(var T=c.selection?c.selection():c,l=this._groups,h=T._groups,E=l.length,te=Math.min(E,h.length),Fe=new Array(E),Qe=0;Qe<te;++Qe)for(var Mn,ut=l[Qe],Rt=h[Qe],Zt=ut.length,Yt=Fe[Qe]=new Array(Zt),jr=0;jr<Zt;++jr)(Mn=ut[jr]||Rt[jr])&&(Yt[jr]=Mn);for(;Qe<E;++Qe)Fe[Qe]=l[Qe];return new qt(Fe,this._parents)},selection:function mn(){return this},order:function fa(){for(var c=this._groups,T=-1,l=c.length;++T<l;)for(var te,h=c[T],E=h.length-1,P=h[E];--E>=0;)(te=h[E])&&(P&&4^te.compareDocumentPosition(P)&&P.parentNode.insertBefore(te,P),P=te);return this},sort:function ps(c){function T(Zt,Yt){return Zt&&Yt?c(Zt.__data__,Yt.__data__):!Zt-!Yt}c||(c=Qo);for(var l=this._groups,h=l.length,E=new Array(h),P=0;P<h;++P){for(var ut,te=l[P],Fe=te.length,Qe=E[P]=new Array(Fe),Rt=0;Rt<Fe;++Rt)(ut=te[Rt])&&(Qe[Rt]=ut);Qe.sort(T)}return new qt(E,this._parents).order()},call:function La(){var c=arguments[0];return arguments[0]=this,c.apply(null,arguments),this},nodes:function qs(){return Array.from(this)},node:function qa(){for(var c=this._groups,T=0,l=c.length;T<l;++T)for(var h=c[T],E=0,P=h.length;E<P;++E){var te=h[E];if(te)return te}return null},size:function Ea(){let c=0;for(const T of this)++c;return c},empty:function Ma(){return!this.node()},each:function Ia(c){for(var T=this._groups,l=0,h=T.length;l<h;++l)for(var Fe,E=T[l],P=0,te=E.length;P<te;++P)(Fe=E[P])&&c.call(Fe,Fe.__data__,P,E);return this},attr:function $t(c,T){var l=ls(c);if(arguments.length<2){var h=this.node();return l.local?h.getAttributeNS(l.space,l.local):h.getAttribute(l)}return this.each((null==T?l.local?Ms:no:"function"==typeof T?l.local?it:Ce:l.local?de:we)(l,T))},style:function Mr(c,T,l){return arguments.length>1?this.each((null==T?In:"function"==typeof T?lr:er)(c,T,l??"")):ci(this.node(),c)},property:function Wo(c,T){return arguments.length>1?this.each((null==T?Sr:"function"==typeof T?Qi:zi)(c,T)):this.node()[c]},classed:function bs(c,T){var l=zo(c+"");if(arguments.length<2){for(var h=Po(this.node()),E=-1,P=l.length;++E<P;)if(!h.contains(l[E]))return!1;return!0}return this.each(("function"==typeof T?Vs:T?Ba:ka)(l,T))},text:function Ys(c){return arguments.length?this.each(null==c?Ra:("function"==typeof c?_u:Dl)(c)):this.node().textContent},html:function K(c){return arguments.length?this.each(null==c?sl:("function"==typeof c?he:le)(c)):this.node().innerHTML},raise:function mt(){return this.each(Re)},lower:function Zr(){return this.each(vr)},append:function Va(c){var T="function"==typeof c?c:ha(c);return this.select(function(){return this.appendChild(T.apply(this,arguments))})},insert:function Ua(c,T){var l="function"==typeof c?c:ha(c),h=null==T?xs:"function"==typeof T?T:Cs(T);return this.select(function(){return this.insertBefore(l.apply(this,arguments),h.apply(this,arguments)||null)})},remove:function O(){return this.each(I)},clone:function me(c){return this.select(c?ae:q)},datum:function Ie(c){return arguments.length?this.property("__data__",c):this.node().__data__},on:function zt(c,T,l){var E,te,h=function _t(c){return c.trim().split(/^|\s+/).map(function(T){var l="",h=T.indexOf(".");return h>=0&&(l=T.slice(h+1),T=T.slice(0,h)),{type:T,name:l}})}(c+""),P=h.length;if(!(arguments.length<2)){for(Fe=T?Mt:St,E=0;E<P;++E)this.each(Fe(h[E],T,l));return this}var Fe=this.node().__on;if(Fe)for(var Rt,Qe=0,ut=Fe.length;Qe<ut;++Qe)for(E=0,Rt=Fe[Qe];E<P;++E)if((te=h[E]).type===Rt.type&&te.name===Rt.name)return Rt.value},dispatch:function Vt(c,T){return this.each(("function"==typeof T?Ot:Jt)(c,T))},[Symbol.iterator]:function*Ut(){for(var c=this._groups,T=0,l=c.length;T<l;++T)for(var te,h=c[T],E=0,P=h.length;E<P;++E)(te=h[E])&&(yield te)}};const En=sn;var Gn={value:()=>{}};function ur(){for(var h,c=0,T=arguments.length,l={};c<T;++c){if(!(h=arguments[c]+"")||h in l||/[\s.]/.test(h))throw new Error("illegal type: "+h);l[h]=[]}return new Nn(l)}function Nn(c){this._=c}function Yn(c,T){for(var E,l=0,h=c.length;l<h;++l)if((E=c[l]).name===T)return E.value}function Xn(c,T,l){for(var h=0,E=c.length;h<E;++h)if(c[h].name===T){c[h]=Gn,c=c.slice(0,h).concat(c.slice(h+1));break}return null!=l&&c.push({name:T,value:l}),c}Nn.prototype=ur.prototype={constructor:Nn,on:function(c,T){var E,l=this._,h=function $n(c,T){return c.trim().split(/^|\s+/).map(function(l){var h="",E=l.indexOf(".");if(E>=0&&(h=l.slice(E+1),l=l.slice(0,E)),l&&!T.hasOwnProperty(l))throw new Error("unknown type: "+l);return{type:l,name:h}})}(c+"",l),P=-1,te=h.length;if(!(arguments.length<2)){if(null!=T&&"function"!=typeof T)throw new Error("invalid callback: "+T);for(;++P<te;)if(E=(c=h[P]).type)l[E]=Xn(l[E],c.name,T);else if(null==T)for(E in l)l[E]=Xn(l[E],c.name,null);return this}for(;++P<te;)if((E=(c=h[P]).type)&&(E=Yn(l[E],c.name)))return E},copy:function(){var c={},T=this._;for(var l in T)c[l]=T[l].slice();return new Nn(c)},call:function(c,T){if((E=arguments.length-2)>0)for(var E,P,l=new Array(E),h=0;h<E;++h)l[h]=arguments[h+2];if(!this._.hasOwnProperty(c))throw new Error("unknown type: "+c);for(h=0,E=(P=this._[c]).length;h<E;++h)P[h].value.apply(T,l)},apply:function(c,T,l){if(!this._.hasOwnProperty(c))throw new Error("unknown type: "+c);for(var h=this._[c],E=0,P=h.length;E<P;++E)h[E].value.apply(T,l)}};const gr=ur;var Yr,xo,Ir=0,Gr=0,ni=0,Fo=0,pa=0,ko=0,Ds="object"==typeof performance&&performance.now?performance:Date,al="object"==typeof window&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(c){setTimeout(c,17)};function _l(){return pa||(al(kl),pa=Ds.now()+ko)}function kl(){pa=0}function wl(){this._call=this._time=this._next=null}function Rl(c,T,l){var h=new wl;return h.restart(c,T,l),h}function Tl(){pa=(Fo=Ds.now())+ko,Ir=Gr=0;try{!function Jo(){_l(),++Ir;for(var T,c=Yr;c;)(T=pa-c._time)>=0&&c._call.call(void 0,T),c=c._next;--Ir}()}finally{Ir=0,function Is(){for(var c,l,T=Yr,h=1/0;T;)T._call?(h>T._time&&(h=T._time),c=T,T=T._next):(l=T._next,T._next=null,T=c?c._next=l:Yr=l);xo=c,cs(h)}(),pa=0}}function Qn(){var c=Ds.now(),T=c-Fo;T>1e3&&(ko-=T,Fo=c)}function cs(c){Ir||(Gr&&(Gr=clearTimeout(Gr)),c-pa>24?(c<1/0&&(Gr=setTimeout(Tl,c-Ds.now()-ko)),ni&&(ni=clearInterval(ni))):(ni||(Fo=Ds.now(),ni=setInterval(Qn,1e3)),Ir=1,al(Tl)))}function Hl(c,T,l){var h=new wl;return h.restart(E=>{h.stop(),c(E+T)},T=null==T?0:+T,l),h}wl.prototype=Rl.prototype={constructor:wl,restart:function(c,T,l){if("function"!=typeof c)throw new TypeError("callback is not a function");l=(null==l?_l():+l)+(null==T?0:+T),!this._next&&xo!==this&&(xo?xo._next=this:Yr=this,xo=this),this._call=c,this._time=l,cs()},stop:function(){this._call&&(this._call=null,this._time=1/0,cs())}};var jl=gr("start","end","cancel","interrupt"),Gl=[];function Fl(c,T,l,h,E,P){var te=c.__transition;if(te){if(l in te)return}else c.__transition={};!function ul(c,T,l){var E,h=c.__transition;function te(ut){var Rt,Zt,Yt,Mn;if(1!==l.state)return Qe();for(Rt in h)if((Mn=h[Rt]).name===l.name){if(3===Mn.state)return Hl(te);4===Mn.state?(Mn.state=6,Mn.timer.stop(),Mn.on.call("interrupt",c,c.__data__,Mn.index,Mn.group),delete h[Rt]):+Rt<T&&(Mn.state=6,Mn.timer.stop(),Mn.on.call("cancel",c,c.__data__,Mn.index,Mn.group),delete h[Rt])}if(Hl(function(){3===l.state&&(l.state=4,l.timer.restart(Fe,l.delay,l.time),Fe(ut))}),l.state=2,l.on.call("start",c,c.__data__,l.index,l.group),2===l.state){for(l.state=3,E=new Array(Yt=l.tween.length),Rt=0,Zt=-1;Rt<Yt;++Rt)(Mn=l.tween[Rt].value.call(c,c.__data__,l.index,l.group))&&(E[++Zt]=Mn);E.length=Zt+1}}function Fe(ut){for(var Rt=ut<l.duration?l.ease.call(null,ut/l.duration):(l.timer.restart(Qe),l.state=5,1),Zt=-1,Yt=E.length;++Zt<Yt;)E[Zt].call(c,Rt);5===l.state&&(l.on.call("end",c,c.__data__,l.index,l.group),Qe())}function Qe(){for(var ut in l.state=6,l.timer.stop(),delete h[T],h)return;delete c.__transition}h[T]=l,l.timer=Rl(function P(ut){l.state=1,l.timer.restart(te,l.delay,l.time),l.delay<=ut&&te(ut-l.delay)},0,l.time)}(c,l,{name:T,index:h,group:E,on:jl,tween:Gl,time:P.time,delay:P.delay,duration:P.duration,ease:P.ease,timer:null,state:0})}function ga(c,T){var l=Xo(c,T);if(l.state>0)throw new Error("too late; already scheduled");return l}function ms(c,T){var l=Xo(c,T);if(l.state>3)throw new Error("too late; already running");return l}function Xo(c,T){var l=c.__transition;if(!l||!(l=l[T]))throw new Error("transition not found");return l}function xa(c,T){return c=+c,T=+T,function(l){return c*(1-l)+T*l}}var dl,vu=180/Math.PI,bu={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function cl(c,T,l,h,E,P){var te,Fe,Qe;return(te=Math.sqrt(c*c+T*T))&&(c/=te,T/=te),(Qe=c*l+T*h)&&(l-=c*Qe,h-=T*Qe),(Fe=Math.sqrt(l*l+h*h))&&(l/=Fe,h/=Fe,Qe/=Fe),c*h<T*l&&(c=-c,T=-T,Qe=-Qe,te=-te),{translateX:E,translateY:P,rotate:Math.atan2(T,c)*vu,skewX:Math.atan(Qe)*vu,scaleX:te,scaleY:Fe}}function Uu(c,T,l,h){function E(ut){return ut.length?ut.pop()+" ":""}return function(ut,Rt){var Zt=[],Yt=[];return ut=c(ut),Rt=c(Rt),function P(ut,Rt,Zt,Yt,Mn,jr){if(ut!==Zt||Rt!==Yt){var ai=Mn.push("translate(",null,T,null,l);jr.push({i:ai-4,x:xa(ut,Zt)},{i:ai-2,x:xa(Rt,Yt)})}else(Zt||Yt)&&Mn.push("translate("+Zt+T+Yt+l)}(ut.translateX,ut.translateY,Rt.translateX,Rt.translateY,Zt,Yt),function te(ut,Rt,Zt,Yt){ut!==Rt?(ut-Rt>180?Rt+=360:Rt-ut>180&&(ut+=360),Yt.push({i:Zt.push(E(Zt)+"rotate(",null,h)-2,x:xa(ut,Rt)})):Rt&&Zt.push(E(Zt)+"rotate("+Rt+h)}(ut.rotate,Rt.rotate,Zt,Yt),function Fe(ut,Rt,Zt,Yt){ut!==Rt?Yt.push({i:Zt.push(E(Zt)+"skewX(",null,h)-2,x:xa(ut,Rt)}):Rt&&Zt.push(E(Zt)+"skewX("+Rt+h)}(ut.skewX,Rt.skewX,Zt,Yt),function Qe(ut,Rt,Zt,Yt,Mn,jr){if(ut!==Zt||Rt!==Yt){var ai=Mn.push(E(Mn)+"scale(",null,",",null,")");jr.push({i:ai-4,x:xa(ut,Zt)},{i:ai-2,x:xa(Rt,Yt)})}else(1!==Zt||1!==Yt)&&Mn.push(E(Mn)+"scale("+Zt+","+Yt+")")}(ut.scaleX,ut.scaleY,Rt.scaleX,Rt.scaleY,Zt,Yt),ut=Rt=null,function(Mn){for(var Pn,jr=-1,ai=Yt.length;++jr<ai;)Zt[(Pn=Yt[jr]).i]=Pn.x(Mn);return Zt.join("")}}}var Sl=Uu(function _c(c){const T=new("function"==typeof DOMMatrix?DOMMatrix:WebKitCSSMatrix)(c+"");return T.isIdentity?bu:cl(T.a,T.b,T.c,T.d,T.e,T.f)},"px, ","px)","deg)"),iu=Uu(function ic(c){return null!=c&&(dl||(dl=document.createElementNS("http://www.w3.org/2000/svg","g")),dl.setAttribute("transform",c),c=dl.transform.baseVal.consolidate())?cl((c=c.matrix).a,c.b,c.c,c.d,c.e,c.f):bu},", ",")",")");function ou(c,T){var l,h;return function(){var E=ms(this,c),P=E.tween;if(P!==l)for(var te=0,Fe=(h=l=P).length;te<Fe;++te)if(h[te].name===T){(h=h.slice()).splice(te,1);break}E.tween=h}}function Us(c,T,l){var h,E;if("function"!=typeof l)throw new Error;return function(){var P=ms(this,c),te=P.tween;if(te!==h){E=(h=te).slice();for(var Fe={name:T,value:l},Qe=0,ut=E.length;Qe<ut;++Qe)if(E[Qe].name===T){E[Qe]=Fe;break}Qe===ut&&E.push(Fe)}P.tween=E}}function _s(c,T,l){var h=c._id;return c.each(function(){var E=ms(this,h);(E.value||(E.value={}))[T]=l.apply(this,arguments)}),function(E){return Xo(E,h).value[T]}}function Zo(c,T,l){c.prototype=T.prototype=l,l.constructor=c}function B(c,T){var l=Object.create(c.prototype);for(var h in T)l[h]=T[h];return l}function W(){}var V=.7,z=1/V,se="\\s*([+-]?\\d+)\\s*",Ue="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Pe="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",vt=/^#([0-9a-f]{3,8})$/,nn=new RegExp(`^rgb\\(${se},${se},${se}\\)$`),jn=new RegExp(`^rgb\\(${Pe},${Pe},${Pe}\\)$`),dr=new RegExp(`^rgba\\(${se},${se},${se},${Ue}\\)$`),ki=new RegExp(`^rgba\\(${Pe},${Pe},${Pe},${Ue}\\)$`),No=new RegExp(`^hsl\\(${Ue},${Pe},${Pe}\\)$`),ma=new RegExp(`^hsla\\(${Ue},${Pe},${Pe},${Ue}\\)$`),go={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function Pa(){return this.rgb().formatHex()}function fl(){return this.rgb().formatRgb()}function es(c){var T,l;return c=(c+"").trim().toLowerCase(),(T=vt.exec(c))?(l=T[1].length,T=parseInt(T[1],16),6===l?su(T):3===l?new di(T>>8&15|T>>4&240,T>>4&15|240&T,(15&T)<<4|15&T,1):8===l?xu(T>>24&255,T>>16&255,T>>8&255,(255&T)/255):4===l?xu(T>>12&15|T>>8&240,T>>8&15|T>>4&240,T>>4&15|240&T,((15&T)<<4|15&T)/255):null):(T=nn.exec(c))?new di(T[1],T[2],T[3],1):(T=jn.exec(c))?new di(255*T[1]/100,255*T[2]/100,255*T[3]/100,1):(T=dr.exec(c))?xu(T[1],T[2],T[3],T[4]):(T=ki.exec(c))?xu(255*T[1]/100,255*T[2]/100,255*T[3]/100,T[4]):(T=No.exec(c))?Nl(T[1],T[2]/100,T[3]/100,1):(T=ma.exec(c))?Nl(T[1],T[2]/100,T[3]/100,T[4]):go.hasOwnProperty(c)?su(go[c]):"transparent"===c?new di(NaN,NaN,NaN,0):null}function su(c){return new di(c>>16&255,c>>8&255,255&c,1)}function xu(c,T,l,h){return h<=0&&(c=T=l=NaN),new di(c,T,l,h)}function Qs(c,T,l,h){return 1===arguments.length?function Du(c){return c instanceof W||(c=es(c)),c?new di((c=c.rgb()).r,c.g,c.b,c.opacity):new di}(c):new di(c,T,l,h??1)}function di(c,T,l,h){this.r=+c,this.g=+T,this.b=+l,this.opacity=+h}function Fa(){return`#${Qa(this.r)}${Qa(this.g)}${Qa(this.b)}`}function El(){const c=au(this.opacity);return`${1===c?"rgb(":"rgba("}${bl(this.r)}, ${bl(this.g)}, ${bl(this.b)}${1===c?")":`, ${c})`}`}function au(c){return isNaN(c)?1:Math.max(0,Math.min(1,c))}function bl(c){return Math.max(0,Math.min(255,Math.round(c)||0))}function Qa(c){return((c=bl(c))<16?"0":"")+c.toString(16)}function Nl(c,T,l,h){return h<=0?c=T=l=NaN:l<=0||l>=1?c=T=NaN:T<=0&&(c=NaN),new Da(c,T,l,h)}function Js(c){if(c instanceof Da)return new Da(c.h,c.s,c.l,c.opacity);if(c instanceof W||(c=es(c)),!c)return new Da;if(c instanceof Da)return c;var T=(c=c.rgb()).r/255,l=c.g/255,h=c.b/255,E=Math.min(T,l,h),P=Math.max(T,l,h),te=NaN,Fe=P-E,Qe=(P+E)/2;return Fe?(te=T===P?(l-h)/Fe+6*(l<h):l===P?(h-T)/Fe+2:(T-l)/Fe+4,Fe/=Qe<.5?P+E:2-P-E,te*=60):Fe=Qe>0&&Qe<1?0:te,new Da(te,Fe,Qe,c.opacity)}function Da(c,T,l,h){this.h=+c,this.s=+T,this.l=+l,this.opacity=+h}function lu(c){return(c=(c||0)%360)<0?c+360:c}function Ja(c){return Math.max(0,Math.min(1,c||0))}function hl(c,T,l){return 255*(c<60?T+(l-T)*c/60:c<180?l:c<240?T+(l-T)*(240-c)/60:T)}function Zs(c,T,l,h,E){var P=c*c,te=P*c;return((1-3*c+3*P-te)*T+(4-6*P+3*te)*l+(1+3*c+3*P-3*te)*h+te*E)/6}Zo(W,es,{copy(c){return Object.assign(new this.constructor,this,c)},displayable(){return this.rgb().displayable()},hex:Pa,formatHex:Pa,formatHex8:function ws(){return this.rgb().formatHex8()},formatHsl:function _a(){return Js(this).formatHsl()},formatRgb:fl,toString:fl}),Zo(di,Qs,B(W,{brighter(c){return c=null==c?z:Math.pow(z,c),new di(this.r*c,this.g*c,this.b*c,this.opacity)},darker(c){return c=null==c?V:Math.pow(V,c),new di(this.r*c,this.g*c,this.b*c,this.opacity)},rgb(){return this},clamp(){return new di(bl(this.r),bl(this.g),bl(this.b),au(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Fa,formatHex:Fa,formatHex8:function Cl(){return`#${Qa(this.r)}${Qa(this.g)}${Qa(this.b)}${Qa(255*(isNaN(this.opacity)?1:this.opacity))}`},formatRgb:El,toString:El})),Zo(Da,function Wl(c,T,l,h){return 1===arguments.length?Js(c):new Da(c,T,l,h??1)},B(W,{brighter(c){return c=null==c?z:Math.pow(z,c),new Da(this.h,this.s,this.l*c,this.opacity)},darker(c){return c=null==c?V:Math.pow(V,c),new Da(this.h,this.s,this.l*c,this.opacity)},rgb(){var c=this.h%360+360*(this.h<0),T=isNaN(c)||isNaN(this.s)?0:this.s,l=this.l,h=l+(l<.5?l:1-l)*T,E=2*l-h;return new di(hl(c>=240?c-240:c+120,E,h),hl(c,E,h),hl(c<120?c+240:c-120,E,h),this.opacity)},clamp(){return new Da(lu(this.h),Ja(this.s),Ja(this.l),au(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const c=au(this.opacity);return`${1===c?"hsl(":"hsla("}${lu(this.h)}, ${100*Ja(this.s)}%, ${100*Ja(this.l)}%${1===c?")":`, ${c})`}`}}));const Ol=c=>()=>c;function va(c,T){var l=T-c;return l?function oc(c,T){return function(l){return c+l*T}}(c,l):Ol(isNaN(c)?T:c)}const pl=function c(T){var l=function sc(c){return 1==(c=+c)?va:function(T,l){return l-T?function Tu(c,T,l){return c=Math.pow(c,l),T=Math.pow(T,l)-c,l=1/l,function(h){return Math.pow(c+h*T,l)}}(T,l,c):Ol(isNaN(T)?l:T)}}(T);function h(E,P){var te=l((E=Qs(E)).r,(P=Qs(P)).r),Fe=l(E.g,P.g),Qe=l(E.b,P.b),ut=va(E.opacity,P.opacity);return function(Rt){return E.r=te(Rt),E.g=Fe(Rt),E.b=Qe(Rt),E.opacity=ut(Rt),E+""}}return h.gamma=c,h}(1);function Au(c){return function(T){var te,Fe,l=T.length,h=new Array(l),E=new Array(l),P=new Array(l);for(te=0;te<l;++te)Fe=Qs(T[te]),h[te]=Fe.r||0,E[te]=Fe.g||0,P[te]=Fe.b||0;return h=c(h),E=c(E),P=c(P),Fe.opacity=1,function(Qe){return Fe.r=h(Qe),Fe.g=E(Qe),Fe.b=P(Qe),Fe+""}}}Au(function Hu(c){var T=c.length-1;return function(l){var h=l<=0?l=0:l>=1?(l=1,T-1):Math.floor(l*T),E=c[h],P=c[h+1];return Zs((l-h/T)*T,h>0?c[h-1]:2*E-P,E,P,h<T-1?c[h+2]:2*P-E)}}),Au(function wu(c){var T=c.length;return function(l){var h=Math.floor(((l%=1)<0?++l:l)*T);return Zs((l-h/T)*T,c[(h+T-1)%T],c[h%T],c[(h+1)%T],c[(h+2)%T])}});var Ha=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,ja=new RegExp(Ha.source,"g");function Gu(c,T){var h,E,P,l=Ha.lastIndex=ja.lastIndex=0,te=-1,Fe=[],Qe=[];for(c+="",T+="";(h=Ha.exec(c))&&(E=ja.exec(T));)(P=E.index)>l&&(P=T.slice(l,P),Fe[te]?Fe[te]+=P:Fe[++te]=P),(h=h[0])===(E=E[0])?Fe[te]?Fe[te]+=E:Fe[++te]=E:(Fe[++te]=null,Qe.push({i:te,x:xa(h,E)})),l=ja.lastIndex;return l<T.length&&(P=T.slice(l),Fe[te]?Fe[te]+=P:Fe[++te]=P),Fe.length<2?Qe[0]?function Mu(c){return function(T){return c(T)+""}}(Qe[0].x):function Ll(c){return function(){return c}}(T):(T=Qe.length,function(ut){for(var Zt,Rt=0;Rt<T;++Rt)Fe[(Zt=Qe[Rt]).i]=Zt.x(ut);return Fe.join("")})}function Iu(c,T){var l;return("number"==typeof T?xa:T instanceof es?pl:(l=es(T))?(T=l,pl):Gu)(c,T)}function vc(c){return function(){this.removeAttribute(c)}}function ac(c){return function(){this.removeAttributeNS(c.space,c.local)}}function uu(c,T,l){var h,P,E=l+"";return function(){var te=this.getAttribute(c);return te===E?null:te===h?P:P=T(h=te,l)}}function ea(c,T,l){var h,P,E=l+"";return function(){var te=this.getAttributeNS(c.space,c.local);return te===E?null:te===h?P:P=T(h=te,l)}}function yc(c,T,l){var h,E,P;return function(){var te,Qe,Fe=l(this);return null==Fe?void this.removeAttribute(c):(te=this.getAttribute(c))===(Qe=Fe+"")?null:te===h&&Qe===E?P:(E=Qe,P=T(h=te,Fe))}}function yu(c,T,l){var h,E,P;return function(){var te,Qe,Fe=l(this);return null==Fe?void this.removeAttributeNS(c.space,c.local):(te=this.getAttributeNS(c.space,c.local))===(Qe=Fe+"")?null:te===h&&Qe===E?P:(E=Qe,P=T(h=te,Fe))}}function $u(c,T){var l,h;function E(){var P=T.apply(this,arguments);return P!==h&&(l=(h=P)&&function cu(c,T){return function(l){this.setAttributeNS(c.space,c.local,T.call(this,l))}}(c,P)),l}return E._value=T,E}function Wu(c,T){var l,h;function E(){var P=T.apply(this,arguments);return P!==h&&(l=(h=P)&&function uc(c,T){return function(l){this.setAttribute(c,T.call(this,l))}}(c,P)),l}return E._value=T,E}function ku(c,T){return function(){ga(this,c).delay=+T.apply(this,arguments)}}function du(c,T){return T=+T,function(){ga(this,c).delay=T}}function Ru(c,T){return function(){ms(this,c).duration=+T.apply(this,arguments)}}function cc(c,T){return T=+T,function(){ms(this,c).duration=T}}var ne=En.prototype.constructor;function bt(c){return function(){this.style.removeProperty(c)}}var Kl=0;function $a(c,T,l,h){this._groups=c,this._parents=T,this._name=l,this._id=h}function ya(){return++Kl}var Bl=En.prototype;$a.prototype=function Xl(c){return En().transition(c)}.prototype={constructor:$a,select:function A(c){var T=this._name,l=this._id;"function"!=typeof c&&(c=Cs(c));for(var h=this._groups,E=h.length,P=new Array(E),te=0;te<E;++te)for(var Rt,Zt,Fe=h[te],Qe=Fe.length,ut=P[te]=new Array(Qe),Yt=0;Yt<Qe;++Yt)(Rt=Fe[Yt])&&(Zt=c.call(Rt,Rt.__data__,Yt,Fe))&&("__data__"in Rt&&(Zt.__data__=Rt.__data__),ut[Yt]=Zt,Fl(ut[Yt],T,l,Yt,ut,Xo(Rt,l)));return new $a(P,this._parents,T,l)},selectAll:function U(c){var T=this._name,l=this._id;"function"!=typeof c&&(c=Be(c));for(var h=this._groups,E=h.length,P=[],te=[],Fe=0;Fe<E;++Fe)for(var Rt,Qe=h[Fe],ut=Qe.length,Zt=0;Zt<ut;++Zt)if(Rt=Qe[Zt]){for(var Mn,Yt=c.call(Rt,Rt.__data__,Zt,Qe),jr=Xo(Rt,l),ai=0,Pn=Yt.length;ai<Pn;++ai)(Mn=Yt[ai])&&Fl(Mn,T,l,ai,Yt,jr);P.push(Yt),te.push(Rt)}return new $a(P,te,T,l)},selectChild:Bl.selectChild,selectChildren:Bl.selectChildren,filter:function xc(c){"function"!=typeof c&&(c=Ln(c));for(var T=this._groups,l=T.length,h=new Array(l),E=0;E<l;++E)for(var Qe,P=T[E],te=P.length,Fe=h[E]=[],ut=0;ut<te;++ut)(Qe=P[ut])&&c.call(Qe,Qe.__data__,ut,P)&&Fe.push(Qe);return new $a(h,this._parents,this._name,this._id)},merge:function Pu(c){if(c._id!==this._id)throw new Error;for(var T=this._groups,l=c._groups,h=T.length,P=Math.min(h,l.length),te=new Array(h),Fe=0;Fe<P;++Fe)for(var Yt,Qe=T[Fe],ut=l[Fe],Rt=Qe.length,Zt=te[Fe]=new Array(Rt),Mn=0;Mn<Rt;++Mn)(Yt=Qe[Mn]||ut[Mn])&&(Zt[Mn]=Yt);for(;Fe<h;++Fe)te[Fe]=T[Fe];return new $a(te,this._parents,this._name,this._id)},selection:function Ee(){return new ne(this._groups,this._parents)},transition:function Za(){for(var c=this._name,T=this._id,l=ya(),h=this._groups,E=h.length,P=0;P<E;++P)for(var Qe,te=h[P],Fe=te.length,ut=0;ut<Fe;++ut)if(Qe=te[ut]){var Rt=Xo(Qe,T);Fl(Qe,c,l,ut,te,{time:Rt.time+Rt.delay+Rt.duration,delay:0,duration:Rt.duration,ease:Rt.ease})}return new $a(h,this._parents,c,l)},call:Bl.call,nodes:Bl.nodes,node:Bl.node,size:Bl.size,empty:Bl.empty,each:Bl.each,on:function S(c,T){var l=this._id;return arguments.length<2?Xo(this.node(),l).on.on(c):this.each(function j(c,T,l){var h,E,P=function Fu(c){return(c+"").trim().split(/^|\s+/).every(function(T){var l=T.indexOf(".");return l>=0&&(T=T.slice(0,l)),!T||"start"===T})}(T)?ga:ms;return function(){var te=P(this,c),Fe=te.on;Fe!==h&&(E=(h=Fe).copy()).on(T,l),te.on=E}}(l,c,T))},attr:function lc(c,T){var l=ls(c),h="transform"===l?iu:Iu;return this.attrTween(c,"function"==typeof T?(l.local?yu:yc)(l,h,_s(this,"attr."+c,T)):null==T?(l.local?ac:vc)(l):(l.local?ea:uu)(l,h,T))},attrTween:function Cc(c,T){var l="attr."+c;if(arguments.length<2)return(l=this.tween(l))&&l._value;if(null==T)return this.tween(l,null);if("function"!=typeof T)throw new Error;var h=ls(c);return this.tween(l,(h.local?$u:Wu)(h,T))},style:function Cr(c,T,l){var h="transform"==(c+="")?Sl:Iu;return null==T?this.styleTween(c,function tt(c,T){var l,h,E;return function(){var P=ci(this,c),te=(this.style.removeProperty(c),ci(this,c));return P===te?null:P===l&&te===h?E:E=T(l=P,h=te)}}(c,h)).on("end.style."+c,bt(c)):"function"==typeof T?this.styleTween(c,function xn(c,T,l){var h,E,P;return function(){var te=ci(this,c),Fe=l(this),Qe=Fe+"";return null==Fe&&(this.style.removeProperty(c),Qe=Fe=ci(this,c)),te===Qe?null:te===h&&Qe===E?P:(E=Qe,P=T(h=te,Fe))}}(c,h,_s(this,"style."+c,T))).each(function yr(c,T){var l,h,E,Fe,P="style."+T,te="end."+P;return function(){var Qe=ms(this,c),ut=Qe.on,Rt=null==Qe.value[P]?Fe||(Fe=bt(T)):void 0;(ut!==l||E!==Rt)&&(h=(l=ut).copy()).on(te,E=Rt),Qe.on=h}}(this._id,c)):this.styleTween(c,function Sn(c,T,l){var h,P,E=l+"";return function(){var te=ci(this,c);return te===E?null:te===h?P:P=T(h=te,l)}}(c,h,T),l).on("end.style."+c,null)},styleTween:function mo(c,T,l){var h="style."+(c+="");if(arguments.length<2)return(h=this.tween(h))&&h._value;if(null==T)return this.tween(h,null);if("function"!=typeof T)throw new Error;return this.tween(h,function ii(c,T,l){var h,E;function P(){var te=T.apply(this,arguments);return te!==E&&(h=(E=te)&&function Kr(c,T,l){return function(h){this.style.setProperty(c,T.call(this,h),l)}}(c,te,l)),h}return P._value=T,P}(c,T,l??""))},text:function Ga(c){return this.tween("text","function"==typeof c?function vs(c){return function(){var T=c(this);this.textContent=T??""}}(_s(this,"text",c)):function ds(c){return function(){this.textContent=c}}(null==c?"":c+""))},textTween:function zl(c){var T="text";if(arguments.length<1)return(T=this.tween(T))&&T._value;if(null==c)return this.tween(T,null);if("function"!=typeof c)throw new Error;return this.tween(T,function Nu(c){var T,l;function h(){var E=c.apply(this,arguments);return E!==l&&(T=(l=E)&&function wa(c){return function(T){this.textContent=c.call(this,T)}}(E)),T}return h._value=c,h}(c))},remove:function g(){return this.on("end.remove",function D(c){return function(){var T=this.parentNode;for(var l in this.__transition)if(+l!==c)return;T&&T.removeChild(this)}}(this._id))},tween:function ks(c,T){var l=this._id;if(c+="",arguments.length<2){for(var te,h=Xo(this.node(),l).tween,E=0,P=h.length;E<P;++E)if((te=h[E]).name===c)return te.value;return null}return this.each((null==T?ou:Us)(l,c,T))},delay:function Ec(c){var T=this._id;return arguments.length?this.each(("function"==typeof c?ku:du)(T,c)):Xo(this.node(),T).delay},duration:function Al(c){var T=this._id;return arguments.length?this.each(("function"==typeof c?Ru:cc)(T,c)):Xo(this.node(),T).duration},ease:function Hs(c){var T=this._id;return arguments.length?this.each(function zu(c,T){if("function"!=typeof T)throw new Error;return function(){ms(this,c).ease=T}}(T,c)):Xo(this.node(),T).ease},easeVarying:function bc(c){if("function"!=typeof c)throw new Error;return this.each(function Pc(c,T){return function(){var l=T.apply(this,arguments);if("function"!=typeof l)throw new Error;ms(this,c).ease=l}}(this._id,c))},end:function Rs(){var c,T,l=this,h=l._id,E=l.size();return new Promise(function(P,te){var Fe={value:te},Qe={value:function(){0===--E&&P()}};l.each(function(){var ut=ms(this,h),Rt=ut.on;Rt!==c&&((T=(c=Rt).copy())._.cancel.push(Fe),T._.interrupt.push(Fe),T._.end.push(Qe)),ut.on=T}),0===E&&P()})},[Symbol.iterator]:Bl[Symbol.iterator]};var si={time:null,delay:0,duration:250,ease:function Br(c){return((c*=2)<=1?c*c*c:(c-=2)*c*c+2)/2}};function gi(c,T){for(var l;!(l=c.__transition)||!(l=l[T]);)if(!(c=c.parentNode))throw new Error(`transition ${T} not found`);return l}En.prototype.interrupt=function ru(c){return this.each(function(){!function yl(c,T){var h,E,te,l=c.__transition,P=!0;if(l){for(te in T=null==T?null:T+"",l)(h=l[te]).name===T?(E=h.state>2&&h.state<5,h.state=6,h.timer.stop(),h.on.call(E?"interrupt":"cancel",c,c.__data__,h.index,h.group),delete l[te]):P=!1;P&&delete c.__transition}}(this,c)})},En.prototype.transition=function ro(c){var T,l;c instanceof $a?(T=c._id,c=c._name):(T=ya(),(l=si).time=_l(),c=null==c?null:c+"");for(var h=this._groups,E=h.length,P=0;P<E;++P)for(var Qe,te=h[P],Fe=te.length,ut=0;ut<Fe;++ut)(Qe=te[ut])&&Fl(Qe,c,T,ut,te,l||gi(Qe,T));return new $a(h,this._parents,c,T)};Math;function Dc(c){return{type:c}}function Ed(c,T){switch(arguments.length){case 0:break;case 1:this.range(c);break;default:this.range(T).domain(c)}return this}["w","e"].map(Dc),["n","s"].map(Dc),["n","w","e","s","nw","ne","sw","se"].map(Dc);class Jc extends Map{constructor(T,l=wc){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:l}}),null!=T)for(const[h,E]of T)this.set(h,E)}get(T){return super.get(Oc(this,T))}has(T){return super.has(Oc(this,T))}set(T,l){return super.set(function bd({_intern:c,_key:T},l){const h=T(l);return c.has(h)?c.get(h):(c.set(h,l),l)}(this,T),l)}delete(T){return super.delete(function Ou({_intern:c,_key:T},l){const h=T(l);return c.has(h)&&(l=c.get(h),c.delete(h)),l}(this,T))}}function Oc({_intern:c,_key:T},l){const h=T(l);return c.has(h)?c.get(h):l}function wc(c){return null!==c&&"object"==typeof c?c.valueOf():c}Set;const _f=Symbol("implicit");function Lc(){var c=new Jc,T=[],l=[],h=_f;function E(P){let te=c.get(P);if(void 0===te){if(h!==_f)return h;c.set(P,te=T.push(P)-1)}return l[te%l.length]}return E.domain=function(P){if(!arguments.length)return T.slice();T=[],c=new Jc;for(const te of P)c.has(te)||c.set(te,T.push(te)-1);return E},E.range=function(P){return arguments.length?(l=Array.from(P),E):l.slice()},E.unknown=function(P){return arguments.length?(h=P,E):h},E.copy=function(){return Lc(T,l).unknown(h)},Ed.apply(E,arguments),E}function Il(){var P,te,c=Lc().unknown(void 0),T=c.domain,l=c.range,h=0,E=1,Fe=!1,Qe=0,ut=0,Rt=.5;function Zt(){var Yt=T().length,Mn=E<h,jr=Mn?E:h,ai=Mn?h:E;P=(ai-jr)/Math.max(1,Yt-Qe+2*ut),Fe&&(P=Math.floor(P)),jr+=(ai-jr-P*(Yt-Qe))*Rt,te=P*(1-Qe),Fe&&(jr=Math.round(jr),te=Math.round(te));var Pn=function $d(c,T,l){c=+c,T=+T,l=(E=arguments.length)<2?(T=c,c=0,1):E<3?1:+l;for(var h=-1,E=0|Math.max(0,Math.ceil((T-c)/l)),P=new Array(E);++h<E;)P[h]=c+h*l;return P}(Yt).map(function(Dn){return jr+P*Dn});return l(Mn?Pn.reverse():Pn)}return delete c.unknown,c.domain=function(Yt){return arguments.length?(T(Yt),Zt()):T()},c.range=function(Yt){return arguments.length?([h,E]=Yt,h=+h,E=+E,Zt()):[h,E]},c.rangeRound=function(Yt){return[h,E]=Yt,h=+h,E=+E,Fe=!0,Zt()},c.bandwidth=function(){return te},c.step=function(){return P},c.round=function(Yt){return arguments.length?(Fe=!!Yt,Zt()):Fe},c.padding=function(Yt){return arguments.length?(Qe=Math.min(1,ut=+Yt),Zt()):Qe},c.paddingInner=function(Yt){return arguments.length?(Qe=Math.min(1,Yt),Zt()):Qe},c.paddingOuter=function(Yt){return arguments.length?(ut=+Yt,Zt()):ut},c.align=function(Yt){return arguments.length?(Rt=Math.max(0,Math.min(1,Yt)),Zt()):Rt},c.copy=function(){return Il(T(),[h,E]).round(Fe).paddingInner(Qe).paddingOuter(ut).align(Rt)},Ed.apply(Zt(),arguments)}const Wd=Math.sqrt(50),ed=Math.sqrt(10),dc=Math.sqrt(2);function Oo(c,T,l){const h=(T-c)/Math.max(0,l),E=Math.floor(Math.log10(h)),P=h/Math.pow(10,E),te=P>=Wd?10:P>=ed?5:P>=dc?2:1;let Fe,Qe,ut;return E<0?(ut=Math.pow(10,-E)/te,Fe=Math.round(c*ut),Qe=Math.round(T*ut),Fe/ut<c&&++Fe,Qe/ut>T&&--Qe,ut=-ut):(ut=Math.pow(10,E)*te,Fe=Math.round(c/ut),Qe=Math.round(T/ut),Fe*ut<c&&++Fe,Qe*ut>T&&--Qe),Qe<Fe&&.5<=l&&l<2?Oo(c,T,2*l):[Fe,Qe,ut]}function fc(c,T,l){return Oo(c=+c,T=+T,l=+l)[2]}function tl(c,T){return null==c||null==T?NaN:c<T?-1:c>T?1:c>=T?0:NaN}function Lu(c,T){return null==c||null==T?NaN:T<c?-1:T>c?1:T>=c?0:NaN}function td(c){let T,l,h;function E(Fe,Qe,ut=0,Rt=Fe.length){if(ut<Rt){if(0!==T(Qe,Qe))return Rt;do{const Zt=ut+Rt>>>1;l(Fe[Zt],Qe)<0?ut=Zt+1:Rt=Zt}while(ut<Rt)}return ut}return 2!==c.length?(T=tl,l=(Fe,Qe)=>tl(c(Fe),Qe),h=(Fe,Qe)=>c(Fe)-Qe):(T=c===tl||c===Lu?c:xd,l=c,h=c),{left:E,center:function te(Fe,Qe,ut=0,Rt=Fe.length){const Zt=E(Fe,Qe,ut,Rt-1);return Zt>ut&&h(Fe[Zt-1],Qe)>-h(Fe[Zt],Qe)?Zt-1:Zt},right:function P(Fe,Qe,ut=0,Rt=Fe.length){if(ut<Rt){if(0!==T(Qe,Qe))return Rt;do{const Zt=ut+Rt>>>1;l(Fe[Zt],Qe)<=0?ut=Zt+1:Rt=Zt}while(ut<Rt)}return ut}}}function xd(){return 0}const id=td(tl).right,od=(td(function nd(c){return null===c?NaN:+c}),id);function sd(c,T){var te,l=T?T.length:0,h=c?Math.min(l,c.length):0,E=new Array(h),P=new Array(l);for(te=0;te<h;++te)E[te]=ld(c[te],T[te]);for(;te<l;++te)P[te]=T[te];return function(Fe){for(te=0;te<h;++te)P[te]=E[te](Fe);return P}}function nl(c,T){var l=new Date;return c=+c,T=+T,function(h){return l.setTime(c*(1-h)+T*h),l}}function pc(c,T){var E,l={},h={};for(E in(null===c||"object"!=typeof c)&&(c={}),(null===T||"object"!=typeof T)&&(T={}),T)E in c?l[E]=ld(c[E],T[E]):h[E]=T[E];return function(P){for(E in l)h[E]=l[E](P);return h}}function zd(c,T){T||(T=[]);var E,l=c?Math.min(T.length,c.length):0,h=T.slice();return function(P){for(E=0;E<l;++E)h[E]=c[E]*(1-P)+T[E]*P;return h}}function ld(c,T){var h,l=typeof T;return null==T||"boolean"===l?Ol(T):("number"===l?xa:"string"===l?(h=es(T))?(T=h,pl):Gu:T instanceof es?pl:T instanceof Date?nl:function ad(c){return ArrayBuffer.isView(c)&&!(c instanceof DataView)}(T)?zd:Array.isArray(T)?sd:"function"!=typeof T.valueOf&&"function"!=typeof T.toString||isNaN(T)?pc:xa)(c,T)}function ta(c,T){return c=+c,T=+T,function(l){return Math.round(c*(1-l)+T*l)}}function yf(c){return+c}var wd=[0,1];function Yu(c){return c}function o(c,T){return(T-=c=+c)?function(l){return(l-c)/T}:function Dd(c){return function(){return c}}(isNaN(T)?NaN:.5)}function C(c,T,l){var h=c[0],E=c[1],P=T[0],te=T[1];return E<h?(h=o(E,h),P=l(te,P)):(h=o(h,E),P=l(P,te)),function(Fe){return P(h(Fe))}}function y(c,T,l){var h=Math.min(c.length,T.length)-1,E=new Array(h),P=new Array(h),te=-1;for(c[h]<c[0]&&(c=c.slice().reverse(),T=T.slice().reverse());++te<h;)E[te]=o(c[te],c[te+1]),P[te]=l(T[te],T[te+1]);return function(Fe){var Qe=od(c,Fe,1,h)-1;return P[Qe](E[Qe](Fe))}}var Kn,Z=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function ue(c){if(!(T=Z.exec(c)))throw new Error("invalid format: "+c);var T;return new ye({fill:T[1],align:T[2],sign:T[3],symbol:T[4],zero:T[5],width:T[6],comma:T[7],precision:T[8]&&T[8].slice(1),trim:T[9],type:T[10]})}function ye(c){this.fill=void 0===c.fill?" ":c.fill+"",this.align=void 0===c.align?">":c.align+"",this.sign=void 0===c.sign?"-":c.sign+"",this.symbol=void 0===c.symbol?"":c.symbol+"",this.zero=!!c.zero,this.width=void 0===c.width?void 0:+c.width,this.comma=!!c.comma,this.precision=void 0===c.precision?void 0:+c.precision,this.trim=!!c.trim,this.type=void 0===c.type?"":c.type+""}function ft(c,T){if((l=(c=T?c.toExponential(T-1):c.toExponential()).indexOf("e"))<0)return null;var l,h=c.slice(0,l);return[h.length>1?h[0]+h.slice(2):h,+c.slice(l+1)]}function jt(c){return(c=ft(Math.abs(c)))?c[1]:NaN}function ar(c,T){var l=ft(c,T);if(!l)return c+"";var h=l[0],E=l[1];return E<0?"0."+new Array(-E).join("0")+h:h.length>E+1?h.slice(0,E+1)+"."+h.slice(E+1):h+new Array(E-h.length+2).join("0")}ue.prototype=ye.prototype,ye.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(void 0===this.width?"":Math.max(1,0|this.width))+(this.comma?",":"")+(void 0===this.precision?"":"."+Math.max(0,0|this.precision))+(this.trim?"~":"")+this.type};const xr={"%":(c,T)=>(100*c).toFixed(T),b:c=>Math.round(c).toString(2),c:c=>c+"",d:function nt(c){return Math.abs(c=Math.round(c))>=1e21?c.toLocaleString("en").replace(/,/g,""):c.toString(10)},e:(c,T)=>c.toExponential(T),f:(c,T)=>c.toFixed(T),g:(c,T)=>c.toPrecision(T),o:c=>Math.round(c).toString(8),p:(c,T)=>ar(100*c,T),r:ar,s:function mr(c,T){var l=ft(c,T);if(!l)return c+"";var h=l[0],E=l[1],P=E-(Kn=3*Math.max(-8,Math.min(8,Math.floor(E/3))))+1,te=h.length;return P===te?h:P>te?h+new Array(P-te+1).join("0"):P>0?h.slice(0,P)+"."+h.slice(P):"0."+new Array(1-P).join("0")+ft(c,Math.max(0,T+P-1))[0]},X:c=>Math.round(c).toString(16).toUpperCase(),x:c=>Math.round(c).toString(16)};function Qr(c){return c}var Ps,rs,na,Hr=Array.prototype.map,Ri=["y","z","a","f","p","n","\xb5","m","","k","M","G","T","P","E","Z","Y"];function Na(c){var T=c.domain;return c.ticks=function(l){var h=T();return function Vc(c,T,l){if(!((l=+l)>0))return[];if((c=+c)===(T=+T))return[c];const h=T<c,[E,P,te]=h?Oo(T,c,l):Oo(c,T,l);if(!(P>=E))return[];const Fe=P-E+1,Qe=new Array(Fe);if(h)if(te<0)for(let ut=0;ut<Fe;++ut)Qe[ut]=(P-ut)/-te;else for(let ut=0;ut<Fe;++ut)Qe[ut]=(P-ut)*te;else if(te<0)for(let ut=0;ut<Fe;++ut)Qe[ut]=(E+ut)/-te;else for(let ut=0;ut<Fe;++ut)Qe[ut]=(E+ut)*te;return Qe}(h[0],h[h.length-1],l??10)},c.tickFormat=function(l,h){var E=T();return function Gs(c,T,l,h){var P,E=function Uc(c,T,l){l=+l;const h=(T=+T)<(c=+c),E=h?fc(T,c,l):fc(c,T,l);return(h?-1:1)*(E<0?1/-E:E)}(c,T,l);switch((h=ue(h??",f")).type){case"s":var te=Math.max(Math.abs(c),Math.abs(T));return null==h.precision&&!isNaN(P=function Lt(c,T){return Math.max(0,3*Math.max(-8,Math.min(8,Math.floor(jt(T)/3)))-jt(Math.abs(c)))}(E,te))&&(h.precision=P),na(h,te);case"":case"e":case"g":case"p":case"r":null==h.precision&&!isNaN(P=function Fs(c,T){return c=Math.abs(c),T=Math.abs(T)-c,Math.max(0,jt(T)-jt(c))+1}(E,Math.max(Math.abs(c),Math.abs(T))))&&(h.precision=P-("e"===h.type));break;case"f":case"%":null==h.precision&&!isNaN(P=function il(c){return Math.max(0,-jt(Math.abs(c)))}(E))&&(h.precision=P-2*("%"===h.type))}return rs(h)}(E[0],E[E.length-1],l??10,h)},c.nice=function(l){null==l&&(l=10);var Qe,ut,h=T(),E=0,P=h.length-1,te=h[E],Fe=h[P],Rt=10;for(Fe<te&&(ut=te,te=Fe,Fe=ut,ut=E,E=P,P=ut);Rt-- >0;){if((ut=fc(te,Fe,l))===Qe)return h[E]=te,h[P]=Fe,T(h);if(ut>0)te=Math.floor(te/ut)*ut,Fe=Math.ceil(Fe/ut)*ut;else{if(!(ut<0))break;te=Math.ceil(te*ut)/ut,Fe=Math.floor(Fe*ut)/ut}Qe=ut}return c},c}function ra(){var c=function X(){return function F(){var h,E,P,Fe,Qe,ut,c=wd,T=wd,l=ld,te=Yu;function Rt(){var Yt=Math.min(c.length,T.length);return te!==Yu&&(te=function d(c,T){var l;return c>T&&(l=c,c=T,T=l),function(h){return Math.max(c,Math.min(T,h))}}(c[0],c[Yt-1])),Fe=Yt>2?y:C,Qe=ut=null,Zt}function Zt(Yt){return null==Yt||isNaN(Yt=+Yt)?P:(Qe||(Qe=Fe(c.map(h),T,l)))(h(te(Yt)))}return Zt.invert=function(Yt){return te(E((ut||(ut=Fe(T,c.map(h),xa)))(Yt)))},Zt.domain=function(Yt){return arguments.length?(c=Array.from(Yt,yf),Rt()):c.slice()},Zt.range=function(Yt){return arguments.length?(T=Array.from(Yt),Rt()):T.slice()},Zt.rangeRound=function(Yt){return T=Array.from(Yt),l=ta,Rt()},Zt.clamp=function(Yt){return arguments.length?(te=!!Yt||Yu,Rt()):te!==Yu},Zt.interpolate=function(Yt){return arguments.length?(l=Yt,Rt()):l},Zt.unknown=function(Yt){return arguments.length?(P=Yt,Zt):P},function(Yt,Mn){return h=Yt,E=Mn,Rt()}}()(Yu,Yu)}();return c.copy=function(){return function x(c,T){return T.domain(c.domain()).range(c.range()).interpolate(c.interpolate()).clamp(c.clamp()).unknown(c.unknown())}(c,ra())},Ed.apply(c,arguments),Na(c)}function Ts(c){return"string"==typeof c?new qt([[document.querySelector(c)]],[document.documentElement]):new qt([[c]],Xt)}function Sa(c,T,l){this.k=c,this.x=T,this.y=l}!function rl(c){Ps=function Lo(c){var T=void 0===c.grouping||void 0===c.thousands?Qr:function _n(c,T){return function(l,h){for(var E=l.length,P=[],te=0,Fe=c[0],Qe=0;E>0&&Fe>0&&(Qe+Fe+1>h&&(Fe=Math.max(1,h-Qe)),P.push(l.substring(E-=Fe,E+Fe)),!((Qe+=Fe+1)>h));)Fe=c[te=(te+1)%c.length];return P.reverse().join(T)}}(Hr.call(c.grouping,Number),c.thousands+""),l=void 0===c.currency?"":c.currency[0]+"",h=void 0===c.currency?"":c.currency[1]+"",E=void 0===c.decimal?".":c.decimal+"",P=void 0===c.numerals?Qr:function An(c){return function(T){return T.replace(/[0-9]/g,function(l){return c[+l]})}}(Hr.call(c.numerals,String)),te=void 0===c.percent?"%":c.percent+"",Fe=void 0===c.minus?"\u2212":c.minus+"",Qe=void 0===c.nan?"NaN":c.nan+"";function ut(Zt){var Yt=(Zt=ue(Zt)).fill,Mn=Zt.align,jr=Zt.sign,ai=Zt.symbol,Pn=Zt.zero,Dn=Zt.width,br=Zt.comma,Dr=Zt.precision,Jr=Zt.trim,Or=Zt.type;"n"===Or?(br=!0,Or="g"):xr[Or]||(void 0===Dr&&(Dr=12),Jr=!0,Or="g"),(Pn||"0"===Yt&&"="===Mn)&&(Pn=!0,Yt="0",Mn="=");var Oi="$"===ai?l:"#"===ai&&/[boxX]/.test(Or)?"0"+Or.toLowerCase():"",Go="$"===ai?h:/[%p]/.test(Or)?te:"",is=xr[Or],la=/[defgprs%]/.test(Or);function Ki(Wr){var pn,Vr,Vn,qo=Oi,_o=Go;if("c"===Or)_o=is(Wr)+_o,Wr="";else{var Ar=(Wr=+Wr)<0||1/Wr<0;if(Wr=isNaN(Wr)?Qe:is(Math.abs(Wr),Dr),Jr&&(Wr=function Bn(c){e:for(var E,T=c.length,l=1,h=-1;l<T;++l)switch(c[l]){case".":h=E=l;break;case"0":0===h&&(h=l),E=l;break;default:if(!+c[l])break e;h>0&&(h=0)}return h>0?c.slice(0,h)+c.slice(E+1):c}(Wr)),Ar&&0==+Wr&&"+"!==jr&&(Ar=!1),qo=(Ar?"("===jr?jr:Fe:"-"===jr||"("===jr?"":jr)+qo,_o=("s"===Or?Ri[8+Kn/3]:"")+_o+(Ar&&"("===jr?")":""),la)for(pn=-1,Vr=Wr.length;++pn<Vr;)if(48>(Vn=Wr.charCodeAt(pn))||Vn>57){_o=(46===Vn?E+Wr.slice(pn+1):Wr.slice(pn))+_o,Wr=Wr.slice(0,pn);break}}br&&!Pn&&(Wr=T(Wr,1/0));var xi=qo.length+Wr.length+_o.length,Nr=xi<Dn?new Array(Dn-xi+1).join(Yt):"";switch(br&&Pn&&(Wr=T(Nr+Wr,Nr.length?Dn-_o.length:1/0),Nr=""),Mn){case"<":Wr=qo+Wr+_o+Nr;break;case"=":Wr=qo+Nr+Wr+_o;break;case"^":Wr=Nr.slice(0,xi=Nr.length>>1)+qo+Wr+_o+Nr.slice(xi);break;default:Wr=Nr+qo+Wr+_o}return P(Wr)}return Dr=void 0===Dr?6:/[gprs]/.test(Or)?Math.max(1,Math.min(21,Dr)):Math.max(0,Math.min(20,Dr)),Ki.toString=function(){return Zt+""},Ki}return{format:ut,formatPrefix:function Rt(Zt,Yt){var Mn=ut(((Zt=ue(Zt)).type="f",Zt)),jr=3*Math.max(-8,Math.min(8,Math.floor(jt(Yt)/3))),ai=Math.pow(10,-jr),Pn=Ri[8+jr/3];return function(Dn){return Mn(ai*Dn)+Pn}}}}(c),rs=Ps.format,na=Ps.formatPrefix}({thousands:",",grouping:[3],currency:["$",""]}),Sa.prototype={constructor:Sa,scale:function(c){return 1===c?this:new Sa(this.k*c,this.x,this.y)},translate:function(c,T){return 0===c&0===T?this:new Sa(this.k,this.x+this.k*c,this.y+this.k*T)},apply:function(c){return[c[0]*this.k+this.x,c[1]*this.k+this.y]},applyX:function(c){return c*this.k+this.x},applyY:function(c){return c*this.k+this.y},invert:function(c){return[(c[0]-this.x)/this.k,(c[1]-this.y)/this.k]},invertX:function(c){return(c-this.x)/this.k},invertY:function(c){return(c-this.y)/this.k},rescaleX:function(c){return c.copy().domain(c.range().map(this.invertX,this).map(c.invert,c))},rescaleY:function(c){return c.copy().domain(c.range().map(this.invertY,this).map(c.invert,c))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}},new Sa(1,0,0);let Aa=(()=>{class c{el=(0,r.WQX)(t.aKT);data=(0,R.hFB)();constructor(){(0,r.QZP)(()=>{const l=this.data();l&&l.length>0&&this.createChart(l)})}createChart(l){Ts(this.el.nativeElement).select("svg").remove();const h=this.el.nativeElement,P=h.clientWidth-40-20,Fe=Ts(h).append("svg").attr("width",P+40+20).attr("height",400).append("g").attr("transform","translate(40,20)"),Qe=Il().range([0,P]).domain(l.map(Rt=>Rt.label)).padding(.2);Fe.append("g").attr("transform","translate(0,310)").call(function zs(c){return Ws(3,c)}(Qe)).selectAll("text").attr("transform","translate(-10,0)rotate(-45)").style("text-anchor","end").style("fill","#9ca3af");const ut=ra().domain([0,tr(l,Rt=>Rt.value)??0]).range([310,0]);Fe.append("g").call(function Ks(c){return Ws(4,c)}(ut)).selectAll("text").style("fill","#9ca3af"),Fe.selectAll("mybar").data(l).enter().append("rect").attr("x",Rt=>Qe(Rt.label)).attr("y",Rt=>ut(Rt.value)).attr("width",Qe.bandwidth()).attr("height",Rt=>310-ut(Rt.value)).attr("fill","#4f46e5")}static \u0275fac=function(h){return new(h||c)};static \u0275dir=t.FsC({type:c,selectors:[["","appD3BarChart",""]],inputs:{data:[1,"data"]}})}return c})();var kr=$(7006);let Vu=(()=>{class c{ai;constructor(){const l=typeof process<"u"&&process.env?.API_KEY?process.env.API_KEY:"";this.ai=new kr.M4({apiKey:l})}static \u0275fac=function(h){return new(h||c)};static \u0275prov=r.jDH({token:c,factory:c.\u0275fac,providedIn:"root"})}return c})(),ih=(()=>{class c{ai=(0,r.WQX)(Vu).ai;generateBiDashboard(l,h){var E=this;return(0,L.A)(function*(){const te=`You are a business intelligence analyst. Analyze the following JSON contact data and generate a JSON object for a dashboard. The data fields are: ${h.map(ut=>ut.name).join(", ")}.\n    The JSON object must contain three properties: 'kpis', 'charts', and 'insights'.\n    1. 'kpis': An array of 2-3 key performance indicators. Each KPI object should have a 'title' (e.g., "Total Revenue") and a 'value' (e.g., "$1.2M").\n    2. 'charts': An array containing one chart object. This object must have 'type' set to 'bar', a 'title' (e.g., "Contacts by Lead Source"), and 'data' which is an array of objects, each with a 'label' and 'value'. Choose the most relevant categorical field for the chart.\n    3. 'insights': An array of 2-3 brief, actionable insights in plain text.\n    Data: \n\n${JSON.stringify(l,null,2)}`,Qe=(yield E.ai.models.generateContent({model:"gemini-2.5-flash",contents:te,config:{responseMimeType:"application/json",responseSchema:{type:kr.ZU.OBJECT,properties:{kpis:{type:kr.ZU.ARRAY,items:{type:kr.ZU.OBJECT,properties:{title:{type:kr.ZU.STRING},value:{type:kr.ZU.STRING},change:{type:kr.ZU.STRING,nullable:!0}},required:["title","value"]}},charts:{type:kr.ZU.ARRAY,items:{type:kr.ZU.OBJECT,properties:{type:{type:kr.ZU.STRING},title:{type:kr.ZU.STRING},data:{type:kr.ZU.ARRAY,items:{type:kr.ZU.OBJECT,properties:{label:{type:kr.ZU.STRING},value:{type:kr.ZU.NUMBER}},required:["label","value"]}}},required:["type","title","data"]}},insights:{type:kr.ZU.ARRAY,items:{type:kr.ZU.STRING}}},required:["kpis","charts","insights"]}}})).text.trim();return JSON.parse(Qe)})()}static \u0275fac=function(h){return new(h||c)};static \u0275prov=r.jDH({token:c,factory:c.\u0275fac,providedIn:"root"})}return c})();const $h=()=>[1,2,3],Wh=(c,T)=>T.title;function oh(c,T){1&c&&(t.j41(0,"div",4),t.nrm(1,"div",13)(2,"div",14),t.k0s())}function zh(c,T){1&c&&(t.j41(0,"div",0)(1,"div",3),t.Z7z(2,oh,3,0,"div",4,t.fX1),t.k0s(),t.j41(4,"div",5)(5,"div",6),t.nrm(6,"div",7)(7,"div",8),t.k0s(),t.j41(8,"div",4),t.nrm(9,"div",9),t.j41(10,"div",10),t.nrm(11,"div",11)(12,"div",12)(13,"div",11),t.k0s()()()()),2&c&&(t.R7$(2),t.Dyx(t.lJ4(0,$h)))}function Td(c,T){if(1&c&&(t.j41(0,"div",1),t.nrm(1,"i",15),t.j41(2,"h3",16),t.EFF(3,"Error"),t.k0s(),t.j41(4,"p"),t.EFF(5),t.k0s()()),2&c){const l=t.XpG();t.R7$(5),t.JRh(l.error())}}function Kh(c,T){if(1&c&&(t.j41(0,"div",17)(1,"h3",21),t.EFF(2),t.k0s(),t.j41(3,"p",22),t.EFF(4),t.k0s()()),2&c){const l=T.$implicit;t.R7$(2),t.JRh(l.title),t.R7$(2),t.JRh(l.value)}}function Sd(c,T){if(1&c&&(t.j41(0,"div",18)(1,"h3",19),t.EFF(2),t.k0s(),t.nrm(3,"div",23),t.k0s()),2&c){const h=t.XpG().charts[0];t.R7$(2),t.JRh(h.title),t.R7$(),t.Y8G("data",h.data)}}function Cf(c,T){if(1&c&&(t.j41(0,"li",20)(1,"div",24),t.nrm(2,"i",25),t.k0s(),t.j41(3,"p",26),t.EFF(4),t.k0s()()),2&c){const l=T.$implicit;t.R7$(4),t.JRh(l)}}function Kd(c,T){if(1&c&&(t.j41(0,"div",2)(1,"div",3),t.Z7z(2,Kh,5,2,"div",17,Wh),t.k0s(),t.j41(4,"div",5),t.nVh(5,Sd,4,2,"div",18),t.j41(6,"div",17)(7,"h3",19),t.EFF(8,"AI Insights"),t.k0s(),t.j41(9,"ul",10),t.Z7z(10,Cf,5,1,"li",20,t.fX1),t.k0s()()()()),2&c){const l=T;t.R7$(2),t.Dyx(l.kpis),t.R7$(3),t.vxM(l.charts.length>0?5:-1),t.R7$(5),t.Dyx(l.insights)}}let Xd=(()=>{class c{data=R.hFB.required();columns=R.hFB.required();aiDashboardService=(0,r.WQX)(ih);isLoading=(0,r.vPA)(!0);dashboardContent=(0,r.vPA)(null);error=(0,r.vPA)(null);constructor(){var l=this;(0,r.QZP)(function(){var h=(0,L.A)(function*(E){const P=l.data(),te=l.columns();if(P.length>0){l.isLoading.set(!0),l.error.set(null);try{const Fe=yield l.aiDashboardService.generateBiDashboard(P,te);l.dashboardContent.set(Fe)}catch(Fe){console.error("Failed to generate BI dashboard:",Fe),l.error.set("Could not load AI-powered dashboard. Please try again.")}finally{l.isLoading.set(!1)}}});return function(E){return h.apply(this,arguments)}}())}static \u0275fac=function(h){return new(h||c)};static \u0275cmp=t.VBU({type:c,selectors:[["app-bi-view"]],inputs:{data:[1,"data"],columns:[1,"columns"]},decls:3,vars:1,consts:[[1,"space-y-8","animate-pulse"],[1,"flex","flex-col","items-center","justify-center","h-full","text-center","text-gray-500"],[1,"space-y-6"],[1,"grid","grid-cols-1","md:grid-cols-3","gap-6"],[1,"bg-white","p-6","rounded-lg","shadow"],[1,"grid","grid-cols-1","lg:grid-cols-3","gap-6"],[1,"lg:col-span-2","bg-white","p-6","rounded-lg","shadow"],[1,"h-6","bg-gray-300","rounded","w-1/4","mb-6"],[1,"h-72","bg-gray-300","rounded"],[1,"h-6","bg-gray-300","rounded","w-1/3","mb-6"],[1,"space-y-4"],[1,"h-4","bg-gray-300","rounded","w-full"],[1,"h-4","bg-gray-300","rounded","w-5/6"],[1,"h-4","bg-gray-300","rounded","w-1/3","mb-4"],[1,"h-8","bg-gray-300","rounded","w-1/2"],[1,"pi","pi-exclamation-triangle","text-5xl","text-red-500","mb-4"],[1,"text-xl","font-semibold","mb-2"],[1,"bg-white","p-6","rounded-lg","shadow-md","border","border-gray-200"],[1,"lg:col-span-2","bg-white","p-6","rounded-lg","shadow-md","border","border-gray-200"],[1,"text-lg","font-semibold","text-gray-900","mb-4"],[1,"flex","items-start"],[1,"text-sm","font-medium","text-gray-500","truncate"],[1,"mt-1","text-3xl","font-semibold","tracking-tight","text-gray-900"],["appD3BarChart","",3,"data"],[1,"flex-shrink-0"],[1,"pi","pi-check-circle","text-green-500","mt-1"],[1,"ml-3","text-sm","text-gray-600"]],template:function(h,E){if(1&h&&t.nVh(0,zh,14,1,"div",0)(1,Td,6,1,"div",1)(2,Kd,12,1,"div",2),2&h){let P;t.vxM(E.isLoading()?0:E.error()?1:(P=E.dashboardContent())?2:-1,P)}},dependencies:[oe.MD,Aa],encapsulation:2,changeDetection:0})}return c})(),sh=(()=>{class c{ai=(0,r.WQX)(Vu).ai;generateNarration(l,h){var E=this;return(0,L.A)(function*(){const te=`You are a data analyst. Based on the following JSON data representing contacts, provide a concise narrative summary. The data has the following columns: ${h.map(Qe=>Qe.name).join(", ")}. Highlight key trends, such as distribution of contacts or any notable patterns in annual revenue. Keep the summary to 3-4 sentences. Data: \n\n${JSON.stringify(l,null,2)}`;return(yield E.ai.models.generateContent({model:"gemini-2.5-flash",contents:te})).text})()}suggestInsights(l,h){var E=this;return(0,L.A)(function*(){const te=`You are a business intelligence analyst. Analyze this JSON contact data and suggest 3 key insights or important metrics a user should focus on. Present them as a bulleted list using markdown. The available data fields are: ${h.map(Qe=>Qe.name).join(", ")}. For example, suggest looking at the average revenue or which lead source is most common. Data: \n\n${JSON.stringify(l,null,2)}`;return(yield E.ai.models.generateContent({model:"gemini-2.5-flash",contents:te})).text})()}getQuickMetrics(l,h){var E=this;return(0,L.A)(function*(){const te=`You are a data analyst. Based on the following JSON contact data, identify the most insightful categorical column (like 'Lead Source', 'Country', or 'City') to perform a 'group by' and 'count' operation on. Then, provide the counts for each category in that column, ordered from highest to lowest count. Present the result in a clear, human-readable format with a title and use markdown for formatting. The available data fields are: ${h.map(Qe=>Qe.name).join(", ")}. Data: \n\n${JSON.stringify(l,null,2)}`;return(yield E.ai.models.generateContent({model:"gemini-2.5-flash",contents:te})).text})()}summarizeCalendarDay(l){var h=this;return(0,L.A)(function*(){const E=`You are a helpful assistant. Summarize the following list of contacts that were created on a specific day. Mention the total number of new contacts and highlight any notable names or companies if there are fewer than 5 contacts. Keep the summary to 1-2 sentences. Data:\n\n${JSON.stringify(l.map(te=>({name:te.contact_person,company:te.organization_name})),null,2)}`;return(yield h.ai.models.generateContent({model:"gemini-2.5-flash",contents:E})).text})()}static \u0275fac=function(h){return new(h||c)};static \u0275prov=r.jDH({token:c,factory:c.\u0275fac,providedIn:"root"})}return c})();const ah=()=>["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],Ef=(c,T)=>T.date,qd=(c,T)=>T.organization_id;function bf(c,T){if(1&c&&(t.rj2(0,"div",14),t.EFF(1),t.eux()),2&c){const l=T.$implicit;t.R7$(),t.JRh(l)}}function xf(c,T){if(1&c&&(t.rj2(0,"div",19)(1,"span",20),t.EFF(2),t.eux()()),2&c){const l=t.XpG().$implicit;t.R7$(2),t.SpI(" ",l.contacts.length," ")}}function Df(c,T){if(1&c){const l=t.RV6();t.rj2(0,"div",17),t.VwU("click",function(){const E=r.eBV(l).$implicit,P=t.XpG();return r.Njj(P.selectDay(E))}),t.rj2(1,"time",18),t.nI1(2,"date"),t.EFF(3),t.nI1(4,"date"),t.eux(),t.nVh(5,xf,3,1,"div",19),t.eux()}if(2&c){const l=T.$implicit,h=t.XpG();t.AVh("cursor-pointer",l.contacts.length>0)("hover:bg-slate-50",l.contacts.length>0)("bg-gray-50",!l.isCurrentMonth),t.R7$(),t.AVh("text-gray-400",!l.isCurrentMonth)("text-white",h.isToday(l.date))("bg-slate-900",h.isToday(l.date))("font-semibold",h.isToday(l.date)),t.Avn("dateTime",t.i5U(2,17,l.date,"yyyy-MM-dd")),t.R7$(2),t.SpI(" ",t.i5U(4,20,l.date,"d")," "),t.R7$(2),t.vxM(l.contacts.length>0?5:-1)}}function Yd(c,T){1&c&&t.Hgh(0,"div",30)}function Xh(c,T){if(1&c&&(t.rj2(0,"p",31),t.EFF(1),t.eux()),2&c){const l=t.XpG(2);t.R7$(),t.JRh(l.aiSummary())}}function Hc(c,T){if(1&c&&(t.rj2(0,"li",34),t.Hgh(1,"img",35),t.rj2(2,"div")(3,"p",36),t.EFF(4),t.eux(),t.rj2(5,"p",37),t.EFF(6),t.eux()()()),2&c){const l=T.$implicit;t.R7$(),t.Avn("src",l.avatar_url,t.B4B),t.R7$(3),t.JRh(l.contact_person),t.R7$(2),t.JRh(l.organization_name)}}function Sc(c,T){if(1&c){const l=t.RV6();t.rj2(0,"div",21),t.VwU("click",function(){r.eBV(l);const E=t.XpG();return r.Njj(E.selectedDay.set(null))}),t.rj2(1,"div",22),t.VwU("click",function(E){return r.eBV(l),r.Njj(E.stopPropagation())}),t.rj2(2,"header",1)(3,"h3",23),t.EFF(4),t.nI1(5,"date"),t.eux(),t.rj2(6,"button",24),t.VwU("click",function(){r.eBV(l);const E=t.XpG();return r.Njj(E.selectedDay.set(null))}),t.Hgh(7,"i",25),t.eux()(),t.rj2(8,"div",26)(9,"div",27)(10,"h4",28),t.Hgh(11,"i",29),t.EFF(12,"AI Summary"),t.eux(),t.nVh(13,Yd,1,0,"div",30)(14,Xh,2,1,"p",31),t.eux(),t.rj2(15,"h4",32),t.EFF(16),t.eux(),t.rj2(17,"ul",33),t.Z7z(18,Hc,7,3,"li",34,qd),t.eux()()()()}if(2&c){const l=T,h=t.XpG();t.R7$(4),t.SpI("Activity for ",t.i5U(5,3,l.date,"longDate")),t.R7$(9),t.vxM(h.isSummaryLoading()?13:14),t.R7$(3),t.SpI("New Contacts (",l.contacts.length,")"),t.R7$(2),t.Dyx(l.contacts)}}let m0=(()=>{class c{data=R.hFB.required();columns=R.hFB.required();config=R.hFB.required();aiSummaryService=(0,r.WQX)(sh);currentDate=(0,r.vPA)(new Date);selectedDay=(0,r.vPA)(null);aiSummary=(0,r.vPA)(null);isSummaryLoading=(0,r.vPA)(!1);dateFieldName=(0,ve.EW)(()=>{const l=this.config().dateFieldCode,h=this.columns().find(E=>E.code===l);return h?h.name:this.config().dateFieldCode});contactsByDate=(0,ve.EW)(()=>{const l=new Map,h=this.config().dateFieldCode;for(const E of this.data()){const P=E[h];if(P&&"string"==typeof P){const te=new Date(P).toISOString().split("T")[0];l.has(te)||l.set(te,[]),l.get(te).push(E)}}return l});calendarGrid=(0,ve.EW)(()=>{const l=this.currentDate(),h=l.getFullYear(),E=l.getMonth(),P=new Date(h,E,1),te=new Date(h,E+1,0),Fe=P.getDay(),Qe=te.getDate(),ut=[];for(let Zt=0;Zt<Fe;Zt++){const Yt=new Date(P);Yt.setDate(Yt.getDate()-(Fe-Zt)),ut.push({date:Yt,isCurrentMonth:!1,contacts:this.getContactsForDate(Yt)})}for(let Zt=1;Zt<=Qe;Zt++){const Yt=new Date(h,E,Zt);ut.push({date:Yt,isCurrentMonth:!0,contacts:this.getContactsForDate(Yt)})}const Rt=42-ut.length;for(let Zt=1;Zt<=Rt;Zt++){const Yt=new Date(te);Yt.setDate(Yt.getDate()+Zt),ut.push({date:Yt,isCurrentMonth:!1,contacts:this.getContactsForDate(Yt)})}return ut});getContactsForDate(l){const h=l.toISOString().split("T")[0];return this.contactsByDate().get(h)||[]}selectDay(l){var h=this;return(0,L.A)(function*(){if(0!==l.contacts.length){h.selectedDay.set(l),h.isSummaryLoading.set(!0),h.aiSummary.set(null);try{const E=yield h.aiSummaryService.summarizeCalendarDay(l.contacts);h.aiSummary.set(E)}catch(E){console.error("Failed to get AI summary",E),h.aiSummary.set("Could not generate summary.")}finally{h.isSummaryLoading.set(!1)}}else h.selectedDay.set(null)})()}changeMonth(l){this.currentDate.update(h=>{const E=new Date(h);return E.setMonth(E.getMonth()+l),E})}goToToday(){this.currentDate.set(new Date)}isToday(l){const h=new Date;return l.getDate()===h.getDate()&&l.getMonth()===h.getMonth()&&l.getFullYear()===h.getFullYear()}static \u0275fac=function(h){return new(h||c)};static \u0275cmp=t.VBU({type:c,selectors:[["app-calendar-view"]],inputs:{data:[1,"data"],columns:[1,"columns"],config:[1,"config"]},decls:24,vars:7,consts:[[1,"bg-white","rounded-lg","shadow-md","border","border-gray-200","h-full","flex","flex-col"],[1,"flex","items-center","justify-between","p-4","border-b","border-gray-200"],[1,"flex","items-center","gap-4"],[1,"px-4","py-2","text-sm","font-medium","border","rounded-md","hover:bg-gray-100",3,"click"],[1,"flex","items-center","gap-2"],["title","Previous month",1,"p-2","rounded-full","hover:bg-gray-100",3,"click"],[1,"pi","pi-chevron-left"],["title","Next month",1,"p-2","rounded-full","hover:bg-gray-100",3,"click"],[1,"pi","pi-chevron-right"],[1,"text-lg","font-semibold","text-center"],[1,"w-48","text-right"],[1,"text-sm","font-medium","text-gray-700"],[1,"font-semibold","text-indigo-600"],[1,"grid","grid-cols-7","flex-grow"],[1,"text-center","font-medium","text-xs","text-gray-500","py-2","border-b","border-r","border-gray-200"],[1,"border-b","border-r","border-gray-200","p-2","flex","flex-col","transition-colors",3,"cursor-pointer","hover:bg-slate-50","bg-gray-50"],[1,"fixed","inset-0","bg-gray-900/60","flex","items-center","justify-center","z-50"],[1,"border-b","border-r","border-gray-200","p-2","flex","flex-col","transition-colors",3,"click"],[1,"h-6","w-6","flex","items-center","justify-center","rounded-full","text-sm",3,"dateTime"],[1,"mt-2","text-center"],[1,"inline-flex","items-center","justify-center","h-6","w-6","text-xs","font-semibold","rounded-full","bg-blue-100","text-blue-800"],[1,"fixed","inset-0","bg-gray-900/60","flex","items-center","justify-center","z-50",3,"click"],[1,"bg-white","rounded-lg","shadow-xl","w-full","max-w-lg","m-4",3,"click"],[1,"text-lg","font-semibold"],[1,"p-2","rounded-full","hover:bg-gray-100",3,"click"],[1,"pi","pi-times"],[1,"p-6"],[1,"bg-gray-50","p-4","rounded-lg","mb-4"],[1,"font-semibold","text-sm","mb-2","flex","items-center"],[1,"pi","pi-sparkles","text-indigo-500","mr-2"],[1,"h-4","bg-gray-300","rounded","w-full","animate-pulse"],[1,"text-sm","text-gray-700"],[1,"font-semibold","text-sm","mb-2"],[1,"divide-y","divide-gray-200","max-h-60","overflow-y-auto"],[1,"py-2","flex","items-center","gap-3"],["alt","Avatar",1,"h-8","w-8","rounded-full","object-cover",3,"src"],[1,"text-sm","font-medium","text-gray-900"],[1,"text-xs","text-gray-500"]],template:function(h,E){if(1&h&&(t.rj2(0,"div",0)(1,"header",1)(2,"div",2)(3,"button",3),t.VwU("click",function(){return E.goToToday()}),t.EFF(4,"Today"),t.eux(),t.rj2(5,"div",4)(6,"button",5),t.VwU("click",function(){return E.changeMonth(-1)}),t.Hgh(7,"i",6),t.eux(),t.rj2(8,"button",7),t.VwU("click",function(){return E.changeMonth(1)}),t.Hgh(9,"i",8),t.eux()()(),t.rj2(10,"h2",9),t.EFF(11),t.nI1(12,"date"),t.eux(),t.rj2(13,"div",10)(14,"p",11),t.EFF(15," Field: "),t.rj2(16,"span",12),t.EFF(17),t.eux()()()(),t.rj2(18,"div",13),t.Z7z(19,bf,2,1,"div",14,t.fX1),t.Z7z(21,Df,6,23,"div",15,Ef),t.eux()(),t.nVh(23,Sc,20,6,"div",16)),2&h){let P;t.R7$(11),t.JRh(t.i5U(12,3,E.currentDate(),"LLLL yyyy")),t.R7$(6),t.SpI(" ",E.dateFieldName()," "),t.R7$(2),t.Dyx(t.lJ4(6,ah)),t.R7$(2),t.Dyx(E.calendarGrid()),t.R7$(2),t.vxM((P=E.selectedDay())?23:-1,P)}},dependencies:[oe.MD,oe.vh],encapsulation:2,changeDetection:0})}return c})();function wf(c,T){if(1&c&&(t.rj2(0,"div",2),t.Hgh(1,"span",18),t.rj2(2,"span",19),t.EFF(3),t.eux()()),2&c){const l=T;t.Avn("title","Connection is "+l.text),t.R7$(),t.HbH(l.class),t.R7$(2),t.JRh(l.text)}}function cd(c,T){1&c&&(t.rj2(0,"div",3),t.Hgh(1,"i",20),t.rj2(2,"span",7),t.EFF(3),t.eux()()),2&c&&(t.Avn("title","Current Data Strategy"),t.R7$(3),t.JRh(T))}function lh(c,T){1&c&&(t.rj2(0,"span",22),t.EFF(1,"Syncing..."),t.eux())}function uh(c,T){if(1&c&&(t.rj2(0,"span",23),t.EFF(1),t.eux()),2&c){const l=t.XpG(2);t.Avn("title",l.fullSyncTime()),t.R7$(),t.SpI("Last sync: ",l.relativeSyncTime())}}function Ad(c,T){if(1&c&&(t.rj2(0,"div",4),t.Hgh(1,"i",21),t.nVh(2,lh,2,0,"span",22)(3,uh,2,2,"span",23),t.eux()),2&c){const l=t.XpG();t.R7$(2),t.vxM(l.isSyncing()?2:3)}}function Tf(c,T){if(1&c&&(t.rj2(0,"option",11),t.EFF(1),t.eux()),2&c){const l=T.$implicit,h=t.XpG();t.Avn("value",l)("selected",l===h.pageSize()),t.R7$(),t.JRh(l)}}function Qd(c,T){1&c&&(t.rj2(0,"span",27),t.EFF(1,"..."),t.eux())}function ch(c,T){if(1&c){const l=t.RV6();t.rj2(0,"button",29),t.VwU("click",function(){r.eBV(l);const E=t.XpG().$implicit,P=t.XpG(2);return r.Njj(P.goToPage(E))}),t.EFF(1),t.eux()}if(2&c){const l=t.XpG().$implicit,h=t.XpG(2);t.AVh("bg-slate-900",l===h.currentPage())("text-white",l===h.currentPage())("border-slate-900",l===h.currentPage()),t.Avn("title","Go to page "+l),t.R7$(),t.SpI(" ",l," ")}}function Jd(c,T){1&c&&t.nVh(0,Qd,2,0,"span",27)(1,ch,2,8,"button",28),2&c&&t.vxM("..."===T.$implicit?0:1)}function qh(c,T){if(1&c){const l=t.RV6();t.rj2(0,"button",24),t.VwU("click",function(){r.eBV(l);const E=t.XpG();return r.Njj(E.previousPage())}),t.EFF(1," Previous "),t.eux(),t.rj2(2,"div",25),t.Z7z(3,Jd,2,1,null,null,t.Vm6),t.eux(),t.rj2(5,"button",26),t.VwU("click",function(){r.eBV(l);const E=t.XpG();return r.Njj(E.nextPage())}),t.EFF(6," Next "),t.eux()}if(2&c){const l=t.XpG();t.Avn("disabled",1===l.currentPage()),t.R7$(3),t.Dyx(l.pages()),t.R7$(2),t.Avn("disabled",l.currentPage()===l.totalPages())}}function Yh(c,T){1&c&&t.Hgh(0,"div",15)}let Md=(()=>{class c{currentPage=R.hFB.required();pageSize=R.hFB.required();totalRecords=R.hFB.required();pageSizeOptions=(0,R.hFB)([12,20,50,100]);infiniteScroll=(0,R.hFB)(!1);infiniteScrollBehavior=(0,R.hFB)("append");currentRecordCount=(0,R.hFB)(0);autoSizingEnabled=(0,R.hFB)(!1);dataStrategy=(0,R.hFB)();connectionStatus=(0,R.hFB)();lastSyncTime=(0,R.hFB)();isSyncing=(0,R.hFB)();pageChange=(0,R.CGW)();pageSizeChange=(0,R.CGW)();autoSizingToggle=(0,R.CGW)();chatbotToggle=(0,R.CGW)();isAppendMode=(0,ve.EW)(()=>this.infiniteScroll()&&"append"===this.infiniteScrollBehavior());totalPages=(0,ve.EW)(()=>Math.ceil(this.totalRecords()/this.pageSize()));recordRangeStart=(0,ve.EW)(()=>this.isAppendMode()?this.totalRecords()>0?1:0:(this.currentPage()-1)*this.pageSize()+1);recordRangeEnd=(0,ve.EW)(()=>this.isAppendMode()?this.currentRecordCount():Math.min(this.currentPage()*this.pageSize(),this.totalRecords()));pages=(0,ve.EW)(()=>{const l=this.totalPages(),h=this.currentPage(),P=[];for(let te=Math.max(2,h-2);te<=Math.min(l-1,h+2);te++)P.push(te);return h-2>2&&P.unshift("..."),h+2<l-1&&P.push("..."),P.unshift(1),l>1&&P.push(l),P});relativeSyncTime=(0,ve.EW)(()=>{const l=this.lastSyncTime();if(!l)return"never";const h=(new Date).getTime(),E=Math.round((h-l)/1e3);if(E<2)return"just now";if(E<60)return`${E}s ago`;const P=Math.round(E/60);if(P<60)return`${P}m ago`;const te=Math.round(P/60);return te<24?`${te}h ago`:new Date(l).toLocaleDateString()});fullSyncTime=(0,ve.EW)(()=>{const l=this.lastSyncTime();return l?new Date(l).toLocaleString():""});goToPage(l){"number"==typeof l&&l>=1&&l<=this.totalPages()&&this.pageChange.emit(l)}nextPage(){this.currentPage()<this.totalPages()&&this.goToPage(this.currentPage()+1)}previousPage(){this.currentPage()>1&&this.goToPage(this.currentPage()-1)}onPageSizeChange(l){const h=parseInt(l.target.value,10);this.pageSizeChange.emit(h)}static \u0275fac=function(h){return new(h||c)};static \u0275cmp=t.VBU({type:c,selectors:[["app-paginator"]],inputs:{currentPage:[1,"currentPage"],pageSize:[1,"pageSize"],totalRecords:[1,"totalRecords"],pageSizeOptions:[1,"pageSizeOptions"],infiniteScroll:[1,"infiniteScroll"],infiniteScrollBehavior:[1,"infiniteScrollBehavior"],currentRecordCount:[1,"currentRecordCount"],autoSizingEnabled:[1,"autoSizingEnabled"],dataStrategy:[1,"dataStrategy"],connectionStatus:[1,"connectionStatus"],lastSyncTime:[1,"lastSyncTime"],isSyncing:[1,"isSyncing"]},outputs:{pageChange:"pageChange",pageSizeChange:"pageSizeChange",autoSizingToggle:"autoSizingToggle",chatbotToggle:"chatbotToggle"},decls:30,vars:18,consts:[["aria-label","Pagination",1,"flex","items-center","justify-between","border-t","border-gray-200","px-4","py-3","sm:px-6"],[1,"flex","items-center","gap-4"],[1,"flex","items-center","gap-2","text-xs",3,"title"],[1,"flex","items-center","gap-1.5","text-xs","text-gray-600",3,"title"],[1,"flex","items-center","gap-1.5","text-xs","text-gray-600"],[1,"block","h-6","w-px","bg-gray-300"],[1,"text-sm","text-gray-700"],[1,"font-medium"],[1,"flex","items-center","text-sm","text-gray-700"],["for","pageSize",1,"mr-2"],["id","pageSize","title","Select number of rows per page",1,"px-2","py-1","border","border-gray-300","rounded-md","bg-white","focus:outline-none","focus:ring-1","focus:ring-indigo-500","focus:border-indigo-500",3,"change"],[3,"value","selected"],[1,"px-4","py-2","rounded-md","border","transition-colors","text-sm",3,"click","title"],[1,"pi","pi-arrows-alt"],[1,"flex-1","flex","justify-between","items-center","sm:justify-end","gap-3"],[1,"flex-1"],["title","Open AI Assistant",1,"flex-shrink-0","flex","items-center","justify-center","h-8","w-8","rounded-full","bg-indigo-600","text-white","shadow-md","hover:bg-indigo-700","focus:outline-none","focus:ring-2","focus:ring-offset-2","focus:ring-indigo-500","transition-transform","hover:scale-110",3,"click"],[1,"pi","pi-comments","text-lg"],[1,"h-2.5","w-2.5","rounded-full"],[1,"text-gray-600"],[1,"pi","pi-database"],[1,"pi","pi-history"],[1,"font-medium","animate-pulse"],[3,"title"],["title","Go to previous page",1,"relative","inline-flex","items-center","px-4","py-2","border","border-gray-300","text-sm","font-medium","rounded-md","text-gray-700","bg-white","hover:bg-gray-50","disabled:opacity-50","disabled:cursor-not-allowed",3,"click","disabled"],[1,"flex","items-center"],["title","Go to next page",1,"relative","inline-flex","items-center","px-4","py-2","border","border-gray-300","text-sm","font-medium","rounded-md","text-gray-700","bg-white","hover:bg-gray-50","disabled:opacity-50","disabled:cursor-not-allowed",3,"click","disabled"],[1,"relative","inline-flex","items-center","px-4","py-2","border","border-transparent","text-sm","font-medium","text-gray-700"],[1,"relative","inline-flex","items-center","px-4","py-2","border","border-gray-300","bg-white","text-sm","font-medium","text-gray-500","hover:bg-gray-50",3,"title","bg-slate-900","text-white","border-slate-900"],[1,"relative","inline-flex","items-center","px-4","py-2","border","border-gray-300","bg-white","text-sm","font-medium","text-gray-500","hover:bg-gray-50",3,"click","title"]],template:function(h,E){if(1&h&&(t.rj2(0,"nav",0)(1,"div",1),t.nVh(2,wf,4,4,"div",2),t.nVh(3,cd,4,2,"div",3),t.nVh(4,Ad,4,1,"div",4),t.Hgh(5,"div",5),t.rj2(6,"p",6),t.EFF(7," Showing "),t.rj2(8,"span",7),t.EFF(9),t.eux(),t.EFF(10," to "),t.rj2(11,"span",7),t.EFF(12),t.eux(),t.EFF(13," of "),t.rj2(14,"span",7),t.EFF(15),t.eux(),t.EFF(16," results "),t.eux(),t.rj2(17,"div",8)(18,"label",9),t.EFF(19,"Rows:"),t.eux(),t.rj2(20,"select",10),t.VwU("change",function(te){return E.onPageSizeChange(te)}),t.Z7z(21,Tf,2,3,"option",11,t.fX1),t.eux()(),t.rj2(23,"button",12),t.VwU("click",function(){return E.autoSizingToggle.emit()}),t.Hgh(24,"i",13),t.eux()(),t.rj2(25,"div",14),t.nVh(26,qh,7,2)(27,Yh,1,0,"div",15),t.rj2(28,"button",16),t.VwU("click",function(){return E.chatbotToggle.emit()}),t.Hgh(29,"i",17),t.eux()()()),2&h){let P,te;t.R7$(2),t.vxM((P=E.connectionStatus())?2:-1,P),t.R7$(),t.vxM((te=E.dataStrategy())?3:-1,te),t.R7$(),t.vxM("SYNC"===E.dataStrategy()?4:-1),t.R7$(5),t.JRh(E.recordRangeStart()),t.R7$(3),t.JRh(E.recordRangeEnd()),t.R7$(3),t.JRh(E.totalRecords()),t.R7$(6),t.Dyx(E.pageSizeOptions()),t.R7$(2),t.AVh("bg-slate-900",E.autoSizingEnabled())("text-white",E.autoSizingEnabled())("bg-white",!E.autoSizingEnabled())("border-gray-300",!E.autoSizingEnabled())("hover:bg-gray-100",!E.autoSizingEnabled()),t.Avn("title",E.autoSizingEnabled()?"Disable Auto Page Sizing":"Enable Auto Page Sizing"),t.R7$(3),t.vxM(E.infiniteScroll()?27:26)}},dependencies:[oe.MD],encapsulation:2,changeDetection:0})}return c})();const Qh=(c,T)=>T.code;function dd(c,T){if(1&c){const l=t.RV6();t.rj2(0,"li",7),t.VwU("dragstart",function(){const E=r.eBV(l).$index,P=t.XpG();return r.Njj(P.onDragStart(E))})("dragover",function(E){r.eBV(l);const P=t.XpG();return r.Njj(P.onDragOver(E))})("drop",function(E){const P=r.eBV(l).$index,te=t.XpG();return r.Njj(te.onDrop(E,P))})("dragend",function(){r.eBV(l);const E=t.XpG();return r.Njj(E.onDragEnd())}),t.rj2(1,"input",8),t.VwU("change",function(E){const P=r.eBV(l).$implicit,te=t.XpG();return r.Njj(te.onVisibilityChange(P,E))}),t.eux(),t.rj2(2,"span",9),t.EFF(3),t.eux(),t.Hgh(4,"i",10),t.eux()}if(2&c){const l=T.$implicit,h=T.$index,E=t.XpG();t.AVh("opacity-50",E.draggedColumnIndex()===h),t.R7$(),t.Avn("checked",E.isColumnVisible(l.code)),t.R7$(2),t.JRh(l.name)}}let Zd=(()=>{class c{allColumns=R.hFB.required();visibleColumns=R.hFB.required();visibilityChange=(0,R.CGW)();orderChange=(0,R.CGW)();draggedColumnIndex=(0,r.vPA)(null);isColumnVisible(l){return this.visibleColumns().some(h=>h.code===l)}onVisibilityChange(l,h){h.preventDefault(),this.visibilityChange.emit(l)}onDragStart(l){this.draggedColumnIndex.set(l)}onDragOver(l){l.preventDefault()}onDrop(l,h){l.preventDefault();const E=this.draggedColumnIndex();if(null===E||E===h)return void this.draggedColumnIndex.set(null);const P=[...this.allColumns()],[te]=P.splice(E,1);P.splice(h,0,te),this.orderChange.emit(P),this.draggedColumnIndex.set(null)}onDragEnd(){this.draggedColumnIndex.set(null)}static \u0275fac=function(h){return new(h||c)};static \u0275cmp=t.VBU({type:c,selectors:[["app-column-chooser"]],inputs:{allColumns:[1,"allColumns"],visibleColumns:[1,"visibleColumns"]},outputs:{visibilityChange:"visibilityChange",orderChange:"orderChange"},decls:10,vars:0,consts:[[1,"origin-top-right","absolute","right-0","mt-2","w-64","rounded-md","shadow-lg","bg-white","ring-1","ring-black","ring-opacity-5","focus:outline-none","z-10"],[1,"py-1"],[1,"px-4","py-2"],[1,"text-xs","text-gray-400","uppercase","tracking-wider"],[1,"text-xs","text-gray-400"],[1,"space-y-1"],["draggable","true",1,"flex","items-center","px-4","py-2","text-sm","text-gray-700","hover:bg-gray-100","transition-colors","duration-150",3,"opacity-50"],["draggable","true",1,"flex","items-center","px-4","py-2","text-sm","text-gray-700","hover:bg-gray-100","transition-colors","duration-150",3,"dragstart","dragover","drop","dragend"],["type","checkbox",1,"h-4","w-4","rounded","border-gray-300","text-indigo-600","focus:ring-indigo-500",3,"change","checked"],[1,"ml-3"],["title","Drag to reorder",1,"pi","pi-bars","ml-auto","cursor-move","text-gray-400"]],template:function(h,E){1&h&&(t.rj2(0,"div",0)(1,"div",1)(2,"div",2)(3,"p",3),t.EFF(4,"Show/Hide Columns"),t.eux(),t.rj2(5,"p",4),t.EFF(6,"Drag to reorder"),t.eux()(),t.rj2(7,"ul",5),t.Z7z(8,dd,5,4,"li",6,Qh),t.eux()()()),2&h&&(t.R7$(8),t.Dyx(E.allColumns()))},dependencies:[oe.MD],encapsulation:2,changeDetection:0})}return c})();const ef=(c,T)=>T.name,dh=(c,T)=>T.code;function Ql(c,T){if(1&c){const l=t.RV6();t.j41(0,"li",29),t.bIt("click",function(){const E=r.eBV(l).$implicit,P=t.XpG(4).$implicit,te=t.XpG(2);return r.Njj(te.updateFilterOperator(P.code,E))}),t.EFF(1),t.k0s()}if(2&c){const l=T.$implicit;t.R7$(),t.JRh(l)}}function Ac(c,T){if(1&c){const l=t.RV6();t.j41(0,"ul",27),t.bIt("clickOutside",function(){r.eBV(l);const E=t.XpG(5);return r.Njj(E.closeAllDropdowns())}),t.Z7z(1,Ql,2,1,"li",28,t.fX1),t.k0s()}if(2&c){const l=t.XpG(3).$implicit;t.R7$(),t.Dyx(l.operators)}}function jc(c,T){if(1&c){const l=t.RV6();t.j41(0,"div",20)(1,"span",30),t.EFF(2,"and"),t.k0s(),t.j41(3,"input",26),t.bIt("input",function(E){r.eBV(l);const P=t.XpG(3).$implicit,te=t.XpG(2);return r.Njj(te.updateFilterValue(P.code,"value2",E))}),t.k0s()()}if(2&c){t.XpG(3);const l=t.r8f(0);t.R7$(3),t.Y8G("value",l.value2||"")}}function Jh(c,T){if(1&c){const l=t.RV6();t.j41(0,"div",20)(1,"div",22)(2,"button",23),t.bIt("click",function(){r.eBV(l);const E=t.XpG(2).$implicit,P=t.XpG(2);return r.Njj(P.toggleDropdown(E.code))}),t.j41(3,"span"),t.EFF(4),t.k0s(),t.nrm(5,"i",24),t.k0s(),t.nVh(6,Ac,3,0,"ul",25),t.k0s(),t.j41(7,"input",26),t.bIt("input",function(E){r.eBV(l);const P=t.XpG(2).$implicit,te=t.XpG(2);return r.Njj(te.updateFilterValue(P.code,"value1",E))}),t.k0s()(),t.nVh(8,jc,4,1,"div",20)}if(2&c){const l=t.XpG(2).$implicit,h=t.r8f(0),E=t.XpG(2);t.R7$(4),t.JRh(h.operator),t.R7$(2),t.vxM(E.isDropdownOpen(l.code)?6:-1),t.R7$(),t.Y8G("value",h.value1),t.R7$(),t.vxM("between"===h.operator||"not between"===h.operator?8:-1)}}function Zh(c,T){if(1&c){const l=t.RV6();t.j41(0,"li",29),t.bIt("click",function(){const E=r.eBV(l).$implicit,P=t.XpG(4).$implicit,te=t.XpG(2);return r.Njj(te.updateFilterOperator(P.code,E))}),t.EFF(1),t.k0s()}if(2&c){const l=T.$implicit;t.R7$(),t.JRh(l)}}function fh(c,T){if(1&c){const l=t.RV6();t.j41(0,"ul",27),t.bIt("clickOutside",function(){r.eBV(l);const E=t.XpG(5);return r.Njj(E.closeAllDropdowns())}),t.Z7z(1,Zh,2,1,"li",28,t.fX1),t.k0s()}if(2&c){const l=t.XpG(3).$implicit;t.R7$(),t.Dyx(l.dateOperators)}}function Sf(c,T){if(1&c){const l=t.RV6();t.j41(0,"div",20)(1,"div",31)(2,"button",23),t.bIt("click",function(){r.eBV(l);const E=t.XpG(2).$implicit,P=t.XpG(2);return r.Njj(P.toggleDropdown(E.code))}),t.j41(3,"span"),t.EFF(4),t.k0s(),t.nrm(5,"i",24),t.k0s(),t.nVh(6,fh,3,0,"ul",25),t.k0s()()}if(2&c){const l=t.XpG(2).$implicit,h=t.r8f(0),E=t.XpG(2);t.R7$(4),t.JRh(h.operator),t.R7$(2),t.vxM(E.isDropdownOpen(l.code)?6:-1)}}function hh(c,T){if(1&c&&(t.j41(0,"option",34),t.EFF(1),t.k0s()),2&c){const l=T.$implicit;t.Y8G("value",l),t.R7$(),t.JRh(l)}}function Af(c,T){if(1&c){const l=t.RV6();t.j41(0,"select",32),t.bIt("change",function(E){r.eBV(l);const P=t.XpG(2).$implicit,te=t.XpG(2);return r.Njj(te.updateFilterValue(P.code,"value1",E))}),t.j41(1,"option",33),t.EFF(2,"Select..."),t.k0s(),t.Z7z(3,hh,2,2,"option",34,t.fX1),t.k0s()}if(2&c){const l=t.XpG(2).$implicit,h=t.r8f(0);t.Y8G("value",h.value1),t.R7$(3),t.Dyx(l.options)}}function Mc(c,T){if(1&c&&(t.j41(0,"div",19),t.nVh(1,Jh,9,4),t.nVh(2,Sf,7,2,"div",20),t.nVh(3,Af,5,1,"select",21),t.k0s()),2&c){const l=t.XpG().$implicit;t.R7$(),t.vxM("text"===l.type||"numeric"===l.type?1:-1),t.R7$(),t.vxM("date"===l.type?2:-1),t.R7$(),t.vxM("select"===l.type?3:-1)}}function Mf(c,T){if(1&c){const l=t.RV6();t.SS7(0),t.j41(1,"li")(2,"div",16)(3,"input",17),t.bIt("change",function(E){const P=r.eBV(l).$implicit,te=t.XpG(2);return r.Njj(te.toggleFilter(P,E))}),t.k0s(),t.j41(4,"label",18),t.EFF(5),t.k0s()(),t.nVh(6,Mc,4,3,"div",19),t.k0s()}if(2&c){const l=T.$implicit,h=t.bH3(t.XpG(2).localActiveFilters()[l.code]);t.R7$(3),t.Y8G("id",l.code)("checked",!!h),t.R7$(),t.Y8G("for",l.code),t.R7$(),t.JRh(l.name),t.R7$(),t.vxM(h?6:-1)}}function ph(c,T){if(1&c&&(t.j41(0,"div",10)(1,"h3",14),t.EFF(2),t.k0s(),t.j41(3,"ul",15),t.Z7z(4,Mf,7,6,"li",null,dh),t.k0s()()),2&c){const l=T.$implicit;t.R7$(2),t.JRh(l.name),t.R7$(2),t.Dyx(l.filters)}}let Qu=(()=>{class c{isOpen=R.hFB.required();config=R.hFB.required();activeFilters=R.hFB.required();close=(0,R.CGW)();apply=(0,R.CGW)();localActiveFilters=(0,r.vPA)({});openDropdowns=(0,r.vPA)(new Set);constructor(){(0,r.QZP)(()=>{this.isOpen()&&this.localActiveFilters.set(JSON.parse(JSON.stringify(this.activeFilters())))})}toggleFilter(l,h){const E=h.target.checked,P={...this.localActiveFilters()};E?P[l.code]||(P[l.code]={code:l.code,name:l.name,type:l.type,operator:l.defaultOperator||(l.operators?l.operators[0]:l.dateOperators?l.dateOperators[0]:"="),value1:l.value||"",value2:l.value2}):delete P[l.code],this.localActiveFilters.set(P)}updateFilterValue(l,h,E){const P=E.target.value;this.localActiveFilters.update(te=>(te[l]&&(te[l][h]=P),{...te}))}updateFilterOperator(l,h){this.localActiveFilters.update(E=>(E[l]&&(E[l].operator=h),{...E})),this.toggleDropdown(l)}applyFilters(){this.apply.emit(this.localActiveFilters())}clearFilters(){this.localActiveFilters.set({}),this.apply.emit({})}toggleDropdown(l){this.openDropdowns.update(h=>{const E=new Set(h);return E.has(l)?E.delete(l):E.add(l),E})}closeAllDropdowns(){this.openDropdowns.set(new Set)}isDropdownOpen(l){return this.openDropdowns().has(l)}static \u0275fac=function(h){return new(h||c)};static \u0275cmp=t.VBU({type:c,selectors:[["app-filter-sidebar"]],inputs:{isOpen:[1,"isOpen"],config:[1,"config"],activeFilters:[1,"activeFilters"]},outputs:{close:"close",apply:"apply"},decls:18,vars:4,consts:[[1,"fixed","top-0","right-0","h-full","w-96","bg-white","shadow-2xl","z-40","transform","transition-transform","duration-300","ease-in-out","flex","flex-col"],[1,"flex","items-center","justify-between","p-4","border-b","border-gray-200","flex-shrink-0"],[1,"text-lg","font-semibold","text-gray-800"],["title","Close Filters",1,"text-gray-500","hover:text-gray-700",3,"click"],[1,"pi","pi-times","text-xl"],[1,"flex-grow","p-4","overflow-y-auto","custom-scrollbar"],[1,"relative","mb-4"],[1,"absolute","inset-y-0","left-0","pl-3","flex","items-center","pointer-events-none"],[1,"pi","pi-search","text-gray-400"],["type","search","placeholder","Search",1,"w-full","pl-10","pr-4","py-2","text-sm","border","border-gray-300","rounded-md","bg-white","focus:ring-indigo-500","focus:border-indigo-500"],[1,"mb-6"],[1,"flex","items-center","justify-end","p-4","border-t","border-gray-200","flex-shrink-0","space-x-3"],[1,"px-4","py-2","text-sm","font-medium","text-gray-700","bg-white","border","border-gray-300","rounded-md","hover:bg-gray-50",3,"click"],[1,"px-4","py-2","text-sm","font-medium","text-white","bg-slate-900","border","border-transparent","rounded-md","hover:bg-slate-800","focus:outline-none","focus:ring-2","focus:ring-offset-2","focus:ring-slate-500",3,"click"],[1,"text-sm","font-semibold","uppercase","text-gray-500","mb-2"],[1,"space-y-2"],[1,"flex","items-center"],["type","checkbox",1,"h-4","w-4","rounded","border-gray-300","text-indigo-600","focus:ring-indigo-500","bg-white",3,"change","id","checked"],[1,"ml-3","text-sm","text-gray-700",3,"for"],[1,"mt-2","pl-7","space-y-2"],[1,"flex","items-center","gap-2"],[1,"w-full","px-2","py-1.5","text-xs","border","border-gray-300","rounded-md","bg-white","focus:ring-indigo-500","focus:border-indigo-500",3,"value"],[1,"relative","w-28"],[1,"flex","items-center","justify-between","w-full","px-2","py-1.5","text-xs","text-left","bg-white","border","border-gray-300","rounded-md",3,"click"],[1,"pi","pi-chevron-down","text-xs"],[1,"absolute","z-10","w-full","mt-1","bg-white","border","border-gray-300","rounded-md","shadow-lg","max-h-48","overflow-auto"],["type","text","placeholder","Type here",1,"flex-1","w-full","px-2","py-1.5","text-xs","border","border-gray-300","rounded-md","bg-white",3,"input","value"],[1,"absolute","z-10","w-full","mt-1","bg-white","border","border-gray-300","rounded-md","shadow-lg","max-h-48","overflow-auto",3,"clickOutside"],[1,"px-2","py-1.5","text-xs","hover:bg-indigo-50","cursor-pointer"],[1,"px-2","py-1.5","text-xs","hover:bg-indigo-50","cursor-pointer",3,"click"],[1,"text-xs","w-28","text-center"],[1,"relative","w-full"],[1,"w-full","px-2","py-1.5","text-xs","border","border-gray-300","rounded-md","bg-white","focus:ring-indigo-500","focus:border-indigo-500",3,"change","value"],["value",""],[3,"value"]],template:function(h,E){1&h&&(t.j41(0,"aside",0)(1,"header",1)(2,"h2",2),t.EFF(3,"Filter By"),t.k0s(),t.j41(4,"button",3),t.bIt("click",function(){return E.close.emit()}),t.nrm(5,"i",4),t.k0s()(),t.j41(6,"div",5)(7,"div",6)(8,"div",7),t.nrm(9,"i",8),t.k0s(),t.nrm(10,"input",9),t.k0s(),t.Z7z(11,ph,6,1,"div",10,ef),t.k0s(),t.j41(13,"footer",11)(14,"button",12),t.bIt("click",function(){return E.clearFilters()}),t.EFF(15," Clear "),t.k0s(),t.j41(16,"button",13),t.bIt("click",function(){return E.applyFilters()}),t.EFF(17," Apply "),t.k0s()()()),2&h&&(t.AVh("translate-x-0",E.isOpen())("translate-x-full",!E.isOpen()),t.R7$(11),t.Dyx(E.config().groups))},dependencies:[oe.MD,Ke],styles:[".custom-scrollbar[_ngcontent-%COMP%]::-webkit-scrollbar{width:6px;height:6px}.custom-scrollbar[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:transparent}.custom-scrollbar[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:#4b5563;border-radius:3px}.custom-scrollbar[_ngcontent-%COMP%]::-webkit-scrollbar-thumb:hover{background:#6b7280}"],changeDetection:0})}return c})();var Id=$(1382),fd=$.n(Id);$(3852),$(3261),$(3844);let Kp=(()=>{class c{el=(0,r.WQX)(t.aKT);editor;isInternalChange=!1;value=(0,R.hFB)("");valueChange=(0,R.CGW)();constructor(){(0,r.QZP)(()=>{const l=this.value();if(this.editor&&!this.isInternalChange&&this.editor.getValue()!==l){const h=this.editor.getCursor();this.editor.setValue(l),this.editor.setCursor(h)}})}ngAfterViewInit(){const l={value:this.value(),mode:{name:"javascript",json:!0},theme:"neo",lineNumbers:!0,autoCloseBrackets:!0,matchBrackets:!0,viewportMargin:1/0};this.editor=fd()(this.el.nativeElement,l),this.editor?.on("change",h=>{const E=h.getValue();this.isInternalChange=!0,this.valueChange.emit(E),setTimeout(()=>this.isInternalChange=!1,0)})}ngOnDestroy(){if(this.editor){const l=this.editor.getWrapperElement();l.parentNode?.removeChild(l),this.editor=void 0}}static \u0275fac=function(h){return new(h||c)};static \u0275dir=t.FsC({type:c,selectors:[["","appJsonEditor",""]],inputs:{value:[1,"value"]},outputs:{valueChange:"valueChange"}})}return c})();var Eu=$(9417),hd=$(152),gh=$(3294),kd=$(1413),kf=$(6977);function ep(c,T){if(1&c&&(t.j41(0,"option",8),t.EFF(1),t.k0s()),2&c){const l=T.$implicit;t.Y8G("value",l),t.R7$(),t.JRh(l)}}function Xp(c,T){if(1&c&&(t.j41(0,"option",8),t.EFF(1),t.nI1(2,"titlecase"),t.k0s()),2&c){const l=T.$implicit;t.Y8G("value",l),t.R7$(),t.JRh(t.bMT(2,2,l))}}function qp(c,T){if(1&c&&(t.j41(0,"option",8),t.EFF(1),t.nI1(2,"titlecase"),t.k0s()),2&c){const l=T.$implicit;t.Y8G("value",l),t.R7$(),t.JRh(t.bMT(2,2,l))}}function tp(c,T){if(1&c&&(t.j41(0,"div",11)(1,"label",53),t.EFF(2,"Infinite Scroll Behavior"),t.k0s(),t.j41(3,"select",54),t.Z7z(4,qp,3,4,"option",8,t.fX1),t.k0s()()),2&c){const l=t.XpG(2);t.R7$(4),t.Dyx(l.infiniteScrollBehaviors)}}function np(c,T){if(1&c&&(t.j41(0,"option",15),t.EFF(1),t.k0s()),2&c){const l=T.$implicit;t.Y8G("value",l),t.R7$(),t.JRh(l)}}function Yp(c,T){if(1&c&&(t.j41(0,"option",8),t.EFF(1),t.k0s()),2&c){const l=T.$implicit;t.Y8G("value",l),t.R7$(),t.JRh("iconAndText"===l?"Icon & Text":"Icon Only")}}function Qp(c,T){if(1&c&&(t.j41(0,"form",0)(1,"section",1)(2,"h3",2),t.EFF(3,"General"),t.k0s(),t.j41(4,"div")(5,"label",3),t.EFF(6,"Table Title"),t.k0s(),t.nrm(7,"input",4),t.k0s()(),t.j41(8,"section",1)(9,"h3",2),t.EFF(10,"Data & Paging "),t.k0s(),t.j41(11,"div",5)(12,"div")(13,"label",6),t.EFF(14,"Data Strategy"),t.k0s(),t.j41(15,"select",7),t.Z7z(16,ep,2,2,"option",8,t.fX1),t.k0s()(),t.j41(18,"div")(19,"label",9),t.EFF(20,"Paging Mode"),t.k0s(),t.j41(21,"select",10),t.Z7z(22,Xp,3,4,"option",8,t.fX1),t.k0s()()(),t.nVh(24,tp,6,0,"div",11),t.k0s(),t.j41(25,"section",1)(26,"h3",2),t.EFF(27,"Appearance"),t.k0s(),t.j41(28,"div",12)(29,"div")(30,"label",13),t.EFF(31,"Paginator"),t.k0s(),t.j41(32,"select",14),t.Z7z(33,np,2,2,"option",15,t.fX1),t.k0s()(),t.j41(35,"div")(36,"label",16),t.EFF(37,"Toolbar Buttons"),t.k0s(),t.j41(38,"select",17),t.Z7z(39,Yp,2,2,"option",8,t.fX1),t.k0s()()(),t.j41(41,"div",18)(42,"div",19)(43,"span",20),t.EFF(44,"Striped Rows"),t.k0s(),t.j41(45,"label",21),t.nrm(46,"input",22)(47,"div",23),t.k0s()(),t.j41(48,"div",19)(49,"span",20),t.EFF(50,"Grid Lines"),t.k0s(),t.j41(51,"label",21),t.nrm(52,"input",24)(53,"div",23),t.k0s()(),t.j41(54,"div",19)(55,"span",20),t.EFF(56,"Row Hover Effect"),t.k0s(),t.j41(57,"label",21),t.nrm(58,"input",25)(59,"div",23),t.k0s()()()(),t.j41(60,"section",1)(61,"h3",2),t.EFF(62,"Table Styling "),t.k0s(),t.j41(63,"div",1)(64,"div",19)(65,"span",20),t.EFF(66,"Enable Transparency"),t.k0s(),t.j41(67,"label",21),t.nrm(68,"input",26)(69,"div",23),t.k0s()(),t.j41(70,"div")(71,"label",27),t.EFF(72,"Header Background"),t.k0s(),t.j41(73,"div",28),t.nrm(74,"input",29)(75,"input",30),t.k0s()(),t.j41(76,"div")(77,"label",31),t.EFF(78,"Footer Background"),t.k0s(),t.j41(79,"div",28),t.nrm(80,"input",32)(81,"input",33),t.k0s()(),t.j41(82,"div")(83,"label",34),t.EFF(84,"Background Image URL"),t.k0s(),t.nrm(85,"input",35),t.k0s()()(),t.j41(86,"section",1)(87,"h3",2),t.EFF(88,"Card View"),t.k0s(),t.j41(89,"div",36)(90,"div",37)(91,"label",38),t.EFF(92,"Cards Per Row (Desktop)"),t.k0s(),t.j41(93,"span",39),t.EFF(94),t.k0s()(),t.nrm(95,"input",40),t.j41(96,"div",41)(97,"span"),t.EFF(98,"1"),t.k0s(),t.j41(99,"span"),t.EFF(100,"2"),t.k0s(),t.j41(101,"span"),t.EFF(102,"3"),t.k0s(),t.j41(103,"span"),t.EFF(104,"4"),t.k0s(),t.j41(105,"span"),t.EFF(106,"5"),t.k0s(),t.j41(107,"span"),t.EFF(108,"6"),t.k0s()()()(),t.j41(109,"section",1)(110,"h3",2),t.EFF(111,"Features"),t.k0s(),t.j41(112,"div",42)(113,"div",1)(114,"div",19)(115,"span",20),t.EFF(116,"Column Chooser"),t.k0s(),t.j41(117,"label",21),t.nrm(118,"input",43)(119,"div",23),t.k0s()(),t.j41(120,"div",19)(121,"span",20),t.EFF(122,"Export Button"),t.k0s(),t.j41(123,"label",21),t.nrm(124,"input",44)(125,"div",23),t.k0s()(),t.j41(126,"div",19)(127,"span",20),t.EFF(128,"Multi-Select"),t.k0s(),t.j41(129,"label",21),t.nrm(130,"input",45)(131,"div",23),t.k0s()(),t.j41(132,"div",19)(133,"span",20),t.EFF(134,"Toolbar Config"),t.k0s(),t.j41(135,"label",21),t.nrm(136,"input",46)(137,"div",23),t.k0s()(),t.j41(138,"div",19)(139,"span",20),t.EFF(140,"Table Footer"),t.k0s(),t.j41(141,"label",21),t.nrm(142,"input",47)(143,"div",23),t.k0s()()(),t.j41(144,"div",1)(145,"div",19)(146,"span",20),t.EFF(147,"Row Menu (3-dot)"),t.k0s(),t.j41(148,"label",21),t.nrm(149,"input",48)(150,"div",23),t.k0s()(),t.j41(151,"div",19)(152,"span",20),t.EFF(153,"Header Actions"),t.k0s(),t.j41(154,"label",21),t.nrm(155,"input",49)(156,"div",23),t.k0s()(),t.j41(157,"div",19)(158,"span",20),t.EFF(159,"Saved Queries"),t.k0s(),t.j41(160,"label",21),t.nrm(161,"input",50)(162,"div",23),t.k0s()(),t.j41(163,"div",19)(164,"span",20),t.EFF(165,"Summary Chips"),t.k0s(),t.j41(166,"label",21),t.nrm(167,"input",51)(168,"div",23),t.k0s()(),t.j41(169,"div",19)(170,"span",20),t.EFF(171,"Column Freezing"),t.k0s(),t.j41(172,"label",21),t.nrm(173,"input",52)(174,"div",23),t.k0s()()()()()()),2&c){let l,h;const E=t.XpG();t.Y8G("formGroup",E.form),t.R7$(16),t.Dyx(E.dataStrategies),t.R7$(6),t.Dyx(E.pagingModes),t.R7$(2),t.vxM("infinite"===(null==(l=E.form.get("pagingMode"))?null:l.value)?24:-1),t.R7$(9),t.Dyx(E.paginatorPositions),t.R7$(6),t.Dyx(E.toolbarButtonModes),t.R7$(55),t.SpI(" ",null==(h=E.form.get("cardsPerRow"))?null:h.value," ")}}let Jp=(()=>{class c{config=R.hFB.required();configChange=(0,R.CGW)();fb=(0,r.WQX)(Eu.ok);form;destroy$=new kd.B;dataStrategies=["SYNC","ONLINE_FIRST","OFFLINE_FIRST","HYBRID"];pagingModes=["paginator","infinite"];infiniteScrollBehaviors=["append","replace"];paginatorPositions=["top","bottom","both"];toolbarButtonModes=["iconAndText","iconOnly"];constructor(){this.form=this.fb.group({title:[""],dataStrategy:[""],pagingMode:[""],infiniteScrollBehavior:[""],paginatorPosition:[""],stripedRows:[!1],showGridlines:[!1],rowHover:[!1],enableColumnChooser:[!1],enableExport:[!1],enableMultiSelect:[!1],enableConfigButton:[!1],cardsPerRow:[4],enableFooter:[!1],enableRowMenu:[!1],enableHeaderActions:[!1],enableSavedQueries:[!1],enableChipFilters:[!1],enableFreeze:[!1],toolbarButtonMode:["iconAndText"],headerBackgroundColor:["#ffffff"],footerBackgroundColor:["#ffffff"],enableTransparency:[!1],backgroundImageUrl:[""]}),(0,r.QZP)(()=>{const l=this.config();l&&this.form.patchValue({title:l.config.title,dataStrategy:l.config.dataStrategy,pagingMode:l.config.pagingMode,infiniteScrollBehavior:l.config.infiniteScrollBehavior,paginatorPosition:l.config.paginatorPosition??"bottom",stripedRows:l.config.stripedRows??!0,showGridlines:l.config.showGridlines??!1,rowHover:l.config.rowHover??!0,enableColumnChooser:l.config.enableColumnChooser,enableExport:l.config.exportConfig?.enabled??!1,enableMultiSelect:l.config.enableMultiSelect??!1,enableConfigButton:l.config.enableConfigButton,cardsPerRow:l.config.cardViewConfig?.cardsPerRow??4,enableFooter:l.config.footerConfig?.enabled??!1,enableRowMenu:l.config.enableRowMenu,enableHeaderActions:l.config.enableHeaderActions,enableSavedQueries:l.config.enableSavedQueries,enableChipFilters:l.config.enableChipFilters??!1,enableFreeze:l.config.enableFreeze??!1,toolbarButtonMode:l.config.toolbarButtonMode??"iconAndText",headerBackgroundColor:l.config.styleConfig?.headerBackgroundColor??"var(--marg-header-bg)",footerBackgroundColor:l.config.styleConfig?.footerBackgroundColor??"var(--marg-header-bg)",enableTransparency:l.config.styleConfig?.enableTransparency??!1,backgroundImageUrl:l.config.styleConfig?.backgroundImageUrl??""},{emitEvent:!1})}),this.form.valueChanges.pipe((0,hd.B)(200),(0,gh.F)(this.isEqual),(0,kf.Q)(this.destroy$)).subscribe(l=>{const h=this.config();if(h){const E=JSON.parse(JSON.stringify(h));E.config.title=l.title,E.config.dataStrategy=l.dataStrategy,E.config.pagingMode=l.pagingMode,E.config.infiniteScrollBehavior=l.infiniteScrollBehavior,E.config.paginatorPosition=l.paginatorPosition,E.config.stripedRows=l.stripedRows,E.config.showGridlines=l.showGridlines,E.config.rowHover=l.rowHover,E.config.enableColumnChooser=l.enableColumnChooser,E.config.exportConfig?E.config.exportConfig.enabled=l.enableExport:E.config.exportConfig={enabled:l.enableExport,options:[{label:"CSV",key:"csv",icon:"pi pi-file"},{label:"Excel",key:"excel",icon:"pi pi-file-excel"},{label:"PDF",key:"pdf",icon:"pi pi-file-pdf"}]},E.config.enableMultiSelect=l.enableMultiSelect,E.config.enableConfigButton=l.enableConfigButton,E.config.cardViewConfig||(E.config.cardViewConfig={cardsPerRow:4}),E.config.cardViewConfig.cardsPerRow=Number(l.cardsPerRow),E.config.footerConfig?E.config.footerConfig.enabled=l.enableFooter:E.config.footerConfig={enabled:l.enableFooter,columns:[{code:"contact_person_composite",aggregation:"count",display:"Total: {value}"},{code:"annual_revenue",aggregation:"sum",display:"Sum: {value}"}]},E.config.styleConfig?(E.config.styleConfig.enableTransparency=l.enableTransparency,E.config.styleConfig.headerBackgroundColor=l.headerBackgroundColor,E.config.styleConfig.footerBackgroundColor=l.footerBackgroundColor,E.config.styleConfig.backgroundImageUrl=l.backgroundImageUrl):E.config.styleConfig={enableTransparency:l.enableTransparency,headerBackgroundColor:l.headerBackgroundColor,footerBackgroundColor:l.footerBackgroundColor,backgroundImageUrl:l.backgroundImageUrl},E.config.enableRowMenu=l.enableRowMenu,E.config.enableHeaderActions=l.enableHeaderActions,E.config.enableSavedQueries=l.enableSavedQueries,E.config.enableChipFilters=l.enableChipFilters,E.config.enableFreeze=l.enableFreeze,E.config.toolbarButtonMode=l.toolbarButtonMode,this.configChange.emit(E)}})}isEqual(l,h){return JSON.stringify(l)===JSON.stringify(h)}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}static \u0275fac=function(h){return new(h||c)};static \u0275cmp=t.VBU({type:c,selectors:[["app-config-form"]],inputs:{config:[1,"config"]},outputs:{configChange:"configChange"},decls:1,vars:1,consts:[[1,"space-y-8","px-1",3,"formGroup"],[1,"space-y-4"],[1,"text-xs","font-bold","text-gray-500","uppercase","tracking-wider","border-b","border-gray-100","pb-2"],["for","title",1,"block","text-sm","font-medium","text-gray-700","mb-1"],["type","text","id","title","formControlName","title",1,"block","w-full","text-sm","rounded-md","border-gray-300","shadow-sm","focus:border-indigo-500","focus:ring-indigo-500","placeholder-gray-400"],[1,"grid","grid-cols-2","gap-4"],["for","dataStrategy",1,"block","text-sm","font-medium","text-gray-700","mb-1"],["id","dataStrategy","formControlName","dataStrategy",1,"block","w-full","text-sm","rounded-md","border-gray-300","shadow-sm","focus:border-indigo-500","focus:ring-indigo-500","bg-white"],[3,"value"],["for","pagingMode",1,"block","text-sm","font-medium","text-gray-700","mb-1"],["id","pagingMode","formControlName","pagingMode",1,"block","w-full","text-sm","rounded-md","border-gray-300","shadow-sm","focus:border-indigo-500","focus:ring-indigo-500","bg-white"],[1,"bg-gray-50","p-3","rounded-md","border","border-gray-100"],[1,"grid","grid-cols-2","gap-4","mb-2"],["for","paginatorPosition",1,"block","text-sm","font-medium","text-gray-700","mb-1"],["id","paginatorPosition","formControlName","paginatorPosition",1,"block","w-full","text-sm","rounded-md","border-gray-300","shadow-sm","focus:border-indigo-500","focus:ring-indigo-500"],[1,"capitalize",3,"value"],["for","toolbarButtonMode",1,"block","text-sm","font-medium","text-gray-700","mb-1"],["id","toolbarButtonMode","formControlName","toolbarButtonMode",1,"block","w-full","text-sm","rounded-md","border-gray-300","shadow-sm","focus:border-indigo-500","focus:ring-indigo-500"],[1,"space-y-3"],[1,"flex","items-center","justify-between"],[1,"text-sm","text-gray-700"],[1,"relative","inline-flex","items-center","cursor-pointer"],["type","checkbox","formControlName","stripedRows",1,"sr-only","peer"],[1,"w-9","h-5","bg-gray-200","peer-focus:outline-none","peer-focus:ring-2","peer-focus:ring-indigo-300","rounded-full","peer","peer-checked:after:translate-x-full","peer-checked:after:border-white","after:content-['']","after:absolute","after:top-[2px]","after:left-[2px]","after:bg-white","after:border-gray-300","after:border","after:rounded-full","after:h-4","after:w-4","after:transition-all","peer-checked:bg-indigo-600"],["type","checkbox","formControlName","showGridlines",1,"sr-only","peer"],["type","checkbox","formControlName","rowHover",1,"sr-only","peer"],["type","checkbox","formControlName","enableTransparency",1,"sr-only","peer"],["for","headerBackgroundColor",1,"block","text-sm","font-medium","text-gray-700","mb-1"],[1,"flex","gap-2"],["type","color","id","headerBackgroundColor","formControlName","headerBackgroundColor",1,"h-8","w-8","rounded-md","border-gray-300","cursor-pointer"],["type","text","formControlName","headerBackgroundColor",1,"flex-1","text-sm","rounded-md","border-gray-300","shadow-sm","focus:border-indigo-500","focus:ring-indigo-500"],["for","footerBackgroundColor",1,"block","text-sm","font-medium","text-gray-700","mb-1"],["type","color","id","footerBackgroundColor","formControlName","footerBackgroundColor",1,"h-8","w-8","rounded-md","border-gray-300","cursor-pointer"],["type","text","formControlName","footerBackgroundColor",1,"flex-1","text-sm","rounded-md","border-gray-300","shadow-sm","focus:border-indigo-500","focus:ring-indigo-500"],["for","backgroundImageUrl",1,"block","text-sm","font-medium","text-gray-700","mb-1"],["type","text","id","backgroundImageUrl","formControlName","backgroundImageUrl","placeholder","https://example.com/image.jpg",1,"block","w-full","text-sm","rounded-md","border-gray-300","shadow-sm","focus:border-indigo-500","focus:ring-indigo-500"],[1,"bg-gray-50","p-4","rounded-lg","border","border-gray-200"],[1,"flex","justify-between","items-center","mb-2"],["for","cardsPerRow",1,"block","text-sm","font-medium","text-gray-700"],[1,"inline-flex","items-center","justify-center","px-2","py-1","rounded-md","bg-white","border","border-gray-200","text-xs","font-bold","text-indigo-600","shadow-sm","min-w-[2rem]"],["type","range","id","cardsPerRow","formControlName","cardsPerRow","min","1","max","6",1,"w-full","h-2","bg-gray-200","rounded-lg","appearance-none","cursor-pointer","accent-indigo-600"],[1,"flex","justify-between","text-xs","text-gray-400","mt-1","font-medium","px-1"],[1,"grid","grid-cols-2","gap-x-8","gap-y-4"],["type","checkbox","formControlName","enableColumnChooser",1,"sr-only","peer"],["type","checkbox","formControlName","enableExport",1,"sr-only","peer"],["type","checkbox","formControlName","enableMultiSelect",1,"sr-only","peer"],["type","checkbox","formControlName","enableConfigButton",1,"sr-only","peer"],["type","checkbox","formControlName","enableFooter",1,"sr-only","peer"],["type","checkbox","formControlName","enableRowMenu",1,"sr-only","peer"],["type","checkbox","formControlName","enableHeaderActions",1,"sr-only","peer"],["type","checkbox","formControlName","enableSavedQueries",1,"sr-only","peer"],["type","checkbox","formControlName","enableChipFilters",1,"sr-only","peer"],["type","checkbox","formControlName","enableFreeze",1,"sr-only","peer"],["for","infiniteScrollBehavior",1,"block","text-sm","font-medium","text-gray-700","mb-1"],["id","infiniteScrollBehavior","formControlName","infiniteScrollBehavior",1,"block","w-full","text-sm","rounded-md","border-gray-300","shadow-sm","focus:border-indigo-500","focus:ring-indigo-500"]],template:function(h,E){1&h&&t.nVh(0,Qp,175,3,"form",0),2&h&&t.vxM(E.form?0:-1)},dependencies:[oe.MD,Eu.X1,Eu.qT,Eu.xH,Eu.y7,Eu.me,Eu.MR,Eu.Zm,Eu.wz,Eu.BC,Eu.cb,Eu.j4,Eu.JD,oe.PV],encapsulation:2,changeDetection:0})}return c})();function rp(c,T){if(1&c){const l=t.RV6();t.j41(0,"button",16),t.bIt("click",function(){r.eBV(l);const E=t.XpG();return r.Njj(E.copyToClipboard())}),t.nrm(1,"i",17),t.EFF(2),t.k0s()}if(2&c){const l=t.XpG();t.R7$(),t.AVh("pi-copy",!l.copySuccess())("pi-check",l.copySuccess()),t.R7$(),t.SpI(" ",l.copySuccess()?"Copied!":"Copy JSON"," ")}}function ip(c,T){if(1&c&&(t.j41(0,"div",19)(1,"p",20),t.EFF(2,"Error parsing JSON"),t.k0s(),t.j41(3,"pre",21),t.EFF(4),t.k0s()()),2&c){const l=t.XpG(2);t.R7$(4),t.JRh(l.parseError())}}function op(c,T){if(1&c){const l=t.RV6();t.j41(0,"div",11)(1,"div",18),t.bIt("valueChange",function(E){r.eBV(l);const P=t.XpG();return r.Njj(P.onJsonConfigChange(E))}),t.k0s(),t.nVh(2,ip,5,1,"div",19),t.k0s()}if(2&c){const l=t.XpG();t.R7$(),t.Y8G("value",l.configString()),t.R7$(),t.vxM(l.parseError()?2:-1)}}function Rf(c,T){if(1&c){const l=t.RV6();t.j41(0,"div",12)(1,"app-config-form",22),t.bIt("configChange",function(E){r.eBV(l);const P=t.XpG();return r.Njj(P.onFormConfigChange(E))}),t.k0s()()}if(2&c){const l=t.XpG();t.R7$(),t.Y8G("config",l.currentConfig())}}let pd=(()=>{class c{isOpen=R.hFB.required();config=R.hFB.required();close=(0,R.CGW)();save=(0,R.CGW)();resetToDefaults=(0,R.CGW)();viewMode=(0,r.vPA)("ui");currentConfig=(0,r.vPA)(null);configString=(0,ve.EW)(()=>{const l=this.currentConfig();return l?JSON.stringify(l,null,2):""});parseError=(0,r.vPA)(null);copySuccess=(0,r.vPA)(!1);initialConfig=null;constructor(){(0,r.QZP)(()=>{if(this.isOpen()){const l=this.config();this.initialConfig=l,this.currentConfig.set(JSON.parse(JSON.stringify(l))),this.parseError.set(null),this.viewMode.set("ui")}})}onJsonConfigChange(l){try{const h=JSON.parse(l);this.currentConfig.set(h),this.parseError.set(null),this.save.emit(h)}catch(h){this.parseError.set(`Invalid JSON: ${h.message}`)}}onFormConfigChange(l){this.currentConfig.set(l),this.parseError.set(null),this.save.emit(l)}handleSave(){if(this.parseError())return;const l=this.currentConfig();l&&this.save.emit(l)}handleRevertChanges(){if(this.initialConfig){const l=JSON.parse(JSON.stringify(this.initialConfig));this.currentConfig.set(l),this.parseError.set(null),this.save.emit(l)}}handleRestoreDefaults(){confirm("Are you sure you want to restore factory defaults? This will overwrite your current configuration.")&&(this.resetToDefaults.emit(),this.close.emit())}copyToClipboard(){const l=this.configString();navigator.clipboard.writeText(l).then(()=>{this.copySuccess.set(!0),setTimeout(()=>this.copySuccess.set(!1),2e3)})}static \u0275fac=function(h){return new(h||c)};static \u0275cmp=t.VBU({type:c,selectors:[["app-config-sidebar"]],inputs:{isOpen:[1,"isOpen"],config:[1,"config"]},outputs:{close:"close",save:"save",resetToDefaults:"resetToDefaults"},decls:25,vars:31,consts:[[1,"fixed","top-0","right-0","h-full","w-[50vw]","bg-white","shadow-2xl","z-40","transform","transition-transform","duration-300","ease-in-out","flex","flex-col"],[1,"flex","items-center","justify-between","p-4","border-b","border-gray-200","flex-shrink-0"],[1,"text-lg","font-semibold","text-gray-800"],[1,"flex","items-center","gap-2"],[1,"text-xs","text-red-600","hover:text-red-800","underline","mr-2",3,"click"],["title","Close Configuration",1,"text-gray-500","hover:text-gray-700",3,"click"],[1,"pi","pi-times","text-xl"],[1,"px-4","border-b","border-gray-200","flex-shrink-0","flex","justify-between","items-center"],[1,"-mb-px","flex","space-x-6"],[1,"whitespace-nowrap","py-3","px-1","border-b-2","font-medium","text-sm","transition-colors",3,"click"],[1,"text-xs","flex","items-center","gap-1","text-indigo-600","hover:text-indigo-800","transition-colors"],[1,"flex-grow","p-4","flex","flex-col","min-h-0","h-full"],[1,"flex-grow","p-4","overflow-y-auto","custom-scrollbar","min-h-0"],[1,"flex","items-center","justify-end","p-4","border-t","border-gray-200","flex-shrink-0","space-x-3"],[1,"px-4","py-2","text-sm","font-medium","text-gray-700","bg-white","border","border-gray-300","rounded-md","hover:bg-gray-50",3,"click"],[1,"px-4","py-2","text-sm","font-medium","text-white","bg-slate-900","border","border-transparent","rounded-md","hover:bg-slate-800","focus:outline-none","focus:ring-2","focus:ring-offset-2","focus:ring-slate-500","disabled:opacity-50","disabled:cursor-not-allowed",3,"click","disabled"],[1,"text-xs","flex","items-center","gap-1","text-indigo-600","hover:text-indigo-800","transition-colors",3,"click"],[1,"pi"],["appJsonEditor","",1,"w-full","flex-grow","h-full","font-mono","text-sm","border","border-indigo-100","rounded-md","overflow-hidden","config-editor-wrapper","flex","flex-col","shadow-inner","bg-slate-50","relative",3,"valueChange","value"],[1,"mt-2","p-3","bg-red-100","border","border-red-400","text-red-700","rounded-md","text-sm","flex-shrink-0"],[1,"font-bold"],[1,"whitespace-pre-wrap","mt-1"],[3,"configChange","config"]],template:function(h,E){1&h&&(t.j41(0,"aside",0)(1,"header",1)(2,"h2",2),t.EFF(3,"Table Configuration"),t.k0s(),t.j41(4,"div",3)(5,"button",4),t.bIt("click",function(){return E.handleRestoreDefaults()}),t.EFF(6," Restore Factory Defaults "),t.k0s(),t.j41(7,"button",5),t.bIt("click",function(){return E.close.emit()}),t.nrm(8,"i",6),t.k0s()()(),t.j41(9,"div",7)(10,"nav",8)(11,"button",9),t.bIt("click",function(){return E.viewMode.set("ui")}),t.EFF(12," UI Editor "),t.k0s(),t.j41(13,"button",9),t.bIt("click",function(){return E.viewMode.set("json")}),t.EFF(14," JSON Editor "),t.k0s()(),t.nVh(15,rp,3,5,"button",10),t.k0s(),t.nVh(16,op,3,2,"div",11)(17,Rf,2,1,"div",12),t.j41(18,"footer",13)(19,"button",14),t.bIt("click",function(){return E.handleRevertChanges()}),t.EFF(20," Reset Changes "),t.k0s(),t.j41(21,"button",14),t.bIt("click",function(){return E.close.emit()}),t.EFF(22," Cancel "),t.k0s(),t.j41(23,"button",15),t.bIt("click",function(){return E.handleSave()}),t.EFF(24," Save and Apply "),t.k0s()()()),2&h&&(t.AVh("translate-x-0",E.isOpen())("translate-x-full",!E.isOpen()),t.R7$(11),t.AVh("border-indigo-500","ui"===E.viewMode())("text-indigo-600","ui"===E.viewMode())("border-transparent","ui"!==E.viewMode())("text-gray-500","ui"!==E.viewMode())("hover:text-gray-700","ui"!==E.viewMode())("hover:border-gray-300","ui"!==E.viewMode()),t.R7$(2),t.AVh("border-indigo-500","json"===E.viewMode())("text-indigo-600","json"===E.viewMode())("border-transparent","json"!==E.viewMode())("text-gray-500","json"!==E.viewMode())("hover:text-gray-700","json"!==E.viewMode())("hover:border-gray-300","json"!==E.viewMode()),t.R7$(2),t.vxM("json"===E.viewMode()?15:-1),t.R7$(),t.vxM("json"===E.viewMode()?16:17),t.R7$(7),t.Y8G("disabled",!!E.parseError()))},dependencies:[oe.MD,Kp,Jp],styles:[".CodeMirror[_ngcontent-%COMP%]{height:100%!important;background-color:#f8fafc}.cm-s-neo.CodeMirror[_ngcontent-%COMP%]{background-color:#f8fafc}input[type=range][_ngcontent-%COMP%]{appearance:none;background:transparent}input[type=range][_ngcontent-%COMP%]::-webkit-slider-thumb{-webkit-appearance:none;height:16px;width:16px;border-radius:50%;background:#4f46e5;cursor:pointer;margin-top:-6px;box-shadow:0 1px 2px #0003}input[type=range][_ngcontent-%COMP%]::-webkit-slider-runnable-track{width:100%;height:4px;cursor:pointer;background:#e2e8f0;border-radius:2px}"],changeDetection:0})}return c})();function Rd(c){switch(c){case"=":return"EXACT";case"!=":return"NOT_EQUAL";case">":return"GREATER_THAN";case">=":return"GREATER_THAN_OR_EQUAL";case"<":return"LESS_THAN";case"<=":return"LESS_THAN_OR_EQUAL";case"between":return"BETWEEN";case"not between":return"NOT_BETWEEN";default:return"CONTAINS"}}function Gc(c,T,l,h,E,P,te){const Fe=[];E&&Fe.push({parameter_name:"GLOBAL_SEARCH",parameter_code:"GS",parameter_value:E,conditional_operator:"AND",wildcard_operator:"CONTAINS"});for(const ut in P){const Rt=P[ut];Rt&&void 0!==Rt.value1&&""!==Rt.value1&&Fe.push({parameter_name:Rt.name,parameter_code:Rt.code,parameter_value:`${Rt.value1}${Rt.value2?","+Rt.value2:""}`,conditional_operator:"AND",wildcard_operator:Rd(Rt.operator)})}const Qe=[];return l&&Qe.push({coloum_id:l,short_type:h}),{page_number:c,page_size:T,search_filters:Fe,sort_column:Qe}}const tf=(c,T)=>T.code;function Pd(c,T){1&c&&(t.rj2(0,"th",3),t.Hgh(1,"div",4),t.eux())}function mh(c,T){1&c&&t.Hgh(0,"div",6)}function sp(c,T){1&c&&t.Hgh(0,"div",7)}function Fd(c,T){1&c&&(t.rj2(0,"div",8),t.Hgh(1,"div",10)(2,"div",11),t.eux())}function _h(c,T){1&c&&t.Hgh(0,"div",9)}function vh(c,T){if(1&c&&(t.rj2(0,"td",5),t.nVh(1,mh,1,0,"div",6)(2,sp,1,0,"div",7)(3,Fd,3,0,"div",8)(4,_h,1,0,"div",9),t.eux()),2&c){const l=T.$implicit;t.R7$(),t.vxM("IMAGE"===l.columnType?1:"CHECKBOX"===l.columnType?2:l.cellTemplate&&l.cellTemplate.length>0?3:4)}}function Ju(c,T){if(1&c&&(t.rj2(0,"tr"),t.Z7z(1,vh,5,1,"td",5,tf),t.eux()),2&c){const l=t.XpG();t.R7$(),t.Dyx(l.columns())}}let Pf=(()=>{class c{columns=R.hFB.required();rows=(0,R.hFB)(10);skeletonRows=(0,ve.EW)(()=>Array(this.rows()).fill(0));static \u0275fac=function(h){return new(h||c)};static \u0275cmp=t.VBU({type:c,selectors:[["app-table-skeleton-loader"]],inputs:{columns:[1,"columns"],rows:[1,"rows"]},decls:9,vars:0,consts:[[1,"overflow-x-auto","border","border-gray-200","rounded-lg"],[1,"min-w-full","border-collapse"],[1,"bg-gray-50"],["scope","col",1,"px-6","py-3","border-b","border-gray-200","text-left"],[1,"h-4","bg-gray-300","rounded","w-3/4","animate-pulse"],[1,"px-6","py-4","whitespace-nowrap","border-t","border-gray-200"],[1,"h-10","w-10","bg-gray-300","rounded-full","animate-pulse"],[1,"h-4","w-4","bg-gray-300","rounded","animate-pulse"],[1,"space-y-2"],[1,"h-4","bg-gray-300","rounded","w-full","animate-pulse"],[1,"h-4","bg-gray-300","rounded","w-5/6","animate-pulse"],[1,"h-3","bg-gray-300","rounded","w-3/4","animate-pulse"]],template:function(h,E){1&h&&(t.rj2(0,"div",0)(1,"table",1)(2,"thead",2)(3,"tr"),t.Z7z(4,Pd,2,0,"th",3,tf),t.eux()(),t.rj2(6,"tbody"),t.Z7z(7,Ju,3,0,"tr",null,t.Vm6),t.eux()()()),2&h&&(t.R7$(4),t.Dyx(E.columns()),t.R7$(3),t.Dyx(E.skeletonRows()))},dependencies:[oe.MD],encapsulation:2,changeDetection:0})}return c})();function Ff(c,T){1&c&&(t.rj2(0,"div",1)(1,"div",2)(2,"div",3),t.Hgh(3,"div",4),t.rj2(4,"div",5),t.Hgh(5,"div",6)(6,"div",7),t.eux()(),t.rj2(7,"div",8),t.Hgh(8,"div",9)(9,"div",10),t.eux()()())}let ap=(()=>{class c{count=(0,R.hFB)(8);skeletonItems=(0,ve.EW)(()=>Array(this.count()).fill(0).map((l,h)=>h));static \u0275fac=function(h){return new(h||c)};static \u0275cmp=t.VBU({type:c,selectors:[["app-card-skeleton-loader"]],inputs:{count:[1,"count"]},decls:3,vars:0,consts:[[1,"grid","grid-cols-1","sm:grid-cols-2","lg:grid-cols-3","xl:grid-cols-4","gap-6","animate-pulse"],[1,"border","border-gray-200","rounded-lg","overflow-hidden"],[1,"p-5"],[1,"flex","items-center","gap-4"],[1,"h-12","w-12","bg-gray-300","rounded-full"],[1,"flex-1","space-y-2"],[1,"h-4","bg-gray-300","rounded","w-3/4"],[1,"h-3","bg-gray-300","rounded","w-1/2"],[1,"space-y-4","mt-6"],[1,"h-3","bg-gray-300","rounded","w-full"],[1,"h-3","bg-gray-300","rounded","w-5/6"]],template:function(h,E){1&h&&(t.rj2(0,"div",0),t.Z7z(1,Ff,10,0,"div",1,t.fX1),t.eux()),2&h&&(t.R7$(),t.Dyx(E.skeletonItems()))},dependencies:[oe.MD],encapsulation:2,changeDetection:0})}return c})();function nf(c,T){1&c&&(t.rj2(0,"li",2)(1,"div",3),t.Hgh(2,"div",4),t.rj2(3,"div",5),t.Hgh(4,"div",6)(5,"div",7),t.eux(),t.Hgh(6,"div",8),t.eux()())}let Nf=(()=>{class c{count=(0,R.hFB)(10);skeletonItems=(0,ve.EW)(()=>Array(this.count()).fill(0).map((l,h)=>h));static \u0275fac=function(h){return new(h||c)};static \u0275cmp=t.VBU({type:c,selectors:[["app-list-skeleton-loader"]],inputs:{count:[1,"count"]},decls:4,vars:0,consts:[[1,"border","border-gray-200","rounded-lg"],[1,"divide-y","divide-gray-200"],[1,"p-4","animate-pulse"],[1,"flex","items-center"],[1,"h-10","w-10","bg-gray-300","rounded-full","mr-4","flex-shrink-0"],[1,"flex-1","min-w-0","space-y-2"],[1,"h-4","bg-gray-300","rounded","w-2/5"],[1,"h-3","bg-gray-300","rounded","w-3/5"],[1,"ml-4","h-4","bg-gray-300","rounded","w-1/6"]],template:function(h,E){1&h&&(t.rj2(0,"div",0)(1,"ul",1),t.Z7z(2,nf,7,0,"li",2,t.fX1),t.eux()()),2&h&&(t.R7$(2),t.Dyx(E.skeletonItems()))},dependencies:[oe.MD],encapsulation:2,changeDetection:0})}return c})();function rf(c,T,l=0){if(!c||T<=0)return 10;const E=Math.floor((c.clientHeight-l)/T);return Math.max(1,E)}var Of=$(8141),Nd=$(9437),Jl=$(7673),lp=$(1655),Lf=$(8869);function oa(c,T){return new Date(c.getTime()+Math.random()*(T.getTime()-c.getTime())).toISOString()}function ys(c,T){return new Date(c.getTime()+Math.random()*(T.getTime()-c.getTime())).toISOString()}let Bf=(()=>{class c{configService=(0,r.WQX)(Ae);mockData=[{organization_id:1,organization_name:"Innovate Inc.",contact_person:"Alice Johnson",communication_detail:"5550101123",email_id:"alice.j@innovate.com",avatar_url:"https://picsum.photos/seed/1/40/40",annual_revenue:5e6,created_time:oa(new Date(2023,10,1),new Date),last_activity_date:ys(new Date(2024,0,1),new Date),lead_source:"Web"},{organization_id:2,organization_name:"Solutions Corp.",contact_person:"Bob Smith",communication_detail:"5550102456",email_id:"bob.s@solutions.com",avatar_url:"https://picsum.photos/seed/2/40/40",annual_revenue:72e5,created_time:oa(new Date(2023,10,1),new Date),last_activity_date:ys(new Date(2024,0,1),new Date),lead_source:"Organic"},{organization_id:3,organization_name:"Quantum Systems",contact_person:"Charlie Brown",communication_detail:"5550103789",email_id:"charlie.b@quantum.com",avatar_url:"https://picsum.photos/seed/3/40/40",annual_revenue:12e6,created_time:oa(new Date(2023,10,1),new Date),last_activity_date:ys(new Date(2024,0,1),new Date),lead_source:"Referral"},{organization_id:4,organization_name:"Apex Enterprises",contact_person:"Diana Prince",communication_detail:"5550104101",email_id:"diana.p@apex.com",avatar_url:"https://picsum.photos/seed/4/40/40",annual_revenue:35e5,created_time:oa(new Date(2023,10,1),new Date),last_activity_date:ys(new Date(2024,0,1),new Date),lead_source:"Web"},{organization_id:5,organization_name:"Stellar Tech",contact_person:"Ethan Hunt",communication_detail:"5550105112",email_id:"ethan.h@stellar.com",avatar_url:"https://picsum.photos/seed/5/40/40",annual_revenue:98e5,created_time:oa(new Date(2023,10,1),new Date),last_activity_date:ys(new Date(2024,0,1),new Date),lead_source:"Web"},{organization_id:6,organization_name:"Fusion Dynamics",contact_person:"Fiona Glenanne",communication_detail:"5550106131",email_id:"fiona.g@fusion.com",avatar_url:"https://picsum.photos/seed/6/40/40",annual_revenue:21e5,created_time:oa(new Date(2023,10,1),new Date),last_activity_date:ys(new Date(2024,0,1),new Date),lead_source:"Organic"},{organization_id:7,organization_name:"Synergy Group",contact_person:"George Costanza",communication_detail:"5550107141",email_id:"george.c@synergy.com",avatar_url:"https://picsum.photos/seed/7/40/40",annual_revenue:83e5,created_time:oa(new Date(2023,10,1),new Date),last_activity_date:ys(new Date(2024,0,1),new Date),lead_source:"Referral"},{organization_id:8,organization_name:"Pioneer Labs",contact_person:"Hannah Abbott",communication_detail:"5550108151",email_id:"hannah.a@pioneer.com",avatar_url:"https://picsum.photos/seed/8/40/40",annual_revenue:45e5,created_time:oa(new Date(2023,10,1),new Date),last_activity_date:ys(new Date(2024,0,1),new Date),lead_source:"Web"},{organization_id:9,organization_name:"Vertex Innovations",contact_person:"Ian Malcolm",communication_detail:"5550109161",email_id:"ian.m@vertex.com",avatar_url:"https://picsum.photos/seed/9/40/40",annual_revenue:61e5,created_time:oa(new Date(2023,10,1),new Date),last_activity_date:ys(new Date(2024,0,1),new Date),lead_source:"Organic"},{organization_id:10,organization_name:"Horizon Solutions",contact_person:"Jane Doe",communication_detail:"5550110171",email_id:"jane.d@horizon.com",avatar_url:"https://picsum.photos/seed/10/40/40",annual_revenue:15e6,created_time:oa(new Date(2023,10,1),new Date),last_activity_date:ys(new Date(2024,0,1),new Date),lead_source:"Referral"},{organization_id:11,organization_name:"Global Connect",contact_person:"Kara Danvers",communication_detail:"5550111181",email_id:"kara.d@global.com",avatar_url:"https://picsum.photos/seed/11/40/40",annual_revenue:112e5,created_time:oa(new Date(2023,10,1),new Date),last_activity_date:ys(new Date(2024,0,1),new Date),lead_source:"Web"},{organization_id:12,organization_name:"Nexus Platforms",contact_person:"Leo Fitz",communication_detail:"5550112191",email_id:"leo.f@nexus.com",avatar_url:"https://picsum.photos/seed/12/40/40",annual_revenue:78e5,created_time:oa(new Date(2023,10,1),new Date),last_activity_date:ys(new Date(2024,0,1),new Date),lead_source:"Organic"},{organization_id:13,organization_name:"Momentum Works",contact_person:"Monica Geller",communication_detail:"5550113202",email_id:"monica.g@momentum.com",avatar_url:"https://picsum.photos/seed/13/40/40",annual_revenue:49e5,created_time:oa(new Date(2023,10,1),new Date),last_activity_date:ys(new Date(2024,0,1),new Date),lead_source:"Referral"},{organization_id:14,organization_name:"Omega Industries",contact_person:"Ned Stark",communication_detail:"5550114212",email_id:"ned.s@omega.com",avatar_url:"https://picsum.photos/seed/14/40/40",annual_revenue:25e6,created_time:oa(new Date(2023,10,1),new Date),last_activity_date:ys(new Date(2024,0,1),new Date),lead_source:"Web"},{organization_id:15,organization_name:"Zenith Tech",contact_person:"Oscar Martinez",communication_detail:"5550115222",email_id:"oscar.m@zenith.com",avatar_url:"https://picsum.photos/seed/15/40/40",annual_revenue:33e5,created_time:oa(new Date(2023,10,1),new Date),last_activity_date:ys(new Date(2024,0,1),new Date),lead_source:"Organic"},{organization_id:16,organization_name:"Apex Solutions",contact_person:"Pam Beesly",communication_detail:"5550116232",email_id:"pam.b@apex.com",avatar_url:"https://picsum.photos/seed/16/40/40",annual_revenue:56e5,created_time:oa(new Date(2023,10,1),new Date),last_activity_date:ys(new Date(2024,0,1),new Date),lead_source:"Referral"},{organization_id:17,organization_name:"Quantum Dynamics",contact_person:"Quinn Fabray",communication_detail:"5550117242",email_id:"quinn.f@quantum.com",avatar_url:"https://picsum.photos/seed/17/40/40",annual_revenue:135e5,created_time:oa(new Date(2023,10,1),new Date),last_activity_date:ys(new Date(2024,0,1),new Date),lead_source:"Web"},{organization_id:18,organization_name:"Stellar Innovations",contact_person:"Rachel Green",communication_detail:"5550118252",email_id:"rachel.g@stellar.com",avatar_url:"https://picsum.photos/seed/18/40/40",annual_revenue:88e5,created_time:oa(new Date(2023,10,1),new Date),last_activity_date:ys(new Date(2024,0,1),new Date),lead_source:"Organic"},{organization_id:19,organization_name:"Fusion Solutions",contact_person:"Sam Winchester",communication_detail:"5550119262",email_id:"sam.w@fusion.com",avatar_url:"https://picsum.photos/seed/19/40/40",annual_revenue:18e5,created_time:oa(new Date(2023,10,1),new Date),last_activity_date:ys(new Date(2024,0,1),new Date),lead_source:"Referral"},{organization_id:20,organization_name:"Synergy Systems",contact_person:"Ted Mosby",communication_detail:"5550120272",email_id:"ted.m@synergy.com",avatar_url:"https://picsum.photos/seed/20/40/40",annual_revenue:67e5,created_time:oa(new Date(2023,10,1),new Date),last_activity_date:ys(new Date(2024,0,1),new Date),lead_source:"Web"},{organization_id:21,organization_name:"Pioneer Enterprises",contact_person:"Uma Thurman",communication_detail:"5550121282",email_id:"uma.t@pioneer.com",avatar_url:"https://picsum.photos/seed/21/40/40",annual_revenue:41e5,created_time:oa(new Date(2023,10,1),new Date),last_activity_date:ys(new Date(2024,0,1),new Date),lead_source:"Organic"},{organization_id:22,organization_name:"Vertex Corp.",contact_person:"Victor Vance",communication_detail:"5550122292",email_id:"victor.v@vertex.com",avatar_url:"https://picsum.photos/seed/22/40/40",annual_revenue:73e5,created_time:oa(new Date(2023,10,1),new Date),last_activity_date:ys(new Date(2024,0,1),new Date),lead_source:"Referral"},{organization_id:23,organization_name:"Horizon Labs",contact_person:"Walter White",communication_detail:"5550123303",email_id:"walter.w@horizon.com",avatar_url:"https://picsum.photos/seed/23/40/40",annual_revenue:17e6,created_time:oa(new Date(2023,10,1),new Date),last_activity_date:ys(new Date(2024,0,1),new Date),lead_source:"Web"},...Array.from({length:5e3},(l,h)=>({organization_id:24+h,organization_name:`Test Corp ${h+1}`,contact_person:`Person ${h+1}`,communication_detail:`55502${(h+1).toString().padStart(5,"0")}`,email_id:`person.${h+1}@test.com`,avatar_url:`https://picsum.photos/seed/${24+h}/40/40`,annual_revenue:Math.floor(1e7*Math.random())+1e5,created_time:oa(new Date(2023,10,1),new Date),last_activity_date:ys(new Date(2024,0,1),new Date),lead_source:["Web","Organic","Referral"][h%3]}))];getData(l){let h=[...this.mockData];const E=this.configService.config().config.globalFilterFields;if(l.search_filters.length>0&&(h=h.filter(Rt=>l.search_filters.every(Zt=>{if(!Zt.parameter_code||!Zt.parameter_value)return!0;const Yt=Zt.parameter_value.toLowerCase();if("GS"===Zt.parameter_code){const ai=this.configService.config().columns.filter(Jr=>"DATE"===Jr.columnType).map(Jr=>Jr.code),Pn=Yt.split(" to ");let Dn=!1,br=null,Dr=null;if(2===Pn.length){const Jr=new Date(Pn[0].trim()),Or=new Date(Pn[1].trim());!isNaN(Jr.getTime())&&!isNaN(Or.getTime())&&(Dn=!0,br=Jr,Dr=Or,Dr.setHours(23,59,59,999))}return E&&E.length>0?E.some(Jr=>{const Or=Rt[Jr];if(!Or)return!1;if(ai.includes(Jr)){const Oi=new Date(Or);return!isNaN(Oi.getTime())&&(Dn?Oi>=br&&Oi<=Dr:String(Or).toLowerCase().includes(Yt))}return String(Or).toLowerCase().includes(Yt)}):String(Rt.organization_name||"").toLowerCase().includes(Yt)||String(Rt.contact_person||"").toLowerCase().includes(Yt)||String(Rt.communication_detail||"").toLowerCase().includes(Yt)||String(Rt.email_id||"").toLowerCase().includes(Yt)||String(Rt.created_time||"").toLowerCase().includes(Yt)}if("DATE"===this.configService.config().columns.find(ai=>ai.code===Zt.parameter_code)?.columnType){const ai=Rt[Zt.parameter_code];if(!ai)return!1;const Pn=new Date(ai);if(isNaN(Pn.getTime()))return!1;if(Pn.setUTCHours(0,0,0,0),"BETWEEN"===Zt.wildcard_operator){if(!Zt.parameter_value.includes(","))return!1;const[Dn,br]=Zt.parameter_value.split(","),Dr=new Date(Dn+"T00:00:00Z"),Jr=new Date(br+"T00:00:00Z");return!isNaN(Dr.getTime())&&!isNaN(Jr.getTime())&&(Jr.setUTCHours(23,59,59,999),Pn>=Dr&&Pn<=Jr)}if("EXACT"===Zt.wildcard_operator){const Dn=new Date(Zt.parameter_value+"T00:00:00Z");return!isNaN(Dn.getTime())&&Pn.getTime()===Dn.getTime()}return!1}const jr=String(Rt[Zt.parameter_code]||"").toLowerCase();return Yt.includes(",")?Yt.split(",").includes(jr):jr.includes(Yt)}))),l.sort_column.length>0){const Rt=l.sort_column[0];h.sort((Zt,Yt)=>{const Mn=Zt[Rt.coloum_id],jr=Yt[Rt.coloum_id];return Mn<jr?"asc"===Rt.short_type?-1:1:Mn>jr?"asc"===Rt.short_type?1:-1:0})}const P=h.length,te=Number(l.page_number),Fe=Number(l.page_size),Qe=(te-1)*Fe,ut=h.slice(Qe,Qe+Fe);return(0,Jl.of)({data:ut,total_records:P}).pipe((0,lp.c)(500))}static \u0275fac=function(h){return new(h||c)};static \u0275prov=r.jDH({token:c,factory:c.\u0275fac,providedIn:"root"})}return c})();var Vf=$(6648),yh=$(6354),a=$(4096);let s=(()=>{class c extends a.Ay{contacts;constructor(){super(`${(0,r.WQX)(Ae).config().feature}_DB`),this.version(2).stores({contacts:"++organization_id, organization_name, contact_person, communication_detail, email_id, annual_revenue, created_time, lead_source"})}static \u0275fac=function(h){return new(h||c)};static \u0275prov=r.jDH({token:c,factory:c.\u0275fac,providedIn:"root"})}return c})();var f=$(1471);let _=(()=>{class c{configService=(0,r.WQX)(Ae);config=this.configService.config().config;isEnabled(){return this.config.encryptionConfig?.enabled??!1}getSecretKey(){return this.config.encryptionConfig?.secretKey||"default-secret"}getEncryptedFields(){return this.config.encryptionConfig?.encryptedFields||[]}encryptRecord(l){if(!this.isEnabled())return l;const h={...l},E=this.getEncryptedFields(),P=this.getSecretKey();for(const te of E)h[te]&&(h[te]=f.AES.encrypt(h[te],P).toString());return h}decryptRecord(l){if(!this.isEnabled())return l;const h={...l},E=this.getEncryptedFields(),P=this.getSecretKey();for(const te of E)if(h[te])try{const Fe=f.AES.decrypt(h[te],P);h[te]=Fe.toString(f.enc.Utf8)}catch(Fe){console.error(`Failed to decrypt field '${te}' for record ID ${l.organization_id}. It might not be encrypted.`,Fe)}return h}static \u0275fac=function(h){return new(h||c)};static \u0275prov=r.jDH({token:c,factory:c.\u0275fac,providedIn:"root"})}return c})(),w=(()=>{class c{db=(0,r.WQX)(s);encryptionService=(0,r.WQX)(_);configService=(0,r.WQX)(Ae);bulkUpsert(l){const h=l.map(E=>this.encryptionService.encryptRecord(E));return(0,Vf.H)(this.db.contacts.bulkPut(h)).pipe((0,yh.T)(()=>{}))}getData(l){const{page_number:h,page_size:E,sort_column:P,search_filters:te}=l,Fe=this.configService.config().config.globalFilterFields;let Qe;if(P.length>0&&P[0].coloum_id){const{coloum_id:ai,short_type:Pn}=P[0];Qe=this.db.contacts.orderBy(ai),"desc"===Pn&&(Qe=Qe.reverse())}else Qe=this.db.contacts.toCollection();te.length>0&&(Qe=Qe.filter(ai=>{const Pn=this.encryptionService.decryptRecord(ai);return te.every(Dn=>{if(!Dn.parameter_code||!Dn.parameter_value)return!0;const br=Dn.parameter_value.toLowerCase();if("GS"===Dn.parameter_code){const Or=this.configService.config().columns.filter(Ki=>"DATE"===Ki.columnType).map(Ki=>Ki.code),Oi=br.split(" to ");let Go=!1,is=null,la=null;if(2===Oi.length){const Ki=new Date(Oi[0].trim()),Wr=new Date(Oi[1].trim());!isNaN(Ki.getTime())&&!isNaN(Wr.getTime())&&(Go=!0,is=Ki,la=Wr,la.setHours(23,59,59,999))}return Fe&&Fe.length>0?Fe.some(Ki=>{const Wr=Pn[Ki];if(!Wr)return!1;if(Or.includes(Ki)){const qo=new Date(Wr);return!isNaN(qo.getTime())&&(Go?qo>=is&&qo<=la:String(Wr).toLowerCase().includes(br))}return String(Wr).toLowerCase().includes(br)}):String(Pn.organization_name||"").toLowerCase().includes(br)||String(Pn.contact_person||"").toLowerCase().includes(br)||String(Pn.communication_detail||"").toLowerCase().includes(br)||String(Pn.email_id||"").toLowerCase().includes(br)||String(Pn.created_time||"").toLowerCase().includes(br)}if("DATE"===this.configService.config().columns.find(Or=>Or.code===Dn.parameter_code)?.columnType){const Or=Pn[Dn.parameter_code];if(!Or)return!1;const Oi=new Date(Or);if(isNaN(Oi.getTime()))return!1;if(Oi.setUTCHours(0,0,0,0),"BETWEEN"===Dn.wildcard_operator){if(!Dn.parameter_value.includes(","))return!1;const[Go,is]=Dn.parameter_value.split(","),la=new Date(Go+"T00:00:00Z"),Ki=new Date(is+"T00:00:00Z");return!isNaN(la.getTime())&&!isNaN(Ki.getTime())&&(Ki.setUTCHours(23,59,59,999),Oi>=la&&Oi<=Ki)}if("EXACT"===Dn.wildcard_operator){const Go=new Date(Dn.parameter_value+"T00:00:00Z");return!isNaN(Go.getTime())&&Oi.getTime()===Go.getTime()}return!1}const Jr=String(Pn[Dn.parameter_code]||"").toLowerCase();return br.includes(",")?br.split(",").includes(Jr):Jr.includes(br)})}));const ut=Qe.count(),Rt=Number(h),Zt=Number(E),Mn=Qe.offset((Rt-1)*Zt).limit(Zt).toArray(),jr=Promise.all([ut,Mn]).then(([ai,Pn])=>({data:Pn.map(br=>this.encryptionService.decryptRecord(br)),total_records:ai}));return(0,Vf.H)(jr)}static \u0275fac=function(h){return new(h||c)};static \u0275prov=r.jDH({token:c,factory:c.\u0275fac,providedIn:"root"})}return c})(),k=(()=>{class c{status=(0,r.vPA)("Connecting");setOnline(){this.status.set("Online")}setConnecting(){this.status.set("Connecting")}setOffline(){this.status.set("Offline")}static \u0275fac=function(h){return new(h||c)};static \u0275prov=r.jDH({token:c,factory:c.\u0275fac,providedIn:"root"})}return c})(),H=(()=>{class c{configService=(0,r.WQX)(Ae);onlineDataService=(0,r.WQX)(Bf);offlineDataService=(0,r.WQX)(w);connectionStatusService=(0,r.WQX)(k);rowContactDataService=(0,r.WQX)(Lf.oX);rowContactSyncHandler=(0,r.WQX)(Lf.QU);syncManager=(0,r.WQX)(Lf.o7);getData(l){const h=this.configService.config(),E=h.config.dataStrategy;if("RowContact"===h.key||"RowContact"===h.feature)return this.rowContactDataService.getData(l);switch(E){case"ONLINE_FIRST":return console.log("[DataManager] Using ONLINE_FIRST strategy."),this.connectionStatusService.setConnecting(),this.onlineDataService.getData(l).pipe((0,Of.M)(()=>this.connectionStatusService.setOnline()),(0,Nd.W)(P=>(console.warn("[DataManager] ONLINE_FIRST failed, falling back to offline.",P),this.connectionStatusService.setOffline(),this.offlineDataService.getData(l))));case"OFFLINE_FIRST":return console.log("[DataManager] Using OFFLINE_FIRST strategy."),this.offlineDataService.getData(l);case"HYBRID":return console.log("[DataManager] Using HYBRID strategy."),this.connectionStatusService.setConnecting(),this.onlineDataService.getData(l).pipe((0,Of.M)(P=>{console.log("[DataManager] HYBRID: Fetched online, updating local DB in background."),this.connectionStatusService.setOnline(),this.offlineDataService.bulkUpsert(P.data).subscribe({next:()=>console.log("[DataManager] HYBRID: Local DB updated successfully."),error:te=>console.error("[DataManager] HYBRID: Error updating local DB.",te)})}),(0,Nd.W)(P=>(console.warn("[DataManager] HYBRID: Online fetch failed, falling back to offline.",P),this.connectionStatusService.setOffline(),this.offlineDataService.getData(l))));case"SYNC":return console.log("[DataManager] Using SYNC strategy (reading from local DB)."),this.offlineDataService.getData(l);default:return console.warn(`[DataManager] Unknown data strategy: ${E}. Defaulting to ONLINE_FIRST.`),this.connectionStatusService.setConnecting(),this.onlineDataService.getData(l).pipe((0,Of.M)(()=>this.connectionStatusService.setOnline()),(0,Nd.W)(P=>(this.connectionStatusService.setOffline(),this.offlineDataService.getData(l))))}}static \u0275fac=function(h){return new(h||c)};static \u0275prov=r.jDH({token:c,factory:c.\u0275fac,providedIn:"root"})}return c})(),Q=(()=>{class c{constructor(){}logChange(l,h){console.log(`[SyncLogService] Logging action: ${l}`,h)}static \u0275fac=function(h){return new(h||c)};static \u0275prov=r.jDH({token:c,factory:c.\u0275fac,providedIn:"root"})}return c})();var J=$(980);let re=(()=>{class c{onlineDataService=(0,r.WQX)(Bf);offlineDataService=(0,r.WQX)(w);syncLogService=(0,r.WQX)(Q);connectionStatusService=(0,r.WQX)(k);persistenceService=(0,r.WQX)(ke);LAST_SYNC_KEY="smartTableLastSync";isPrimed=(0,r.vPA)(!1);lastSyncTime=(0,r.vPA)(this.persistenceService.loadState(this.LAST_SYNC_KEY));isSyncing=(0,r.vPA)(!1);constructor(){this.lastSyncTime()&&(this.isPrimed.set(!0),console.log("[SyncService] Local data is primed from a previous session."))}startFullSync(){console.log("[SyncService] Starting full sync..."),this.primeDataFromServer()}primeDataFromServer(){this.isSyncing()?console.log("[SyncService] Sync already in progress."):(console.log("[SyncService] Starting to prime data from server..."),this.isSyncing.set(!0),this.isPrimed.set(!1),this.connectionStatusService.setConnecting(),this.onlineDataService.getData({page_number:1,page_size:5e3,search_filters:[],sort_column:[]}).pipe((0,J.j)(()=>{this.isSyncing.set(!1),console.log("[SyncService] Data priming finished.")})).subscribe({next:h=>{console.log(`[SyncService] Fetched ${h.data.length} records from server.`),this.offlineDataService.bulkUpsert(h.data).subscribe(()=>{console.log("[SyncService] Successfully saved records to local DB.");const E=Date.now();this.lastSyncTime.set(E),this.persistenceService.saveState(this.LAST_SYNC_KEY,E),this.isPrimed.set(!0)}),this.connectionStatusService.setOnline()},error:h=>{console.error("[SyncService] Error priming data from server:",h),this.connectionStatusService.setOffline()}}))}pushLocalChanges(){console.log("[SyncService] Pushing local changes to server...")}pullRemoteChanges(){console.log("[SyncService] Pulling remote changes from server...")}static \u0275fac=function(h){return new(h||c)};static \u0275prov=r.jDH({token:c,factory:c.\u0275fac,providedIn:"root"})}return c})(),Y=(()=>{class c{ai=(0,r.WQX)(Vu).ai;generateFilterFromQuery(l,h){var E=this;return(0,L.A)(function*(){const P=h.map(ut=>({name:ut.name,code:ut.code,type:ut.columnType||"TEXT"})),te=`You are an AI assistant for a data table. Your task is to interpret the user's query and generate a JSON object with filtering instructions and a conversational response.\n    1. If the query is a command to filter or search the data, generate the appropriate filter objects.\n    2. If the query is a general question, set both 'globalSearch' and 'advancedFilters' to null and provide a helpful answer in 'aiResponse'.\n    \n    The JSON object must have these properties: 'globalSearch' (string | null), 'advancedFilters' (array of filter objects | null), and 'aiResponse' (string).\n    - Use 'globalSearch' for general, non-specific text searches (e.g., names, companies).\n    - Use 'advancedFilters' for specific, structured conditions.\n    - 'globalSearch' and 'advancedFilters' should be mutually exclusive. Set one to a value and the other to null.\n    \n    FILTERING RULES:\n    - Multiple Conditions: For queries with multiple conditions (e.g., "web leads with revenue over 1M"), provide an array of filter objects in 'advancedFilters'.\n    - Date Queries: Interpret relative dates (e.g., 'last month', 'yesterday') and return them in YYYY-MM-DD format. Use the 'between' operator for date ranges.\n    - Supported operators for numeric/text are: '=', '!=', '>', '<', '>=', '<=', 'contains', 'between'.\n\n    Available columns for filtering: ${JSON.stringify(P)}\n    \n    User Query: "${l}"\n\n    Example 1 (Global Search):\n    Query: "find contacts at Innovate Inc."\n    Response: { "globalSearch": "Innovate Inc.", "advancedFilters": null, "aiResponse": "Sure, I'm now showing contacts from Innovate Inc." }\n\n    Example 2 (Structured Filter):\n    Query: "show me who has more than 5M revenue"\n    Response: { "globalSearch": null, "advancedFilters": [{ "code": "annual_revenue", "name": "Annual Revenue", "type": "numeric", "operator": ">", "value1": "5000000" }], "aiResponse": "Okay, I've filtered for contacts with annual revenue greater than 5,000,000." }\n    \n    Example 3 (Multiple Conditions):\n    Query: "find web leads with revenue over 1 million"\n    Response: { "globalSearch": null, "advancedFilters": [{ "code": "lead_source", "name": "Lead Source", "type": "select", "operator": "=", "value1": "Web" }, { "code": "annual_revenue", "name": "Annual Revenue", "type": "numeric", "operator": ">", "value1": "1000000" }], "aiResponse": "Filtering for web leads with revenue over 1M." }\n\n    Example 4 (Date Range):\n    Query: "show contacts created last month"\n    Response: { "globalSearch": null, "advancedFilters": [{ "code": "created_time", "name": "Created", "type": "date", "operator": "between", "value1": "2024-07-01", "value2": "2024-07-31"}], "aiResponse": "Showing contacts created last month." }\n    \n    Example 5 (Question):\n    Query: "how many contacts are there?"\n    Response: { "globalSearch": null, "advancedFilters": null, "aiResponse": "I can't count the contacts, but I can help you filter them. For example, you can ask me to show contacts from a specific company." }\n    `,Qe=(yield E.ai.models.generateContent({model:"gemini-2.5-flash",contents:te,config:{responseMimeType:"application/json",responseSchema:{type:kr.ZU.OBJECT,properties:{globalSearch:{type:kr.ZU.STRING,nullable:!0},advancedFilters:{type:kr.ZU.ARRAY,nullable:!0,items:{type:kr.ZU.OBJECT,properties:{code:{type:kr.ZU.STRING},name:{type:kr.ZU.STRING},type:{type:kr.ZU.STRING,enum:["numeric","text","date","select"]},operator:{type:kr.ZU.STRING},value1:{type:kr.ZU.STRING},value2:{type:kr.ZU.STRING,nullable:!0}},required:["code","name","type","operator","value1"]}},aiResponse:{type:kr.ZU.STRING}},required:["globalSearch","advancedFilters","aiResponse"]}}})).text.trim();return JSON.parse(Qe)})()}static \u0275fac=function(h){return new(h||c)};static \u0275prov=r.jDH({token:c,factory:c.\u0275fac,providedIn:"root"})}return c})();const fe=["chatInput"];function $e(c,T){if(1&c&&(t.rj2(0,"div",17),t.EFF(1),t.eux()),2&c){const l=t.XpG().$implicit;t.R7$(),t.SpI(" ",l.text," ")}}function Ne(c,T){if(1&c&&(t.rj2(0,"div",18)(1,"div",19)(2,"p",20),t.EFF(3),t.eux()()()),2&c){const l=t.XpG().$implicit;t.R7$(3),t.JRh(l.text)}}function vn(c,T){if(1&c&&(t.rj2(0,"div",11)(1,"div",21),t.Hgh(2,"p",22),t.eux()()),2&c){const l=t.XpG().$implicit;t.R7$(2),t.Avn("innerHTML",l.text.replace(/\n/g,"<br>"),t.npT)}}function rr(c,T){if(1&c&&t.nVh(0,$e,2,1,"div",17)(1,Ne,4,1,"div",18)(2,vn,3,1,"div",11),2&c){let l;t.vxM("system"===(l=T.$implicit.sender)?0:"user"===l?1:"ai"===l?2:-1)}}function Rn(c,T){1&c&&(t.rj2(0,"div",11)(1,"div",23)(2,"div",24),t.Hgh(3,"span",25)(4,"span",26)(5,"span",27),t.eux()()())}let pr=(()=>{class c{data=R.hFB.required();columns=R.hFB.required();close=(0,R.CGW)();filterApplied=(0,R.CGW)();aiChatbotService=(0,r.WQX)(Y);messages=(0,r.vPA)([{sender:"system",text:"Ask me anything or tell me how to filter the data."}]);isLoading=(0,r.vPA)(!1);chatInput=(0,R.ebz)("chatInput");sendMessage(){var l=this;return(0,L.A)(function*(){const h=l.chatInput()?.nativeElement;if(!h||!h.value.trim()||l.isLoading())return;const E=h.value.trim();h.value="",l.messages.update(P=>[...P,{sender:"user",text:E}]),l.isLoading.set(!0);try{const P=yield l.aiChatbotService.generateFilterFromQuery(E,l.columns());l.messages.update(te=>[...te,{sender:"ai",text:P.aiResponse}]),(P.globalSearch||P.advancedFilters&&P.advancedFilters.length>0)&&(l.filterApplied.emit({globalSearch:P.globalSearch,advancedFilters:P.advancedFilters}),setTimeout(()=>l.close.emit(),1e3))}catch(P){console.error("Error querying AI:",P);const te="Sorry, I encountered an error. Please try again.";l.messages.update(Fe=>[...Fe,{sender:"system",text:te}])}finally{l.isLoading.set(!1)}})()}static \u0275fac=function(h){return new(h||c)};static \u0275cmp=t.VBU({type:c,selectors:[["app-ai-chatbot"]],viewQuery:function(h,E){1&h&&t.wEZ(E.chatInput,fe,5),2&h&&t.NyB()},inputs:{data:[1,"data"],columns:[1,"columns"]},outputs:{close:"close",filterApplied:"filterApplied"},decls:20,vars:3,consts:[["chatInput",""],[1,"fixed","bottom-20","right-8","w-96","h-[60vh]","max-h-[700px]","bg-white","rounded-lg","shadow-2xl","z-50","flex","flex-col","border","border-gray-200"],[1,"flex","items-center","justify-between","p-3","border-b","border-gray-200","flex-shrink-0"],[1,"flex","items-center","gap-3"],[1,"p-1.5","bg-indigo-100","rounded-full"],[1,"pi","pi-sparkles","text-indigo-600"],[1,"text-md","font-semibold","text-gray-800"],["title","Close Chat",1,"p-2","rounded-full","text-gray-500","hover:text-gray-700","hover:bg-gray-100",3,"click"],[1,"pi","pi-times"],[1,"flex-grow","p-4","overflow-y-auto"],[1,"space-y-4"],[1,"flex","justify-start"],[1,"p-3","border-t","border-gray-200","flex-shrink-0"],[1,"flex","items-center","gap-2"],["type","text","placeholder","Type your question...",1,"flex-1","w-full","px-3","py-2","text-sm","border","border-gray-300","rounded-md","bg-white","focus:ring-indigo-500","focus:border-indigo-500","disabled:opacity-50",3,"keydown.enter","disabled"],[1,"px-4","py-2","text-sm","font-medium","text-white","bg-indigo-600","border","border-transparent","rounded-md","hover:bg-indigo-700","focus:outline-none","focus:ring-2","focus:ring-offset-2","focus:ring-indigo-500","disabled:opacity-50","disabled:cursor-not-allowed",3,"click","disabled"],[1,"pi","pi-send"],[1,"text-center","text-xs","text-gray-500","italic"],[1,"flex","justify-end"],[1,"bg-indigo-600","text-white","rounded-lg","rounded-br-none","py-2","px-3","max-w-xs"],[1,"text-sm"],[1,"bg-gray-200","text-gray-800","rounded-lg","rounded-bl-none","py-2","px-3","max-w-xs"],[1,"text-sm",3,"innerHTML"],[1,"bg-gray-200","rounded-lg","rounded-bl-none","py-2","px-3"],[1,"flex","items-center","space-x-1"],[1,"h-2","w-2","bg-indigo-400","rounded-full","animate-pulse","[animation-delay:-0.3s]"],[1,"h-2","w-2","bg-indigo-400","rounded-full","animate-pulse","[animation-delay:-0.15s]"],[1,"h-2","w-2","bg-indigo-400","rounded-full","animate-pulse"]],template:function(h,E){if(1&h){const P=t.RV6();t.rj2(0,"div",1)(1,"header",2)(2,"div",3)(3,"div",4),t.Hgh(4,"i",5),t.eux(),t.rj2(5,"h2",6),t.EFF(6,"AI Assistant"),t.eux()(),t.rj2(7,"button",7),t.VwU("click",function(){return r.eBV(P),r.Njj(E.close.emit())}),t.Hgh(8,"i",8),t.eux()(),t.rj2(9,"div",9)(10,"div",10),t.Z7z(11,rr,3,1,null,null,t.Vm6),t.nVh(13,Rn,6,0,"div",11),t.eux()(),t.rj2(14,"footer",12)(15,"div",13)(16,"input",14,0),t.VwU("keydown.enter",function(){return r.eBV(P),r.Njj(E.sendMessage())}),t.eux(),t.rj2(18,"button",15),t.VwU("click",function(){return r.eBV(P),r.Njj(E.sendMessage())}),t.Hgh(19,"i",16),t.eux()()()()}2&h&&(t.R7$(11),t.Dyx(E.messages()),t.R7$(2),t.vxM(E.isLoading()?13:-1),t.R7$(3),t.Avn("disabled",E.isLoading()),t.R7$(2),t.Avn("disabled",E.isLoading()))},dependencies:[oe.MD],encapsulation:2,changeDetection:0})}return c})(),cr=(()=>{class c{STORAGE_KEY="smartTableSavedQueries";getQueriesFromStorage(){try{const l=localStorage.getItem(this.STORAGE_KEY);return l?JSON.parse(l):[]}catch(l){return console.error("Error reading saved queries from localStorage",l),[]}}saveQueriesToStorage(l){try{localStorage.setItem(this.STORAGE_KEY,JSON.stringify(l))}catch(h){console.error("Error saving queries to localStorage",h)}}getSavedQueries(){return(0,Jl.of)(this.getQueriesFromStorage())}saveQuery(l,h){const E=this.getQueriesFromStorage(),P={id:(new Date).toISOString(),name:l,state:h};return E.push(P),this.saveQueriesToStorage(E),(0,Jl.of)(P)}deleteQuery(l){let h=this.getQueriesFromStorage();return h=h.filter(E=>E.id!==l),this.saveQueriesToStorage(h),(0,Jl.of)(void 0)}static \u0275fac=function(h){return new(h||c)};static \u0275prov=r.jDH({token:c,factory:c.\u0275fac,providedIn:"root"})}return c})();function $r(c,T){if(1&c){const l=t.RV6();t.rj2(0,"div",2),t.VwU("click",function(){r.eBV(l);const E=t.XpG();return r.Njj(E.close.emit())}),t.rj2(1,"div",3),t.VwU("click",function(E){return r.eBV(l),r.Njj(E.stopPropagation())}),t.rj2(2,"header",4)(3,"h3",5),t.EFF(4,"Save Current View"),t.eux(),t.rj2(5,"button",6),t.VwU("click",function(){r.eBV(l);const E=t.XpG();return r.Njj(E.close.emit())}),t.Hgh(6,"i",7),t.eux()(),t.rj2(7,"div",8)(8,"label",9),t.EFF(9,"View Name"),t.eux(),t.rj2(10,"input",10,0),t.VwU("input",function(){r.eBV(l);const E=t.sdS(11),P=t.XpG();return r.Njj(P.queryName.set(E.value))})("keydown.enter",function(){r.eBV(l);const E=t.XpG();return r.Njj(E.handleSave())}),t.eux()(),t.rj2(12,"footer",11)(13,"button",12),t.VwU("click",function(){r.eBV(l);const E=t.XpG();return r.Njj(E.close.emit())}),t.EFF(14,"Cancel"),t.eux(),t.rj2(15,"button",13),t.VwU("click",function(){r.eBV(l);const E=t.XpG();return r.Njj(E.handleSave())}),t.EFF(16,"Save"),t.eux()()()()}if(2&c){const l=t.XpG();t.R7$(10),t.Avn("value",l.queryName()),t.R7$(5),t.Avn("disabled",!l.queryName().trim())}}let ri=(()=>{class c{isOpen=R.hFB.required();close=(0,R.CGW)();save=(0,R.CGW)();queryName=(0,r.vPA)("");handleSave(){const l=this.queryName().trim();l&&(this.save.emit(l),this.close.emit())}static \u0275fac=function(h){return new(h||c)};static \u0275cmp=t.VBU({type:c,selectors:[["app-save-query-modal"]],inputs:{isOpen:[1,"isOpen"]},outputs:{close:"close",save:"save"},decls:1,vars:1,consts:[["queryNameInput",""],[1,"fixed","inset-0","bg-gray-900/60","flex","items-center","justify-center","z-50"],[1,"fixed","inset-0","bg-gray-900/60","flex","items-center","justify-center","z-50",3,"click"],[1,"bg-white","rounded-lg","shadow-xl","w-full","max-w-md","m-4",3,"click"],[1,"flex","items-center","justify-between","p-4","border-b","border-gray-200"],[1,"text-lg","font-semibold"],[1,"p-2","rounded-full","hover:bg-gray-100",3,"click"],[1,"pi","pi-times"],[1,"p-6"],["for","queryName",1,"block","text-sm","font-medium","text-gray-700"],["type","text","id","queryName","placeholder","e.g., 'High-Revenue Web Leads'",1,"mt-1","block","w-full","text-sm","rounded-md","border-gray-300","shadow-sm","focus:border-indigo-500","focus:ring-indigo-500",3,"input","keydown.enter","value"],[1,"p-4","border-t","border-gray-200","flex","justify-end","gap-3"],[1,"px-4","py-2","text-sm","font-medium","text-gray-700","bg-white","border","border-gray-300","rounded-md","hover:bg-gray-50",3,"click"],[1,"px-4","py-2","text-sm","font-medium","text-white","bg-slate-900","border","border-transparent","rounded-md","hover:bg-slate-800","disabled:opacity-50","disabled:cursor-not-allowed",3,"click","disabled"]],template:function(h,E){1&h&&t.nVh(0,$r,17,2,"div",1),2&h&&t.vxM(E.isOpen()?0:-1)},dependencies:[oe.MD],encapsulation:2,changeDetection:0})}return c})(),Ti=(()=>{class c{STORAGE_KEY="smartTableCustomLayouts";getLayoutsFromStorage(){try{const l=localStorage.getItem(this.STORAGE_KEY);return l?JSON.parse(l):[]}catch(l){return console.error("Error reading custom layouts from localStorage",l),[]}}saveLayoutsToStorage(l){try{localStorage.setItem(this.STORAGE_KEY,JSON.stringify(l))}catch(h){console.error("Error saving layouts to localStorage",h)}}getLayouts(){return(0,Jl.of)(this.getLayoutsFromStorage())}saveLayout(l){const h=this.getLayoutsFromStorage(),E={id:(new Date).toISOString(),...l};return h.push(E),this.saveLayoutsToStorage(h),(0,Jl.of)(E)}deleteLayout(l){let h=this.getLayoutsFromStorage();return h=h.filter(E=>E.id!==l),this.saveLayoutsToStorage(h),(0,Jl.of)(void 0)}static \u0275fac=function(h){return new(h||c)};static \u0275prov=r.jDH({token:c,factory:c.\u0275fac,providedIn:"root"})}return c})();function vi(c,T){if(1&c&&(t.rj2(0,"span",35),t.EFF(1),t.eux(),t.EFF(2," selected ")),2&c){const l=t.XpG(2);t.R7$(),t.JRh(l.fileName())}}function jo(c,T){1&c&&(t.rj2(0,"span"),t.EFF(1,"Upload a file"),t.eux(),t.EFF(2," or drag and drop "))}function $s(c,T){if(1&c){const l=t.RV6();t.rj2(0,"div")(1,"label",27)(2,"div",28)(3,"div",29),t.Hgh(4,"i",30),t.rj2(5,"div",31)(6,"p",32),t.nVh(7,vi,3,1)(8,jo,3,0),t.eux()(),t.rj2(9,"p",33),t.EFF(10,"PNG, JPG, GIF up to 10MB"),t.eux()()()(),t.rj2(11,"input",34),t.VwU("change",function(E){r.eBV(l);const P=t.XpG();return r.Njj(P.handleFileChange(E))}),t.eux()()}if(2&c){const l=t.XpG();t.R7$(7),t.vxM(l.fileName()?7:8)}}function za(c,T){if(1&c){const l=t.RV6();t.rj2(0,"div")(1,"textarea",36,2),t.VwU("input",function(){r.eBV(l);const E=t.sdS(2),P=t.XpG();return r.Njj(P.htmlPrompt.set(E.value))}),t.eux(),t.rj2(3,"p",37),t.EFF(4,"Provide a simple HTML structure. The AI will add styling and map the data fields."),t.eux()()}if(2&c){const l=t.XpG();t.R7$(),t.Avn("placeholder","e.g., <div><h2>{{ organization_name }}</h2></div>")("value",l.htmlPrompt())}}let Ni=(()=>{class c{close=(0,R.CGW)();generate=(0,R.CGW)();activeTab=(0,r.vPA)("image");layoutName=(0,r.vPA)("");targetView=(0,r.vPA)("card");htmlPrompt=(0,r.vPA)("");imageBase64=(0,r.vPA)(null);fileName=(0,r.vPA)("");formIsValid=(0,ve.EW)(()=>{const l=this.layoutName().trim().length>0,h="image"===this.activeTab()&&!!this.imageBase64()||"html"===this.activeTab()&&this.htmlPrompt().trim().length>0;return l&&h});handleFileChange(l){const E=l.target.files?.[0];if(E){this.fileName.set(E.name);const P=new FileReader;P.onload=te=>{this.imageBase64.set(te.target?.result)},P.readAsDataURL(E)}}handleGenerate(){if(!this.formIsValid())return;const l={name:this.layoutName().trim(),targetView:this.targetView(),prompt:{}};if("image"===this.activeTab()&&this.imageBase64()){const h=this.imageBase64().split(","),E=h[0].match(/:(.*?);/)?.[1]||"image/jpeg";l.prompt.image={data:h[1],mimeType:E}}else l.prompt.html=this.htmlPrompt();this.generate.emit(l)}static \u0275fac=function(h){return new(h||c)};static \u0275cmp=t.VBU({type:c,selectors:[["app-create-layout-modal"]],outputs:{close:"close",generate:"generate"},decls:46,vars:12,consts:[["nameInput",""],["targetSelect",""],["htmlInput",""],[1,"fixed","inset-0","bg-gray-900/60","flex","items-center","justify-center","z-50",3,"click"],[1,"bg-white","rounded-lg","shadow-xl","w-full","max-w-2xl","m-4","flex","flex-col","max-h-[90vh]",3,"click"],[1,"flex","items-center","justify-between","p-4","border-b","border-gray-200"],[1,"text-lg","font-semibold","flex","items-center","gap-2"],[1,"pi","pi-sparkles","text-indigo-500"],[1,"p-2","rounded-full","hover:bg-gray-100",3,"click"],[1,"pi","pi-times"],[1,"p-6","space-y-6","overflow-y-auto"],[1,"font-medium","text-gray-800","mb-2"],[1,"grid","grid-cols-1","md:grid-cols-2","gap-4"],["for","layoutName",1,"block","text-sm","font-medium","text-gray-700"],["type","text","id","layoutName","placeholder","e.g., 'Modern Contact Card'",1,"mt-1","block","w-full","text-sm","rounded-md","border-gray-300","shadow-sm","focus:border-indigo-500","focus:ring-indigo-500",3,"input","value"],["for","targetView",1,"block","text-sm","font-medium","text-gray-700"],["id","targetView",1,"mt-1","block","w-full","text-sm","rounded-md","border-gray-300","shadow-sm","focus:border-indigo-500","focus:ring-indigo-500",3,"change","value"],["value","card"],["value","list-item"],["value","table-row"],[1,"border-b","border-gray-200"],["aria-label","Tabs",1,"-mb-px","flex","space-x-4"],[1,"border-transparent","text-gray-500","hover:text-gray-700","hover:border-gray-300","whitespace-nowrap","py-3","px-1","border-b-2","font-medium","text-sm",3,"click"],[1,"pt-4"],[1,"p-4","border-t","border-gray-200","flex","justify-end","gap-3"],[1,"px-4","py-2","text-sm","font-medium","text-gray-700","bg-white","border","border-gray-300","rounded-md","hover:bg-gray-50",3,"click"],[1,"px-4","py-2","text-sm","font-medium","text-white","bg-indigo-600","border","border-transparent","rounded-md","hover:bg-indigo-700","disabled:opacity-50","disabled:cursor-not-allowed",3,"click","disabled"],["for","file-upload",1,"relative","cursor-pointer","bg-white","rounded-md","font-medium","text-indigo-600","hover:text-indigo-500"],[1,"mt-1","flex","justify-center","px-6","pt-5","pb-6","border-2","border-gray-300","border-dashed","rounded-md"],[1,"space-y-1","text-center"],[1,"pi","pi-image","mx-auto","h-12","w-12","text-gray-400"],[1,"flex","text-sm","text-gray-600"],[1,"pl-1"],[1,"text-xs","text-gray-500"],["id","file-upload","name","file-upload","type","file","accept","image/*",1,"sr-only",3,"change"],[1,"font-semibold"],["rows","8",1,"block","w-full","text-sm","rounded-md","border-gray-300","shadow-sm","focus:border-indigo-500","focus:ring-indigo-500","font-mono",3,"input","placeholder","value"],[1,"mt-2","text-xs","text-gray-500"]],template:function(h,E){if(1&h){const P=t.RV6();t.rj2(0,"div",3),t.VwU("click",function(){return r.eBV(P),r.Njj(E.close.emit())}),t.rj2(1,"div",4),t.VwU("click",function(Fe){return r.eBV(P),r.Njj(Fe.stopPropagation())}),t.rj2(2,"header",5)(3,"h3",6),t.Hgh(4,"i",7),t.EFF(5,"Create Layout with AI"),t.eux(),t.rj2(6,"button",8),t.VwU("click",function(){return r.eBV(P),r.Njj(E.close.emit())}),t.Hgh(7,"i",9),t.eux()(),t.rj2(8,"div",10)(9,"div")(10,"h4",11),t.EFF(11,"1. Name and Target"),t.eux(),t.rj2(12,"div",12)(13,"div")(14,"label",13),t.EFF(15,"Layout Name"),t.eux(),t.rj2(16,"input",14,0),t.VwU("input",function(){r.eBV(P);const Fe=t.sdS(17);return r.Njj(E.layoutName.set(Fe.value))}),t.eux()(),t.rj2(18,"div")(19,"label",15),t.EFF(20,"Target View"),t.eux(),t.rj2(21,"select",16,1),t.VwU("change",function(){r.eBV(P);const Fe=t.sdS(22);return r.Njj(E.targetView.set(Fe.value))}),t.rj2(23,"option",17),t.EFF(24,"Card"),t.eux(),t.rj2(25,"option",18),t.EFF(26,"List Item"),t.eux(),t.rj2(27,"option",19),t.EFF(28,"Table Row"),t.eux()()()()(),t.rj2(29,"div")(30,"h4",11),t.EFF(31,"2. Provide Design Input"),t.eux(),t.rj2(32,"div",20)(33,"nav",21)(34,"button",22),t.VwU("click",function(){return r.eBV(P),r.Njj(E.activeTab.set("image"))}),t.EFF(35," Upload Image "),t.eux(),t.rj2(36,"button",22),t.VwU("click",function(){return r.eBV(P),r.Njj(E.activeTab.set("html"))}),t.EFF(37," Use HTML "),t.eux()()(),t.rj2(38,"div",23),t.nVh(39,$s,12,1,"div")(40,za,5,2,"div"),t.eux()()(),t.rj2(41,"footer",24)(42,"button",25),t.VwU("click",function(){return r.eBV(P),r.Njj(E.close.emit())}),t.EFF(43,"Cancel"),t.eux(),t.rj2(44,"button",26),t.VwU("click",function(){return r.eBV(P),r.Njj(E.handleGenerate())}),t.EFF(45," Generate "),t.eux()()()()}2&h&&(t.R7$(16),t.Avn("value",E.layoutName()),t.R7$(5),t.Avn("value",E.targetView()),t.R7$(13),t.AVh("border-indigo-500","image"===E.activeTab())("text-indigo-600","image"===E.activeTab()),t.R7$(2),t.AVh("border-indigo-500","html"===E.activeTab())("text-indigo-600","html"===E.activeTab()),t.R7$(3),t.vxM("image"===E.activeTab()?39:40),t.R7$(5),t.Avn("disabled",!E.formIsValid()))},dependencies:[oe.MD],encapsulation:2,changeDetection:0})}return c})();const Mo={type:kr.ZU.OBJECT,properties:{index:{type:kr.ZU.NUMBER},name:{type:kr.ZU.STRING},code:{type:kr.ZU.STRING},display:{type:kr.ZU.STRING},columnType:{type:kr.ZU.STRING,nullable:!0},width:{type:kr.ZU.STRING,nullable:!0},align:{type:kr.ZU.STRING,nullable:!0},sortable:{type:kr.ZU.BOOLEAN,nullable:!0},filterable:{type:kr.ZU.BOOLEAN,nullable:!0},cardHeader:{type:kr.ZU.BOOLEAN,nullable:!0},cardHeader1:{type:kr.ZU.BOOLEAN,nullable:!0},cardRow:{type:kr.ZU.BOOLEAN,nullable:!0},listRow:{type:kr.ZU.BOOLEAN,nullable:!0},showOnColumnChooser:{type:kr.ZU.BOOLEAN,nullable:!0}},required:["index","name","code","display"]};let Vl=(()=>{class c{ai=(0,r.WQX)(Vu).ai;getAutoAdoptedConfig(l,h){var E=this;return(0,L.A)(function*(){const P=`You are a UI/UX expert tasked with making a data table responsive. Given a screen width of ${h}px, adapt the following table configuration JSON to provide the best user experience. \n    For smaller screens (under 768px), you should: \n    1. Reduce 'cardsPerRow' to 1 or 2. \n    2. Hide less important columns in the table view by setting their 'display' property to 'none'. Keep essential columns like contact name and primary contact info visible.\n    For medium screens (768px to 1280px), you can show more columns and set 'cardsPerRow' to 3 or 4.\n    For large screens (above 1280px), most columns can be visible and 'cardsPerRow' can be 4 or more.\n    Return the complete, modified JSON object that adheres to the provided schema. Original Config: \n\n${JSON.stringify(l,null,2)}`;let Fe=(yield E.ai.models.generateContent({model:"gemini-2.5-flash",contents:P,config:{responseMimeType:"application/json",responseSchema:{type:kr.ZU.OBJECT,properties:{config:{type:kr.ZU.OBJECT,properties:{cardViewConfig:{type:kr.ZU.OBJECT,properties:{cardsPerRow:{type:kr.ZU.INTEGER}},required:["cardsPerRow"],nullable:!0}}},columns:{type:kr.ZU.ARRAY,items:Mo}},required:["config","columns"]}}})).text.trim();const Qe=JSON.parse(Fe),ut=JSON.parse(JSON.stringify(l));return ut.config.cardViewConfig=Qe.config.cardViewConfig,ut.columns=Qe.columns,ut})()}generateLayout(l,h,E){var P=this;return(0,L.A)(function*(){const te=E.map(Zt=>`\`${Zt.code}\` (${Zt.name})`).join(", ");let Fe=`You are an expert front-end developer specializing in Tailwind CSS. Your task is to create a single, self-contained HTML template for a ${h}.\nThe component must display data from the following available fields: ${te}.\nUse placeholders in the format \`{{ field_code }}\` to show where the data should go. For example, to display the organization's name, use \`{{ organization_name }}\`.\n\n**Styling Rules:**\n1.  **Use ONLY Tailwind CSS classes for styling.** Do not use inline styles or \`<style>\` tags.\n2.  The design must be **fully responsive**.\n3.  The design must support **dark mode** using \`dark:\` variants (e.g., \`bg-white dark:bg-gray-800\`).\n4.  Ensure good contrast and accessibility.\n5.  The final HTML should be a single block, like one \`<div>\` or one \`<li>\` that contains everything. For a 'table-row' target, you can use a \`<td>\` with a div inside it, and you must apply a colspan like \`<td colspan="100%">\`.\n\n**Input:**\nYou will be given either a basic HTML structure or an image of a design. You must interpret this input and create a production-ready component from it.\n`;const Qe={parts:[]};if(l.image)Fe+="\n**Design Input (Image):** Create an HTML component based on the provided image.",Qe.parts.push({text:Fe}),Qe.parts.push({inlineData:{mimeType:l.image.mimeType,data:l.image.data}});else{if(!l.html)throw new Error("No prompt provided for layout generation.");Fe+=`\n**Design Input (HTML):** Create an HTML component based on the following structure: \n\`\`\`html\n${l.html}\n\`\`\``,Qe.parts.push({text:Fe})}const Rt=(yield P.ai.models.generateContent({model:"gemini-2.5-flash",contents:Qe,config:{responseMimeType:"application/json",responseSchema:{type:kr.ZU.OBJECT,properties:{htmlTemplate:{type:kr.ZU.STRING}},required:["htmlTemplate"]}}})).text.trim();return JSON.parse(Rt)})()}suggestLayoutImprovements(l,h,E){var P=this;return(0,L.A)(function*(){const te=`You are a UI/UX expert specializing in responsive design with Tailwind CSS and dark mode.\n    Analyze the following HTML template and suggest improvements.\n\n    **Context:**\n    - Screen Width: ${h}px\n    - Data Density: ${E} (e.g., 'compact' means less space per item, 'comfortable' means more space)\n    - The template is used to display a single item in a list or grid.\n    - It must be responsive and support dark mode (using 'dark:' prefixes).\n\n    **HTML Template:**\n    \`\`\`html\n    ${l}\n    \`\`\`\n\n    **Your Task:**\n    Provide a bulleted list of 2-4 actionable suggestions using markdown to improve the layout's responsiveness, readability, and modern aesthetics for the given screen size and density. Focus on better use of space, typography, and component structure. The suggestions should be concise.\n\n    Respond with a JSON object containing a single key "suggestions" which is a string containing the markdown-formatted bullet points.`,Qe=(yield P.ai.models.generateContent({model:"gemini-2.5-flash",contents:te,config:{responseMimeType:"application/json",responseSchema:{type:kr.ZU.OBJECT,properties:{suggestions:{type:kr.ZU.STRING}},required:["suggestions"]}}})).text.trim();return JSON.parse(Qe)})()}static \u0275fac=function(h){return new(h||c)};static \u0275prov=r.jDH({token:c,factory:c.\u0275fac,providedIn:"root"})}return c})(),sa=(()=>{class c{persistenceService=(0,r.WQX)(ke);configService=(0,r.WQX)(Ae);STORAGE_KEY="smartTableDensity";density=(0,r.vPA)(this.getInitialDensity());constructor(){(0,r.QZP)(()=>{this.persistenceService.saveState(this.STORAGE_KEY,this.density())})}setDensity(l){this.density.set(l)}getInitialDensity(){return this.persistenceService.loadState(this.STORAGE_KEY)??this.configService.config().config.sizerConfig.defaultDensity}static \u0275fac=function(h){return new(h||c)};static \u0275prov=r.jDH({token:c,factory:c.\u0275fac,providedIn:"root"})}return c})();const Zu=(c,T)=>T.id;function up(c,T){1&c&&(t.j41(0,"div",20),t.nrm(1,"i",22),t.k0s())}function Ic(c,T){1&c&&(t.j41(0,"div",20),t.nrm(1,"i",22),t.k0s())}function Ch(c,T){if(1&c){const l=t.RV6();t.j41(0,"div",15),t.bIt("click",function(){const E=r.eBV(l).$implicit,P=t.XpG(2);return r.Njj(P.handleApply(E.id))}),t.j41(1,"div",23),t.nrm(2,"div",24),t.k0s(),t.j41(3,"div",18)(4,"h4",19),t.EFF(5),t.k0s(),t.j41(6,"p",25),t.EFF(7),t.k0s()(),t.nVh(8,Ic,2,0,"div",20),t.j41(9,"button",26),t.bIt("click",function(E){const P=r.eBV(l).$implicit,te=t.XpG(2);return E.stopPropagation(),r.Njj(te.deleteLayout.emit(P.id))}),t.nrm(10,"i",27),t.k0s()()}if(2&c){const l=T.$implicit,h=t.XpG(2);t.AVh("border-indigo-500",h.isLayoutActive(l.id))("border-gray-300",!h.isLayoutActive(l.id)),t.R7$(2),t.Y8G("innerHTML",l.htmlTemplate,t.npT),t.R7$(3),t.JRh(l.name),t.R7$(2),t.JRh(l.targetView.replace("-"," ")),t.R7$(),t.vxM(h.isLayoutActive(l.id)?8:-1)}}function _0(c,T){if(1&c){const l=t.RV6();t.j41(0,"div",2),t.bIt("click",function(){r.eBV(l);const E=t.XpG();return r.Njj(E.close.emit())}),t.j41(1,"div",3),t.bIt("click",function(E){return r.eBV(l),r.Njj(E.stopPropagation())}),t.j41(2,"header",4)(3,"h3",5),t.EFF(4,"UI Gallery"),t.k0s(),t.j41(5,"div",6)(6,"button",7),t.bIt("click",function(){r.eBV(l);const E=t.XpG();return r.Njj(E.handleSuggestImprovements())}),t.nrm(7,"i",8),t.j41(8,"span"),t.EFF(9,"Suggest Improvements"),t.k0s()(),t.j41(10,"button",9),t.bIt("click",function(){r.eBV(l);const E=t.XpG();return r.Njj(E.showCreateModal.set(!0))}),t.nrm(11,"i",10),t.j41(12,"span"),t.EFF(13,"Create with AI"),t.k0s()(),t.j41(14,"button",11),t.bIt("click",function(){r.eBV(l);const E=t.XpG();return r.Njj(E.close.emit())}),t.nrm(15,"i",12),t.k0s()()(),t.j41(16,"div",13)(17,"div",14)(18,"div",15),t.bIt("click",function(){r.eBV(l);const E=t.XpG();return r.Njj(E.handleApply(null))}),t.j41(19,"div",16),t.nrm(20,"i",17),t.k0s(),t.j41(21,"div",18)(22,"h4",19),t.EFF(23,"Default Layout"),t.k0s()(),t.nVh(24,up,2,0,"div",20),t.k0s(),t.Z7z(25,Ch,11,8,"div",21,Zu),t.k0s()()()()}if(2&c){const l=t.XpG();t.R7$(6),t.Y8G("disabled",!l.activeCustomLayout()),t.R7$(12),t.AVh("border-indigo-500",l.isLayoutActive(null))("border-gray-300",!l.isLayoutActive(null)),t.R7$(6),t.vxM(l.isLayoutActive(null)?24:-1),t.R7$(),t.Dyx(l.layouts())}}function U_(c,T){if(1&c){const l=t.RV6();t.j41(0,"app-create-layout-modal",28),t.bIt("close",function(){r.eBV(l);const E=t.XpG();return r.Njj(E.showCreateModal.set(!1))})("generate",function(E){r.eBV(l);const P=t.XpG();return P.generateLayout.emit(E),r.Njj(P.showCreateModal.set(!1))}),t.k0s()}}function cp(c,T){1&c&&(t.j41(0,"div",34),t.nrm(1,"i",36),t.j41(2,"p"),t.EFF(3,"Analyzing your layout..."),t.k0s()())}function v0(c,T){if(1&c&&t.nrm(0,"div",35),2&c){const l=t.XpG(2);t.Y8G("innerHTML",l.suggestions(),t.npT)}}function y0(c,T){if(1&c){const l=t.RV6();t.j41(0,"div",29),t.bIt("click",function(){r.eBV(l);const E=t.XpG();return r.Njj(E.suggestions.set(""))}),t.j41(1,"div",30),t.bIt("click",function(E){return r.eBV(l),r.Njj(E.stopPropagation())}),t.j41(2,"header",4)(3,"h3",31),t.nrm(4,"i",32),t.EFF(5,"AI Suggestions"),t.k0s(),t.j41(6,"button",11),t.bIt("click",function(){r.eBV(l);const E=t.XpG();return r.Njj(E.suggestions.set(""))}),t.nrm(7,"i",12),t.k0s()(),t.j41(8,"div",33),t.nVh(9,cp,4,0,"div",34)(10,v0,1,1,"div",35),t.k0s()()()}if(2&c){const l=t.XpG();t.R7$(9),t.vxM(l.isGeneratingSuggestions()?9:10)}}let C0=(()=>{class c{isOpen=R.hFB.required();layouts=R.hFB.required();currentView=R.hFB.required();activeLayouts=R.hFB.required();close=(0,R.CGW)();applyLayout=(0,R.CGW)();deleteLayout=(0,R.CGW)();generateLayout=(0,R.CGW)();aiLayoutService=(0,r.WQX)(Vl);densityService=(0,r.WQX)(sa);showCreateModal=(0,r.vPA)(!1);suggestions=(0,r.vPA)("");isGeneratingSuggestions=(0,r.vPA)(!1);activeCustomLayout=(0,ve.EW)(()=>{const l=this.currentView(),h=this.activeLayouts();let E=null;return"table"===l&&(E=h.table),"list"===l&&(E=h.list),"card"===l&&(E=h.card),E?this.layouts().find(P=>P.id===E)??null:null});getLayoutTarget(){return"table"===this.currentView()?"table-row":"list"===this.currentView()?"list-item":"card"}isLayoutActive(l){const h=this.currentView();return"table"===h?this.activeLayouts().table===l:"list"===h?this.activeLayouts().list===l:this.activeLayouts().card===l}handleApply(l){this.applyLayout.emit({view:this.currentView(),layoutId:l}),this.close.emit()}handleSuggestImprovements(){var l=this;return(0,L.A)(function*(){const h=l.activeCustomLayout();if(h){l.isGeneratingSuggestions.set(!0),l.suggestions.set("");try{let P=(yield l.aiLayoutService.suggestLayoutImprovements(h.htmlTemplate,window.innerWidth,l.densityService.density())).suggestions;P=P.replace(/\*\*(.*?)\*\*/g,"<strong>$1</strong>"),P=P.replace(/^\* (.*)$/gm,'<li class="ml-4 list-disc">$1</li>'),P.includes("<li")&&(P=`<ul>${P}</ul>`),l.suggestions.set(P)}catch(E){console.error("Error getting layout suggestions:",E),l.suggestions.set('<p class="text-red-500">Sorry, I was unable to generate suggestions at this time.</p>')}finally{l.isGeneratingSuggestions.set(!1)}}})()}static \u0275fac=function(h){return new(h||c)};static \u0275cmp=t.VBU({type:c,selectors:[["app-ui-gallery"]],inputs:{isOpen:[1,"isOpen"],layouts:[1,"layouts"],currentView:[1,"currentView"],activeLayouts:[1,"activeLayouts"]},outputs:{close:"close",applyLayout:"applyLayout",deleteLayout:"deleteLayout",generateLayout:"generateLayout"},decls:3,vars:3,consts:[[1,"fixed","inset-0","bg-gray-900/60","flex","items-center","justify-center","z-50"],[1,"fixed","inset-0","bg-gray-900/80","flex","items-center","justify-center","z-[60]"],[1,"fixed","inset-0","bg-gray-900/60","flex","items-center","justify-center","z-50",3,"click"],[1,"bg-white","rounded-lg","shadow-xl","w-full","max-w-4xl","m-4","flex","flex-col","max-h-[90vh]",3,"click"],[1,"flex","items-center","justify-between","p-4","border-b","border-gray-200"],[1,"text-lg","font-semibold"],[1,"flex","items-center","gap-2"],["title","Get AI suggestions for the active custom layout",1,"flex","items-center","gap-2","px-3","py-1.5","text-sm","font-medium","text-indigo-600","bg-indigo-100","border","border-transparent","rounded-md","hover:bg-indigo-200","disabled:opacity-50","disabled:cursor-not-allowed",3,"click","disabled"],[1,"pi","pi-lightbulb"],[1,"flex","items-center","gap-2","px-4","py-2","text-sm","font-medium","text-white","bg-indigo-600","border","border-transparent","rounded-md","hover:bg-indigo-700",3,"click"],[1,"pi","pi-sparkles"],[1,"p-2","rounded-full","hover:bg-gray-100",3,"click"],[1,"pi","pi-times"],[1,"p-6","overflow-y-auto"],[1,"grid","grid-cols-1","sm:grid-cols-2","md:grid-cols-3","lg:grid-cols-4","gap-6"],[1,"border-2","rounded-lg","cursor-pointer","transition-all","group","relative",3,"click"],[1,"aspect-[4/3]","bg-gray-100","flex","items-center","justify-center","rounded-t-md"],[1,"pi","pi-table","text-4xl","text-gray-400"],[1,"p-3"],[1,"font-semibold","text-sm","truncate"],[1,"absolute","top-2","right-2","bg-indigo-600","text-white","rounded-full","h-6","w-6","flex","items-center","justify-center"],[1,"border-2","rounded-lg","cursor-pointer","transition-all","group","relative",3,"border-indigo-500","border-gray-300"],[1,"pi","pi-check","text-xs"],[1,"aspect-[4/3]","bg-gray-100","flex","items-center","justify-center","rounded-t-md","p-2","overflow-hidden"],[1,"transform","scale-[0.3]","origin-top-left",3,"innerHTML"],[1,"text-xs","text-gray-500","capitalize"],["title","Delete this layout",1,"absolute","top-1","right-1","p-1","rounded-full","opacity-0","group-hover:opacity-100","bg-white/50","hover:bg-red-100","text-red-500","transition-opacity",3,"click"],[1,"pi","pi-trash","text-xs"],[3,"close","generate"],[1,"fixed","inset-0","bg-gray-900/80","flex","items-center","justify-center","z-[60]",3,"click"],[1,"bg-white","rounded-lg","shadow-xl","w-full","max-w-lg","m-4",3,"click"],[1,"text-lg","font-semibold","flex","items-center","gap-2"],[1,"pi","pi-lightbulb","text-yellow-400"],[1,"p-6"],[1,"flex","items-center","gap-3"],[1,"prose","max-w-none","text-sm",3,"innerHTML"],[1,"pi","pi-spin","pi-spinner","text-2xl","text-indigo-500"]],template:function(h,E){1&h&&(t.nVh(0,_0,27,6,"div",0),t.nVh(1,U_,1,0,"app-create-layout-modal"),t.nVh(2,y0,11,1,"div",1)),2&h&&(t.vxM(E.isOpen()?0:-1),t.R7$(),t.vxM(E.showCreateModal()?1:-1),t.R7$(),t.vxM((E.isGeneratingSuggestions()||E.suggestions())&&E.isOpen()?2:-1))},dependencies:[oe.MD,Ni],encapsulation:2,changeDetection:0})}return c})();var kc=$(177);let sf=(()=>{class c{platformId=(0,r.WQX)(t.Agw);STORAGE_KEY_THEME="smart-table-theme";STORAGE_KEY_DIR="smart-table-dir";STORAGE_KEY_LAYOUT="smart-table-layout";theme=(0,r.vPA)("system");direction=(0,r.vPA)("ltr");layout=(0,r.vPA)("full");mediaQuery;mediaQueryListener;constructor(){(0,kc.UE)(this.platformId)&&(this.theme.set(this.getInitialState(this.STORAGE_KEY_THEME,"system")),this.direction.set(this.getInitialState(this.STORAGE_KEY_DIR,"ltr")),this.layout.set(this.getInitialState(this.STORAGE_KEY_LAYOUT,"full")),this.applyTheme(this.theme()),this.applyDirection(this.direction()),(0,r.QZP)(()=>{const l=this.theme();localStorage.setItem(this.STORAGE_KEY_THEME,l),this.applyTheme(l)}),(0,r.QZP)(()=>{const l=this.direction();localStorage.setItem(this.STORAGE_KEY_DIR,l),this.applyDirection(l)}),(0,r.QZP)(()=>{const l=this.layout();localStorage.setItem(this.STORAGE_KEY_LAYOUT,l)}),this.mediaQuery=window.matchMedia("(prefers-color-scheme: dark)"),this.mediaQueryListener=l=>{"system"===this.theme()&&this.applySystemTheme()},this.mediaQuery.addEventListener("change",this.mediaQueryListener))}ngOnDestroy(){(0,kc.UE)(this.platformId)&&this.mediaQuery&&this.mediaQueryListener&&this.mediaQuery.removeEventListener("change",this.mediaQueryListener)}setTheme(l){this.theme.set(l)}setDirection(l){this.direction.set(l)}setLayout(l){this.layout.set(l)}getInitialState(l,h){try{return localStorage.getItem(l)||h}catch{return h}}applyTheme(l){if(!(0,kc.UE)(this.platformId))return;const h=document.documentElement;h.classList.remove("dark"),"system"===l?this.applySystemTheme():"dark"===l&&h.classList.add("dark")}applyDirection(l){(0,kc.UE)(this.platformId)&&document.documentElement.setAttribute("dir",l)}applySystemTheme(){const l=window.matchMedia("(prefers-color-scheme: dark)").matches,h=document.documentElement;l?h.classList.add("dark"):h.classList.remove("dark")}static \u0275fac=function(h){return new(h||c)};static \u0275prov=r.jDH({token:c,factory:c.\u0275fac,providedIn:"root"})}return c})(),dp=(()=>{class c{STORAGE_KEY="smartTableSavedCalendarViews";getViewsFromStorage(){try{const l=localStorage.getItem(this.STORAGE_KEY);return l?JSON.parse(l):[]}catch(l){return console.error("Error reading saved calendar views from localStorage",l),[]}}saveViewsToStorage(l){try{localStorage.setItem(this.STORAGE_KEY,JSON.stringify(l))}catch(h){console.error("Error saving calendar views to localStorage",h)}}getSavedViews(){return(0,Jl.of)(this.getViewsFromStorage())}saveView(l,h){const E=this.getViewsFromStorage(),P={id:(new Date).toISOString(),name:l,dateFieldCode:h};return E.push(P),this.saveViewsToStorage(E),(0,Jl.of)(P)}deleteView(l){let h=this.getViewsFromStorage();return h=h.filter(E=>E.id!==l),this.saveViewsToStorage(h),(0,Jl.of)(void 0)}static \u0275fac=function(h){return new(h||c)};static \u0275prov=r.jDH({token:c,factory:c.\u0275fac,providedIn:"root"})}return c})(),fp=(()=>{class c{ai=(0,r.WQX)(Vu).ai;suggestCalendarViewName(l){var h=this;return(0,L.A)(function*(){const E=`You are a helpful assistant. Your task is to suggest a short, descriptive name for a saved calendar view in a data table. The view is based on a date field.\n\n    Date Field Name: "${l}"\n\n    Respond with a JSON object containing a single key "name".\n\n    Example 1:\n    Date Field Name: "Created Time"\n    Response: { "name": "Contacts by Creation Date" }\n\n    Example 2:\n    Date Field Name: "last_activity_date"\n    Response: { "name": "Contacts by Last Activity" }\n    \n    Example 3:\n    Date Field Name: "Subscription End Date"\n    Response: { "name": "Subscription Expirations" }`,te=(yield h.ai.models.generateContent({model:"gemini-2.5-flash",contents:E,config:{responseMimeType:"application/json",responseSchema:{type:kr.ZU.OBJECT,properties:{name:{type:kr.ZU.STRING}},required:["name"]}}})).text.trim();return JSON.parse(te)})()}static \u0275fac=function(h){return new(h||c)};static \u0275prov=r.jDH({token:c,factory:c.\u0275fac,providedIn:"root"})}return c})();const E0=(c,T)=>T.code,af=(c,T)=>T.id;function Zp(c,T){if(1&c){const l=t.RV6();t.rj2(0,"div",12)(1,"div",18)(2,"input",19),t.VwU("change",function(){const E=r.eBV(l).$implicit,P=t.XpG(2);return r.Njj(P.selectField(E.code))}),t.eux()(),t.rj2(3,"div",20)(4,"label",21),t.EFF(5),t.eux()()()}if(2&c){const l=T.$implicit,h=t.XpG(2);t.R7$(2),t.Avn("id","date-field-"+l.code)("checked",h.selectedFieldCode()===l.code),t.R7$(2),t.Avn("htmlFor","date-field-"+l.code),t.R7$(),t.JRh(l.name)}}function b0(c,T){1&c&&(t.Hgh(0,"i",27),t.EFF(1," Saving... "))}function H_(c,T){1&c&&(t.Hgh(0,"i",28),t.EFF(1," Save View "))}function x0(c,T){if(1&c){const l=t.RV6();t.rj2(0,"div")(1,"h4",10),t.EFF(2,"2. Save this view for later"),t.eux(),t.rj2(3,"div",22)(4,"input",23,0),t.VwU("input",function(){r.eBV(l);const E=t.sdS(5),P=t.XpG(2);return r.Njj(P.newViewName.set(E.value))}),t.eux(),t.rj2(6,"button",24),t.VwU("click",function(){r.eBV(l);const E=t.XpG(2);return r.Njj(E.suggestName())}),t.Hgh(7,"i",25),t.eux()(),t.rj2(8,"button",26),t.VwU("click",function(){r.eBV(l);const E=t.XpG(2);return r.Njj(E.saveView())}),t.nVh(9,b0,2,0)(10,H_,2,0),t.eux()()}if(2&c){const l=t.XpG(2);t.R7$(4),t.Avn("value",l.newViewName()),t.R7$(2),t.Avn("disabled",l.isSuggestingName()),t.R7$(),t.AVh("pi-sparkles",!l.isSuggestingName())("pi-spin",l.isSuggestingName())("pi-spinner",l.isSuggestingName()),t.R7$(),t.Avn("disabled",!l.canSave()||l.isSaving()),t.R7$(),t.vxM(l.isSaving()?9:10)}}function D0(c,T){if(1&c){const l=t.RV6();t.rj2(0,"li",29)(1,"div")(2,"p",30),t.EFF(3),t.eux(),t.rj2(4,"p",31),t.EFF(5),t.eux()(),t.rj2(6,"div",32)(7,"button",33),t.VwU("click",function(){const E=r.eBV(l).$implicit,P=t.XpG(3);return r.Njj(P.applyView(E.dateFieldCode))}),t.Hgh(8,"i",34),t.eux(),t.rj2(9,"button",35),t.VwU("click",function(){const E=r.eBV(l).$implicit,P=t.XpG(3);return r.Njj(P.deleteView(E.id))}),t.Hgh(10,"i",36),t.eux()()()}if(2&c){const l=T.$implicit,h=t.XpG(3);t.R7$(3),t.JRh(l.name),t.R7$(2),t.SpI("Field: ",h.getDateFieldName(l.dateFieldCode))}}function w0(c,T){if(1&c&&(t.rj2(0,"ul",11),t.Z7z(1,D0,11,2,"li",29,af),t.eux()),2&c){const l=t.XpG(2);t.R7$(),t.Dyx(l.savedViews())}}function Eh(c,T){1&c&&(t.rj2(0,"p",14),t.EFF(1,"No saved views yet. Select a field and save it to get started."),t.eux())}function T0(c,T){if(1&c){const l=t.RV6();t.rj2(0,"div",2),t.VwU("click",function(){r.eBV(l);const E=t.XpG();return r.Njj(E.close.emit())}),t.rj2(1,"div",3),t.VwU("click",function(E){return r.eBV(l),r.Njj(E.stopPropagation())}),t.rj2(2,"header",4)(3,"h3",5),t.EFF(4,"Configure Calendar View"),t.eux(),t.rj2(5,"button",6),t.VwU("click",function(){r.eBV(l);const E=t.XpG();return r.Njj(E.close.emit())}),t.Hgh(6,"i",7),t.eux()(),t.rj2(7,"div",8)(8,"div",9)(9,"div")(10,"h4",10),t.EFF(11,"1. Choose a date field to plot"),t.eux(),t.rj2(12,"fieldset",11),t.Z7z(13,Zp,6,4,"div",12,E0),t.eux()(),t.nVh(15,x0,11,10,"div"),t.eux(),t.rj2(16,"div",13)(17,"h4",10),t.EFF(18,"Saved Calendar Views"),t.eux(),t.nVh(19,w0,3,0,"ul",11)(20,Eh,2,0,"p",14),t.eux()(),t.rj2(21,"footer",15)(22,"button",16),t.VwU("click",function(){r.eBV(l);const E=t.XpG();return r.Njj(E.close.emit())}),t.EFF(23,"Cancel"),t.eux(),t.rj2(24,"button",17),t.VwU("click",function(){r.eBV(l);const E=t.XpG();return r.Njj(E.applyView(E.selectedFieldCode()))}),t.EFF(25," Apply Selected Field "),t.eux()()()()}if(2&c){const l=t.XpG();t.R7$(13),t.Dyx(l.dateColumns()),t.R7$(2),t.vxM(l.selectedFieldCode()?15:-1),t.R7$(4),t.vxM(l.savedViews().length>0?19:20),t.R7$(5),t.Avn("disabled",!l.selectedFieldCode())}}let eg=(()=>{class c{isOpen=R.hFB.required();dateColumns=R.hFB.required();close=(0,R.CGW)();apply=(0,R.CGW)();calendarViewConfigService=(0,r.WQX)(dp);aiNamingService=(0,r.WQX)(fp);savedViews=(0,r.vPA)([]);selectedFieldCode=(0,r.vPA)("");newViewName=(0,r.vPA)("");isSaving=(0,r.vPA)(!1);isSuggestingName=(0,r.vPA)(!1);canSave=(0,ve.EW)(()=>this.selectedFieldCode()&&this.newViewName().trim().length>0);constructor(){this.loadSavedViews()}loadSavedViews(){this.calendarViewConfigService.getSavedViews().subscribe(l=>{this.savedViews.set(l)})}selectField(l){this.selectedFieldCode.set(l),this.newViewName.set("")}suggestName(){var l=this;return(0,L.A)(function*(){const h=l.selectedFieldCode();if(!h)return;const E=l.dateColumns().find(P=>P.code===h);if(E){l.isSuggestingName.set(!0);try{const P=yield l.aiNamingService.suggestCalendarViewName(E.name);l.newViewName.set(P.name)}catch(P){console.error("Error suggesting name:",P)}finally{l.isSuggestingName.set(!1)}}})()}saveView(){this.canSave()&&(this.isSaving.set(!0),this.calendarViewConfigService.saveView(this.newViewName().trim(),this.selectedFieldCode()).subscribe(()=>{this.loadSavedViews(),this.newViewName.set(""),this.isSaving.set(!1)}))}deleteView(l){this.calendarViewConfigService.deleteView(l).subscribe(()=>{this.loadSavedViews()})}applyView(l){this.apply.emit({dateFieldCode:l})}getDateFieldName(l){const h=this.dateColumns().find(E=>E.code===l);return h?h.name:l}static \u0275fac=function(h){return new(h||c)};static \u0275cmp=t.VBU({type:c,selectors:[["app-calendar-config-modal"]],inputs:{isOpen:[1,"isOpen"],dateColumns:[1,"dateColumns"]},outputs:{close:"close",apply:"apply"},decls:1,vars:1,consts:[["nameInput",""],[1,"fixed","inset-0","bg-gray-900/60","flex","items-center","justify-center","z-50"],[1,"fixed","inset-0","bg-gray-900/60","flex","items-center","justify-center","z-50",3,"click"],[1,"bg-white","rounded-lg","shadow-xl","w-full","max-w-2xl","m-4","flex","flex-col","max-h-[90vh]",3,"click"],[1,"flex","items-center","justify-between","p-4","border-b","border-gray-200"],[1,"text-lg","font-semibold"],[1,"p-2","rounded-full","hover:bg-gray-100",3,"click"],[1,"pi","pi-times"],[1,"p-6","grid","grid-cols-1","md:grid-cols-2","gap-6","overflow-y-auto"],[1,"space-y-6"],[1,"font-medium","text-gray-800","mb-2"],[1,"space-y-2"],[1,"relative","flex","items-start"],[1,"border-t","md:border-t-0","md:border-l","border-gray-200","md:pl-6","pt-6","md:pt-0"],[1,"text-sm","text-gray-500","italic"],[1,"p-4","border-t","border-gray-200","flex","justify-end","gap-3"],[1,"px-4","py-2","text-sm","font-medium","text-gray-700","bg-white","border","border-gray-300","rounded-md","hover:bg-gray-50",3,"click"],[1,"px-4","py-2","text-sm","font-medium","text-white","bg-slate-900","border","border-transparent","rounded-md","hover:bg-slate-800","disabled:opacity-50","disabled:cursor-not-allowed",3,"click","disabled"],[1,"flex","h-6","items-center"],["name","date-field","type","radio",1,"h-4","w-4","border-gray-300","text-indigo-600","focus:ring-indigo-600",3,"change","id","checked"],[1,"ml-3","text-sm","leading-6"],[1,"font-medium","text-gray-900",3,"for"],[1,"flex","items-center","gap-2"],["type","text","placeholder","e.g., Contacts by Creation",1,"flex-grow","block","w-full","text-sm","rounded-md","border-gray-300","shadow-sm","focus:border-indigo-500","focus:ring-indigo-500",3,"input","value"],["title","Suggest a name with AI",1,"p-2","rounded-md","bg-indigo-50","text-indigo-600","hover:bg-indigo-100","disabled:opacity-50",3,"click","disabled"],[1,"pi"],[1,"mt-3","w-full","flex","justify-center","items-center","gap-2","px-4","py-2","text-sm","font-medium","text-white","bg-slate-900","border","border-transparent","rounded-md","hover:bg-slate-800","disabled:opacity-50",3,"click","disabled"],[1,"pi","pi-spin","pi-spinner"],[1,"pi","pi-save"],[1,"p-2","rounded-md","bg-gray-50","flex","items-center","justify-between"],[1,"text-sm","font-medium","text-gray-900"],[1,"text-xs","text-gray-500"],[1,"flex","items-center","gap-1"],["title","Apply this view",1,"p-2","text-sm","rounded-md","text-white","bg-slate-900","hover:bg-slate-800",3,"click"],[1,"pi","pi-check"],["title","Delete this view",1,"p-2","text-sm","rounded-md","text-red-600","hover:bg-red-100",3,"click"],[1,"pi","pi-trash"]],template:function(h,E){1&h&&t.nVh(0,T0,26,3,"div",1),2&h&&t.vxM(E.isOpen()?0:-1)},dependencies:[oe.MD],encapsulation:2,changeDetection:0})}return c})(),bh=(()=>{class c{close=(0,R.CGW)();startSync=(0,R.CGW)();static \u0275fac=function(h){return new(h||c)};static \u0275cmp=t.VBU({type:c,selectors:[["app-sync-options-modal"]],outputs:{close:"close",startSync:"startSync"},decls:21,vars:0,consts:[[1,"fixed","inset-0","bg-gray-900/60","flex","items-center","justify-center","z-50",3,"click"],[1,"bg-white","rounded-lg","shadow-xl","w-full","max-w-md","m-4",3,"click"],[1,"flex","items-center","justify-between","p-4","border-b","border-gray-200"],[1,"text-lg","font-semibold","flex","items-center","gap-2"],[1,"pi","pi-sync","text-indigo-500"],[1,"p-2","rounded-full","hover:bg-gray-100",3,"click"],[1,"pi","pi-times"],[1,"p-6","text-sm","text-gray-600","space-y-4"],[1,"p-4","border-t","border-gray-200","flex","justify-end","gap-3"],[1,"px-4","py-2","text-sm","font-medium","text-gray-700","bg-white","border","border-gray-300","rounded-md","hover:bg-gray-50",3,"click"],[1,"px-4","py-2","text-sm","font-medium","text-white","bg-slate-900","border","border-transparent","rounded-md","hover:bg-slate-800",3,"click"]],template:function(h,E){1&h&&(t.rj2(0,"div",0),t.VwU("click",function(){return E.close.emit()}),t.rj2(1,"div",1),t.VwU("click",function(te){return te.stopPropagation()}),t.rj2(2,"header",2)(3,"h3",3),t.Hgh(4,"i",4),t.EFF(5,"Enable Offline Sync?"),t.eux(),t.rj2(6,"button",5),t.VwU("click",function(){return E.close.emit()}),t.Hgh(7,"i",6),t.eux()(),t.rj2(8,"div",7)(9,"p"),t.EFF(10," Switching to "),t.rj2(11,"strong"),t.EFF(12,"SYNC"),t.eux(),t.EFF(13," mode will download all contact data to your device for fast, offline access. "),t.eux(),t.rj2(14,"p"),t.EFF(15," The initial download may take a moment. Future loads will be instantaneous. "),t.eux()(),t.rj2(16,"footer",8)(17,"button",9),t.VwU("click",function(){return E.close.emit()}),t.EFF(18,"Cancel"),t.eux(),t.rj2(19,"button",10),t.VwU("click",function(){return E.startSync.emit()}),t.EFF(20," Start Sync "),t.eux()()()())},dependencies:[oe.MD],encapsulation:2,changeDetection:0})}return c})(),xh=(()=>{class c{persistenceService=(0,r.WQX)(ke);STORAGE_KEY="smartTableChips";chips=(0,r.vPA)(this.loadChips());constructor(){(0,r.QZP)(()=>{this.saveChips(this.chips())})}addChip(l){const h={id:(new Date).toISOString(),...l};this.chips.update(E=>[...E,h])}removeChip(l){this.chips.update(h=>h.filter(E=>E.id!==l))}loadChips(){return this.persistenceService.loadState(this.STORAGE_KEY)??[]}saveChips(l){this.persistenceService.saveState(this.STORAGE_KEY,l)}static \u0275fac=function(h){return new(h||c)};static \u0275prov=r.jDH({token:c,factory:c.\u0275fac,providedIn:"root"})}return c})(),S0=(()=>{class c{ai=(0,r.WQX)(Vu).ai;generateChipConfig(l,h){var E=this;return(0,L.A)(function*(){const P=h.map(ut=>({name:ut.name,code:ut.code,type:ut.columnType||"TEXT"})),te=`You are an AI assistant that creates configuration for summary "chips" based on user requests.\n    Analyze the user's prompt and determine the correct column, aggregation method, and label.\n    - For requests to count specific categories (e.g., "count web leads"), use the 'count' aggregation and specify the 'filterValue'. The label should reflect this, like "Web Leads".\n    - For requests to summarize a numeric column (e.g., "total revenue"), use 'sum' or 'average' and do not provide a 'filterValue'. The label should be "Total Revenue".\n    - If the user just says "show revenue", assume they mean 'sum'.\n    - If the user just says "count contacts", use 'count' on the primary key 'organization_id' and label it "Total Contacts".\n    \n    Respond with a single JSON object.\n\n    Available columns: ${JSON.stringify(P)}\n    `,Qe=(yield E.ai.models.generateContent({model:"gemini-2.5-flash",contents:l,config:{systemInstruction:te,responseMimeType:"application/json",responseSchema:{type:kr.ZU.OBJECT,properties:{label:{type:kr.ZU.STRING},columnCode:{type:kr.ZU.STRING},aggregation:{type:kr.ZU.STRING,enum:["count","sum","average"]},filterValue:{type:kr.ZU.STRING,nullable:!0}},required:["label","columnCode","aggregation"]}}})).text.trim();return JSON.parse(Qe)})()}static \u0275fac=function(h){return new(h||c)};static \u0275prov=r.jDH({token:c,factory:c.\u0275fac,providedIn:"root"})}return c})();const tg=(c,T)=>T.code;function A0(c,T){if(1&c&&(t.rj2(0,"option",28),t.EFF(1),t.eux()),2&c){const l=T.$implicit;t.Avn("value",l.code),t.R7$(),t.JRh(l.name)}}function ng(c,T){if(1&c&&(t.rj2(0,"option",28),t.EFF(1),t.eux()),2&c){const l=T.$implicit;t.Avn("value",l.code),t.R7$(),t.JRh(l.name)}}function rg(c,T){if(1&c&&(t.rj2(0,"option",32),t.EFF(1),t.eux()),2&c){const l=T.$implicit;t.Avn("value",l),t.R7$(),t.JRh(l)}}function j_(c,T){if(1&c){const l=t.RV6();t.rj2(0,"div")(1,"label",30),t.EFF(2,"Calculation"),t.eux(),t.rj2(3,"select",31,2),t.VwU("change",function(){r.eBV(l);const E=t.sdS(4),P=t.XpG(3);return r.Njj(P.selectedAggregation.set(E.value))}),t.Z7z(5,rg,2,2,"option",32,t.fX1),t.eux()()}if(2&c){const l=t.XpG(3);t.R7$(3),t.Avn("value",l.selectedAggregation()),t.R7$(2),t.Dyx(l.availableAggregations())}}function M0(c,T){if(1&c){const l=t.RV6();t.rj2(0,"div")(1,"label",33),t.EFF(2,"Value to Count"),t.eux(),t.rj2(3,"input",34,3),t.VwU("input",function(){r.eBV(l);const E=t.sdS(4),P=t.XpG(3);return r.Njj(P.filterValue.set(E.value))}),t.eux(),t.rj2(5,"p",35),t.EFF(6,"Specify which value in the selected column to count (e.g., 'Web' for Lead Source)."),t.eux()()}if(2&c){const l=t.XpG(3);t.R7$(3),t.Avn("value",l.filterValue())}}function Uf(c,T){if(1&c){const l=t.RV6();t.rj2(0,"div",17)(1,"div")(2,"label",22),t.EFF(3,"Chip Label"),t.eux(),t.rj2(4,"input",23,0),t.VwU("input",function(){r.eBV(l);const E=t.sdS(5),P=t.XpG(2);return r.Njj(P.label.set(E.value))}),t.eux()(),t.rj2(6,"div")(7,"label",24),t.EFF(8,"Column"),t.eux(),t.rj2(9,"select",25,1),t.VwU("change",function(){r.eBV(l);const E=t.sdS(10),P=t.XpG(2);return P.selectedColumnCode.set(E.value),r.Njj(P.selectedAggregation.set("count"))}),t.rj2(11,"option",26),t.EFF(12,"Select a column..."),t.eux(),t.rj2(13,"optgroup",27),t.Z7z(14,A0,2,2,"option",28,tg),t.eux(),t.rj2(16,"optgroup",29),t.Z7z(17,ng,2,2,"option",28,tg),t.eux()()(),t.nVh(19,j_,7,1,"div"),t.nVh(20,M0,7,1,"div"),t.eux()}if(2&c){const l=t.XpG(2);t.R7$(4),t.Avn("value",l.label()),t.R7$(5),t.Avn("value",l.selectedColumnCode()),t.R7$(5),t.Dyx(l.numericColumns()),t.R7$(3),t.Dyx(l.categoricalColumns()),t.R7$(2),t.vxM(l.selectedColumnCode()?19:-1),t.R7$(),t.vxM(l.isCategoricalCount()?20:-1)}}function I0(c,T){if(1&c){const l=t.RV6();t.rj2(0,"div",17)(1,"div")(2,"label",36),t.EFF(3,"What do you want to see?"),t.eux(),t.rj2(4,"textarea",37,4),t.VwU("input",function(){r.eBV(l);const E=t.sdS(5),P=t.XpG(2);return r.Njj(P.aiPrompt.set(E.value))}),t.eux()()()}if(2&c){const l=t.XpG(2);t.R7$(4),t.Avn("value",l.aiPrompt())}}function ig(c,T){if(1&c){const l=t.RV6();t.rj2(0,"button",38),t.VwU("click",function(){r.eBV(l);const E=t.XpG(2);return r.Njj(E.handleManualSave())}),t.EFF(1," Add Chip "),t.eux()}if(2&c){const l=t.XpG(2);t.Avn("disabled",!l.manualFormIsValid())}}function k0(c,T){1&c&&(t.Hgh(0,"i",40),t.rj2(1,"span"),t.EFF(2,"Generating..."),t.eux())}function og(c,T){1&c&&(t.Hgh(0,"i",41),t.rj2(1,"span"),t.EFF(2,"Generate & Add"),t.eux())}function sg(c,T){if(1&c){const l=t.RV6();t.rj2(0,"button",39),t.VwU("click",function(){r.eBV(l);const E=t.XpG(2);return r.Njj(E.handleAiGenerate())}),t.nVh(1,k0,3,0)(2,og,3,0),t.eux()}if(2&c){const l=t.XpG(2);t.Avn("disabled",!l.aiPrompt().trim()||l.isGenerating()),t.R7$(),t.vxM(l.isGenerating()?1:2)}}function R0(c,T){if(1&c){const l=t.RV6();t.rj2(0,"div",6),t.VwU("click",function(){r.eBV(l);const E=t.XpG();return r.Njj(E.close.emit())}),t.rj2(1,"div",7),t.VwU("click",function(E){return r.eBV(l),r.Njj(E.stopPropagation())}),t.rj2(2,"header",8)(3,"h3",9),t.EFF(4,"Add Summary Chip"),t.eux(),t.rj2(5,"button",10),t.VwU("click",function(){r.eBV(l);const E=t.XpG();return r.Njj(E.close.emit())}),t.Hgh(6,"i",11),t.eux()(),t.rj2(7,"div",12)(8,"div",13)(9,"nav",14)(10,"button",15),t.VwU("click",function(){r.eBV(l);const E=t.XpG();return r.Njj(E.activeTab.set("manual"))}),t.EFF(11," Manual "),t.eux(),t.rj2(12,"button",15),t.VwU("click",function(){r.eBV(l);const E=t.XpG();return r.Njj(E.activeTab.set("ai"))}),t.EFF(13," Create with AI "),t.eux()()(),t.rj2(14,"div",16),t.nVh(15,Uf,21,4,"div",17)(16,I0,6,1,"div",17),t.eux()(),t.rj2(17,"footer",18)(18,"button",19),t.VwU("click",function(){r.eBV(l);const E=t.XpG();return r.Njj(E.close.emit())}),t.EFF(19,"Cancel"),t.eux(),t.nVh(20,ig,2,1,"button",20)(21,sg,3,2,"button",21),t.eux()()()}if(2&c){const l=t.XpG();t.R7$(10),t.AVh("border-indigo-500","manual"===l.activeTab())("text-indigo-600","manual"===l.activeTab()),t.R7$(2),t.AVh("border-indigo-500","ai"===l.activeTab())("text-indigo-600","ai"===l.activeTab()),t.R7$(3),t.vxM("manual"===l.activeTab()?15:16),t.R7$(5),t.vxM("manual"===l.activeTab()?20:21)}}let ag=(()=>{class c{isOpen=R.hFB.required();columns=R.hFB.required();close=(0,R.CGW)();addChip=(0,R.CGW)();aiChipService=(0,r.WQX)(S0);activeTab=(0,r.vPA)("manual");label=(0,r.vPA)("");selectedColumnCode=(0,r.vPA)("");selectedAggregation=(0,r.vPA)("count");filterValue=(0,r.vPA)("");aiPrompt=(0,r.vPA)("");isGenerating=(0,r.vPA)(!1);numericColumns=(0,ve.EW)(()=>this.columns().filter(l=>"numeric"===l.columnType));categoricalColumns=(0,ve.EW)(()=>this.columns().filter(l=>"numeric"!==l.columnType&&l.filterable));availableAggregations=(0,ve.EW)(()=>{const l=this.selectedColumnCode();return this.numericColumns().some(E=>E.code===l)?["sum","average","count"]:["count"]});isCategoricalCount=(0,ve.EW)(()=>{const l=this.selectedColumnCode(),h=this.numericColumns().some(E=>E.code===l);return"count"===this.selectedAggregation()&&!h});manualFormIsValid=(0,ve.EW)(()=>this.label().trim()&&this.selectedColumnCode());handleManualSave(){this.manualFormIsValid()&&(this.addChip.emit({label:this.label().trim(),columnCode:this.selectedColumnCode(),aggregation:this.selectedAggregation(),filterValue:this.isCategoricalCount()?this.filterValue().trim():void 0}),this.resetForms())}handleAiGenerate(){var l=this;return(0,L.A)(function*(){if(l.aiPrompt().trim()){l.isGenerating.set(!0);try{const h=yield l.aiChipService.generateChipConfig(l.aiPrompt(),l.columns());l.addChip.emit(h),l.resetForms()}catch(h){console.error("AI chip generation failed",h)}finally{l.isGenerating.set(!1)}}})()}resetForms(){this.label.set(""),this.selectedColumnCode.set(""),this.selectedAggregation.set("count"),this.filterValue.set(""),this.aiPrompt.set("")}static \u0275fac=function(h){return new(h||c)};static \u0275cmp=t.VBU({type:c,selectors:[["app-add-chip-modal"]],inputs:{isOpen:[1,"isOpen"],columns:[1,"columns"]},outputs:{close:"close",addChip:"addChip"},decls:1,vars:1,consts:[["labelInput",""],["columnSelect",""],["aggSelect",""],["filterValueInput",""],["promptInput",""],[1,"fixed","inset-0","bg-gray-900/60","flex","items-center","justify-center","z-50"],[1,"fixed","inset-0","bg-gray-900/60","flex","items-center","justify-center","z-50",3,"click"],[1,"bg-white","rounded-lg","shadow-xl","w-full","max-w-lg","m-4","flex","flex-col","max-h-[90vh]",3,"click"],[1,"flex","items-center","justify-between","p-4","border-b","border-gray-200"],[1,"text-lg","font-semibold"],[1,"p-2","rounded-full","hover:bg-gray-100",3,"click"],[1,"pi","pi-times"],[1,"p-6","overflow-y-auto"],[1,"border-b","border-gray-200"],["aria-label","Tabs",1,"-mb-px","flex","space-x-6"],[1,"border-transparent","text-gray-500","hover:text-gray-700","hover:border-gray-300","whitespace-nowrap","py-3","px-1","border-b-2","font-medium","text-sm",3,"click"],[1,"pt-6"],[1,"space-y-4"],[1,"p-4","border-t","border-gray-200","flex","justify-end","gap-3"],[1,"px-4","py-2","text-sm","font-medium","text-gray-700","bg-white","border","border-gray-300","rounded-md","hover:bg-gray-50",3,"click"],[1,"px-4","py-2","text-sm","font-medium","text-white","bg-slate-900","border","border-transparent","rounded-md","hover:bg-slate-800","disabled:opacity-50","disabled:cursor-not-allowed",3,"disabled"],[1,"px-4","py-2","text-sm","font-medium","text-white","bg-slate-900","border","border-transparent","rounded-md","hover:bg-slate-800","disabled:opacity-50","disabled:cursor-not-allowed","flex","items-center","gap-2",3,"disabled"],["for","chipLabel",1,"block","text-sm","font-medium","text-gray-700"],["type","text","id","chipLabel","placeholder","e.g., Total Revenue",1,"mt-1","block","w-full","text-sm","rounded-md","border-gray-300","shadow-sm","focus:border-indigo-500","focus:ring-indigo-500",3,"input","value"],["for","chipColumn",1,"block","text-sm","font-medium","text-gray-700"],["id","chipColumn",1,"mt-1","block","w-full","text-sm","rounded-md","border-gray-300","shadow-sm","focus:border-indigo-500","focus:ring-indigo-500",3,"change","value"],["value","","disabled",""],["label","Numeric Fields"],[3,"value"],["label","Other Fields"],["for","chipAggregation",1,"block","text-sm","font-medium","text-gray-700"],["id","chipAggregation",1,"mt-1","block","w-full","text-sm","rounded-md","border-gray-300","shadow-sm","focus:border-indigo-500","focus:ring-indigo-500",3,"change","value"],[1,"capitalize",3,"value"],["for","chipFilterValue",1,"block","text-sm","font-medium","text-gray-700"],["type","text","id","chipFilterValue","placeholder","e.g., Web",1,"mt-1","block","w-full","text-sm","rounded-md","border-gray-300","shadow-sm","focus:border-indigo-500","focus:ring-indigo-500",3,"input","value"],[1,"mt-1","text-xs","text-gray-500"],["for","aiPrompt",1,"block","text-sm","font-medium","text-gray-700"],["id","aiPrompt","rows","4","placeholder","e.g., 'Show total revenue' or 'Count of leads from Web'",1,"mt-1","block","w-full","text-sm","rounded-md","border-gray-300","shadow-sm","focus:border-indigo-500","focus:ring-indigo-500","font-mono",3,"input","value"],[1,"px-4","py-2","text-sm","font-medium","text-white","bg-slate-900","border","border-transparent","rounded-md","hover:bg-slate-800","disabled:opacity-50","disabled:cursor-not-allowed",3,"click","disabled"],[1,"px-4","py-2","text-sm","font-medium","text-white","bg-slate-900","border","border-transparent","rounded-md","hover:bg-slate-800","disabled:opacity-50","disabled:cursor-not-allowed","flex","items-center","gap-2",3,"click","disabled"],[1,"pi","pi-spin","pi-spinner"],[1,"pi","pi-sparkles"]],template:function(h,E){1&h&&t.nVh(0,R0,22,10,"div",5),2&h&&t.vxM(E.isOpen()?0:-1)},dependencies:[oe.MD],encapsulation:2,changeDetection:0})}return c})();const P0=(c,T)=>T.id;function Hf(c,T){if(1&c){const l=t.RV6();t.rj2(0,"div",4),t.VwU("click",function(){const E=r.eBV(l).$implicit,P=t.XpG();return r.Njj(P.onChipClick(E))}),t.rj2(1,"span"),t.EFF(2),t.rj2(3,"span",5),t.EFF(4),t.eux()(),t.rj2(5,"button",6),t.VwU("click",function(E){const P=r.eBV(l).$implicit,te=t.XpG();return E.stopPropagation(),r.Njj(te.removeChip.emit(P.id))}),t.Hgh(6,"i",7),t.eux()()}if(2&c){const l=T.$implicit;t.AVh("cursor-pointer","count"===l.aggregation&&l.filterValue)("hover:bg-indigo-200","count"===l.aggregation&&l.filterValue),t.Avn("title","count"===l.aggregation&&l.filterValue?"Click to filter":""),t.R7$(2),t.SpI("",l.label,": "),t.R7$(2),t.JRh(l.displayValue)}}let hp=(()=>{class c{chips=R.hFB.required();chipClicked=(0,R.CGW)();removeChip=(0,R.CGW)();addChip=(0,R.CGW)();onChipClick(l){"count"===l.aggregation&&l.filterValue&&this.chipClicked.emit(l)}static \u0275fac=function(h){return new(h||c)};static \u0275cmp=t.VBU({type:c,selectors:[["app-chip-filter-bar"]],inputs:{chips:[1,"chips"]},outputs:{chipClicked:"chipClicked",removeChip:"removeChip",addChip:"addChip"},decls:7,vars:0,consts:[[1,"flex","items-center","gap-2","flex-wrap"],[1,"flex","items-center","gap-2","pl-3","pr-1","py-1","rounded-full","text-xs","font-medium","bg-gray-200","text-gray-800",3,"cursor-pointer","hover:bg-indigo-200","title"],["title","Add another chip",1,"flex","items-center","gap-1.5","px-2","py-1","rounded-full","text-xs","font-medium","border","border-dashed","border-gray-400","text-gray-600","hover:bg-gray-100",3,"click"],[1,"pi","pi-plus","text-xs"],[1,"flex","items-center","gap-2","pl-3","pr-1","py-1","rounded-full","text-xs","font-medium","bg-gray-200","text-gray-800",3,"click","title"],[1,"font-bold"],["title","Remove chip",1,"p-1","rounded-full","hover:bg-gray-300",3,"click"],[1,"pi","pi-times","text-xs"]],template:function(h,E){1&h&&(t.rj2(0,"div",0),t.Z7z(1,Hf,7,7,"div",1,P0),t.rj2(3,"button",2),t.VwU("click",function(){return E.addChip.emit()}),t.Hgh(4,"i",3),t.rj2(5,"span"),t.EFF(6,"Add"),t.eux()()()),2&h&&(t.R7$(),t.Dyx(E.chips()))},dependencies:[oe.MD],encapsulation:2,changeDetection:0})}return c})();class F0{data=[];activeIndex=null;selection=new Set;anchorIndex=null;updateState(T,l,h,E){this.data=T,this.activeIndex=l,this.selection=h,this.anchorIndex=E}handleKeydown(T){if(0===this.data.length)return null;if(T.ctrlKey&&"a"===T.key.toLowerCase())return T.preventDefault(),this.handleSelectAll();const l=["ArrowUp","ArrowDown","Home","End"].includes(T.key),h=[" ","Enter"].includes(T.key);return l||h?(T.preventDefault(),h?this.handleToggleSelection(T.shiftKey):l?this.handleNavigation(T.key,T.shiftKey):null):null}handleSelectAll(){const T=this.activeIndex??0,l=this.anchorIndex??T;return{newActiveIndex:T,newSelection:new Set(this.data.map(h=>h.organization_id)),newAnchorIndex:l}}handleToggleSelection(T){if(null===this.activeIndex&&!T)return null;if(T){const l=this.activeIndex??0,h=this.anchorIndex??l,E=Math.min(h,l),P=Math.max(h,l),te=new Set(this.selection);for(let Fe=E;Fe<=P;Fe++)te.add(this.data[Fe].organization_id);return{newActiveIndex:l,newSelection:te,newAnchorIndex:h}}{const l=this.activeIndex,h=new Set(this.selection),E=this.data[l].organization_id;return h.has(E)?h.delete(E):h.add(E),{newActiveIndex:l,newSelection:h,newAnchorIndex:l}}}handleNavigation(T,l){const h=this.activeIndex??-1;let E=h;switch(T){case"ArrowUp":E=h<=0?0:h-1;break;case"ArrowDown":E=h<0?0:Math.min(this.data.length-1,h+1);break;case"Home":E=0;break;case"End":E=this.data.length-1}let P=new Set(this.selection),te=this.anchorIndex;if(l){const Fe=this.anchorIndex??this.activeIndex??0,Qe=Math.min(Fe,E),ut=Math.max(Fe,E),Rt=new Set;for(let Zt=Qe;Zt<=ut;Zt++)Rt.add(this.data[Zt].organization_id);P=Rt}else te=E;return{newActiveIndex:E,newSelection:P,newAnchorIndex:te}}}const pp=(c,T)=>T.value;function N0(c,T){if(1&c){const l=t.RV6();t.rj2(0,"div",11),t.VwU("click",function(){r.eBV(l);const E=t.XpG();return r.Njj(E.close.emit())}),t.eux()}}function gp(c,T){if(1&c){const l=t.RV6();t.rj2(0,"button",12),t.VwU("click",function(){const E=r.eBV(l).$implicit,P=t.XpG();return r.Njj(P.themeService.setTheme(E.value))}),t.Hgh(1,"i"),t.rj2(2,"span"),t.EFF(3),t.eux()()}if(2&c){const l=T.$implicit,h=t.XpG();t.HbH(h.themeService.theme()===l.value?"bg-indigo-100 text-indigo-700":"bg-gray-100 hover:bg-gray-200"),t.AVh("ring-2",h.themeService.theme()===l.value),t.R7$(),t.HbH(l.icon),t.R7$(2),t.JRh(l.label)}}function Od(c,T){if(1&c){const l=t.RV6();t.rj2(0,"button",12),t.VwU("click",function(){const E=r.eBV(l).$implicit,P=t.XpG();return r.Njj(P.themeService.setDirection(E.value))}),t.Hgh(1,"i"),t.rj2(2,"span"),t.EFF(3),t.eux()()}if(2&c){const l=T.$implicit,h=t.XpG();t.HbH(h.themeService.direction()===l.value?"bg-indigo-100 text-indigo-700":"bg-gray-100 hover:bg-gray-200"),t.AVh("ring-2",h.themeService.direction()===l.value),t.R7$(),t.HbH(l.icon),t.R7$(2),t.JRh(l.label)}}function Dh(c,T){if(1&c){const l=t.RV6();t.rj2(0,"button",12),t.VwU("click",function(){const E=r.eBV(l).$implicit,P=t.XpG();return r.Njj(P.themeService.setLayout(E.value))}),t.Hgh(1,"i"),t.rj2(2,"span"),t.EFF(3),t.eux()()}if(2&c){const l=T.$implicit,h=t.XpG();t.HbH(h.themeService.layout()===l.value?"bg-indigo-100 text-indigo-700":"bg-gray-100 hover:bg-gray-200"),t.AVh("ring-2",h.themeService.layout()===l.value),t.R7$(),t.HbH(l.icon),t.R7$(2),t.JRh(l.label)}}let lg=(()=>{class c{isOpen=R.hFB.required();close=(0,R.CGW)();themeService=(0,r.WQX)(sf);themes=[{label:"Light",value:"light",icon:"pi pi-sun"},{label:"Dark",value:"dark",icon:"pi pi-moon"},{label:"System",value:"system",icon:"pi pi-desktop"}];directions=[{label:"LTR",value:"ltr",icon:"pi pi-align-left"},{label:"RTL",value:"rtl",icon:"pi pi-align-right"}];layouts=[{label:"Full",value:"full",icon:"pi pi-window-maximize"},{label:"Boxed",value:"box",icon:"pi pi-th-large"}];static \u0275fac=function(h){return new(h||c)};static \u0275cmp=t.VBU({type:c,selectors:[["app-theme-settings"]],inputs:{isOpen:[1,"isOpen"]},outputs:{close:"close"},decls:26,vars:5,consts:[[1,"fixed","inset-0","bg-black/20","z-40"],[1,"fixed","top-0","right-0","h-full","w-72","bg-white","shadow-lg","transform","transition-transform","duration-300","ease-in-out","z-50","border-l","border-gray-200"],[1,"p-4","border-b","border-gray-200","flex","justify-between","items-center"],[1,"text-lg","font-semibold","text-gray-800"],[1,"text-gray-500","hover:text-gray-700","p-1","rounded-full","hover:bg-gray-100","transition-colors",3,"click"],[1,"pi","pi-times","text-sm"],[1,"p-4","space-y-6"],[1,"font-medium","text-gray-700","mb-2"],[1,"grid","grid-cols-3","gap-2"],[1,"px-3","py-2","text-sm","rounded-md","flex","items-center","justify-center","gap-2","ring-indigo-500","transition-all","focus:outline-none","focus:ring-2","focus:ring-offset-2","focus:ring-indigo-500",3,"ring-2","class"],[1,"grid","grid-cols-2","gap-2"],[1,"fixed","inset-0","bg-black/20","z-40",3,"click"],[1,"px-3","py-2","text-sm","rounded-md","flex","items-center","justify-center","gap-2","ring-indigo-500","transition-all","focus:outline-none","focus:ring-2","focus:ring-offset-2","focus:ring-indigo-500",3,"click"]],template:function(h,E){1&h&&(t.nVh(0,N0,1,0,"div",0),t.rj2(1,"div",1)(2,"div",2)(3,"h2",3),t.EFF(4,"Theme Settings"),t.eux(),t.rj2(5,"button",4),t.VwU("click",function(){return E.close.emit()}),t.Hgh(6,"i",5),t.eux()(),t.rj2(7,"div",6)(8,"div")(9,"h3",7),t.EFF(10,"Color Scheme"),t.eux(),t.rj2(11,"div",8),t.Z7z(12,gp,4,7,"button",9,pp),t.eux()(),t.rj2(14,"div")(15,"h3",7),t.EFF(16,"Direction"),t.eux(),t.rj2(17,"div",10),t.Z7z(18,Od,4,7,"button",9,pp),t.eux()(),t.rj2(20,"div")(21,"h3",7),t.EFF(22,"Layout Mode"),t.eux(),t.rj2(23,"div",10),t.Z7z(24,Dh,4,7,"button",9,pp),t.eux()()()()),2&h&&(t.vxM(E.isOpen()?0:-1),t.R7$(),t.AVh("translate-x-0",E.isOpen())("translate-x-full",!E.isOpen()),t.R7$(11),t.Dyx(E.themes),t.R7$(6),t.Dyx(E.directions),t.R7$(6),t.Dyx(E.layouts))},dependencies:[oe.MD],encapsulation:2,changeDetection:0})}return c})(),jf=(()=>{class c{exportData(l,h,E,P){switch(l){case"csv":this.exportAsCsv(h,E,P);break;case"excel":this.exportAsCsv(h,E,P,"xlsx");break;case"pdf":alert("PDF export is not implemented in this demo."),console.warn("PDF export is not implemented.")}}exportAsCsv(l,h,E,P="csv"){if(!l||0===l.length)return;const Fe=h.filter(Mn=>"ACTION"!==Mn.columnType&&"CHECKBOX"!==Mn.columnType),Rt=[Fe.map(Mn=>this.escapeCsvCell(Mn.name)).join(","),...l.map(Mn=>Fe.map(jr=>{let ai;ai=jr.cellTemplate?jr.cellTemplate.filter(Dn=>"IMAGE"!==Dn.columnType).map(Dn=>Mn[Dn.code]).join(" "):Mn[jr.code];const Pn=null==ai?"":String(ai);return this.escapeCsvCell(Pn)}).join(","))].join("\n"),Zt=new Blob(["\ufeff"+Rt],{type:"text/csv;charset=utf-8;"}),Yt=document.createElement("a");if(void 0!==Yt.download){const Mn=URL.createObjectURL(Zt);Yt.setAttribute("href",Mn);const jr=E.replace(/[^a-z0-9]/gi,"_").toLowerCase(),ai=(new Date).toISOString().split("T")[0];Yt.setAttribute("download",`${jr}_${ai}.${P}`),document.body.appendChild(Yt),Yt.click(),document.body.removeChild(Yt)}}escapeCsvCell(l){return/[",\n]/.test(l)?`"${l.replace(/"/g,'""')}"`:l}static \u0275fac=function(h){return new(h||c)};static \u0275prov=r.jDH({token:c,factory:c.\u0275fac,providedIn:"root"})}return c})();const O0=(c,T)=>T.key,L0=(c,T)=>T.src;function B0(c,T){if(1&c&&t.Hgh(0,"img",1),2&c){const l=t.XpG();t.Avn("src",l.imageUrl,t.B4B)}}function gd(c,T){1&c&&t.Hgh(0,"i",2)}function Gf(c,T){if(1&c&&t.Hgh(0,"i"),2&c){const l=t.XpG().$implicit;t.HbH(l.icon+" mr-2")}}function mp(c,T){if(1&c){const l=t.RV6();t.rj2(0,"button",8),t.VwU("click",function(){const E=r.eBV(l).$implicit,P=t.XpG(3);return r.Njj(P.action.emit(E.key))}),t.nVh(1,Gf,1,2,"i",9),t.rj2(2,"span"),t.EFF(3),t.eux()()}if(2&c){const l=T.$implicit;t.HbH(l.class||"bg-indigo-600 hover:bg-indigo-700 text-white"),t.R7$(),t.vxM(l.icon?1:-1),t.R7$(2),t.JRh(l.label)}}function lf(c,T){if(1&c&&(t.rj2(0,"div",5),t.Z7z(1,mp,4,4,"button",7,O0),t.eux()),2&c){const l=t.XpG();t.R7$(),t.Dyx(l.actions)}}function wh(c,T){if(1&c&&t.Hgh(0,"img",12),2&c){const l=T.$implicit;t.Avn("src",l.src,t.B4B)("alt",l.alt)}}function uf(c,T){if(1&c&&(t.rj2(0,"span",13),t.EFF(1),t.eux()),2&c){const l=t.XpG(2);t.R7$(),t.JRh(l.migration.moreText)}}function ug(c,T){if(1&c&&t.Hgh(0,"i"),2&c){const l=t.XpG(3);t.HbH(l.migration.action.icon+" mr-2")}}function cg(c,T){if(1&c){const l=t.RV6();t.rj2(0,"div",14)(1,"button",15),t.VwU("click",function(){r.eBV(l);const E=t.XpG(2),P=t.XpG();return r.Njj(P.action.emit(E.migration.action.key))}),t.nVh(2,ug,1,2,"i",9),t.rj2(3,"span"),t.EFF(4),t.eux()()()}if(2&c){const l=t.XpG(2);t.R7$(),t.HbH(l.migration.action.class||"bg-cyan-500 hover:bg-cyan-600 text-white"),t.R7$(),t.vxM(l.migration.action.icon?2:-1),t.R7$(2),t.JRh(l.migration.action.label)}}function V0(c,T){if(1&c&&(t.rj2(0,"div",6)(1,"p",10),t.EFF(2),t.eux(),t.rj2(3,"div",11),t.Z7z(4,wh,1,2,"img",12,L0),t.nVh(6,uf,2,1,"span",13),t.eux(),t.nVh(7,cg,5,4,"div",14),t.eux()),2&c){const l=t.XpG();t.R7$(2),t.JRh(l.migration.title),t.R7$(2),t.Dyx(l.migration.logos),t.R7$(2),t.vxM(l.migration.moreText?6:-1),t.R7$(),t.vxM(l.migration.action?7:-1)}}function U0(c,T){if(1&c&&(t.rj2(0,"div",0),t.nVh(1,B0,1,1,"img",1)(2,gd,1,0,"i",2),t.rj2(3,"h2",3),t.EFF(4),t.eux(),t.rj2(5,"p",4),t.EFF(6),t.eux(),t.nVh(7,lf,3,0,"div",5),t.nVh(8,V0,8,3,"div",6),t.eux()),2&c){const l=T;t.R7$(),t.vxM(l.imageUrl?1:2),t.R7$(3),t.JRh(l.title),t.R7$(2),t.JRh(l.subtitle),t.R7$(),t.vxM(l.actions&&l.actions.length>0?7:-1),t.R7$(),t.vxM(null!=l.migration&&l.migration.enabled?8:-1)}}let H0=(()=>{class c{config=R.hFB.required();action=(0,R.CGW)();static \u0275fac=function(h){return new(h||c)};static \u0275cmp=t.VBU({type:c,selectors:[["app-empty-view"]],inputs:{config:[1,"config"]},outputs:{action:"action"},decls:1,vars:1,consts:[[1,"flex","flex-col","items-center","justify-center","h-full","text-center","p-8"],["alt","",1,"h-40","w-40","mb-6","text-gray-400",3,"src"],[1,"pi","pi-inbox","text-6xl","text-gray-400","mb-6"],[1,"text-2xl","font-semibold","text-gray-800"],[1,"mt-2","max-w-lg","text-gray-600"],[1,"mt-8","flex","items-center","justify-center","gap-4"],[1,"mt-12","p-8","rounded-lg","bg-cyan-50","w-full","max-w-2xl","border","border-cyan-200"],[1,"px-5","py-2.5","text-sm","font-semibold","rounded-md","shadow-sm","focus-visible:outline","focus-visible:outline-2","focus-visible:outline-offset-2","focus-visible:outline-indigo-600","flex","items-center",3,"class"],[1,"px-5","py-2.5","text-sm","font-semibold","rounded-md","shadow-sm","focus-visible:outline","focus-visible:outline-2","focus-visible:outline-offset-2","focus-visible:outline-indigo-600","flex","items-center",3,"click"],[3,"class"],[1,"font-medium","text-gray-700"],[1,"mt-4","flex","justify-center","items-center","gap-6","flex-wrap"],[1,"h-8","object-contain",3,"src","alt"],[1,"text-sm","text-gray-600"],[1,"mt-8"],[1,"px-8","py-2.5","text-sm","font-semibold","rounded-md","shadow-sm","focus-visible:outline","focus-visible:outline-2","focus-visible:outline-offset-2","focus-visible:outline-cyan-600","flex","items-center","mx-auto",3,"click"]],template:function(h,E){if(1&h&&t.nVh(0,U0,9,5,"div",0),2&h){let P;t.vxM((P=E.config())?0:-1,P)}},dependencies:[oe.MD],encapsulation:2,changeDetection:0})}return c})();const _p={user:'<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-5 h-5"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 6a3.75 3.75 0 1 1-7.5 0 3.75 3.75 0 0 1 7.5 0ZM4.501 20.118a7.5 7.5 0 0 1 14.998 0A17.933 17.933 0 0 1 12 21.75c-2.676 0-5.216-.584-7.499-1.632Z" /></svg>',envelope:'<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-5 h-5"><path stroke-linecap="round" stroke-linejoin="round" d="M21.75 6.75v10.5a2.25 2.25 0 0 1-2.25 2.25h-15a2.25 2.25 0 0 1-2.25-2.25V6.75m19.5 0A2.25 2.25 0 0 0 19.5 4.5h-15a2.25 2.25 0 0 0-2.25 2.25m19.5 0v.243a2.25 2.25 0 0 1-1.07 1.916l-7.5 4.615a2.25 2.25 0 0 1-2.36 0L3.32 8.91a2.25 2.25 0 0 1-1.07-1.916V6.75" /></svg>',phone:'<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-5 h-5"><path stroke-linecap="round" stroke-linejoin="round" d="M2.25 6.75c0 8.284 6.716 15 15 15h2.25a2.25 2.25 0 0 0 2.25-2.25v-1.372c0-.516-.351-.966-.852-1.091l-4.423-1.106c-.44-.11-.902.055-1.173.417l-.97 1.293c-.282.376-.769.542-1.21.38a12.035 12.035 0 0 1-7.143-7.143c-.162-.441.004-.928.38-1.21l1.293-.97c.363-.271.527-.734.417-1.173L6.963 3.102a1.125 1.125 0 0 0-1.091-.852H4.5A2.25 2.25 0 0 0 2.25 4.5v2.25Z" /></svg>',lock:'<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-5 h-5"><path stroke-linecap="round" stroke-linejoin="round" d="M16.5 10.5V6.75a4.5 4.5 0 1 0-9 0v3.75m-.75 11.25h10.5a2.25 2.25 0 0 0 2.25-2.25v-6.75a2.25 2.25 0 0 0-2.25-2.25H6.75a2.25 2.25 0 0 0-2.25 2.25v6.75a2.25 2.25 0 0 0 2.25 2.25Z" /></svg>',search:'<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-5 h-5"><path stroke-linecap="round" stroke-linejoin="round" d="m21 21-5.197-5.197m0 0A7.5 7.5 0 1 0 5.196 5.196a7.5 7.5 0 0 0 10.607 10.607Z" /></svg>',eye:'<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-5 h-5"><path stroke-linecap="round" stroke-linejoin="round" d="M2.036 12.322a1.012 1.012 0 0 1 0-.639C3.423 7.51 7.36 4.5 12 4.5c4.638 0 8.573 3.007 9.963 7.178.07.207.07.431 0 .639C20.577 16.49 16.64 19.5 12 19.5c-4.638 0-8.573-3.007-9.963-7.178Z" /><path stroke-linecap="round" stroke-linejoin="round" d="M15 12a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z" /></svg>',eyeSlash:'<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-5 h-5"><path stroke-linecap="round" stroke-linejoin="round" d="M3.98 8.223A10.477 10.477 0 0 0 1.934 12C3.226 16.338 7.244 19.5 12 19.5c.993 0 1.953-.138 2.863-.395M6.228 6.228A10.451 10.451 0 0 1 12 4.5c4.756 0 8.773 3.162 10.065 7.498a10.522 10.522 0 0 1-4.293 5.774M6.228 6.228 3 3m3.228 3.228 3.65 3.65m7.894 7.894L21 21m-3.228-3.228-3.65-3.65m0 0a3 3 0 1 0-4.243-4.243m4.242 4.242L9.88 9.88" /></svg>',calendar:'<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-5 h-5"><path stroke-linecap="round" stroke-linejoin="round" d="M6.75 3v2.25M17.25 3v2.25M3 18.75V7.5a2.25 2.25 0 0 1 2.25-2.25h13.5A2.25 2.25 0 0 1 21 7.5v11.25m-18 0A2.25 2.25 0 0 0 5.25 21h13.5A2.25 2.25 0 0 0 21 18.75m-18 0v-7.5A2.25 2.25 0 0 1 5.25 9h13.5A2.25 2.25 0 0 1 21 11.25v7.5m-9-6h.008v.008H12v-.008ZM12 15h.008v.008H12V15Zm0 2.25h.008v.008H12v-.008ZM9.75 15h.008v.008H9.75V15Zm0 2.25h.008v.008H9.75v-.008ZM7.5 15h.008v.008H7.5V15Zm0 2.25h.008v.008H7.5v-.008Zm6.75-4.5h.008v.008h-.008v-.008Zm0 2.25h.008v.008h-.008V15Zm0 2.25h.008v.008h-.008v-.008Zm2.25-4.5h.008v.008H16.5v-.008Zm0 2.25h.008v.008H16.5V15Z" /></svg>',shieldCheck:'<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-5 h-5"><path stroke-linecap="round" stroke-linejoin="round" d="M9 12.75 11.25 15 15 9.75M21 12c0 1.268-.63 2.39-1.593 3.068a3.745 3.745 0 0 1-1.043 3.296 3.745 3.745 0 0 1-2.104 2.703c-.625.266-1.36.451-2.16.52a25.575 25.575 0 0 1-4.2.067c-.792-.069-1.518-.254-2.128-.52a3.745 3.745 0 0 1-2.115-2.737c-.632-.586-1.059-1.487-1.059-2.398 0-3.351 1.956-6.305 4.965-7.74a1.8 1.8 0 0 1 1.623 0A10.25 10.25 0 0 1 12 6.75a10.25 10.25 0 0 1 5.378-2.673 1.8 1.8 0 0 1 1.623 0c3.009 1.435 4.965 4.39 4.965 7.74 0 .911-.427 1.812-1.059 2.398Z" /></svg>',checkCircle:'<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-5 h-5"><path stroke-linecap="round" stroke-linejoin="round" d="M9 12.75 11.25 15 15 9.75M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z" /></svg>',briefcase:'<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-5 h-5"><path stroke-linecap="round" stroke-linejoin="round" d="M20.25 14.15v4.25c0 1.094-.787 2.036-1.872 2.18-2.087.277-4.216.42-6.378.42s-4.291-.143-6.378-.42c-1.085-.144-1.872-1.086-1.872-2.18v-4.25m16.5 0a2.18 2.18 0 0 0 .75-1.661V8.706c0-1.081-.768-2.015-1.837-2.175a48.114 48.114 0 0 0-3.413-.387m4.5 8.006c-.194.165-.42.295-.673.38A23.978 23.978 0 0 1 12 15.75c-2.648 0-5.195-.429-7.577-1.22a2.016 2.016 0 0 1-.673-.38m0 0A2.18 2.18 0 0 1 2.25 12.489V8.706c0-1.081.768-2.015 1.837-2.175a48.111 48.111 0 0 1 3.413-.387m7.5 0V5.25A2.25 2.25 0 0 0 13.5 3h-3a2.25 2.25 0 0 0-2.25 2.25v.894m7.5 0a48.667 48.667 0 0 0-7.5 0M12 12.75h.008v.008H12v-.008Z" /></svg>',documentText:'<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-5 h-5"><path stroke-linecap="round" stroke-linejoin="round" d="M19.5 14.25v-2.625a3.375 3.375 0 0 0-3.375-3.375h-1.5A1.125 1.125 0 0 1 13.5 7.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H8.25m0 12.75h7.5m-7.5 3H12M10.5 2.25H5.625c-.621 0-1.125.504-1.125 1.125v17.25c0 .621.504 1.125 1.125 1.125h12.75c.621 0 1.125-.504 1.125-1.125V11.25a9 9 0 0 0-9-9Z" /></svg>',cog:'<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-5 h-5"><path stroke-linecap="round" stroke-linejoin="round" d="M9.594 3.94c.09-.542.56-.94 1.11-.94h2.593c.55 0 1.02.398 1.11.94l.213 1.281c.063.374.313.686.645.87.074.04.147.083.22.127.324.196.72.257 1.075.124l1.217-.456a1.125 1.125 0 0 1 1.37.49l1.296 2.247a1.125 1.125 0 0 1-.26 1.431l-1.003.827c-.293.24-.438.613-.431.992a6.759 6.759 0 0 1 0 .255c-.007.378.138.75.43.99l1.005.828c.424.35.534.954.26 1.43l-1.298 2.247a1.125 1.125 0 0 1-1.369.491l-1.217-.456c-.355-.133-.75-.072-1.076.124a6.57 6.57 0 0 1-.22.128c-.331.183-.581.495-.644.869l-.213 1.28c-.09.543-.56.941-1.11.941h-2.594c-.55 0-1.02-.398-1.11-.94l-.213-1.281c-.062-.374-.312-.686-.644-.87a6.52 6.52 0 0 1-.22-.127c-.325-.196-.72-.257-1.076-.124l-1.217.456a1.125 1.125 0 0 1-1.369-.49l-1.297-2.247a1.125 1.125 0 0 1 .26-1.431l1.004-.827c.292-.24.437-.613.43-.992a6.932 6.932 0 0 1 0-.255c.007-.378-.138-.75-.43-.99l-1.004-.828a1.125 1.125 0 0 1-.26-1.43l1.297-2.247a1.125 1.125 0 0 1 1.37-.491l1.216.456c.356.133.751.072 1.076-.124.072-.044.146-.087.22-.128.332-.183.582-.495.644-.869l.214-1.281Z" /><path stroke-linecap="round" stroke-linejoin="round" d="M15 12a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z" /></svg>',trash:'<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-5 h-5"><path stroke-linecap="round" stroke-linejoin="round" d="m14.74 9-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 0 1-2.244 2.077H8.084a2.25 2.25 0 0 1-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 0 0-3.478-.397m-12 .562c.34-.059.68-.114 1.022-.165m0 0a48.11 48.11 0 0 1 3.478-.397m7.5 0v-.916c0-1.18-.91-2.164-2.09-2.201a51.964 51.964 0 0 0-3.32 0c-1.18.037-2.09 1.022-2.09 2.201v.916m7.5 0a48.667 48.667 0 0 0-7.5 0" /></svg>',plus:'<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-5 h-5"><path stroke-linecap="round" stroke-linejoin="round" d="M12 4.5v15m7.5-7.5h-15" /></svg>',bold:'<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-5 h-5"><path stroke-linecap="round" stroke-linejoin="round" d="M6.75 4.5h7.125c3.314 0 6 2.686 6 6 0 1.956-.935 3.69-2.39 4.79C18.935 16.31 19.875 18.044 19.875 20c0 3.314-2.686 6-6 6H6.75A.75.75 0 0 1 6 25.25v-20a.75.75 0 0 1 .75-.75Z" /><path stroke-linecap="round" stroke-linejoin="round" d="M6.75 14.25h5.625c1.657 0 3 1.343 3 3s-1.343 3-3 3H6.75v-6Z" /><path stroke-linecap="round" stroke-linejoin="round" d="M6.75 6h5.625c1.657 0 3 1.343 3 3s-1.343 3-3 3H6.75v-6Z" /></svg>',italic:'<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-5 h-5"><path stroke-linecap="round" stroke-linejoin="round" d="M5.25 4.5h3.75a.75.75 0 0 1 .75.75v.75a.75.75 0 0 1-.75.75H6.557l4.606 10.5h1.587a.75.75 0 0 1 .75.75v.75a.75.75 0 0 1-.75.75H8.25a.75.75 0 0 1-.75-.75v-.75a.75.75 0 0 1 .75-.75h2.443L6.087 6H4.5a.75.75 0 0 1-.75-.75v-.75a.75.75 0 0 1 .75-.75Z" /></svg>',underline:'<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-5 h-5"><path stroke-linecap="round" stroke-linejoin="round" d="M17.25 4.5v7.125a5.25 5.25 0 1 1-10.5 0V4.5M3 19.5h18" /></svg>',strikethrough:'<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-5 h-5"><path stroke-linecap="round" stroke-linejoin="round" d="M3.75 12h16.5m-16.5 3.75h16.5M3.75 19.5h16.5M5.625 4.5h12.75a1.875 1.875 0 0 1 0 3.75H5.625a1.875 1.875 0 0 1 0-3.75Z" /></svg>',subscript:'<svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" class="w-5 h-5"><path stroke-linecap="round" stroke-linejoin="round" d="M18 18h2v2h-2zm-3-5l-4 4m0-4l4 4M5 7h8v10H5z" /></svg>',superscript:'<svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" class="w-5 h-5"><path stroke-linecap="round" stroke-linejoin="round" d="M18 6h2v2h-2zm-3 5l-4 4m0-4l4 4M5 17h8V7H5z" /></svg>',fontColor:'<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-5 h-5"><path stroke-linecap="round" stroke-linejoin="round" d="M9.75 3.75H14.25L20.25 18H18L16.5 14.25H7.5L6 18H3.75L9.75 3.75ZM8.25 12H15.75L12 5.25L8.25 12Z" /><path stroke-linecap="round" stroke-linejoin="round" d="M3 21H21" stroke="currentColor" stroke-width="3" /></svg>',highlight:'<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-5 h-5"><path stroke-linecap="round" stroke-linejoin="round" d="M16.862 3.487a2.25 2.25 0 1 1 3.182 3.182L7.394 19.319l-4.144 1.243 1.243-4.144L16.862 3.487Z" /><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 19.5h5.25" /></svg>',listBullet:'<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-5 h-5"><path stroke-linecap="round" stroke-linejoin="round" d="M8.25 6.75h12M8.25 12h12m-12 5.25h12M3.75 6.75h.007v.008H3.75V6.75Zm.375 0a.375.375 0 1 1-.75 0 .375.375 0 0 1 .75 0ZM3.75 12h.007v.008H3.75V12Zm.375 0a.375.375 0 1 1-.75 0 .375.375 0 0 1 .75 0ZM3.75 17.25h.007v.008H3.75v-.008Zm.375 0a.375.375 0 1 1-.75 0 .375.375 0 0 1 .75 0Z" /></svg>',listOrdered:'<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-5 h-5"><path stroke-linecap="round" stroke-linejoin="round" d="M10.5 6h9.75M10.5 12h9.75m-9.75 6h9.75M4.5 6h.75M4.5 12h.75m-1.5 6h1.5" /></svg>',undo:'<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-5 h-5"><path stroke-linecap="round" stroke-linejoin="round" d="M9 15 3 9m0 0 6-6M3 9h12a6 6 0 0 1 0 12h-3" /></svg>',redo:'<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-5 h-5"><path stroke-linecap="round" stroke-linejoin="round" d="m15 15 6-6m0 0-6-6m6 6H9a6 6 0 0 0 0 12h3" /></svg>',code:'<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-6 h-6"><path stroke-linecap="round" stroke-linejoin="round" d="M17.25 6.75 22.5 12l-5.25 5.25m-10.5 0L1.5 12l5.25-5.25m7.5-3-4.5 16.5" /></svg>',inlineCode:'<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-5 h-5"><path stroke-linecap="round" stroke-linejoin="round" d="M14.25 9.75L16.5 12l-2.25 2.25m-4.5 0L7.5 12l2.25-2.25M6 20.25h12A2.25 2.25 0 0020.25 18V6A2.25 2.25 0 0018 3.75H6A2.25 2.25 0 003.75 6v12A2.25 2.25 0 006 20.25z" /></svg>',alignLeft:'<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-5 h-5"><path stroke-linecap="round" stroke-linejoin="round" d="M3.75 6.75h16.5M3.75 12h16.5m-16.5 5.25H12" /></svg>',alignCenter:'<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-5 h-5"><path stroke-linecap="round" stroke-linejoin="round" d="M3.75 6.75h16.5M3.75 12h16.5m-16.5 5.25h16.5" /></svg>',alignRight:'<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-5 h-5"><path stroke-linecap="round" stroke-linejoin="round" d="M3.75 6.75h16.5M3.75 12h16.5m-16.5 5.25h16.5" /></svg>',alignJustify:'<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-5 h-5"><path stroke-linecap="round" stroke-linejoin="round" d="M3.75 6.75h16.5M3.75 12h16.5m-16.5 5.25h16.5" /></svg>',indent:'<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-5 h-5"><path stroke-linecap="round" stroke-linejoin="round" d="M3.75 6.75h16.5M3.75 12h16.5m-16.5 5.25H12m-1.5-5.25 3 3m0 0-3 3m3-3h-7.5" /></svg>',outdent:'<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-5 h-5"><path stroke-linecap="round" stroke-linejoin="round" d="M3.75 6.75h16.5M3.75 12h16.5m-16.5 5.25H12m9-5.25-3 3m0 0 3 3m-3-3h7.5" /></svg>',language:'<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-5 h-5"><path stroke-linecap="round" stroke-linejoin="round" d="m10.5 21 5.25-11.25L21 21m-9-3h7.5M3 5.621a48.474 48.474 0 0 1 6-.371m0 0c1.12 0 2.233.038 3.334.114M9 5.25V3m3.334 2.364C11.176 10.658 7.69 15.08 3 17.502m9.334-12.138c.896.061 1.785.147 2.666.257m-4.589 8.495a18.023 18.023 0 0 1-3.827-5.802" /></svg>',magic:'<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-5 h-5"><path stroke-linecap="round" stroke-linejoin="round" d="M9.813 15.904 9 18.75l-.813-2.846a4.5 4.5 0 0 0-3.09-3.09L2.25 12l2.846-.813a4.5 4.5 0 0 0 3.09-3.09L9 5.25l.813 2.846a4.5 4.5 0 0 0 3.09 3.09L15.75 12l-2.846.813a4.5 4.5 0 0 0-3.09 3.09ZM18.259 8.715 18 9.75l-.259-1.035a3.375 3.375 0 0 0-2.455-2.456L14.25 6l1.036-.259a3.375 3.375 0 0 0 2.455-2.456L18 2.25l.259 1.035a3.375 3.375 0 0 0 2.456 2.456L21.75 6l-1.035.259a3.375 3.375 0 0 0-2.456 2.456ZM16.894 20.567 16.5 21.75l-.394-1.183a2.25 2.25 0 0 0-1.423-1.423L13.5 18.75l1.183-.394a2.25 2.25 0 0 0 1.423-1.423l.394-1.183.394 1.183a2.25 2.25 0 0 0 1.423 1.423l1.183.394-1.183.394a2.25 2.25 0 0 0-1.423 1.423Z" /></svg>',layers:'<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-5 h-5"><path stroke-linecap="round" stroke-linejoin="round" d="M6.429 9.75 2.25 12l4.179 2.25m0-4.5 5.571 3 5.571-3m-11.142 0L2.25 7.5 12 2.25l9.75 5.25-4.179 2.25m0 0L21.75 12l-4.179 2.25m0 0 4.179 2.25L12 21.75 2.25 16.5l4.179-2.25m11.142 0-5.571 3-5.571-3" /></svg>',tag:'<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-5 h-5"><path stroke-linecap="round" stroke-linejoin="round" d="M9.568 3H5.25A2.25 2.25 0 0 0 3 5.25v4.318c0 .597.237 1.17.659 1.591l9.581 9.581c.699.699 1.78.872 2.607.33a18.095 18.095 0 0 0 5.223-5.223c.542-.827.369-1.908-.33-2.607L11.16 3.66A2.25 2.25 0 0 0 9.568 3Z" /><path stroke-linecap="round" stroke-linejoin="round" d="M6 6h.008v.008H6V6Z" /></svg>',percent:'<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-5 h-5"><path stroke-linecap="round" stroke-linejoin="round" d="M9.813 15.904 9 18.75l-.813-2.846a4.5 4.5 0 0 0-3.09-3.09L2.25 12l2.846-.813a4.5 4.5 0 0 0 3.09-3.09L9 5.25l.813 2.846a4.5 4.5 0 0 0 3.09 3.09L15.75 12l-2.846.813a4.5 4.5 0 0 0-3.09 3.09ZM18.259 8.715 18 9.75l-.259-1.035a3.375 3.375 0 0 0-2.455-2.456L14.25 6l1.036-.259a3.375 3.375 0 0 0 2.455-2.456L18 2.25l.259 1.035a3.375 3.375 0 0 0 2.456 2.456L21.75 6l-1.035.259a3.375 3.375 0 0 0-2.456 2.456ZM16.894 20.567 16.5 21.75l-.394-1.183a2.25 2.25 0 0 0-1.423-1.423L13.5 18.75l1.183-.394a2.25 2.25 0 0 0 1.423-1.423l.394-1.183.394 1.183a2.25 2.25 0 0 0 1.423 1.423l1.183.394-1.183.394a2.25 2.25 0 0 0-1.423 1.423Z" /></svg>',cursor:'<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-5 h-5"><path stroke-linecap="round" stroke-linejoin="round" d="M15.042 21.672 13.684 16.6m0 0-2.51 2.225.569-9.47 5.227 7.917-3.286-.672ZM12 2.25V4.5m5.834.166-1.591 1.591M20.25 10.5H18M7.757 14.743l-1.59 1.59M6 10.5H3.75m4.007-4.243l-1.59-1.59" /></svg>',chevronRight:'<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-5 h-5"><path stroke-linecap="round" stroke-linejoin="round" d="m8.25 4.5 7.5 7.5-7.5 7.5" /></svg>'},dg={sync:{prime:"pi pi-sync",fontawesome:"fa-solid fa-sync",material:"sync"},spinner:{prime:"pi pi-spin pi-spinner",fontawesome:"fa-solid fa-spinner fa-spin",material:"autorenew"},filter:{prime:"pi pi-filter",fontawesome:"fa-solid fa-filter",material:"filter_list"},tag:{prime:"pi pi-tag",fontawesome:"fa-solid fa-tag",material:"local_offer"},table:{prime:"pi pi-table",fontawesome:"fa-solid fa-table",material:"table_chart"},freeze:{prime:"pi pi-snowflake",fontawesome:"fa-regular fa-snowflake",material:"ac_unit"},columns:{prime:"pi pi-th-large",fontawesome:"fa-solid fa-table-columns",material:"view_column"},database:{prime:"pi pi-database",fontawesome:"fa-solid fa-database",material:"storage"},download:{prime:"pi pi-download",fontawesome:"fa-solid fa-download",material:"download"},eye:{prime:"pi pi-eye",fontawesome:"fa-regular fa-eye",material:"visibility"},sparkles:{prime:"pi pi-sparkles",fontawesome:"fa-solid fa-wand-magic-sparkles",material:"auto_awesome"},add:{prime:"pi pi-plus",fontawesome:"fa-solid fa-plus",material:"add"},search:{prime:"pi pi-search",fontawesome:"fa-solid fa-search",material:"search"},"chevron-down":{prime:"pi pi-chevron-down",fontawesome:"fa-solid fa-chevron-down",material:"expand_more"},calendar:{prime:"pi pi-calendar",fontawesome:"fa-regular fa-calendar",material:"calendar_today"},user:{prime:"pi pi-user",fontawesome:"fa-regular fa-user",material:"person"},check:{prime:"pi pi-check",fontawesome:"fa-solid fa-check",material:"check"},times:{prime:"pi pi-times",fontawesome:"fa-solid fa-times",material:"close"},trash:{prime:"pi pi-trash",fontawesome:"fa-solid fa-trash",material:"delete"},pencil:{prime:"pi pi-pencil",fontawesome:"fa-solid fa-pencil",material:"edit"},refresh:{prime:"pi pi-refresh",fontawesome:"fa-solid fa-rotate",material:"refresh"},home:{prime:"pi pi-home",fontawesome:"fa-solid fa-home",material:"home"},cog:{prime:"pi pi-cog",fontawesome:"fa-solid fa-cog",material:"settings"},envelope:{prime:"pi pi-envelope",fontawesome:"fa-solid fa-envelope",material:"email"},lock:{prime:"pi pi-lock",fontawesome:"fa-solid fa-lock",material:"lock"},folder:{prime:"pi pi-folder",fontawesome:"fa-solid fa-folder",material:"folder"},file:{prime:"pi pi-file",fontawesome:"fa-solid fa-file",material:"description"},list:{prime:"pi pi-list",fontawesome:"fa-solid fa-list",material:"list"},bars:{prime:"pi pi-bars",fontawesome:"fa-solid fa-bars",material:"menu"},"ellipsis-v":{prime:"pi pi-ellipsis-v",fontawesome:"fa-solid fa-ellipsis-vertical",material:"more_vert"},"ellipsis-h":{prime:"pi pi-ellipsis-h",fontawesome:"fa-solid fa-ellipsis",material:"more_horiz"}};class vp{static getIcon(T,l="prime"){if(!T)return{class:"",type:l};const h=dg[T];return h?"prime"===l&&h.prime?{class:h.prime,type:"prime"}:"fontawesome"===l&&h.fontawesome?{class:h.fontawesome,type:"fontawesome"}:"material"===l&&h.material?{class:h.material,type:"material"}:"svg"===l&&h.svg?{content:h.svg,type:"svg"}:h.prime?{class:h.prime,type:"prime"}:h.fontawesome?{class:h.fontawesome,type:"fontawesome"}:h.material?{class:h.material,type:"material"}:h.svg?{content:h.svg,type:"svg"}:{class:"",type:l}:"svg"===l&&_p[T]?{content:_p[T],type:"svg"}:{class:"",type:l}}}const fg=(c,T)=>[c,T];function hg(c,T){if(1&c&&t.nrm(0,"span",6),2&c){const l=t.XpG(2);t.HbH(l.iconSizeClass()),t.Y8G("innerHTML",l.sanitizedIconHtml(),t.npT)}}function j0(c,T){if(1&c&&t.nrm(0,"i"),2&c){const l=t.XpG(),h=t.XpG();t.HbH(l.class+" "+h.fontSizeClass()),t.xc7("font-size",h.customIconSize())}}function G0(c,T){1&c&&t.nVh(0,hg,1,3,"span",4)(1,j0,1,4,"i",5),2&c&&t.vxM("svg"===T.type&&T.content?0:T.class?1:-1)}function $0(c,T){if(1&c&&(t.j41(0,"span"),t.EFF(1),t.k0s()),2&c){const l=t.XpG();t.R7$(),t.JRh(l.label())}}function W0(c,T){if(1&c&&(t.j41(0,"kbd",7),t.EFF(1),t.k0s()),2&c){const l=t.XpG();t.AVh("text-[10px]","sm"===l.size())("text-xs","sm"!==l.size()),t.R7$(),t.SpI(" ",l.shortcut()," ")}}function z0(c,T){if(1&c&&t.nrm(0,"span",10),2&c){const l=t.XpG(2);t.AVh("rotate-180",l.endIconRotate()),t.Y8G("innerHTML",l.sanitizedEndIconHtml(),t.npT)}}function G_(c,T){if(1&c&&t.nrm(0,"i"),2&c){const l=t.XpG(),h=t.XpG();t.HbH(l.class),t.AVh("ml-1",!0)("text-xs",!0)("transition-transform",!0)("rotate-180",h.endIconRotate())}}function yp(c,T){1&c&&t.nVh(0,z0,1,3,"span",8)(1,G_,1,10,"i",9),2&c&&t.vxM("svg"===T.type&&T.content?0:T.class?1:-1)}function Cp(c,T){1&c&&t.nrm(0,"div",3)}let pg=(()=>{class c{icon=(0,R.hFB)();iconClass=(0,R.hFB)();iconName=(0,R.hFB)();iconType=(0,R.hFB)("prime");endIconName=(0,R.hFB)();customSize=(0,R.hFB)();customIconSize=(0,R.hFB)();customColor=(0,R.hFB)();customBgColor=(0,R.hFB)();label=(0,R.hFB)();showLabel=(0,R.hFB)(!0);shortcut=(0,R.hFB)();endIconClass=(0,R.hFB)();endIconRotate=(0,R.hFB)(!1);size=(0,R.hFB)("sm");color=(0,R.hFB)("default");withSeparator=(0,R.hFB)(!1);active=(0,R.hFB)(!1);disabled=(0,R.hFB)(!1);clicked=(0,R.CGW)();sanitizer=(0,r.WQX)(Xi.up);resolvedIcon=(0,ve.EW)(()=>this.iconClass()?{class:this.iconClass(),type:"prime"}:this.iconName()?vp.getIcon(this.iconName(),this.iconType()):this.icon()?{content:_p[this.icon()],type:"svg"}:{class:"",type:"prime"});resolvedEndIcon=(0,ve.EW)(()=>this.endIconClass()?{class:this.endIconClass(),type:"prime"}:this.endIconName()?vp.getIcon(this.endIconName(),this.iconType()):null);sanitizedIconHtml=(0,ve.EW)(()=>{const l=this.resolvedIcon();if("svg"===l.type&&l.content){let h=l.content;return h=h.replace(/class="([^"]*)"/,(E,P)=>`class="${P.replace(/w-\d+/,"").replace(/h-\d+/,"")} w-full h-full"`),this.sanitizer.bypassSecurityTrustHtml(h)}return null});sanitizedEndIconHtml=(0,ve.EW)(()=>{const l=this.resolvedEndIcon();return"svg"===l?.type&&l.content?this.sanitizer.bypassSecurityTrustHtml(l.content):null});constructor(){}sizeClasses=(0,ve.EW)(()=>{if(this.customSize())return"";switch(this.size()){case"lg":return"px-4 py-2 text-sm";case"md":return"px-3 py-1.5 text-xs";default:return"px-2 py-1 text-[11px]"}});colorClasses=(0,ve.EW)(()=>{if(this.customBgColor())return"";if(this.active())return"bg-indigo-50 border-indigo-200 text-indigo-700 hover:bg-indigo-100 hover:border-indigo-300";switch(this.color()){case"primary":return"bg-indigo-600 border-indigo-600 text-white hover:bg-indigo-700 hover:border-indigo-700";case"danger":return"bg-red-50 border-red-200 text-red-700 hover:bg-red-100 hover:border-red-300";default:return"bg-white border-gray-200 text-gray-700 hover:bg-gray-50 hover:border-gray-300"}});iconSizeClass=(0,ve.EW)(()=>{switch(this.size()){case"lg":return"w-5 h-5";case"md":return"w-4 h-4";default:return"w-3.5 h-3.5"}});fontSizeClass=(0,ve.EW)(()=>{if(this.customIconSize())return"";switch(this.size()){case"lg":return"text-lg";case"md":return"text-base";default:return"text-sm"}});static \u0275fac=function(h){return new(h||c)};static \u0275cmp=t.VBU({type:c,selectors:[["app-toolbar-button"]],inputs:{icon:[1,"icon"],iconClass:[1,"iconClass"],iconName:[1,"iconName"],iconType:[1,"iconType"],endIconName:[1,"endIconName"],customSize:[1,"customSize"],customIconSize:[1,"customIconSize"],customColor:[1,"customColor"],customBgColor:[1,"customBgColor"],label:[1,"label"],showLabel:[1,"showLabel"],shortcut:[1,"shortcut"],endIconClass:[1,"endIconClass"],endIconRotate:[1,"endIconRotate"],size:[1,"size"],color:[1,"color"],withSeparator:[1,"withSeparator"],active:[1,"active"],disabled:[1,"disabled"]},outputs:{clicked:"clicked"},decls:7,vars:25,consts:[[1,"flex","items-center","gap-2"],["type","button",1,"flex","items-center","gap-1.5","rounded","shadow-sm","border","active:scale-95","transition-all","font-medium","select-none","justify-center",3,"click","ngClass","title","disabled"],[1,"hidden","sm:inline-block","ml-1","px-1","py-0.5","leading-none","font-sans","bg-white/50","border","border-black/10","rounded-sm","opacity-60",3,"text-[10px]","text-xs"],[1,"h-5","w-px","bg-gray-300","mx-1"],[3,"innerHTML","class"],[3,"class","fontSize"],[3,"innerHTML"],[1,"hidden","sm:inline-block","ml-1","px-1","py-0.5","leading-none","font-sans","bg-white/50","border","border-black/10","rounded-sm","opacity-60"],[1,"transition-transform","ml-1","w-3","h-3","flex","items-center","justify-center",3,"innerHTML","rotate-180"],[3,"class","ml-1","text-xs","transition-transform","rotate-180"],[1,"transition-transform","ml-1","w-3","h-3","flex","items-center","justify-center",3,"innerHTML"]],template:function(h,E){if(1&h&&(t.j41(0,"div",0)(1,"button",1),t.bIt("click",function(te){return E.clicked.emit(te)}),t.nVh(2,G0,2,1),t.nVh(3,$0,2,1,"span"),t.nVh(4,W0,2,5,"kbd",2),t.nVh(5,yp,2,1),t.k0s(),t.nVh(6,Cp,1,0,"div",3),t.k0s()),2&h){let P,te;t.R7$(),t.xc7("width",E.customSize())("height",E.customSize())("color",E.customColor())("background-color",E.customBgColor())("border-color",E.customBgColor()),t.AVh("opacity-50",E.disabled())("cursor-not-allowed",E.disabled()),t.Y8G("ngClass",t.l_i(22,fg,E.sizeClasses(),E.colorClasses()))("title",E.label()||"")("disabled",E.disabled()),t.R7$(),t.vxM((P=E.resolvedIcon())?2:-1,P),t.R7$(),t.vxM(E.label()&&E.showLabel()?3:-1),t.R7$(),t.vxM(E.shortcut()?4:-1),t.R7$(),t.vxM((te=E.resolvedEndIcon())?5:-1,te),t.R7$(),t.vxM(E.withSeparator()?6:-1)}},dependencies:[oe.MD,oe.YU],encapsulation:2})}return c})();const Ep=["scrollContainer"],K0=()=>[1,2,3,4,5,6],gg=(c,T)=>T.key,mg=(c,T)=>T.name;function X0(c,T){if(1&c){const l=t.RV6();t.j41(0,"app-toolbar-button",40),t.bIt("clicked",function(){r.eBV(l);const E=t.XpG().$implicit,P=t.XpG(2);return r.Njj(P.handleToolbarAction(E.key))}),t.k0s()}if(2&c){const l=t.XpG().$implicit,h=t.XpG();t.Y8G("iconClass",l.icon)("label",l.label)("showLabel","iconOnly"!==h.config.toolbarButtonMode)("color","add:contacts"===l.key?"primary":"default")("title",l.label)}}function Rc(c,T){if(1&c&&t.nVh(0,X0,1,5,"app-toolbar-button",39),2&c){const l=T.$implicit;t.vxM("toggle:config-sidebar"!==l.key&&"refresh"!==l.key&&"toggle:filter-sidebar"!==l.key?0:-1)}}function $f(c,T){1&c&&t.nrm(0,"i",45)}function aa(c,T){if(1&c){const l=t.RV6();t.j41(0,"a",48),t.bIt("click",function(){r.eBV(l);const E=t.XpG(3);return E.showAddChipModal.set(!0),r.Njj(E.showFilterMenu.set(!1))}),t.nrm(1,"i",49),t.j41(2,"span"),t.EFF(3,"Add Summary Chip"),t.k0s()()}}function Ld(c,T){1&c&&t.nrm(0,"i",45)}function Th(c,T){if(1&c){const l=t.RV6();t.j41(0,"a",42),t.bIt("click",function(){r.eBV(l);const E=t.XpG(3);return E.showColumnChooser.set(!E.showColumnChooser()),r.Njj(E.showFilterMenu.set(!1))}),t.j41(1,"span",43),t.nrm(2,"i",50),t.EFF(3," Columns"),t.k0s(),t.nVh(4,Ld,1,0,"i",45),t.k0s()}if(2&c){const l=t.XpG(3);t.R7$(4),t.vxM(l.showColumnChooser()?4:-1)}}function ec(c,T){if(1&c){const l=t.RV6();t.j41(0,"div",15)(1,"div",41)(2,"a",42),t.bIt("click",function(){r.eBV(l);const E=t.XpG(2);return E.handleToolbarAction("toggle:filter-sidebar"),r.Njj(E.showFilterMenu.set(!1))}),t.j41(3,"span",43),t.nrm(4,"i",44),t.EFF(5," Advanced Filters"),t.k0s(),t.nVh(6,$f,1,0,"i",45),t.k0s(),t.nVh(7,aa,4,0,"a",46),t.nVh(8,Th,5,1,"a",47),t.k0s()()}if(2&c){const l=t.XpG(),h=t.XpG();t.R7$(6),t.vxM(h.showFilterSidebar()?6:-1),t.R7$(),t.vxM(l.config.enableChipFilters?7:-1),t.R7$(),t.vxM(l.config.enableColumnChooser?8:-1)}}function _g(c,T){if(1&c){const l=t.RV6();t.j41(0,"app-column-chooser",51),t.bIt("visibilityChange",function(E){r.eBV(l);const P=t.XpG(2);return r.Njj(P.toggleColumnVisibility(E))})("orderChange",function(E){r.eBV(l);const P=t.XpG(2);return r.Njj(P.handleAllColumnsOrderChange(E))}),t.k0s()}if(2&c){const l=t.XpG(2);t.Y8G("allColumns",l.chooserColumns())("visibleColumns",l.visibleTableColumns())}}function $c(c,T){1&c&&t.nrm(0,"div",17)}function vg(c,T){1&c&&t.nrm(0,"i",45)}function Sh(c,T){if(1&c){const l=t.RV6();t.j41(0,"a",42),t.bIt("click",function(){const E=r.eBV(l).$implicit,P=t.XpG(4);return P.handleCardsPerRowChange(E),r.Njj(P.showCardsPerRowChooser.set(!1))}),t.j41(1,"span"),t.EFF(2),t.k0s(),t.nVh(3,vg,1,0,"i",45),t.k0s()}if(2&c){const l=T.$implicit,h=t.XpG(3);t.R7$(2),t.Lme("",l," ",1===l?"Card":"Cards"," / row"),t.R7$(),t.vxM(((null==h.config.cardViewConfig?null:h.config.cardViewConfig.cardsPerRow)??4)===l?3:-1)}}function q0(c,T){1&c&&(t.j41(0,"div",53)(1,"div",41),t.Z7z(2,Sh,4,3,"a",47,t.fX1),t.k0s()()),2&c&&(t.R7$(2),t.Dyx(t.lJ4(0,K0)))}function Y0(c,T){if(1&c){const l=t.RV6();t.j41(0,"div",13),t.bIt("clickOutside",function(){r.eBV(l);const E=t.XpG(2);return r.Njj(E.showCardsPerRowChooser.set(!1))}),t.j41(1,"app-toolbar-button",52),t.bIt("clicked",function(){r.eBV(l);const E=t.XpG(2);return r.Njj(E.showCardsPerRowChooser.set(!E.showCardsPerRowChooser()))}),t.k0s(),t.nVh(2,q0,4,1,"div",53),t.k0s()}if(2&c){const l=t.XpG(),h=t.XpG();t.R7$(),t.Y8G("label",((null==l.config.cardViewConfig?null:l.config.cardViewConfig.cardsPerRow)??4)+" Cards")("active",h.showCardsPerRowChooser()),t.R7$(),t.vxM(h.showCardsPerRowChooser()?2:-1)}}function yg(c,T){if(1&c){const l=t.RV6();t.j41(0,"div",20)(1,"div",41)(2,"a",55),t.bIt("click",function(){r.eBV(l);const E=t.XpG(3);return r.Njj(E.handleFreezeColumns(0))}),t.EFF(3,"Unfreeze All"),t.k0s(),t.j41(4,"a",55),t.bIt("click",function(){r.eBV(l);const E=t.XpG(3);return r.Njj(E.handleFreezeColumns(1))}),t.EFF(5,"Freeze 1 Column"),t.k0s(),t.j41(6,"a",55),t.bIt("click",function(){r.eBV(l);const E=t.XpG(3);return r.Njj(E.handleFreezeColumns(2))}),t.EFF(7,"Freeze 2 Columns"),t.k0s(),t.j41(8,"a",55),t.bIt("click",function(){r.eBV(l);const E=t.XpG(3);return r.Njj(E.handleFreezeColumns(3))}),t.EFF(9,"Freeze 3 Columns"),t.k0s()()()}}function Q0(c,T){if(1&c){const l=t.RV6();t.j41(0,"div",13),t.bIt("clickOutside",function(){r.eBV(l);const E=t.XpG(2);return r.Njj(E.showFreezeOptions.set(!1))}),t.j41(1,"app-toolbar-button",54),t.bIt("clicked",function(){r.eBV(l);const E=t.XpG(2);return r.Njj(E.showFreezeOptions.set(!E.showFreezeOptions()))}),t.k0s(),t.nVh(2,yg,10,0,"div",20),t.k0s()}if(2&c){const l=t.XpG(2);t.R7$(),t.Y8G("active",l.showFreezeOptions()),t.R7$(),t.vxM(l.showFreezeOptions()?2:-1)}}function J0(c,T){1&c&&t.nrm(0,"i",45)}function cf(c,T){if(1&c){const l=t.RV6();t.j41(0,"a",57),t.bIt("click",function(){const E=r.eBV(l).$implicit,P=t.XpG(3);return P.changeDataStrategy(E),r.Njj(P.showStrategyChooser.set(!1))}),t.j41(1,"span"),t.EFF(2),t.k0s(),t.nVh(3,J0,1,0,"i",45),t.k0s()}if(2&c){const l=T.$implicit,h=t.XpG(2),E=t.XpG();t.Y8G("title",E.strategyDescriptions[l]),t.R7$(2),t.JRh(l),t.R7$(),t.vxM(h.config.dataStrategy===l?3:-1)}}function $_(c,T){if(1&c&&(t.j41(0,"div",20)(1,"div",41),t.Z7z(2,cf,4,3,"a",56,t.fX1),t.k0s()()),2&c){const l=t.XpG(2);t.R7$(2),t.Dyx(l.dataStrategies)}}function Wc(c,T){if(1&c){const l=t.RV6();t.j41(0,"a",48),t.bIt("click",function(){const E=r.eBV(l).$implicit,P=t.XpG(4);return r.Njj(P.handleExport(E.key))}),t.nrm(1,"i"),t.j41(2,"span"),t.EFF(3),t.k0s()()}if(2&c){const l=T.$implicit;t.R7$(),t.HbH(l.icon),t.R7$(2),t.JRh(l.label)}}function Z0(c,T){if(1&c&&(t.j41(0,"div",53)(1,"div",41),t.Z7z(2,Wc,4,3,"a",46,gg),t.k0s()()),2&c){const l=t.XpG(2);t.R7$(2),t.Dyx(l.config.exportConfig.options)}}function em(c,T){if(1&c){const l=t.RV6();t.j41(0,"div",13),t.bIt("clickOutside",function(){r.eBV(l);const E=t.XpG(2);return r.Njj(E.showExportOptions.set(!1))}),t.j41(1,"app-toolbar-button",58),t.bIt("clicked",function(){r.eBV(l);const E=t.XpG(2);return r.Njj(E.showExportOptions.set(!E.showExportOptions()))}),t.k0s(),t.nVh(2,Z0,4,0,"div",53),t.k0s()}if(2&c){const l=t.XpG(2);t.R7$(),t.Y8G("endIconRotate",l.showExportOptions())("active",l.showExportOptions()),t.R7$(),t.vxM(l.showExportOptions()?2:-1)}}function tm(c,T){if(1&c){const l=t.RV6();t.j41(0,"a",48),t.bIt("click",function(){r.eBV(l);const E=t.XpG(3);return E.handleManualSync(),r.Njj(E.showViewOptions.set(!1))}),t.nrm(1,"i",69),t.j41(2,"span"),t.EFF(3),t.k0s()(),t.nrm(4,"div",62)}if(2&c){const l=t.XpG(3);t.R7$(),t.AVh("pi-spin",l.syncService.isSyncing())("pi-spinner",l.syncService.isSyncing())("pi-sync",!l.syncService.isSyncing()),t.R7$(2),t.JRh(l.syncService.isSyncing()?"Syncing...":"Refresh Data")}}function Cg(c,T){if(1&c){const l=t.RV6();t.j41(0,"button",70),t.bIt("click",function(){const E=r.eBV(l).$implicit,P=t.XpG(3);return r.Njj(P.setDensity(E.name))}),t.nrm(1,"i",69),t.j41(2,"span"),t.EFF(3),t.nI1(4,"titlecase"),t.k0s()()}if(2&c){const l=T.$implicit,h=t.XpG(3);t.AVh("bg-indigo-50",h.currentDensity()===l.name)("border-indigo-200",h.currentDensity()===l.name)("text-indigo-700",h.currentDensity()===l.name)("border-gray-200",h.currentDensity()!==l.name),t.R7$(),t.HbH(h.getDensityIcon(l.name)),t.R7$(2),t.JRh(t.bMT(4,11,l.name))}}function Eg(c,T){1&c&&t.nrm(0,"i",45)}function nm(c,T){1&c&&t.nrm(0,"i",45)}function rm(c,T){1&c&&t.nrm(0,"i",45)}function W_(c,T){1&c&&t.nrm(0,"i",45)}function bg(c,T){1&c&&t.nrm(0,"i",45)}function im(c,T){if(1&c){const l=t.RV6();t.j41(0,"div",23)(1,"div",41),t.nVh(2,tm,5,7),t.j41(3,"div",59),t.EFF(4,"Row Sizing"),t.k0s(),t.j41(5,"div",60),t.Z7z(6,Cg,5,13,"button",61,mg),t.k0s(),t.nrm(8,"div",62),t.j41(9,"div",59),t.EFF(10,"View Mode"),t.k0s(),t.j41(11,"a",42),t.bIt("click",function(){r.eBV(l);const E=t.XpG(2);return r.Njj(E.changeView("table"))}),t.j41(12,"span",43),t.nrm(13,"i",63),t.EFF(14," Table"),t.k0s(),t.nVh(15,Eg,1,0,"i",45),t.k0s(),t.j41(16,"a",42),t.bIt("click",function(){r.eBV(l);const E=t.XpG(2);return r.Njj(E.changeView("card"))}),t.j41(17,"span",43),t.nrm(18,"i",64),t.EFF(19," Card"),t.k0s(),t.nVh(20,nm,1,0,"i",45),t.k0s(),t.j41(21,"a",42),t.bIt("click",function(){r.eBV(l);const E=t.XpG(2);return r.Njj(E.changeView("list"))}),t.j41(22,"span",43),t.nrm(23,"i",65),t.EFF(24," List"),t.k0s(),t.nVh(25,rm,1,0,"i",45),t.k0s(),t.nrm(26,"div",62),t.j41(27,"a",42),t.bIt("click",function(){r.eBV(l);const E=t.XpG(2);return r.Njj(E.changeView("bi"))}),t.j41(28,"span",43),t.nrm(29,"i",66),t.EFF(30," BI Dashboard"),t.k0s(),t.nVh(31,W_,1,0,"i",45),t.k0s(),t.j41(32,"a",42),t.bIt("click",function(){r.eBV(l);const E=t.XpG(2);return r.Njj(E.changeView("calendar"))}),t.j41(33,"span",43),t.nrm(34,"i",67),t.EFF(35," Calendar"),t.k0s(),t.nVh(36,bg,1,0,"i",45),t.k0s(),t.nrm(37,"div",62),t.j41(38,"a",48),t.bIt("click",function(){r.eBV(l);const E=t.XpG(2);return r.Njj(E.resetViewAndFilters())}),t.nrm(39,"i",68),t.j41(40,"span"),t.EFF(41,"Reset View & Filters"),t.k0s()()()()}if(2&c){const l=t.XpG(),h=t.XpG();t.R7$(2),t.vxM("SYNC"===l.config.dataStrategy?2:-1),t.R7$(4),t.Dyx(l.config.sizerConfig.densities),t.R7$(9),t.vxM("table"===h.viewMode()?15:-1),t.R7$(5),t.vxM("card"===h.viewMode()?20:-1),t.R7$(5),t.vxM("list"===h.viewMode()?25:-1),t.R7$(6),t.vxM("bi"===h.viewMode()?31:-1),t.R7$(5),t.vxM("calendar"===h.viewMode()?36:-1)}}function om(c,T){if(1&c){const l=t.RV6();t.j41(0,"div",15)(1,"div",41)(2,"a",48),t.bIt("click",function(){r.eBV(l);const E=t.XpG(2);return r.Njj(E.handleAiAction("adopt"))}),t.nrm(3,"i",71),t.j41(4,"span"),t.EFF(5,"Auto-Adopt Layout"),t.k0s()(),t.j41(6,"a",48),t.bIt("click",function(){r.eBV(l);const E=t.XpG(2);return r.Njj(E.handleAiAction("narrate"))}),t.nrm(7,"i",72),t.j41(8,"span"),t.EFF(9,"Generate Narration"),t.k0s()(),t.j41(10,"a",48),t.bIt("click",function(){r.eBV(l);const E=t.XpG(2);return r.Njj(E.handleAiAction("insights"))}),t.nrm(11,"i",73),t.j41(12,"span"),t.EFF(13,"Suggest Insights"),t.k0s()(),t.j41(14,"a",48),t.bIt("click",function(){r.eBV(l);const E=t.XpG(2);return r.Njj(E.handleAiAction("metrics"))}),t.nrm(15,"i",74),t.j41(16,"span"),t.EFF(17,"Get Quick Metrics"),t.k0s()(),t.nrm(18,"div",62),t.j41(19,"a",48),t.bIt("click",function(){r.eBV(l);const E=t.XpG(2);return E.showUiGallery.set(!0),r.Njj(E.showAiActions.set(!1))}),t.nrm(20,"i",75),t.j41(21,"span"),t.EFF(22,"Customize UI..."),t.k0s()()()()}}function z_(c,T){if(1&c){const l=t.RV6();t.j41(0,"div",25)(1,"app-chip-filter-bar",76),t.bIt("addChip",function(){r.eBV(l);const E=t.XpG(2);return r.Njj(E.showAddChipModal.set(!0))})("removeChip",function(E){r.eBV(l);const P=t.XpG(2);return r.Njj(P.handleRemoveChip(E))})("chipClicked",function(E){r.eBV(l);const P=t.XpG(2);return r.Njj(P.handleApplyChipFilter(E))}),t.k0s()()}if(2&c){const l=t.XpG(2);t.R7$(),t.Y8G("chips",l.calculatedChips())}}function sm(c,T){if(1&c){const l=t.RV6();t.j41(0,"div",26)(1,"app-paginator",77),t.bIt("pageChange",function(E){r.eBV(l);const P=t.XpG(2);return r.Njj(P.handlePageChange(E))})("pageSizeChange",function(E){r.eBV(l);const P=t.XpG(2);return r.Njj(P.handlePageSizeChange(E))})("autoSizingToggle",function(){r.eBV(l);const E=t.XpG(2);return r.Njj(E.handleAutoSizingToggle())})("chatbotToggle",function(){r.eBV(l);const E=t.XpG(2);return r.Njj(E.showChatbot.set(!0))}),t.k0s()()}if(2&c){const l=t.XpG(),h=t.XpG();t.R7$(),t.Y8G("currentPage",h.currentPage())("pageSize",h.pageSize())("totalRecords",h.totalRecords())("autoSizingEnabled",h.autoSizingEnabled())("infiniteScroll",h.isInfiniteScroll())("infiniteScrollBehavior",l.config.infiniteScrollBehavior??"append")("currentRecordCount",h.data().length)("dataStrategy",l.config.dataStrategy)("connectionStatus",h.connectionStatus())("lastSyncTime",h.syncService.lastSyncTime())("isSyncing",h.syncService.isSyncing())}}function am(c,T){if(1&c&&t.nrm(0,"app-table-skeleton-loader",78),2&c){const l=t.XpG(3);t.Y8G("columns",l.visibleTableColumns())("rows",l.pageSize())}}function lm(c,T){if(1&c&&t.nrm(0,"app-card-skeleton-loader",79),2&c){const l=t.XpG(3);t.Y8G("count",l.pageSize())}}function um(c,T){if(1&c&&t.nrm(0,"app-list-skeleton-loader",79),2&c){const l=t.XpG(3);t.Y8G("count",l.pageSize())}}function Ah(c,T){1&c&&(t.j41(0,"div",80),t.EFF(1,"Loading..."),t.k0s())}function cm(c,T){if(1&c&&t.nVh(0,am,1,2,"app-table-skeleton-loader",78)(1,lm,1,1,"app-card-skeleton-loader",79)(2,um,1,1,"app-list-skeleton-loader",79)(3,Ah,2,0,"div",80),2&c){let l;const h=t.XpG(2);t.vxM("table"===(l=h.viewMode())?0:"card"===l?1:"list"===l?2:3)}}function dm(c,T){if(1&c){const l=t.RV6();t.j41(0,"app-empty-view",83),t.bIt("action",function(E){r.eBV(l);const P=t.XpG(3);return r.Njj(P.handleEmptyStateAction(E))}),t.k0s()}if(2&c){const l=t.XpG(2);t.Y8G("config",l.config.emptyStateConfig)}}function xg(c,T){1&c&&(t.j41(0,"div",82),t.nrm(1,"i",84),t.j41(2,"span",85),t.EFF(3,"No Records Found"),t.k0s()())}function fm(c,T){if(1&c&&t.nVh(0,dm,1,1,"app-empty-view",81)(1,xg,4,0,"div",82),2&c){const l=t.XpG();t.vxM(null!=l.config.emptyStateConfig&&l.config.emptyStateConfig.enabled?0:1)}}function hm(c,T){if(1&c){const l=t.RV6();t.j41(0,"app-table-view",89),t.bIt("sortChange",function(E){r.eBV(l);const P=t.XpG(3);return r.Njj(P.handleSort(E))})("rowAction",function(E){r.eBV(l);const P=t.XpG(3);return r.Njj(P.handleRowAction(E))})("rowClicked",function(E){r.eBV(l);const P=t.XpG(3);return r.Njj(P.handleRowClick(E))})("headerAction",function(E){r.eBV(l);const P=t.XpG(3);return r.Njj(P.handleHeaderAction(E))})("columnReorder",function(E){r.eBV(l);const P=t.XpG(3);return r.Njj(P.handleVisibleColumnReorder(E))})("filterChange",function(E){r.eBV(l);const P=t.XpG(3);return r.Njj(P.handleFilterChange(E))})("selectionChange",function(E){r.eBV(l);const P=t.XpG(3);return r.Njj(P.handleSelectionChange(E))}),t.k0s()}if(2&c){const l=t.XpG(2),h=t.XpG();t.Y8G("columns",h.visibleTableColumns())("data",h.data())("sortColumn",h.sortColumn())("sortDirection",h.sortDirection())("density",h.currentDensity())("densityClass",h.currentDensitySetting().cssClass)("rowMenuConfig",l.rowMenu)("rowActions",l.rowActions)("headerMenuConfig",l.headerMenu)("enableMultiSelect",l.config.enableMultiSelect??!1)("selectedIds",h.selectedIds())("activeFilters",h.advancedFilters())("customTemplate",h.activeCustomTemplate())("loading",h.loading())("keyboardActiveRowIndex",h.keyboardActiveRowIndex())("pageSize",h.pageSize())("isInfiniteScroll",h.isInfiniteScroll())("stripedRows",l.config.stripedRows??!0)("showGridlines",l.config.showGridlines??!1)("rowHover",l.config.rowHover??!0)("footerConfig",l.config.footerConfig)}}function Mh(c,T){if(1&c){const l=t.RV6();t.j41(0,"app-card-view",90),t.bIt("selectionChange",function(E){r.eBV(l);const P=t.XpG(3);return r.Njj(P.handleSelectionChange(E))})("rowAction",function(E){r.eBV(l);const P=t.XpG(3);return r.Njj(P.handleRowAction(E))})("rowClicked",function(E){r.eBV(l);const P=t.XpG(3);return r.Njj(P.handleRowClick(E))}),t.k0s()}if(2&c){const l=t.XpG(2),h=t.XpG();t.Y8G("columns",h.allTableColumns())("data",h.data())("density",h.currentDensity())("densityClass",h.currentDensitySetting().cssClass)("selectedIds",h.selectedIds())("rowMenuConfig",l.rowMenu)("rowActions",l.rowActions)("enableMultiSelect",l.config.enableMultiSelect??!1)("cardViewConfig",l.config.cardViewConfig)("customTemplate",h.activeCustomTemplate())("keyboardActiveRowIndex",h.keyboardActiveRowIndex())}}function pm(c,T){if(1&c){const l=t.RV6();t.j41(0,"app-list-view",91),t.bIt("selectionChange",function(E){r.eBV(l);const P=t.XpG(3);return r.Njj(P.handleSelectionChange(E))})("rowClicked",function(E){r.eBV(l);const P=t.XpG(3);return r.Njj(P.handleRowClick(E))}),t.k0s()}if(2&c){const l=t.XpG(2),h=t.XpG();t.Y8G("columns",h.allTableColumns())("data",h.data())("density",h.currentDensity())("densityClass",h.currentDensitySetting().cssClass)("selectedIds",h.selectedIds())("enableMultiSelect",l.config.enableMultiSelect??!1)("customTemplate",h.activeCustomTemplate())("keyboardActiveRowIndex",h.keyboardActiveRowIndex())}}function gm(c,T){if(1&c&&t.nrm(0,"app-bi-view",33),2&c){const l=t.XpG(3);t.Y8G("data",l.data())("columns",l.allTableColumns())}}function Dg(c,T){if(1&c&&t.nrm(0,"app-calendar-view",92),2&c){const l=t.XpG(4);t.Y8G("data",l.data())("columns",l.allTableColumns())("config",T)}}function wg(c,T){1&c&&(t.j41(0,"div",93),t.EFF(1,"Please configure the calendar view first by clicking the 'Calendar' view button again."),t.k0s())}function bp(c,T){if(1&c&&t.nVh(0,Dg,1,3,"app-calendar-view",92)(1,wg,2,0,"div",93),2&c){let l;const h=t.XpG(3);t.vxM((l=h.activeCalendarConfig())?0:1,l)}}function Tg(c,T){if(1&c&&t.nVh(0,hm,1,21,"app-table-view",86)(1,Mh,1,11,"app-card-view",87)(2,pm,1,8,"app-list-view",88)(3,gm,1,2,"app-bi-view",33)(4,bp,2,1),2&c){let l;const h=t.XpG(2);t.vxM("table"===(l=h.viewMode())?0:"card"===l?1:"list"===l?2:"bi"===l?3:"calendar"===l?4:-1)}}function mm(c,T){1&c&&(t.j41(0,"div",28),t.nrm(1,"i",94),t.k0s())}function Sg(c,T){if(1&c){const l=t.RV6();t.j41(0,"footer",95)(1,"app-paginator",77),t.bIt("pageChange",function(E){r.eBV(l);const P=t.XpG(2);return r.Njj(P.handlePageChange(E))})("pageSizeChange",function(E){r.eBV(l);const P=t.XpG(2);return r.Njj(P.handlePageSizeChange(E))})("autoSizingToggle",function(){r.eBV(l);const E=t.XpG(2);return r.Njj(E.handleAutoSizingToggle())})("chatbotToggle",function(){r.eBV(l);const E=t.XpG(2);return r.Njj(E.showChatbot.set(!0))}),t.k0s()()}if(2&c){const l=t.XpG(),h=t.XpG();t.xc7("background-color",null==l.config.styleConfig?null:l.config.styleConfig.footerBackgroundColor),t.AVh("bg-white",!(null!=l.config.styleConfig&&l.config.styleConfig.footerBackgroundColor||null!=l.config.styleConfig&&l.config.styleConfig.enableTransparency)),t.R7$(),t.Y8G("currentPage",h.currentPage())("pageSize",h.pageSize())("totalRecords",h.totalRecords())("autoSizingEnabled",h.autoSizingEnabled())("infiniteScroll",h.isInfiniteScroll())("infiniteScrollBehavior",l.config.infiniteScrollBehavior??"append")("currentRecordCount",h.data().length)("dataStrategy",l.config.dataStrategy)("connectionStatus",h.connectionStatus())("lastSyncTime",h.syncService.lastSyncTime())("isSyncing",h.syncService.isSyncing())}}function xp(c,T){if(1&c){const l=t.RV6();t.j41(0,"app-filter-sidebar",96),t.bIt("close",function(){r.eBV(l);const E=t.XpG(2);return r.Njj(E.showFilterSidebar.set(!1))})("apply",function(E){r.eBV(l);const P=t.XpG(2);return r.Njj(P.handleApplyFilters(E))}),t.k0s()}if(2&c){const l=t.XpG(),h=t.XpG();t.Y8G("isOpen",h.showFilterSidebar())("config",l.advancedFilters)("activeFilters",h.advancedFilters())}}function Ag(c,T){if(1&c){const l=t.RV6();t.j41(0,"app-config-sidebar",97),t.bIt("close",function(){r.eBV(l);const E=t.XpG(2);return r.Njj(E.showConfigSidebar.set(!1))})("save",function(E){r.eBV(l);const P=t.XpG(2);return r.Njj(P.handleConfigSave(E))})("resetToDefaults",function(){r.eBV(l);const E=t.XpG(2);return r.Njj(E.handleConfigReset())}),t.k0s()}if(2&c){const l=t.XpG(2);t.Y8G("isOpen",l.showConfigSidebar())("config",l.config())}}function Mg(c,T){if(1&c){const l=t.RV6();t.j41(0,"app-ai-chatbot",98),t.bIt("close",function(){r.eBV(l);const E=t.XpG(2);return r.Njj(E.showChatbot.set(!1))})("filterApplied",function(E){r.eBV(l);const P=t.XpG(2);return r.Njj(P.handleAiFilter(E))}),t.k0s()}if(2&c){const l=t.XpG(2);t.Y8G("data",l.data())("columns",l.allTableColumns())}}function _m(c,T){if(1&c){const l=t.RV6();t.j41(0,"app-sync-options-modal",99),t.bIt("close",function(){r.eBV(l);const E=t.XpG(2);return r.Njj(E.showSyncOptionsModal.set(!1))})("startSync",function(){r.eBV(l);const E=t.XpG(2);return r.Njj(E.handleStartSync())}),t.k0s()}}function vm(c,T){1&c&&(t.j41(0,"div",100),t.nrm(1,"i",102),t.j41(2,"p",103),t.EFF(3,"AI is thinking..."),t.k0s()())}function K_(c,T){if(1&c){const l=t.RV6();t.j41(0,"div",104),t.bIt("click",function(E){return r.eBV(l),r.Njj(E.stopPropagation())}),t.j41(1,"header",105)(2,"h3",106),t.nrm(3,"i",107),t.EFF(4),t.k0s(),t.j41(5,"button",108),t.bIt("click",function(){r.eBV(l);const E=t.XpG(3);return r.Njj(E.aiModalContent.set(null))}),t.nrm(6,"i",109),t.k0s()(),t.nrm(7,"div",110),t.k0s()}if(2&c){const l=t.XpG(3);t.R7$(4),t.JRh(l.aiModalFormattedContent().title),t.R7$(3),t.Y8G("innerHTML",l.aiModalFormattedContent().content,t.npT)}}function Dp(c,T){if(1&c&&(t.j41(0,"div",38),t.nVh(1,vm,4,0,"div",100),t.nVh(2,K_,8,2,"div",101),t.k0s()),2&c){let l;const h=t.XpG(2);t.R7$(),t.vxM(h.isAiLoading()&&!h.aiModalContent()?1:-1),t.R7$(),t.vxM((l=h.aiModalContent())?2:-1,l)}}function wp(c,T){if(1&c&&(t.j41(0,"div",38)(1,"div",100),t.nrm(2,"i",102),t.j41(3,"p",103),t.EFF(4),t.k0s()()()),2&c){const l=t.XpG(2);t.R7$(4),t.JRh(l.exportingMessage())}}function Ig(c,T){if(1&c){const l=t.RV6();t.j41(0,"div",1)(1,"header",2)(2,"div",3)(3,"div",4)(4,"h1",5),t.EFF(5),t.k0s(),t.j41(6,"div",6),t.EFF(7),t.k0s()(),t.j41(8,"div",7)(9,"div",8)(10,"div",9),t.nrm(11,"i",10),t.k0s(),t.j41(12,"input",11),t.bIt("input",function(E){r.eBV(l);const P=t.XpG();return r.Njj(P.onGlobalSearch(E))}),t.k0s()()(),t.j41(13,"div",12),t.Z7z(14,Rc,1,1,null,null,gg),t.j41(16,"div",13),t.bIt("clickOutside",function(){r.eBV(l);const E=t.XpG();return r.Njj(E.showFilterMenu.set(!1))}),t.j41(17,"app-toolbar-button",14),t.bIt("clicked",function(){r.eBV(l);const E=t.XpG();return r.Njj(E.showFilterMenu.set(!E.showFilterMenu()))}),t.k0s(),t.nVh(18,ec,9,3,"div",15),t.nVh(19,_g,1,2,"app-column-chooser",16),t.k0s(),t.nVh(20,$c,1,0,"div",17),t.nVh(21,Y0,3,3,"div",18),t.nVh(22,Q0,3,2,"div",18),t.j41(23,"div",13),t.bIt("clickOutside",function(){r.eBV(l);const E=t.XpG();return r.Njj(E.showStrategyChooser.set(!1))}),t.j41(24,"app-toolbar-button",19),t.bIt("clicked",function(){r.eBV(l);const E=t.XpG();return r.Njj(E.showStrategyChooser.set(!E.showStrategyChooser()))}),t.k0s(),t.nVh(25,$_,4,0,"div",20),t.k0s(),t.nVh(26,em,3,3,"div",18),t.j41(27,"app-toolbar-button",21),t.bIt("clicked",function(){r.eBV(l);const E=t.XpG();return r.Njj(E.showConfigSidebar.set(!0))}),t.k0s(),t.j41(28,"div",13),t.bIt("clickOutside",function(){r.eBV(l);const E=t.XpG();return r.Njj(E.showViewOptions.set(!1))}),t.j41(29,"app-toolbar-button",22),t.bIt("clicked",function(){r.eBV(l);const E=t.XpG();return r.Njj(E.showViewOptions.set(!E.showViewOptions()))}),t.k0s(),t.nVh(30,im,42,6,"div",23),t.k0s(),t.j41(31,"div",13),t.bIt("clickOutside",function(){r.eBV(l);const E=t.XpG();return r.Njj(E.showAiActions.set(!1))}),t.j41(32,"app-toolbar-button",24),t.bIt("clicked",function(){r.eBV(l);const E=t.XpG();return r.Njj(E.showAiActions.set(!E.showAiActions()))}),t.k0s(),t.nVh(33,om,23,0,"div",15),t.k0s()()(),t.nVh(34,z_,2,1,"div",25),t.k0s(),t.nVh(35,sm,2,11,"div",26),t.j41(36,"main",27,0),t.bIt("scroll",function(E){r.eBV(l);const P=t.XpG();return r.Njj(P.onContentScroll(E))})("keydown",function(E){r.eBV(l);const P=t.XpG();return r.Njj(P.handleContentKeydown(E))}),t.nVh(38,cm,4,1)(39,fm,2,1)(40,Tg,5,1),t.nVh(41,mm,2,0,"div",28),t.k0s(),t.nVh(42,Sg,2,15,"footer",29),t.k0s(),t.nVh(43,xp,1,3,"app-filter-sidebar",30),t.nVh(44,Ag,1,2,"app-config-sidebar",31),t.j41(45,"app-theme-settings",32),t.bIt("close",function(){r.eBV(l);const E=t.XpG();return r.Njj(E.showThemeSettings.set(!1))}),t.k0s(),t.nVh(46,Mg,1,2,"app-ai-chatbot",33),t.j41(47,"app-save-query-modal",34),t.bIt("close",function(){r.eBV(l);const E=t.XpG();return r.Njj(E.showSaveQueryModal.set(!1))})("save",function(E){r.eBV(l);const P=t.XpG();return r.Njj(P.handleSaveQuery(E))}),t.k0s(),t.j41(48,"app-ui-gallery",35),t.bIt("close",function(){r.eBV(l);const E=t.XpG();return r.Njj(E.showUiGallery.set(!1))})("applyLayout",function(E){r.eBV(l);const P=t.XpG();return r.Njj(P.handleApplyLayout(E))})("deleteLayout",function(E){r.eBV(l);const P=t.XpG();return r.Njj(P.handleDeleteLayout(E))})("generateLayout",function(E){r.eBV(l);const P=t.XpG();return r.Njj(P.handleGenerateLayout(E))}),t.k0s(),t.j41(49,"app-calendar-config-modal",36),t.bIt("close",function(){r.eBV(l);const E=t.XpG();return r.Njj(E.showCalendarConfigModal.set(!1))})("apply",function(E){r.eBV(l);const P=t.XpG();return r.Njj(P.handleApplyCalendarConfig(E))}),t.k0s(),t.nVh(50,_m,1,0,"app-sync-options-modal"),t.j41(51,"app-add-chip-modal",37),t.bIt("close",function(){r.eBV(l);const E=t.XpG();return r.Njj(E.showAddChipModal.set(!1))})("addChip",function(E){r.eBV(l);const P=t.XpG();return r.Njj(P.handleAddChip(E))}),t.k0s(),t.nVh(52,Dp,3,2,"div",38),t.nVh(53,wp,5,1,"div",38)}if(2&c){const l=T,h=t.XpG();t.xc7("background-image",null!=l.config.styleConfig&&l.config.styleConfig.backgroundImageUrl?"url("+(null==l.config.styleConfig?null:l.config.styleConfig.backgroundImageUrl)+")":null)("background-size","cover")("background-position","center"),t.AVh("bg-white",!(null!=l.config.styleConfig&&l.config.styleConfig.enableTransparency))("bg-transparent",null==l.config.styleConfig?null:l.config.styleConfig.enableTransparency),t.R7$(),t.xc7("background-color",null==l.config.styleConfig?null:l.config.styleConfig.headerBackgroundColor),t.AVh("bg-white",!(null!=l.config.styleConfig&&l.config.styleConfig.headerBackgroundColor||null!=l.config.styleConfig&&l.config.styleConfig.enableTransparency)),t.R7$(4),t.JRh(l.config.title),t.R7$(2),t.SpI(" ",h.totalRecords()," "),t.R7$(5),t.Y8G("value",h.globalFilterTerm()),t.R7$(2),t.Dyx(l.config.toolbarActions),t.R7$(3),t.Y8G("endIconRotate",h.showFilterMenu())("active",h.showFilterMenu()||h.showFilterSidebar()||h.showColumnChooser()),t.R7$(),t.vxM(h.showFilterMenu()?18:-1),t.R7$(),t.vxM(h.showColumnChooser()?19:-1),t.R7$(),t.vxM(l.config.enableChipFilters?-1:20),t.R7$(),t.vxM("card"===h.viewMode()?21:-1),t.R7$(),t.vxM("table"===h.viewMode()&&l.config.enableFreeze?22:-1),t.R7$(2),t.Y8G("label",l.config.dataStrategy)("endIconRotate",h.showStrategyChooser())("title","Current Data Strategy: "+l.config.dataStrategy),t.R7$(),t.vxM(h.showStrategyChooser()?25:-1),t.R7$(),t.vxM(null!=l.config.exportConfig&&l.config.exportConfig.enabled?26:-1),t.R7$(),t.Y8G("active",h.showConfigSidebar()),t.R7$(2),t.Y8G("endIconRotate",h.showViewOptions())("active",h.showViewOptions()),t.R7$(),t.vxM(h.showViewOptions()?30:-1),t.R7$(2),t.Y8G("active",h.showAiActions()),t.R7$(),t.vxM(h.showAiActions()?33:-1),t.R7$(),t.vxM(l.config.enableChipFilters&&h.calculatedChips().length>0?34:-1),t.R7$(),t.vxM(h.isInfiniteScroll()||"top"!==l.config.paginatorPosition&&"both"!==l.config.paginatorPosition?-1:35),t.R7$(3),t.vxM(h.loading()&&0===h.data().length?38:0===h.data().length?39:40),t.R7$(3),t.vxM(h.isInfiniteScroll()&&h.loading()&&h.data().length>0?41:-1),t.R7$(),t.vxM(h.isInfiniteScroll()||"bottom"!==l.config.paginatorPosition&&"both"!==l.config.paginatorPosition&&l.config.paginatorPosition?-1:42),t.R7$(),t.vxM(h.showFilterSidebar()?43:-1),t.R7$(),t.vxM(h.showConfigSidebar()?44:-1),t.R7$(),t.Y8G("isOpen",h.showThemeSettings()),t.R7$(),t.vxM(h.showChatbot()?46:-1),t.R7$(),t.Y8G("isOpen",h.showSaveQueryModal()),t.R7$(),t.Y8G("isOpen",h.showUiGallery())("layouts",h.customLayouts())("currentView",h.viewMode())("activeLayouts",h.activeLayouts()),t.R7$(),t.Y8G("isOpen",h.showCalendarConfigModal())("dateColumns",h.dateColumns()),t.R7$(),t.vxM(h.showSyncOptionsModal()?50:-1),t.R7$(),t.Y8G("isOpen",h.showAddChipModal())("columns",h.allTableColumns()),t.R7$(),t.vxM(h.isAiLoading()||h.aiModalContent()?52:-1),t.R7$(),t.vxM(h.isExporting()?53:-1)}}let Tp=(()=>{class c{configService=(0,r.WQX)(Ae);dataManager=(0,r.WQX)(H);syncService=(0,r.WQX)(re);connectionStatusService=(0,r.WQX)(k);persistenceService=(0,r.WQX)(ke);savedQueriesService=(0,r.WQX)(cr);customLayoutService=(0,r.WQX)(Ti);themeService=(0,r.WQX)(sf);densityService=(0,r.WQX)(sa);aiSummaryService=(0,r.WQX)(sh);aiLayoutService=(0,r.WQX)(Vl);chipFilterService=(0,r.WQX)(xh);exportService=(0,r.WQX)(jf);config=this.configService.config;data=(0,r.vPA)([]);totalRecords=(0,r.vPA)(0);loading=(0,r.vPA)(!0);showAiActions=(0,r.vPA)(!1);isAiLoading=(0,r.vPA)(!1);aiModalContent=(0,r.vPA)(null);showChatbot=(0,r.vPA)(!1);showSavedQueriesMenu=(0,r.vPA)(!1);showSaveQueryModal=(0,r.vPA)(!1);savedQueries=(0,r.vPA)([]);showUiGallery=(0,r.vPA)(!1);customLayouts=(0,r.vPA)([]);activeLayouts;showCalendarConfigModal=(0,r.vPA)(!1);activeCalendarConfig=(0,r.vPA)(null);showSyncOptionsModal=(0,r.vPA)(!1);showAddChipModal=(0,r.vPA)(!1);chips=this.chipFilterService.chips;showExportOptions=(0,r.vPA)(!1);isExporting=(0,r.vPA)(!1);exportingMessage=(0,r.vPA)("");isMobile=(0,r.vPA)(window.innerWidth<640);viewMode;currentPage;pageSize;sortColumn;sortDirection;globalFilterTerm;advancedFilters;showFilterSidebar=(0,r.vPA)(!1);showConfigSidebar=(0,r.vPA)(!1);showThemeSettings=(0,r.vPA)(!1);showFreezeOptions=(0,r.vPA)(!1);showColumnChooser=(0,r.vPA)(!1);showCardsPerRowChooser=(0,r.vPA)(!1);showViewOptions=(0,r.vPA)(!1);showFilterMenu=(0,r.vPA)(!1);showMobileActionsMenu=(0,r.vPA)(!1);allTableColumns=(0,r.vPA)([]);visibleTableColumns=(0,r.vPA)([]);scrollContainer=(0,R.ebz)("scrollContainer");autoSizingEnabled=(0,r.vPA)(this.config().config.sizerConfig.enabled);currentDensity=this.densityService.density;currentDensitySetting=(0,ve.EW)(()=>{const l=this.currentDensity(),h=this.config().config.sizerConfig;return h.densities.find(E=>E.name===l)??h.densities[1]});keyboardActiveRowIndex=(0,r.vPA)(null);selectionAnchorIndex=(0,r.vPA)(null);keyboardManager=new F0;postFetchFocus=(0,r.vPA)(null);showStrategyChooser=(0,r.vPA)(!1);dataStrategies=["SYNC","ONLINE_FIRST","OFFLINE_FIRST","HYBRID"];strategyDescriptions={SYNC:"Fast, offline access. Data is synced with the server in the background.",ONLINE_FIRST:"Always fetches the latest data from the server. Falls back to local data if the server is unavailable.",OFFLINE_FIRST:"Loads instantly from your device. May not be the absolute latest data.",HYBRID:"Fetches latest data and updates your device for offline use. Falls back to local data if the server is unavailable."};isInfiniteScroll=(0,ve.EW)(()=>"infinite"===this.config().config.pagingMode);totalPages=(0,ve.EW)(()=>{const l=this.totalRecords(),h=this.pageSize();return h<=0?0:Math.ceil(l/h)});allDataLoaded=(0,ve.EW)(()=>{const l=this.totalRecords();return!(0===l&&this.data().length>0||0!==l&&!("append"===(this.config().config.infiniteScrollBehavior??"append")?this.data().length>=l:this.currentPage()>=this.totalPages()))});chooserColumns=(0,ve.EW)(()=>this.allTableColumns().filter(l=>!1!==l.showOnColumnChooser));dateColumns=(0,ve.EW)(()=>this.allTableColumns().filter(l=>"DATE"===l.columnType));connectionStatus=(0,ve.EW)(()=>{switch(this.connectionStatusService.status()){case"Online":return{text:"Online",class:"bg-green-500"};case"Connecting":return{text:"Connecting...",class:"bg-yellow-500 animate-pulse"};case"Offline":return{text:"Offline",class:"bg-red-500"};default:return{text:"Unknown",class:"bg-gray-500"}}});aiModalFormattedContent=(0,ve.EW)(()=>{const l=this.aiModalContent();if(!l||!l.content)return{title:"",content:""};let h=l.content;return h=h.replace(/\*\*(.*?)\*\*/g,"<strong>$1</strong>"),h.match(/^\* .*/m)&&(h="<ul>"+h.replace(/^\* (.*)$/gm,'<li class="ml-4 list-disc">$1</li>')+"</ul>"),{title:l.title,content:h}});activeCustomTemplate=(0,ve.EW)(()=>{const l=this.customLayouts(),h=this.activeLayouts(),E=this.viewMode();let P=null;if("card"===E&&(P=h.card),"list"===E&&(P=h.list),"table"===E&&(P=h.table),!P)return null;const te=l.find(Fe=>Fe.id===P);return te?te.htmlTemplate:null});calculatedChips=(0,ve.EW)(()=>{const l=this.data(),h=this.chips();if(0===l.length||0===h.length)return[];const E=new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",minimumFractionDigits:0,maximumFractionDigits:0}),P=new Intl.NumberFormat("en-US");return h.map(te=>{let Fe,Qe,ut=l;switch("count"===te.aggregation&&te.filterValue&&(ut=l.filter(Rt=>String(Rt[te.columnCode]).toLowerCase()===String(te.filterValue).toLowerCase())),te.aggregation){case"count":Fe=ut.length,Qe=P.format(Fe);break;case"sum":Fe=ut.reduce((Zt,Yt)=>Zt+(Number(Yt[te.columnCode])||0),0),Qe=E.format(Fe);break;case"average":const Rt=ut.reduce((Zt,Yt)=>Zt+(Number(Yt[te.columnCode])||0),0);Fe=ut.length>0?Rt/ut.length:0,Qe=E.format(Fe);break;default:Fe=0,Qe="N/A"}return{...te,displayValue:Qe}})});searchSubject=new kd.B;lastFocusedElementId=(0,r.vPA)(null);initialFetchDone=(0,r.vPA)(!1);initialState;selectedIds=(0,r.vPA)(new Set);constructor(){this.initialState={viewMode:this.isMobile()?"card":"table",currentPage:1,pageSize:this.config().api.defaultPageSize,sortColumn:"organization_name",sortDirection:"asc",globalFilterTerm:"",advancedFilters:{},activeLayouts:{card:null,list:null,table:null}};const l=this.persistenceService.loadState("smartTableState");this.viewMode=(0,r.vPA)(l?.viewMode??this.initialState.viewMode),this.currentPage=(0,r.vPA)(l?.currentPage??this.initialState.currentPage),this.pageSize=(0,r.vPA)(l?.pageSize??this.initialState.pageSize),this.sortColumn=(0,r.vPA)(l?.sortColumn??this.initialState.sortColumn),this.sortDirection=(0,r.vPA)(l?.sortDirection??this.initialState.sortDirection),this.globalFilterTerm=(0,r.vPA)(l?.globalFilterTerm??this.initialState.globalFilterTerm),this.advancedFilters=(0,r.vPA)(l?.advancedFilters??this.initialState.advancedFilters),this.activeLayouts=(0,r.vPA)(l?.activeLayouts??this.initialState.activeLayouts),this.loadSavedQueries(),this.loadCustomLayouts();const h=()=>{this.loading.set(!0);const P=this.currentPage();if(this.isInfiniteScroll()&&"append"===this.config().config.infiniteScrollBehavior&&P>1)this.fetchPagesSequentially(P).then(()=>{this.initialFetchDone.set(!0)});else{const te=this.isInfiniteScroll()&&"replace"===this.config().config.infiniteScrollBehavior?1:P;this.isInfiniteScroll()&&"replace"===this.config().config.infiniteScrollBehavior&&this.currentPage.set(1),this.fetchPage(te),this.initialFetchDone.set(!0)}};(0,r.QZP)(()=>{"SYNC"===this.config().config.dataStrategy&&this.syncService.isPrimed()&&!this.initialFetchDone()&&(h(),this.showSyncOptionsModal()&&setTimeout(()=>this.showSyncOptionsModal.set(!1),500))},{allowSignalWrites:!0}),"SYNC"===this.config().config.dataStrategy?this.syncService.isPrimed()?h():(this.showSyncOptionsModal.set(!0),this.loading.set(!1)):h(),(0,r.QZP)(()=>{const P=[...this.config().columns].sort((Qe,ut)=>Qe.index-ut.index);this.allTableColumns.set(P);const te=P.filter(Qe=>"table_cell"===Qe.display).map(Qe=>Qe.code),Fe=new Set(l?.visibleColumnCodes??te);this.visibleTableColumns.set(P.filter(Qe=>Fe.has(Qe.code)))},{allowSignalWrites:!0}),this.searchSubject.pipe((0,hd.B)(400),(0,gh.F)()).subscribe(P=>{this.globalFilterTerm.set(P),this.resetAndFetch()}),(0,r.QZP)(()=>{const P=this.loading(),te=this.lastFocusedElementId();!P&&te&&setTimeout(()=>{const Fe=document.getElementById(te);Fe&&(Fe.focus(),Fe instanceof HTMLInputElement&&Fe.select()),this.lastFocusedElementId.set(null)},0)}),(0,r.QZP)(P=>{const te=this.currentDensity(),Fe=this.config().config.sizerConfig,Qe=()=>{if(this.isMobile.set(window.innerWidth<640),this.autoSizingEnabled()){const ut=this.scrollContainer()?.nativeElement;if(ut){const Mn=rf(ut,(Fe.densities.find(jr=>jr.name===te)??Fe.densities[1]).rowHeight,Fe.additionalReservedSpace??0);Mn!==this.pageSize()&&(this.pageSize.set(Mn),this.resetAndFetch())}}};window.addEventListener("resize",Qe),setTimeout(()=>Qe(),50),P(()=>window.removeEventListener("resize",Qe))},{allowSignalWrites:!0}),this.setupStatePersistence()}setupStatePersistence(){(0,r.QZP)(()=>{const l={viewMode:this.viewMode(),currentPage:this.currentPage(),pageSize:this.pageSize(),sortColumn:this.sortColumn(),sortDirection:this.sortDirection(),globalFilterTerm:this.globalFilterTerm(),advancedFilters:this.advancedFilters(),visibleColumnCodes:this.visibleTableColumns().map(h=>h.code),activeLayouts:this.activeLayouts()};this.persistenceService.saveState("smartTableState",l)})}resetViewAndFilters(){this.persistenceService.clearState("smartTableState"),this.densityService.setDensity(this.config().config.sizerConfig.defaultDensity),this.viewMode.set(this.initialState.viewMode),this.currentPage.set(this.initialState.currentPage),this.pageSize.set(this.initialState.pageSize),this.sortColumn.set(this.initialState.sortColumn),this.sortDirection.set(this.initialState.sortDirection),this.globalFilterTerm.set(""),this.advancedFilters.set(this.initialState.advancedFilters),this.visibleTableColumns.set(this.allTableColumns().filter(l=>"table_cell"===l.display)),this.activeLayouts.set(this.initialState.activeLayouts),this.showViewOptions.set(!1),this.resetAndFetch()}handleAiAction(l){var h=this;return(0,L.A)(function*(){h.showAiActions.set(!1),h.isAiLoading.set(!0);try{switch(l){case"narrate":const E=yield h.aiSummaryService.generateNarration(h.data(),h.allTableColumns());h.aiModalContent.set({title:"Data Narration",content:E});break;case"insights":const P=yield h.aiSummaryService.suggestInsights(h.data(),h.allTableColumns());h.aiModalContent.set({title:"Suggested Insights",content:P});break;case"adopt":const te=yield h.aiLayoutService.getAutoAdoptedConfig(h.config(),window.innerWidth);h.configService.updateFullConfig(te);break;case"metrics":const Fe=yield h.aiSummaryService.getQuickMetrics(h.data(),h.allTableColumns());h.aiModalContent.set({title:"Key Metrics",content:Fe})}}catch(E){console.error(`AI Action '${l}' failed:`,E),h.aiModalContent.set({title:"Error",content:"An error occurred while processing the AI request."})}finally{h.isAiLoading.set(!1)}})()}handleAiFilter(l){if(l.globalSearch)this.globalFilterTerm.set(l.globalSearch),this.advancedFilters.set({});else if(l.advancedFilters&&l.advancedFilters.length>0){const h={};for(const E of l.advancedFilters)h[E.code]=E;this.advancedFilters.set(h),this.globalFilterTerm.set("")}this.resetAndFetch()}loadSavedQueries(){this.savedQueriesService.getSavedQueries().subscribe(l=>{this.savedQueries.set(l)})}openSaveQueryModal(){this.showSavedQueriesMenu.set(!1),this.showSaveQueryModal.set(!0)}handleSaveQuery(l){this.showSaveQueryModal.set(!1);const h={globalFilterTerm:this.globalFilterTerm(),advancedFilters:this.advancedFilters(),sortColumn:this.sortColumn(),sortDirection:this.sortDirection()};this.savedQueriesService.saveQuery(l,h).subscribe(()=>{this.loadSavedQueries()})}handleApplySavedQuery(l){this.showSavedQueriesMenu.set(!1);const h=this.savedQueries().find(E=>E.id===l);if(h){const E=h.state;this.globalFilterTerm.set(E.globalFilterTerm??this.initialState.globalFilterTerm),this.advancedFilters.set(E.advancedFilters??this.initialState.advancedFilters),this.sortColumn.set(E.sortColumn??this.initialState.sortColumn),this.sortDirection.set(E.sortDirection??this.initialState.sortDirection),this.resetAndFetch()}}handleDeleteSavedQuery(l){this.savedQueriesService.deleteQuery(l).subscribe(()=>{this.loadSavedQueries()})}loadCustomLayouts(){this.customLayoutService.getLayouts().subscribe(l=>{this.customLayouts.set(l)})}handleGenerateLayout(l){var h=this;return(0,L.A)(function*(){h.isAiLoading.set(!0);try{const E=yield h.aiLayoutService.generateLayout(l.prompt,l.targetView,h.allTableColumns());h.customLayoutService.saveLayout({name:l.name,targetView:l.targetView,htmlTemplate:E.htmlTemplate}).subscribe(()=>{h.loadCustomLayouts()})}catch(E){console.error("AI layout generation failed:",E),h.aiModalContent.set({title:"Layout Generation Error",content:"An error occurred while generating the layout."})}finally{h.isAiLoading.set(!1)}})()}handleApplyLayout(l){const{view:h,layoutId:E}=l;this.activeLayouts.update(P=>{const te={...P};return"card"===h&&(te.card=E),"list"===h&&(te.list=E),"table"===h&&(te.table=E),te})}handleDeleteLayout(l){this.customLayoutService.deleteLayout(l).subscribe(()=>{this.loadCustomLayouts()})}handleAddChip(l){this.chipFilterService.addChip(l),this.showAddChipModal.set(!1)}handleRemoveChip(l){this.chipFilterService.removeChip(l)}handleApplyChipFilter(l){const h=this.allTableColumns().find(P=>P.code===l.columnCode);if(!h||!l.filterValue)return;const E={code:l.columnCode,name:h.name,type:"select",operator:"=",value1:l.filterValue};this.advancedFilters.set({[E.code]:E}),this.resetAndFetch()}setDensity(l){this.densityService.setDensity(l)}getDensityIcon(l){switch(l){case"comfortable":return"pi-align-justify";case"cozy":return"pi-bars";case"compact":default:return"pi-table";case"ultra-compact":return"pi-compress"}}handleFreezeColumns(l){this.showFreezeOptions.set(!1);const h=this.config(),E=JSON.parse(JSON.stringify(h)),P=this.visibleTableColumns().map(te=>te.code);E.columns.forEach(te=>{const Fe=P.indexOf(te.code);te.frozen=-1!==Fe&&Fe<l}),this.configService.updateFullConfig(E)}checkAndFetchForFill(){setTimeout(()=>{const l=this.config().config;if("infinite"!==l.pagingMode||"append"!==l.infiniteScrollBehavior)return;const h=this.scrollContainer()?.nativeElement;h&&!this.allDataLoaded()&&h.scrollHeight<=h.clientHeight&&(this.loading()||this.fetchMoreData())},100)}fetchPagesSequentially(l){var h=this;return(0,L.A)(function*(){if(l<1)h.loading.set(!1);else{h.loading.set(!0),h.currentPage.set(0),h.data.set([]);try{for(let E=1;E<=l;E++)yield h.fetchAndAppendPage(E)}catch{}finally{h.loading.set(!1),h.checkAndFetchForFill()}}})()}fetchAndAppendPage(l){return new Promise((h,E)=>{const P=Gc(l,this.pageSize(),this.sortColumn(),this.sortDirection(),this.globalFilterTerm(),this.advancedFilters(),this.config());this.dataManager.getData(P).subscribe({next:te=>{this.data.update(Fe=>[...Fe,...te.data]),this.totalRecords.set(te.total_records),this.currentPage.set(l),h()},error:te=>{console.error(`Failed to fetch page ${l}`,te),this.loading.set(!1),E(te)}})})}fetchPage(l){if(l<1)return;this.loading.set(!0);const h=Gc(l,this.pageSize(),this.sortColumn(),this.sortDirection(),this.globalFilterTerm(),this.advancedFilters(),this.config());this.dataManager.getData(h).subscribe({next:E=>{this.data.set(E.data),this.totalRecords.set(E.total_records),this.currentPage.set(l),this.loading.set(!1),this.checkAndFetchForFill();const P=this.postFetchFocus(),te=this.data();if("first"===P&&te.length>0)this.keyboardActiveRowIndex.set(0),this.scrollActiveItemIntoView(te[0].organization_id);else if("last"===P&&te.length>0){const Fe=te.length-1;this.keyboardActiveRowIndex.set(Fe),this.scrollActiveItemIntoView(te[Fe].organization_id)}else this.keyboardActiveRowIndex.set(null);this.postFetchFocus.set(null)},error:E=>{console.error("Failed to fetch data",E),this.loading.set(!1)}})}fetchMoreData(){if(this.loading()||!this.isInfiniteScroll()||this.allDataLoaded())return;this.loading.set(!0);const l=this.currentPage()+1,h=Gc(l,this.pageSize(),this.sortColumn(),this.sortDirection(),this.globalFilterTerm(),this.advancedFilters(),this.config()),E=this.config().config.infiniteScrollBehavior??"append";this.dataManager.getData(h).subscribe({next:P=>{"append"===E?this.data.update(te=>[...te,...P.data]):(this.data.set(P.data),this.scrollContainer()?.nativeElement.scrollTo({top:0,behavior:"smooth"})),this.totalRecords.set(P.total_records),this.currentPage.set(l),this.loading.set(!1),this.checkAndFetchForFill()},error:P=>{console.error("Failed to fetch more data",P),this.loading.set(!1)}})}resetAndFetch(){this.currentPage.set(1),this.keyboardActiveRowIndex.set(null),this.selectedIds.set(new Set),this.isInfiniteScroll()&&this.data.set([]),this.fetchPage(1)}handleSort(l){this.sortColumn.set(l.column),this.sortDirection.set(l.direction),this.resetAndFetch()}onGlobalSearch(l){this.searchSubject.next(l.target.value)}handleFilterChange(l){this.advancedFilters.update(h=>{const E={...h};return l.filter?E[l.code]=l.filter:delete E[l.code],E}),this.resetAndFetch()}handlePageChange(l){this.isInfiniteScroll()||(this.currentPage.set(l),this.fetchPage(l),this.selectedIds.set(new Set))}onContentScroll(l){if(!this.isInfiniteScroll())return;const h=l.target;h.scrollTop+h.clientHeight>=h.scrollHeight-100&&this.fetchMoreData()}handlePageSizeChange(l){this.pageSize.set(l),this.resetAndFetch()}handleAutoSizingToggle(){if(this.autoSizingEnabled.update(l=>!l),this.autoSizingEnabled()){const l=this.scrollContainer()?.nativeElement;if(l){const h=this.currentDensity(),E=this.config().config.sizerConfig,Qe=rf(l,(E.densities.find(ut=>ut.name===h)??E.densities[1]).rowHeight,E.additionalReservedSpace??0);Qe!==this.pageSize()&&(this.pageSize.set(Qe),this.resetAndFetch())}}}handleApplyFilters(l){this.advancedFilters.set(l),this.resetAndFetch(),this.showFilterSidebar.set(!1)}handleRowClick(l){const h=this.data().findIndex(E=>E.organization_id===l.organization_id);h>-1&&(this.keyboardActiveRowIndex.set(h),this.selectionAnchorIndex.set(h))}handleSelectionChange(l){this.selectedIds.set(l)}toggleSelectionByIndex(l){if(l<0||l>=this.data().length)return;const h=this.data()[l].organization_id,E=new Set(this.selectedIds());E.has(h)?E.delete(h):E.add(h),this.selectedIds.set(E)}changeView(l){"calendar"!==l||this.activeCalendarConfig()?(this.viewMode.set(l),this.showViewOptions.set(!1)):this.showCalendarConfigModal.set(!0)}toggleColumnVisibility(l){this.visibleTableColumns.update(h=>{if(h.some(P=>P.code===l.code))return h.filter(P=>P.code!==l.code);{const P=[];for(const te of this.allTableColumns())(h.some(Fe=>Fe.code===te.code)||te.code===l.code)&&P.push(te);return P}})}handleVisibleColumnReorder(l){this.visibleTableColumns.set(l)}handleAllColumnsOrderChange(l){this.allTableColumns.set(l),this.visibleTableColumns.update(h=>{const E=new Set(h.map(P=>P.code));return l.filter(P=>E.has(P.code))})}handleRowAction(l){const{action:h,row:E}=l,P=E.communication_detail?.replace(/\D/g,"");switch(h){case"call":P&&(window.location.href=`tel:${P}`);break;case"whatsapp":P&&window.open(`https://wa.me/${P}`,"_blank");break;case"email":E.email_id&&(window.location.href=`mailto:${E.email_id}`);break;case"sms":P&&(window.location.href=`sms:${P}`);break;default:console.log("Unhandled row action:",h,"on row:",E)}}handleHeaderAction(l){console.log("Header action:",l.action,"on IDs:",l.selectedIds)}handleToolbarAction(l){switch(l){case"refresh":this.resetAndFetch();break;case"toggle:filter-sidebar":this.showFilterSidebar.update(h=>!h);break;case"toggle:config-sidebar":this.showConfigSidebar.update(h=>!h);break;case"toggle:theme-settings":this.showThemeSettings.update(h=>!h);break;case"add:contacts":console.log("Add new contact clicked");break;default:console.log("Toolbar action:",l)}}handleEmptyStateAction(l){console.log("Empty state action triggered:",l),this.handleToolbarAction(l)}handleConfigSave(l){this.configService.updateFullConfig(l),this.showConfigSidebar.set(!1)}handleConfigReset(){this.configService.resetToDefaults(),this.showConfigSidebar.set(!1)}handleCardsPerRowChange(l){this.configService.updateCardsPerRow(l)}changeDataStrategy(l){this.showStrategyChooser.set(!1),"SYNC"===l?this.showSyncOptionsModal.set(!0):(this.configService.updateDataStrategy(l),this.initialFetchDone.set(!1),this.resetAndFetch())}handleStartSync(){this.configService.updateDataStrategy("SYNC"),this.initialFetchDone.set(!1),this.syncService.startFullSync()}handleManualSync(){this.syncService.startFullSync()}toggleInfiniteScrollBehavior(){const h="append"===(this.config().config.infiniteScrollBehavior??"append")?"replace":"append";this.configService.updateInfiniteScrollBehavior(h),this.resetAndFetch()}handleApplyCalendarConfig(l){this.activeCalendarConfig.set(l),this.showCalendarConfigModal.set(!1),this.viewMode.set("calendar")}handleExport(l){var h=this;return(0,L.A)(function*(){h.showExportOptions.set(!1);const E=h.totalRecords();if(0===E)return void console.warn("No data to export.");h.isExporting.set(!0),h.exportingMessage.set(`Fetching all ${E} records for export...`);const P=Gc(1,E,h.sortColumn(),h.sortDirection(),h.globalFilterTerm(),h.advancedFilters(),h.config());h.dataManager.getData(P).subscribe({next:te=>{h.exportingMessage.set(`Generating ${l.toUpperCase()} file...`);const Fe="table"===h.viewMode()?h.visibleTableColumns():h.allTableColumns();h.exportService.exportData(l,te.data,Fe,h.config().config.title),setTimeout(()=>{h.isExporting.set(!1),h.exportingMessage.set("")},1e3)},error:te=>{console.error("Failed to fetch data for export:",te),h.exportingMessage.set("Error during export. Please try again."),setTimeout(()=>{h.isExporting.set(!1),h.exportingMessage.set("")},3e3)}})})()}handleContentKeydown(l){const h=this.data(),E=this.keyboardActiveRowIndex(),P=!this.isInfiniteScroll();if("ArrowUp"===l.key&&0===E&&P){l.preventDefault();const Fe=this.currentPage()-1;return void(Fe>=1&&(this.postFetchFocus.set("last"),this.handlePageChange(Fe)))}if("ArrowDown"===l.key&&E===h.length-1&&P){l.preventDefault();const Fe=this.currentPage()+1;return void(Fe<=this.totalPages()&&(this.postFetchFocus.set("first"),this.handlePageChange(Fe)))}this.keyboardManager.updateState(h,E,this.selectedIds(),this.selectionAnchorIndex());const te=this.keyboardManager.handleKeydown(l);if(te){this.keyboardActiveRowIndex.set(te.newActiveIndex),this.selectedIds.set(te.newSelection),this.selectionAnchorIndex.set(te.newAnchorIndex);const Fe=this.data()[te.newActiveIndex];Fe&&this.scrollActiveItemIntoView(Fe.organization_id)}}scrollActiveItemIntoView(l){let E;switch(this.viewMode()){case"table":E=`table-item-${l}`;break;case"card":E=`card-item-${l}`;break;case"list":E=`list-item-${l}`;break;default:return}setTimeout(()=>{document.getElementById(E)?.scrollIntoView({behavior:"smooth",block:"nearest"})},0)}static \u0275fac=function(h){return new(h||c)};static \u0275cmp=t.VBU({type:c,selectors:[["app-smart-table"]],viewQuery:function(h,E){1&h&&t.wEZ(E.scrollContainer,Ep,5),2&h&&t.NyB()},hostAttrs:[1,"block","h-full"],decls:1,vars:1,consts:[["scrollContainer",""],[1,"h-full","flex","flex-col","text-sm","transition-colors","duration-300"],[1,"flex-shrink-0","border-b","border-gray-200","shadow-sm","relative","z-40","transition-colors","duration-300"],[1,"flex","flex-nowrap","items-center","justify-between","gap-4","p-2"],[1,"flex","items-center","gap-4","flex-shrink-0","min-w-0"],[1,"text-lg","font-bold","text-gray-900","truncate"],["title","Total Records",1,"px-2","py-0.5","text-xs","font-semibold","rounded-full","bg-indigo-50","text-indigo-700","flex-shrink-0"],["title","Global Search (Alt + G)",1,"flex-1","flex","justify-center","max-w-xl","mx-4","min-w-0"],[1,"relative","w-full"],[1,"absolute","inset-y-0","left-0","pl-3","flex","items-center","pointer-events-none"],[1,"pi","pi-search","text-gray-400"],["id","global-search-input","type","search","placeholder","Search...",1,"block","w-full","pl-10","pr-3","py-1.5","border","border-gray-300","rounded-md","leading-5","bg-white","text-gray-900","placeholder-gray-400","focus:outline-none","focus:placeholder-gray-500","focus:ring-1","focus:ring-indigo-500","focus:border-indigo-500","text-sm",3,"input","value"],[1,"flex","flex-nowrap","items-center","justify-end","gap-1.5","flex-shrink-0"],[1,"relative",3,"clickOutside"],["iconName","filter","label","Filter","endIconName","chevron-down",3,"clicked","endIconRotate","active"],[1,"origin-top-right","absolute","right-0","mt-2","w-56","rounded-md","shadow-lg","bg-white","ring-1","ring-black","ring-opacity-5","focus:outline-none","z-30"],[3,"allColumns","visibleColumns"],[1,"h-6","w-px","bg-gray-300","mx-1"],[1,"relative"],["iconName","database","endIconName","chevron-down",3,"clicked","label","endIconRotate","title"],[1,"origin-top-right","absolute","right-0","mt-2","w-48","rounded-md","shadow-lg","bg-white","ring-1","ring-black","ring-opacity-5","focus:outline-none","z-30"],["iconName","cog","label","Config","title","Table Configuration",3,"clicked","active"],["iconName","eye","label","View","endIconName","chevron-down",3,"clicked","endIconRotate","active"],[1,"origin-top-right","absolute","right-0","mt-2","w-64","rounded-md","shadow-lg","bg-white","ring-1","ring-black","ring-opacity-5","focus:outline-none","z-30"],["iconName","sparkles","title","AI Actions","color","primary","size","md",3,"clicked","active"],[1,"p-2","border-t","border-gray-200"],[1,"flex-shrink-0","border-b","border-gray-300"],["tabindex","0",1,"flex-grow","overflow-auto","p-2","outline-none",3,"scroll","keydown"],[1,"flex","justify-center","items-center","py-4"],[1,"flex-shrink-0","border-t","border-gray-300","transition-colors","duration-300",3,"background-color","bg-white"],[3,"isOpen","config","activeFilters"],[3,"isOpen","config"],[3,"close","isOpen"],[3,"data","columns"],[3,"close","save","isOpen"],[3,"close","applyLayout","deleteLayout","generateLayout","isOpen","layouts","currentView","activeLayouts"],[3,"close","apply","isOpen","dateColumns"],[3,"close","addChip","isOpen","columns"],[1,"fixed","inset-0","bg-gray-900/60","flex","items-center","justify-center","z-[70]"],[3,"iconClass","label","showLabel","color","title"],[3,"clicked","iconClass","label","showLabel","color","title"],[1,"py-1"],["href","javascript:void(0)",1,"flex","items-center","justify-between","px-4","py-2","text-sm","text-gray-700","hover:bg-gray-100",3,"click"],[1,"flex","items-center","gap-3"],[1,"pi","pi-filter"],[1,"pi","pi-check","text-indigo-500"],["href","javascript:void(0)",1,"flex","items-center","gap-3","px-4","py-2","text-sm","text-gray-700","hover:bg-gray-100"],["href","javascript:void(0)",1,"flex","items-center","justify-between","px-4","py-2","text-sm","text-gray-700","hover:bg-gray-100"],["href","javascript:void(0)",1,"flex","items-center","gap-3","px-4","py-2","text-sm","text-gray-700","hover:bg-gray-100",3,"click"],[1,"pi","pi-tag"],[1,"pi","pi-columns"],[3,"visibilityChange","orderChange","allColumns","visibleColumns"],["iconName","table","title","Number of cards per row",3,"clicked","label","active"],[1,"origin-top-right","absolute","right-0","mt-2","w-40","rounded-md","shadow-lg","bg-white","ring-1","ring-black","ring-opacity-5","focus:outline-none","z-30"],["iconName","freeze","label","Freeze","title","Freeze columns",3,"clicked","active"],["href","javascript:void(0)",1,"block","px-4","py-2","text-sm","text-gray-700","hover:bg-gray-100",3,"click"],["href","javascript:void(0)",1,"flex","items-center","justify-between","px-4","py-2","text-sm","text-gray-700","hover:bg-gray-100",3,"title"],["href","javascript:void(0)",1,"flex","items-center","justify-between","px-4","py-2","text-sm","text-gray-700","hover:bg-gray-100",3,"click","title"],["iconName","download","label","Export","endIconName","chevron-down",3,"clicked","endIconRotate","active"],[1,"px-4","py-1","text-xs","font-semibold","text-gray-500","uppercase","tracking-wider"],[1,"px-2","pb-2","grid","grid-cols-2","gap-1"],[1,"flex","items-center","justify-center","gap-2","px-2","py-1.5","text-xs","border","rounded","hover:bg-gray-50","transition-colors",3,"bg-indigo-50","border-indigo-200","text-indigo-700","border-gray-200"],[1,"my-1","border-t","border-gray-200"],[1,"pi","pi-table"],[1,"pi","pi-id-card"],[1,"pi","pi-list"],[1,"pi","pi-chart-bar"],[1,"pi","pi-calendar"],[1,"pi","pi-replay","w-4","text-center"],[1,"pi"],[1,"flex","items-center","justify-center","gap-2","px-2","py-1.5","text-xs","border","rounded","hover:bg-gray-50","transition-colors",3,"click"],[1,"pi","pi-desktop","w-4","text-center"],[1,"pi","pi-book","w-4","text-center"],[1,"pi","pi-chart-line","w-4","text-center"],[1,"pi","pi-sort-numeric-down","w-4","text-center"],[1,"pi","pi-palette","w-4","text-center"],[3,"addChip","removeChip","chipClicked","chips"],[3,"pageChange","pageSizeChange","autoSizingToggle","chatbotToggle","currentPage","pageSize","totalRecords","autoSizingEnabled","infiniteScroll","infiniteScrollBehavior","currentRecordCount","dataStrategy","connectionStatus","lastSyncTime","isSyncing"],[3,"columns","rows"],[3,"count"],[1,"text-center","p-8"],[3,"config"],[1,"flex","flex-col","items-center","justify-center","h-full","text-center","text-gray-500"],[3,"action","config"],[1,"pi","pi-inbox","text-5xl","mb-3"],[1,"text-lg"],[3,"columns","data","sortColumn","sortDirection","density","densityClass","rowMenuConfig","rowActions","headerMenuConfig","enableMultiSelect","selectedIds","activeFilters","customTemplate","loading","keyboardActiveRowIndex","pageSize","isInfiniteScroll","stripedRows","showGridlines","rowHover","footerConfig"],[3,"columns","data","density","densityClass","selectedIds","rowMenuConfig","rowActions","enableMultiSelect","cardViewConfig","customTemplate","keyboardActiveRowIndex"],[3,"columns","data","density","densityClass","selectedIds","enableMultiSelect","customTemplate","keyboardActiveRowIndex"],[3,"sortChange","rowAction","rowClicked","headerAction","columnReorder","filterChange","selectionChange","columns","data","sortColumn","sortDirection","density","densityClass","rowMenuConfig","rowActions","headerMenuConfig","enableMultiSelect","selectedIds","activeFilters","customTemplate","loading","keyboardActiveRowIndex","pageSize","isInfiniteScroll","stripedRows","showGridlines","rowHover","footerConfig"],[3,"selectionChange","rowAction","rowClicked","columns","data","density","densityClass","selectedIds","rowMenuConfig","rowActions","enableMultiSelect","cardViewConfig","customTemplate","keyboardActiveRowIndex"],[3,"selectionChange","rowClicked","columns","data","density","densityClass","selectedIds","enableMultiSelect","customTemplate","keyboardActiveRowIndex"],[3,"data","columns","config"],[1,"text-center","p-8","text-gray-500"],[1,"pi","pi-spin","pi-spinner","text-2xl","text-indigo-500"],[1,"flex-shrink-0","border-t","border-gray-300","transition-colors","duration-300"],[3,"close","apply","isOpen","config","activeFilters"],[3,"close","save","resetToDefaults","isOpen","config"],[3,"close","filterApplied","data","columns"],[3,"close","startSync"],[1,"flex","flex-col","items-center","gap-4","bg-white","p-8","rounded-lg","shadow-xl"],[1,"bg-white","rounded-lg","shadow-xl","w-full","max-w-2xl","m-4"],[1,"pi","pi-spin","pi-spinner","text-4xl","text-indigo-500"],[1,"text-lg","font-medium","text-gray-800"],[1,"bg-white","rounded-lg","shadow-xl","w-full","max-w-2xl","m-4",3,"click"],[1,"flex","items-center","justify-between","p-4","border-b","border-gray-200"],[1,"text-lg","font-semibold","flex","items-center","gap-2"],[1,"pi","pi-sparkles","text-indigo-500"],[1,"p-2","rounded-full","hover:bg-gray-100",3,"click"],[1,"pi","pi-times"],[1,"p-6","prose","max-w-none",3,"innerHTML"]],template:function(h,E){if(1&h&&t.nVh(0,Ig,54,56),2&h){let P;t.vxM((P=E.config())?0:-1,P)}},dependencies:[oe.MD,Mi,un,qn,Xd,m0,Md,Zd,Ke,Pf,ap,Nf,Qu,pd,pr,ri,C0,eg,bh,ag,hp,lg,H0,pg,oe.PV],encapsulation:2,changeDetection:0})}return c})()},5824(on,ct,$){"use strict";$.d(ct,{Ag:()=>Bt,Bg:()=>be,EF:()=>ht,H8:()=>Ve,Ht:()=>ke,JC:()=>t,KE:()=>ee,KO:()=>Ze,KZ:()=>en,Ny:()=>Dt,O8:()=>Er,TO:()=>Te,Wu:()=>at,XR:()=>st,a7:()=>At,bh:()=>oe,j2:()=>wn,lh:()=>Jn,mC:()=>bn,mK:()=>ie,n5:()=>Et,nR:()=>Ae,pL:()=>m,s0:()=>kn,si:()=>et,vX:()=>mi});let L=null,r=!1,R=1;const oe=Symbol("SIGNAL");function ke(Pt){const Kt=L;return L=Pt,Kt}function Ae(){return L}function ee(){return r}const m={version:0,lastCleanEpoch:0,dirty:!1,producers:void 0,producersTail:void 0,consumers:void 0,consumersTail:void 0,recomputing:!1,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,kind:"unknown",producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function ie(Pt){if(r)throw new Error("");if(null===L)return;L.consumerOnSignalRead(Pt);const Kt=L.producersTail;if(void 0!==Kt&&Kt.producer===Pt)return;let Un;const fr=L.recomputing;if(fr&&(Un=void 0!==Kt?Kt.nextProducer:L.producers,void 0!==Un&&Un.producer===Pt))return L.producersTail=Un,void(Un.lastReadVersion=Pt.version);const Pr=Pt.consumersTail;if(void 0!==Pr&&Pr.consumer===L&&(!fr||function gt(Pt,Kt){const Un=Kt.producersTail;if(void 0!==Un){let fr=Kt.producers;do{if(fr===Pt)return!0;if(fr===Un)break;fr=fr.nextProducer}while(void 0!==fr)}return!1}(Pr,L)))return;const fi=Ht(L),li={producer:Pt,consumer:L,nextProducer:Un,prevConsumer:Pr,lastReadVersion:Pt.version,nextConsumer:void 0};L.producersTail=li,void 0!==Kt?Kt.nextProducer=li:L.producers=li,fi&&rn(Pt,li)}function t(Pt){if((!Ht(Pt)||Pt.dirty)&&(Pt.dirty||Pt.lastCleanEpoch!==R)){if(!Pt.producerMustRecompute(Pt)&&!et(Pt))return void Te(Pt);Pt.producerRecomputeValue(Pt),Te(Pt)}}function Le(Pt){if(void 0===Pt.consumers)return;const Kt=r;r=!0;try{for(let Un=Pt.consumers;void 0!==Un;Un=Un.nextConsumer){const fr=Un.consumer;fr.dirty||je(fr)}}finally{r=Kt}}function Se(){return!1!==L?.consumerAllowSignalWrites}function je(Pt){Pt.dirty=!0,Le(Pt),Pt.consumerMarkedDirty?.(Pt)}function Te(Pt){Pt.dirty=!1,Pt.lastCleanEpoch=R}function be(Pt){return Pt&&function Oe(Pt){Pt.producersTail=void 0,Pt.recomputing=!0}(Pt),ke(Pt)}function at(Pt,Kt){ke(Kt),Pt&&function ze(Pt){Pt.recomputing=!1;const Kt=Pt.producersTail;let Un=void 0!==Kt?Kt.nextProducer:Pt.producers;if(void 0!==Un){if(Ht(Pt))do{Un=It(Un)}while(void 0!==Un);void 0!==Kt?Kt.nextProducer=void 0:Pt.producers=void 0}}(Pt)}function et(Pt){for(let Kt=Pt.producers;void 0!==Kt;Kt=Kt.nextProducer){const Un=Kt.producer,fr=Kt.lastReadVersion;if(fr!==Un.version||(t(Un),fr!==Un.version))return!0}return!1}function st(Pt){if(Ht(Pt)){let Kt=Pt.producers;for(;void 0!==Kt;)Kt=It(Kt)}Pt.producers=void 0,Pt.producersTail=void 0,Pt.consumers=void 0,Pt.consumersTail=void 0}function rn(Pt,Kt){const Un=Pt.consumersTail,fr=Ht(Pt);if(void 0!==Un?(Kt.nextConsumer=Un.nextConsumer,Un.nextConsumer=Kt):(Kt.nextConsumer=void 0,Pt.consumers=Kt),Kt.prevConsumer=Un,Pt.consumersTail=Kt,!fr)for(let Pr=Pt.producers;void 0!==Pr;Pr=Pr.nextProducer)rn(Pr.producer,Pr)}function It(Pt){const Kt=Pt.producer,Un=Pt.nextProducer,fr=Pt.nextConsumer,Pr=Pt.prevConsumer;if(Pt.nextConsumer=void 0,Pt.prevConsumer=void 0,void 0!==fr?fr.prevConsumer=Pr:Kt.consumersTail=Pr,void 0!==Pr)Pr.nextConsumer=fr;else if(Kt.consumers=fr,!Ht(Kt)){let fi=Kt.producers;for(;void 0!==fi;)fi=It(fi)}return Un}function Ht(Pt){return Pt.consumerIsAlwaysLive||void 0!==Pt.consumers}function At(Pt){}function Ve(Pt,Kt){return Object.is(Pt,Kt)}function en(Pt,Kt){const Un=Object.create(Ke);Un.computation=Pt,void 0!==Kt&&(Un.equal=Kt);const fr=()=>{if(t(Un),ie(Un),Un.value===ht)throw Un.error;return Un.value};return fr[oe]=Un,fr}const Bt=Symbol("UNSET"),Dt=Symbol("COMPUTING"),ht=Symbol("ERRORED"),Ke={...m,value:Bt,dirty:!0,error:null,equal:Ve,kind:"computed",producerMustRecompute:Pt=>Pt.value===Bt||Pt.value===Dt,producerRecomputeValue(Pt){if(Pt.value===Dt)throw new Error("");const Kt=Pt.value;Pt.value=Dt;const Un=be(Pt);let fr,Pr=!1;try{fr=Pt.computation(),ke(null),Pr=Kt!==Bt&&Kt!==ht&&fr!==ht&&Pt.equal(Kt,fr)}catch(fi){fr=ht,Pt.error=fi}finally{at(Pt,Un)}Pr?Pt.value=Kt:(Pt.value=fr,Pt.version++)}};let Ft=function Ge(){throw new Error};function Xe(Pt){Ft(Pt)}function Ze(Pt){Ft=Pt}function Et(Pt,Kt){const Un=Object.create(kn);Un.value=Pt,void 0!==Kt&&(Un.equal=Kt);const fr=()=>function Nt(Pt){return ie(Pt),Pt.value}(Un);return fr[oe]=Un,[fr,li=>wn(Un,li),li=>bn(Un,li)]}function wn(Pt,Kt){Se()||Xe(Pt),Pt.equal(Pt.value,Kt)||(Pt.value=Kt,function On(Pt){Pt.version++,function xe(){R++}(),Le(Pt)}(Pt))}function bn(Pt,Kt){Se()||Xe(Pt),wn(Pt,Kt(Pt.value))}const kn={...m,equal:Ve,value:void 0,kind:"signal"};function Er(Pt){const Kt=ke(null);try{return Pt()}finally{ke(Kt)}}const mi={...m,consumerIsAlwaysLive:!0,consumerAllowSignalWrites:!0,dirty:!0,kind:"effect"};function Jn(Pt){if(Pt.dirty=!1,Pt.version>0&&!et(Pt))return;Pt.version++;const Kt=be(Pt);try{Pt.cleanup(),Pt.fn()}finally{at(Pt,Kt)}}},5964(on,ct,$){"use strict";$.d(ct,{p:()=>R});var L=$(9974),r=$(4360);function R(ve,oe){return(0,L.N)((ke,Ae)=>{let ee=0;ke.subscribe((0,r._)(Ae,v=>ve.call(oe,v,ee++)&&Ae.next(v)))})}},5984(on,ct,$){"use strict";$.d(ct,{Q:()=>ke,Sm:()=>v,aZ:()=>m,hb:()=>Ae,kB:()=>ee,om:()=>ve});var L=$(375),r=$(1413),R=$(6494);function ve(Se,je){return Se?je?Se.endsWith("/")?je.startsWith("/")?Se+je.slice(1):Se+je:je.startsWith("/")?Se+je:`${Se}/${je}`:Se:je}function oe(Se){const je=Se.search(/#|\?|$/);return"/"===Se[je-1]?Se.slice(0,je-1)+Se.slice(je):Se}function ke(Se){return Se&&"?"!==Se[0]?`?${Se}`:Se}let Ae=(()=>{class Se{historyGo(Te){throw new Error("")}static \u0275fac=function(be){return new(be||Se)};static \u0275prov=L.jDH({token:Se,factory:()=>(0,L.WQX)(v),providedIn:"root"})}return Se})();const ee=new L.nKC("");let v=(()=>{class Se extends Ae{_platformLocation;_baseHref;_removeListenerFns=[];constructor(Te,be){super(),this._platformLocation=Te,this._baseHref=be??this._platformLocation.getBaseHrefFromDOM()??(0,L.WQX)(L.qQL).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(Te){this._removeListenerFns.push(this._platformLocation.onPopState(Te),this._platformLocation.onHashChange(Te))}getBaseHref(){return this._baseHref}prepareExternalUrl(Te){return ve(this._baseHref,Te)}path(Te=!1){const be=this._platformLocation.pathname+ke(this._platformLocation.search),Oe=this._platformLocation.hash;return Oe&&Te?`${be}${Oe}`:be}pushState(Te,be,Oe,at){const ze=this.prepareExternalUrl(Oe+ke(at));this._platformLocation.pushState(Te,be,ze)}replaceState(Te,be,Oe,at){const ze=this.prepareExternalUrl(Oe+ke(at));this._platformLocation.replaceState(Te,be,ze)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(Te=0){this._platformLocation.historyGo?.(Te)}static \u0275fac=function(be){return new(be||Se)(L.KVO(R.Vw),L.KVO(ee,8))};static \u0275prov=L.jDH({token:Se,factory:Se.\u0275fac,providedIn:"root"})}return Se})(),m=(()=>{class Se{_subject=new r.B;_basePath;_locationStrategy;_urlChangeListeners=[];_urlChangeSubscription=null;constructor(Te){this._locationStrategy=Te;const be=this._locationStrategy.getBaseHref();this._basePath=function Le(Se){if(new RegExp("^(https?:)?//").test(Se)){const[,Te]=Se.split(/\/\/[^\/]+/);return Te}return Se}(oe(t(be))),this._locationStrategy.onPopState(Oe=>{this._subject.next({url:this.path(!0),pop:!0,state:Oe.state,type:Oe.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(Te=!1){return this.normalize(this._locationStrategy.path(Te))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(Te,be=""){return this.path()==this.normalize(Te+ke(be))}normalize(Te){return Se.stripTrailingSlash(function xe(Se,je){if(!Se||!je.startsWith(Se))return je;const Te=je.substring(Se.length);return""===Te||["/",";","?","#"].includes(Te[0])?Te:je}(this._basePath,t(Te)))}prepareExternalUrl(Te){return Te&&"/"!==Te[0]&&(Te="/"+Te),this._locationStrategy.prepareExternalUrl(Te)}go(Te,be="",Oe=null){this._locationStrategy.pushState(Oe,"",Te,be),this._notifyUrlChangeListeners(this.prepareExternalUrl(Te+ke(be)),Oe)}replaceState(Te,be="",Oe=null){this._locationStrategy.replaceState(Oe,"",Te,be),this._notifyUrlChangeListeners(this.prepareExternalUrl(Te+ke(be)),Oe)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(Te=0){this._locationStrategy.historyGo?.(Te)}onUrlChange(Te){return this._urlChangeListeners.push(Te),this._urlChangeSubscription??=this.subscribe(be=>{this._notifyUrlChangeListeners(be.url,be.state)}),()=>{const be=this._urlChangeListeners.indexOf(Te);this._urlChangeListeners.splice(be,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(Te="",be){this._urlChangeListeners.forEach(Oe=>Oe(Te,be))}subscribe(Te,be,Oe){return this._subject.subscribe({next:Te,error:be??void 0,complete:Oe??void 0})}static normalizeQueryParams=ke;static joinWithSlash=ve;static stripTrailingSlash=oe;static \u0275fac=function(be){return new(be||Se)(L.KVO(Ae))};static \u0275prov=L.jDH({token:Se,factory:()=>function ie(){return new m((0,L.KVO)(Ae))}(),providedIn:"root"})}return Se})();function t(Se){return Se.replace(/\/index.html$/,"")}},6115(on,ct,$){var r,L;on.exports=(L=$(7656),$(2414),L.mode.ECB=((r=L.lib.BlockCipherMode.extend()).Encryptor=r.extend({processBlock:function(R,ve){this._cipher.encryptBlock(R,ve)}}),r.Decryptor=r.extend({processBlock:function(R,ve){this._cipher.decryptBlock(R,ve)}}),r),L.mode.ECB)},6129(on,ct,$){"use strict";$.d(ct,{U:()=>L});const L={now:()=>(L.delegate||Date).now(),delegate:void 0}},6245(on,ct,$){"use strict";$.d(ct,{nX:()=>Es,Pu:()=>ul,Zp:()=>bi,nU:()=>Zn,wU:()=>ot,c1:()=>ps,XR:()=>bu,wF:()=>_r,lW:()=>Yi,mo:()=>qn,Z:()=>nr,J2:()=>cl,J_:()=>Ya,bw:()=>ll,tD:()=>Qo,Ix:()=>_s,D$:()=>$l,n3:()=>Ro,OY:()=>so,Sd:()=>Tr,bK:()=>yl,gk:()=>ou,Lg:()=>ru,wO:()=>wi,Us:()=>Cs,we:()=>La});var L=$(467),r=$(375),R=$(5984),ve=$(5547),oe=$(7705),ke=$(4402),Ae=$(6648),ee=$(7673),v=$(4412),m=$(4572),ie=$(9350),xe=$(1985),t=$(8793),Le=$(9030),Se=$(1203),je=$(983),Te=$(8810),be=$(1413),Oe=$(8359),at=$(5964),ze=$(6697),et=$(9974),st=$(4360);function It(B=Ht){return(0,et.N)((W,V)=>{let z=!1;W.subscribe((0,st._)(V,se=>{z=!0,V.next(se)},()=>z?V.complete():V.error(B())))})}function Ht(){return new ie.G}var At=$(3669);function Me(B,W){const V=arguments.length>=2;return z=>z.pipe(B?(0,at.p)((se,Ue)=>B(se,Ue,z)):At.D,(0,ze.s)(1),V?function rn(B){return(0,et.N)((W,V)=>{let z=!1;W.subscribe((0,st._)(V,se=>{z=!0,V.next(se)},()=>{z||V.next(B),V.complete()}))})}(W):It(()=>new ie.G))}var gt=$(6354),Ve=$(5558),en=$(9172),Bt=$(6977),Dt=$(1397),ht=$(274),Ke=$(8141);function Ge(B){return B<=0?()=>je.w:(0,et.N)((W,V)=>{let z=[];W.subscribe((0,st._)(V,se=>{z.push(se),B<z.length&&z.shift()},()=>{for(const se of z)V.next(se);V.complete()},void 0,()=>{z=null}))})}var Ft=$(9437),Xe=$(980),Ze=$(345);const dt="primary",Et=Symbol("RouteTitle");class yt{params;constructor(W){this.params=W||{}}has(W){return Object.prototype.hasOwnProperty.call(this.params,W)}get(W){if(this.has(W)){const V=this.params[W];return Array.isArray(V)?V[0]:V}return null}getAll(W){if(this.has(W)){const V=this.params[W];return Array.isArray(V)?V:[V]}return[]}get keys(){return Object.keys(this.params)}}function Nt(B){return new yt(B)}function wn(B,W,V){const z=V.path.split("/");if(z.length>B.length||"full"===V.pathMatch&&(W.hasChildren()||z.length<B.length))return null;const se={};for(let Ue=0;Ue<z.length;Ue++){const Pe=z[Ue],vt=B[Ue];if(":"===Pe[0])se[Pe.substring(1)]=vt;else if(Pe!==vt.path)return null}return{consumed:B.slice(0,z.length),posParams:se}}function bn(B){return new Promise((W,V)=>{B.pipe(Me()).subscribe({next:z=>W(z),error:z=>V(z)})})}function kn(B,W){const V=B?On(B):void 0,z=W?On(W):void 0;if(!V||!z||V.length!=z.length)return!1;let se;for(let Ue=0;Ue<V.length;Ue++)if(se=V[Ue],!Er(B[se],W[se]))return!1;return!0}function On(B){return[...Object.keys(B),...Object.getOwnPropertySymbols(B)]}function Er(B,W){if(Array.isArray(B)&&Array.isArray(W)){if(B.length!==W.length)return!1;const V=[...B].sort(),z=[...W].sort();return V.every((se,Ue)=>z[Ue]===se)}return B===W}function mi(B){return B.length>0?B[B.length-1]:null}function Jn(B){return(0,ke.A)(B)?B:(0,ve.yLl)(B)?(0,Ae.H)(Promise.resolve(B)):(0,ee.of)(B)}function Pt(B){return(0,ke.A)(B)?bn(B):Promise.resolve(B)}const Kt={exact:function fi(B,W,V){if(!zn(B.segments,W.segments)||!oi(B.segments,W.segments,V)||B.numberOfChildren!==W.numberOfChildren)return!1;for(const z in W.children)if(!B.children[z]||!fi(B.children[z],W.children[z],V))return!1;return!0},subset:Gi},Un={exact:function Pr(B,W){return kn(B,W)},subset:function li(B,W){return Object.keys(W).length<=Object.keys(B).length&&Object.keys(W).every(V=>Er(B[V],W[V]))},ignored:()=>!0};function fr(B,W,V){return Kt[V.paths](B.root,W.root,V.matrixParams)&&Un[V.queryParams](B.queryParams,W.queryParams)&&!("exact"===V.fragment&&B.fragment!==W.fragment)}function Gi(B,W,V){return Li(B,W,W.segments,V)}function Li(B,W,V,z){if(B.segments.length>V.length){const se=B.segments.slice(0,V.length);return!(!zn(se,V)||W.hasChildren()||!oi(se,V,z))}if(B.segments.length===V.length){if(!zn(B.segments,V)||!oi(B.segments,V,z))return!1;for(const se in W.children)if(!B.children[se]||!Gi(B.children[se],W.children[se],z))return!1;return!0}{const se=V.slice(0,B.segments.length),Ue=V.slice(B.segments.length);return!!(zn(B.segments,se)&&oi(B.segments,se,z)&&B.children[dt])&&Li(B.children[dt],W,Ue,z)}}function oi(B,W,V){return W.every((z,se)=>Un[V](B[se].parameters,z.parameters))}class yn{root;queryParams;fragment;_queryParamMap;constructor(W=new or([],{}),V={},z=null){this.root=W,this.queryParams=V,this.fragment=z}get queryParamMap(){return this._queryParamMap??=Nt(this.queryParams),this._queryParamMap}toString(){return Fi.serialize(this)}}class or{segments;children;parent=null;constructor(W,V){this.segments=W,this.children=V,Object.values(V).forEach(z=>z.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return oo(this)}}class ln{path;parameters;_parameterMap;constructor(W,V){this.path=W,this.parameters=V}get parameterMap(){return this._parameterMap??=Nt(this.parameters),this._parameterMap}toString(){return Lr(this)}}function zn(B,W){return B.length===W.length&&B.every((V,z)=>V.path===W[z].path)}let Tr=(()=>{class B{static \u0275fac=function(z){return new(z||B)};static \u0275prov=r.jDH({token:B,factory:()=>new Zn,providedIn:"root"})}return B})();class Zn{parse(W){const V=new Io(W);return new yn(V.parseRootSegment(),V.parseQueryParams(),V.parseFragment())}serialize(W){const V=`/${Fn(W.root,!0)}`,z=function Vi(B){const W=Object.entries(B).map(([V,z])=>Array.isArray(z)?z.map(se=>`${Bi(V)}=${Bi(se)}`).join("&"):`${Bi(V)}=${Bi(z)}`).filter(V=>V);return W.length?`?${W.join("&")}`:""}(W.queryParams);return`${V}${z}${"string"==typeof W.fragment?`#${function Ei(B){return encodeURI(B)}(W.fragment)}`:""}`}}const Fi=new Zn;function oo(B){return B.segments.map(W=>Lr(W)).join("/")}function Fn(B,W){if(!B.hasChildren())return oo(B);if(W){const V=B.children[dt]?Fn(B.children[dt],!1):"",z=[];return Object.entries(B.children).forEach(([se,Ue])=>{se!==dt&&z.push(`${se}:${Fn(Ue,!1)}`)}),z.length>0?`${V}(${z.join("//")})`:V}{const V=function sr(B,W){let V=[];return Object.entries(B.children).forEach(([z,se])=>{z===dt&&(V=V.concat(W(se,z)))}),Object.entries(B.children).forEach(([z,se])=>{z!==dt&&(V=V.concat(W(se,z)))}),V}(B,(z,se)=>se===dt?[Fn(B.children[dt],!1)]:[`${se}:${Fn(z,!1)}`]);return 1===Object.keys(B.children).length&&null!=B.children[dt]?`${oo(B)}/${V[0]}`:`${oo(B)}/(${V.join("//")})`}}function Hn(B){return encodeURIComponent(B).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Bi(B){return Hn(B).replace(/%3B/gi,";")}function pi(B){return Hn(B).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function fo(B){return decodeURIComponent(B)}function Ai(B){return fo(B.replace(/\+/g,"%20"))}function Lr(B){return`${pi(B.path)}${function Pi(B){return Object.entries(B).map(([W,V])=>`;${pi(W)}=${pi(V)}`).join("")}(B.parameters)}`}const vo=/^[^\/()?;#]+/;function Ui(B){const W=B.match(vo);return W?W[0]:""}const Di=/^[^\/()?;=#]+/,$i=/^[^=?&#]+/,Mi=/^[^&#]+/;class Io{url;remaining;constructor(W){this.url=W,this.remaining=W}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new or([],{}):new or([],this.parseChildren())}parseQueryParams(){const W={};if(this.consumeOptional("?"))do{this.parseQueryParam(W)}while(this.consumeOptional("&"));return W}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const W=[];for(this.peekStartsWith("(")||W.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),W.push(this.parseSegment());let V={};this.peekStartsWith("/(")&&(this.capture("/"),V=this.parseParens(!0));let z={};return this.peekStartsWith("(")&&(z=this.parseParens(!1)),(W.length>0||Object.keys(V).length>0)&&(z[dt]=new or(W,V)),z}parseSegment(){const W=Ui(this.remaining);if(""===W&&this.peekStartsWith(";"))throw new r.buA(4009,!1);return this.capture(W),new ln(fo(W),this.parseMatrixParams())}parseMatrixParams(){const W={};for(;this.consumeOptional(";");)this.parseParam(W);return W}parseParam(W){const V=function ui(B){const W=B.match(Di);return W?W[0]:""}(this.remaining);if(!V)return;this.capture(V);let z="";if(this.consumeOptional("=")){const se=Ui(this.remaining);se&&(z=se,this.capture(z))}W[fo(V)]=fo(z)}parseQueryParam(W){const V=function _i(B){const W=B.match($i);return W?W[0]:""}(this.remaining);if(!V)return;this.capture(V);let z="";if(this.consumeOptional("=")){const Pe=function Xi(B){const W=B.match(Mi);return W?W[0]:""}(this.remaining);Pe&&(z=Pe,this.capture(z))}const se=Ai(V),Ue=Ai(z);if(W.hasOwnProperty(se)){let Pe=W[se];Array.isArray(Pe)||(Pe=[Pe],W[se]=Pe),Pe.push(Ue)}else W[se]=Ue}parseParens(W){const V={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const z=Ui(this.remaining),se=this.remaining[z.length];if("/"!==se&&")"!==se&&";"!==se)throw new r.buA(4010,!1);let Ue;z.indexOf(":")>-1?(Ue=z.slice(0,z.indexOf(":")),this.capture(Ue),this.capture(":")):W&&(Ue=dt);const Pe=this.parseChildren();V[Ue??dt]=1===Object.keys(Pe).length&&Pe[dt]?Pe[dt]:new or([],Pe),this.consumeOptional("//")}return V}peekStartsWith(W){return this.remaining.startsWith(W)}consumeOptional(W){return!!this.peekStartsWith(W)&&(this.remaining=this.remaining.substring(W.length),!0)}capture(W){if(!this.consumeOptional(W))throw new r.buA(4011,!1)}}function Do(B){return B.segments.length>0?new or([],{[dt]:B}):B}function Wi(B){const W={};for(const[z,se]of Object.entries(B.children)){const Ue=Wi(se);if(z===dt&&0===Ue.segments.length&&Ue.hasChildren())for(const[Pe,vt]of Object.entries(Ue.children))W[Pe]=vt;else(Ue.segments.length>0||Ue.hasChildren())&&(W[z]=Ue)}return function wo(B){if(1===B.numberOfChildren&&B.children[dt]){const W=B.children[dt];return new or(B.segments.concat(W.segments),W.children)}return B}(new or(B.segments,W))}function wi(B){return B instanceof yn}function yo(B){let W;const se=Do(function V(Ue){const Pe={};for(const nn of Ue.children){const jn=V(nn);Pe[nn.outlet]=jn}const vt=new or(Ue.url,Pe);return Ue===B&&(W=vt),vt}(B.root));return W??se}function Ji(B,W,V,z,se){let Ue=B;for(;Ue.parent;)Ue=Ue.parent;if(0===W.length)return Bo(Ue,Ue,Ue,V,z,se);const Pe=function lt(B){if("string"==typeof B[0]&&1===B.length&&"/"===B[0])return new pt(!0,0,B);let W=0,V=!1;const z=B.reduce((se,Ue,Pe)=>{if("object"==typeof Ue&&null!=Ue){if(Ue.outlets){const vt={};return Object.entries(Ue.outlets).forEach(([nn,jn])=>{vt[nn]="string"==typeof jn?jn.split("/"):jn}),[...se,{outlets:vt}]}if(Ue.segmentPath)return[...se,Ue.segmentPath]}return"string"!=typeof Ue?[...se,Ue]:0===Pe?(Ue.split("/").forEach((vt,nn)=>{0==nn&&"."===vt||(0==nn&&""===vt?V=!0:".."===vt?W++:""!=vt&&se.push(vt))}),se):[...se,Ue]},[]);return new pt(V,W,z)}(W);if(Pe.toRoot())return Bo(Ue,Ue,new or([],{}),V,z,se);const vt=function hn(B,W,V){if(B.isAbsolute)return new tn(W,!0,0);if(!V)return new tn(W,!1,NaN);if(null===V.parent)return new tn(V,!0,0);const z=Zi(B.commands[0])?0:1;return function un(B,W,V){let z=B,se=W,Ue=V;for(;Ue>se;){if(Ue-=se,z=z.parent,!z)throw new r.buA(4005,!1);se=z.segments.length}return new tn(z,!1,se-Ue)}(V,V.segments.length-1+z,B.numberOfDoubleDots)}(Pe,Ue,B),nn=vt.processChildren?rt(vt.segmentGroup,vt.index,Pe.commands):Rr(vt.segmentGroup,vt.index,Pe.commands);return Bo(Ue,vt.segmentGroup,nn,V,z,se)}function Zi(B){return"object"==typeof B&&null!=B&&!B.outlets&&!B.segmentPath}function qi(B){return"object"==typeof B&&null!=B&&B.outlets}function Xr(B,W,V){B||="\u0275";const z=new yn;return z.queryParams={[B]:W},V.parse(V.serialize(z)).queryParams[B]}function Bo(B,W,V,z,se,Ue){const Pe={};for(const[jn,dr]of Object.entries(z??{}))Pe[jn]=Array.isArray(dr)?dr.map(ki=>Xr(jn,ki,Ue)):Xr(jn,dr,Ue);let vt;vt=B===W?V:He(B,W,V);const nn=Do(Wi(vt));return new yn(nn,Pe,se)}function He(B,W,V){const z={};return Object.entries(B.children).forEach(([se,Ue])=>{z[se]=Ue===W?V:He(Ue,W,V)}),new or(B.segments,z)}class pt{isAbsolute;numberOfDoubleDots;commands;constructor(W,V,z){if(this.isAbsolute=W,this.numberOfDoubleDots=V,this.commands=z,W&&z.length>0&&Zi(z[0]))throw new r.buA(4003,!1);const se=z.find(qi);if(se&&se!==mi(z))throw new r.buA(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class tn{segmentGroup;processChildren;index;constructor(W,V,z){this.segmentGroup=W,this.processChildren=V,this.index=z}}function Rr(B,W,V){if(B??=new or([],{}),0===B.segments.length&&B.hasChildren())return rt(B,W,V);const z=function Wt(B,W,V){let z=0,se=W;const Ue={match:!1,pathIndex:0,commandIndex:0};for(;se<B.segments.length;){if(z>=V.length)return Ue;const Pe=B.segments[se],vt=V[z];if(qi(vt))break;const nn=`${vt}`,jn=z<V.length-1?V[z+1]:null;if(se>0&&void 0===nn)break;if(nn&&jn&&"object"==typeof jn&&void 0===jn.outlets){if(!Ye(nn,jn,Pe))return Ue;z+=2}else{if(!Ye(nn,{},Pe))return Ue;z++}se++}return{match:!0,pathIndex:se,commandIndex:z}}(B,W,V),se=V.slice(z.commandIndex);if(z.match&&z.pathIndex<B.segments.length){const Ue=new or(B.segments.slice(0,z.pathIndex),{});return Ue.children[dt]=new or(B.segments.slice(z.pathIndex),B.children),rt(Ue,0,se)}return z.match&&0===se.length?new or(B.segments,{}):z.match&&!B.hasChildren()?Qt(B,W,V):z.match?rt(B,0,se):Qt(B,W,V)}function rt(B,W,V){if(0===V.length)return new or(B.segments,{});{const z=function an(B){return qi(B[0])?B[0].outlets:{[dt]:B}}(V),se={};if(Object.keys(z).some(Ue=>Ue!==dt)&&B.children[dt]&&1===B.numberOfChildren&&0===B.children[dt].segments.length){const Ue=rt(B.children[dt],W,V);return new or(B.segments,Ue.children)}return Object.entries(z).forEach(([Ue,Pe])=>{"string"==typeof Pe&&(Pe=[Pe]),null!==Pe&&(se[Ue]=Rr(B.children[Ue],W,Pe))}),Object.entries(B.children).forEach(([Ue,Pe])=>{void 0===z[Ue]&&(se[Ue]=Pe)}),new or(B.segments,se)}}function Qt(B,W,V){const z=B.segments.slice(0,W);let se=0;for(;se<V.length;){const Ue=V[se];if(qi(Ue)){const nn=Cn(Ue.outlets);return new or(z,nn)}if(0===se&&Zi(V[0])){z.push(new ln(B.segments[W].path,ge(V[0]))),se++;continue}const Pe=qi(Ue)?Ue.outlets[dt]:`${Ue}`,vt=se<V.length-1?V[se+1]:null;Pe&&vt&&Zi(vt)?(z.push(new ln(Pe,ge(vt))),se+=2):(z.push(new ln(Pe,{})),se++)}return new or(z,{})}function Cn(B){const W={};return Object.entries(B).forEach(([V,z])=>{"string"==typeof z&&(z=[z]),null!==z&&(W[V]=Qt(new or([],{}),0,z))}),W}function ge(B){const W={};return Object.entries(B).forEach(([V,z])=>W[V]=`${z}`),W}function Ye(B,W,V){return B==V.path&&kn(W,V.parameters)}const ot="imperative";var kt=function(B){return B[B.NavigationStart=0]="NavigationStart",B[B.NavigationEnd=1]="NavigationEnd",B[B.NavigationCancel=2]="NavigationCancel",B[B.NavigationError=3]="NavigationError",B[B.RoutesRecognized=4]="RoutesRecognized",B[B.ResolveStart=5]="ResolveStart",B[B.ResolveEnd=6]="ResolveEnd",B[B.GuardsCheckStart=7]="GuardsCheckStart",B[B.GuardsCheckEnd=8]="GuardsCheckEnd",B[B.RouteConfigLoadStart=9]="RouteConfigLoadStart",B[B.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",B[B.ChildActivationStart=11]="ChildActivationStart",B[B.ChildActivationEnd=12]="ChildActivationEnd",B[B.ActivationStart=13]="ActivationStart",B[B.ActivationEnd=14]="ActivationEnd",B[B.Scroll=15]="Scroll",B[B.NavigationSkipped=16]="NavigationSkipped",B}(kt||{});class Tn{id;url;constructor(W,V){this.id=W,this.url=V}}class nr extends Tn{type=kt.NavigationStart;navigationTrigger;restoredState;constructor(W,V,z="imperative",se=null){super(W,V),this.navigationTrigger=z,this.restoredState=se}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class _r extends Tn{urlAfterRedirects;type=kt.NavigationEnd;constructor(W,V,z){super(W,V),this.urlAfterRedirects=z}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}var Ur=function(B){return B[B.Redirect=0]="Redirect",B[B.SupersededByNewNavigation=1]="SupersededByNewNavigation",B[B.NoDataFromResolver=2]="NoDataFromResolver",B[B.GuardRejected=3]="GuardRejected",B[B.Aborted=4]="Aborted",B}(Ur||{}),qn=function(B){return B[B.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",B[B.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",B}(qn||{});class tr extends Tn{reason;code;type=kt.NavigationCancel;constructor(W,V,z,se){super(W,V),this.reason=z,this.code=se}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Yi extends Tn{reason;code;type=kt.NavigationSkipped;constructor(W,V,z,se){super(W,V),this.reason=z,this.code=se}}class hi extends Tn{error;target;type=kt.NavigationError;constructor(W,V,z,se){super(W,V),this.error=z,this.target=se}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class To extends Tn{urlAfterRedirects;state;type=kt.RoutesRecognized;constructor(W,V,z,se){super(W,V),this.urlAfterRedirects=z,this.state=se}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class eo extends Tn{urlAfterRedirects;state;type=kt.GuardsCheckStart;constructor(W,V,z,se){super(W,V),this.urlAfterRedirects=z,this.state=se}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class ho extends Tn{urlAfterRedirects;state;shouldActivate;type=kt.GuardsCheckEnd;constructor(W,V,z,se,Ue){super(W,V),this.urlAfterRedirects=z,this.state=se,this.shouldActivate=Ue}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class as extends Tn{urlAfterRedirects;state;type=kt.ResolveStart;constructor(W,V,z,se){super(W,V),this.urlAfterRedirects=z,this.state=se}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Vo extends Tn{urlAfterRedirects;state;type=kt.ResolveEnd;constructor(W,V,z,se){super(W,V),this.urlAfterRedirects=z,this.state=se}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Co{route;type=kt.RouteConfigLoadStart;constructor(W){this.route=W}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class As{route;type=kt.RouteConfigLoadEnd;constructor(W){this.route=W}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class qr{snapshot;type=kt.ChildActivationStart;constructor(W){this.snapshot=W}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Os{snapshot;type=kt.ChildActivationEnd;constructor(W){this.snapshot=W}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Ws{snapshot;type=kt.ActivationStart;constructor(W){this.snapshot=W}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Fr{snapshot;type=kt.ActivationEnd;constructor(W){this.snapshot=W}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class so{routerEvent;position;anchor;type=kt.Scroll;constructor(W,V,z){this.routerEvent=W,this.position=V,this.anchor=z}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class zs{}class Ks{url;navigationBehaviorOptions;constructor(W,V){this.url=W,this.navigationBehaviorOptions=V}}function Cs(B){switch(B.type){case kt.ActivationEnd:return`ActivationEnd(path: '${B.snapshot.routeConfig?.path||""}')`;case kt.ActivationStart:return`ActivationStart(path: '${B.snapshot.routeConfig?.path||""}')`;case kt.ChildActivationEnd:return`ChildActivationEnd(path: '${B.snapshot.routeConfig?.path||""}')`;case kt.ChildActivationStart:return`ChildActivationStart(path: '${B.snapshot.routeConfig?.path||""}')`;case kt.GuardsCheckEnd:return`GuardsCheckEnd(id: ${B.id}, url: '${B.url}', urlAfterRedirects: '${B.urlAfterRedirects}', state: ${B.state}, shouldActivate: ${B.shouldActivate})`;case kt.GuardsCheckStart:return`GuardsCheckStart(id: ${B.id}, url: '${B.url}', urlAfterRedirects: '${B.urlAfterRedirects}', state: ${B.state})`;case kt.NavigationCancel:return`NavigationCancel(id: ${B.id}, url: '${B.url}')`;case kt.NavigationSkipped:return`NavigationSkipped(id: ${B.id}, url: '${B.url}')`;case kt.NavigationEnd:return`NavigationEnd(id: ${B.id}, url: '${B.url}', urlAfterRedirects: '${B.urlAfterRedirects}')`;case kt.NavigationError:return`NavigationError(id: ${B.id}, url: '${B.url}', error: ${B.error})`;case kt.NavigationStart:return`NavigationStart(id: ${B.id}, url: '${B.url}')`;case kt.ResolveEnd:return`ResolveEnd(id: ${B.id}, url: '${B.url}', urlAfterRedirects: '${B.urlAfterRedirects}', state: ${B.state})`;case kt.ResolveStart:return`ResolveStart(id: ${B.id}, url: '${B.url}', urlAfterRedirects: '${B.urlAfterRedirects}', state: ${B.state})`;case kt.RouteConfigLoadEnd:return`RouteConfigLoadEnd(path: ${B.route.path})`;case kt.RouteConfigLoadStart:return`RouteConfigLoadStart(path: ${B.route.path})`;case kt.RoutesRecognized:return`RoutesRecognized(id: ${B.id}, url: '${B.url}', urlAfterRedirects: '${B.urlAfterRedirects}', state: ${B.state})`;case kt.Scroll:return`Scroll(anchor: '${B.anchor}', position: '${B.position?`${B.position[0]}, ${B.position[1]}`:null}')`}}function dn(B){return B.outlet||dt}function Ln(B,W){const V=B.filter(z=>dn(z)===W);return V.push(...B.filter(z=>dn(z)!==W)),V}function hr(B){if(!B)return null;if(B.routeConfig?._injector)return B.routeConfig._injector;for(let W=B.parent;W;W=W.parent){const V=W.routeConfig;if(V?._loadedInjector)return V._loadedInjector;if(V?._injector)return V._injector}return null}class yi{rootInjector;outlet=null;route=null;children;attachRef=null;get injector(){return hr(this.route?.snapshot)??this.rootInjector}constructor(W){this.rootInjector=W,this.children=new bi(this.rootInjector)}}let bi=(()=>{class B{rootInjector;contexts=new Map;constructor(V){this.rootInjector=V}onChildOutletCreated(V,z){const se=this.getOrCreateContext(V);se.outlet=z,this.contexts.set(V,se)}onChildOutletDestroyed(V){const z=this.getContext(V);z&&(z.outlet=null,z.attachRef=null)}onOutletDeactivated(){const V=this.contexts;return this.contexts=new Map,V}onOutletReAttached(V){this.contexts=V}getOrCreateContext(V){let z=this.getContext(V);return z||(z=new yi(this.rootInjector),this.contexts.set(V,z)),z}getContext(V){return this.contexts.get(V)||null}static \u0275fac=function(z){return new(z||B)(r.KVO(r.uvJ))};static \u0275prov=r.jDH({token:B,factory:B.\u0275fac,providedIn:"root"})}return B})();class Si{_root;constructor(W){this._root=W}get root(){return this._root.value}parent(W){const V=this.pathFromRoot(W);return V.length>1?V[V.length-2]:null}children(W){const V=ti(W,this._root);return V?V.children.map(z=>z.value):[]}firstChild(W){const V=ti(W,this._root);return V&&V.children.length>0?V.children[0].value:null}siblings(W){const V=Hi(W,this._root);return V.length<2?[]:V[V.length-2].children.map(se=>se.value).filter(se=>se!==W)}pathFromRoot(W){return Hi(W,this._root).map(V=>V.value)}}function ti(B,W){if(B===W.value)return W;for(const V of W.children){const z=ti(B,V);if(z)return z}return null}function Hi(B,W){if(B===W.value)return[W];for(const V of W.children){const z=Hi(B,V);if(z.length)return z.unshift(W),z}return[]}class zr{value;children;constructor(W,V){this.value=W,this.children=V}toString(){return`TreeNode(${this.value})`}}function Ii(B){const W={};return B&&B.children.forEach(V=>W[V.value.outlet]=V),W}class to extends Si{snapshot;constructor(W,V){super(W),this.snapshot=V,Ls(this,W)}toString(){return this.snapshot.toString()}}function Yo(B){const W=function ao(B){const Ue=new bo([],{},{},"",{},dt,B,null,{});return new So("",new zr(Ue,[]))}(B),V=new v.t([new ln("",{})]),z=new v.t({}),se=new v.t({}),Ue=new v.t({}),Pe=new v.t(""),vt=new Es(V,z,Ue,Pe,se,dt,B,W.root);return vt.snapshot=W.root,new to(new zr(vt,[]),W)}class Es{urlSubject;paramsSubject;queryParamsSubject;fragmentSubject;dataSubject;outlet;component;snapshot;_futureSnapshot;_routerState;_paramMap;_queryParamMap;title;url;params;queryParams;fragment;data;constructor(W,V,z,se,Ue,Pe,vt,nn){this.urlSubject=W,this.paramsSubject=V,this.queryParamsSubject=z,this.fragmentSubject=se,this.dataSubject=Ue,this.outlet=Pe,this.component=vt,this._futureSnapshot=nn,this.title=this.dataSubject?.pipe((0,gt.T)(jn=>jn[Et]))??(0,ee.of)(void 0),this.url=W,this.params=V,this.queryParams=z,this.fragment=se,this.data=Ue}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe((0,gt.T)(W=>Nt(W))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe((0,gt.T)(W=>Nt(W))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function Eo(B,W,V="emptyOnly"){let z;const{routeConfig:se}=B;return z=null===W||"always"!==V&&""!==se?.path&&(W.component||W.routeConfig?.loadComponent)?{params:{...B.params},data:{...B.data},resolve:{...B.data,...B._resolvedData??{}}}:{params:{...W.params,...B.params},data:{...W.data,...B.data},resolve:{...B.data,...W.data,...se?.data,...B._resolvedData}},se&&lo(se)&&(z.resolve[Et]=se.title),z}class bo{url;params;queryParams;fragment;data;outlet;component;routeConfig;_resolve;_resolvedData;_routerState;_paramMap;_queryParamMap;get title(){return this.data?.[Et]}constructor(W,V,z,se,Ue,Pe,vt,nn,jn){this.url=W,this.params=V,this.queryParams=z,this.fragment=se,this.data=Ue,this.outlet=Pe,this.component=vt,this.routeConfig=nn,this._resolve=jn}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=Nt(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=Nt(this.queryParams),this._queryParamMap}toString(){return`Route(url:'${this.url.map(z=>z.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class So extends Si{url;constructor(W,V){super(V),this.url=W,Ls(this,V)}toString(){return ca(this._root)}}function Ls(B,W){W.value._routerState=B,W.children.forEach(V=>Ls(B,V))}function ca(B){const W=B.children.length>0?` { ${B.children.map(ca).join(", ")} } `:"";return`${B.value}${W}`}function $o(B){if(B.snapshot){const W=B.snapshot,V=B._futureSnapshot;B.snapshot=V,kn(W.queryParams,V.queryParams)||B.queryParamsSubject.next(V.queryParams),W.fragment!==V.fragment&&B.fragmentSubject.next(V.fragment),kn(W.params,V.params)||B.paramsSubject.next(V.params),function Gt(B,W){if(B.length!==W.length)return!1;for(let V=0;V<B.length;++V)if(!kn(B[V],W[V]))return!1;return!0}(W.url,V.url)||B.urlSubject.next(V.url),kn(W.data,V.data)||B.dataSubject.next(V.data)}else B.snapshot=B._futureSnapshot,B.dataSubject.next(B._futureSnapshot.data)}function da(B,W){const V=kn(B.params,W.params)&&function gn(B,W){return zn(B,W)&&B.every((V,z)=>kn(V.parameters,W[z].parameters))}(B.url,W.url);return V&&!(!B.parent!=!W.parent)&&(!B.parent||da(B.parent,W.parent))}function lo(B){return"string"==typeof B.title||null===B.title}const ol=new r.nKC("");let Ro=(()=>{class B{activated=null;get activatedComponentRef(){return this.activated}_activatedRoute=null;name=dt;activateEvents=new r.bkB;deactivateEvents=new r.bkB;attachEvents=new r.bkB;detachEvents=new r.bkB;routerOutletData=(0,oe.hFB)();parentContexts=(0,r.WQX)(bi);location=(0,r.WQX)(ve.c1b);changeDetector=(0,r.WQX)(oe.gRc);inputBinder=(0,r.WQX)(ps,{optional:!0});supportsBindingToComponentInputs=!0;ngOnChanges(V){if(V.name){const{firstChange:z,previousValue:se}=V.name;if(z)return;this.isTrackedInParentContexts(se)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(se)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(V){return this.parentContexts.getContext(V)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const V=this.parentContexts.getContext(this.name);V?.route&&(V.attachRef?this.attach(V.attachRef,V.route):this.activateWith(V.route,V.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new r.buA(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new r.buA(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new r.buA(4012,!1);this.location.detach();const V=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(V.instance),V}attach(V,z){this.activated=V,this._activatedRoute=z,this.location.insert(V.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(V.instance)}deactivate(){if(this.activated){const V=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(V)}}activateWith(V,z){if(this.isActivated)throw new r.buA(4013,!1);this._activatedRoute=V;const se=this.location,Pe=V.snapshot.component,vt=this.parentContexts.getOrCreateContext(this.name).children,nn=new fa(V,vt,se.injector,this.routerOutletData);this.activated=se.createComponent(Pe,{index:se.length,injector:nn,environmentInjector:z}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static \u0275fac=function(z){return new(z||B)};static \u0275dir=ve.FsC({type:B,selectors:[["router-outlet"]],inputs:{name:"name",routerOutletData:[1,"routerOutletData"]},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],features:[ve.OA$]})}return B})();class fa{route;childContexts;parent;outletData;constructor(W,V,z,se){this.route=W,this.childContexts=V,this.parent=z,this.outletData=se}get(W,V){return W===Es?this.route:W===bi?this.childContexts:W===ol?this.outletData:this.parent.get(W,V)}}const ps=new r.nKC("");let Qo=(()=>{class B{outletDataSubscriptions=new Map;bindActivatedRouteToOutletComponent(V){this.unsubscribeFromRouteData(V),this.subscribeToRouteData(V)}unsubscribeFromRouteData(V){this.outletDataSubscriptions.get(V)?.unsubscribe(),this.outletDataSubscriptions.delete(V)}subscribeToRouteData(V){const{activatedRoute:z}=V,se=(0,m.z)([z.queryParams,z.params,z.data]).pipe((0,Ve.n)(([Ue,Pe,vt],nn)=>(vt={...Ue,...Pe,...vt},0===nn?(0,ee.of)(vt):Promise.resolve(vt)))).subscribe(Ue=>{if(!V.isActivated||!V.activatedComponentRef||V.activatedRoute!==z||null===z.component)return void this.unsubscribeFromRouteData(V);const Pe=(0,oe.HJs)(z.component);if(Pe)for(const{templateName:vt}of Pe.inputs)V.activatedComponentRef.setInput(vt,Ue[vt]);else this.unsubscribeFromRouteData(V)});this.outletDataSubscriptions.set(V,se)}static \u0275fac=function(z){return new(z||B)};static \u0275prov=r.jDH({token:B,factory:B.\u0275fac})}return B})(),La=(()=>{class B{static \u0275fac=function(z){return new(z||B)};static \u0275cmp=ve.VBU({type:B,selectors:[["ng-component"]],exportAs:["emptyRouterOutlet"],decls:1,vars:0,template:function(z,se){1&z&&ve.nrm(0,"router-outlet")},dependencies:[Ro],encapsulation:2})}return B})();function qs(B){const W=B.children&&B.children.map(qs),V=W?{...B,children:W}:{...B};return!V.component&&!V.loadComponent&&(W||V.loadChildren)&&V.outlet&&V.outlet!==dt&&(V.component=La),V}function Ea(B,W,V){if(V&&B.shouldReuseRoute(W.value,V.value.snapshot)){const z=V.value;z._futureSnapshot=W.value;const se=function Ma(B,W,V){return W.children.map(z=>{for(const se of V.children)if(B.shouldReuseRoute(z.value,se.value.snapshot))return Ea(B,z,se);return Ea(B,z)})}(B,W,V);return new zr(z,se)}{if(B.shouldAttach(W.value)){const Ue=B.retrieve(W.value);if(null!==Ue){const Pe=Ue.route;return Pe.value._futureSnapshot=W.value,Pe.children=W.children.map(vt=>Ea(B,vt)),Pe}}const z=function Ia(B){return new Es(new v.t(B.url),new v.t(B.params),new v.t(B.queryParams),new v.t(B.fragment),new v.t(B.data),B.outlet,B.component,B)}(W.value),se=W.children.map(Ue=>Ea(B,Ue));return new zr(z,se)}}class po{redirectTo;navigationBehaviorOptions;constructor(W,V){this.redirectTo=W,this.navigationBehaviorOptions=V}}const Bs="ngNavigationCancelingError";function ls(B,W){const{redirectTo:V,navigationBehaviorOptions:z}=wi(W)?{redirectTo:W,navigationBehaviorOptions:void 0}:W,se=no(!1,Ur.Redirect);return se.url=V,se.navigationBehaviorOptions=z,se}function no(B,W){const V=new Error(`NavigationCancelingError: ${B||""}`);return V[Bs]=!0,V.cancellationCode=W,V}function we(B){return!!B&&B[Bs]}class it{routeReuseStrategy;futureState;currState;forwardEvent;inputBindingEnabled;constructor(W,V,z,se,Ue){this.routeReuseStrategy=W,this.futureState=V,this.currState=z,this.forwardEvent=se,this.inputBindingEnabled=Ue}activate(W){const V=this.futureState._root,z=this.currState?this.currState._root:null;this.deactivateChildRoutes(V,z,W),$o(this.futureState.root),this.activateChildRoutes(V,z,W)}deactivateChildRoutes(W,V,z){const se=Ii(V);W.children.forEach(Ue=>{const Pe=Ue.value.outlet;this.deactivateRoutes(Ue,se[Pe],z),delete se[Pe]}),Object.values(se).forEach(Ue=>{this.deactivateRouteAndItsChildren(Ue,z)})}deactivateRoutes(W,V,z){const se=W.value,Ue=V?V.value:null;if(se===Ue)if(se.component){const Pe=z.getContext(se.outlet);Pe&&this.deactivateChildRoutes(W,V,Pe.children)}else this.deactivateChildRoutes(W,V,z);else Ue&&this.deactivateRouteAndItsChildren(V,z)}deactivateRouteAndItsChildren(W,V){W.value.component&&this.routeReuseStrategy.shouldDetach(W.value.snapshot)?this.detachAndStoreRouteSubtree(W,V):this.deactivateRouteAndOutlet(W,V)}detachAndStoreRouteSubtree(W,V){const z=V.getContext(W.value.outlet),se=z&&W.value.component?z.children:V,Ue=Ii(W);for(const Pe of Object.values(Ue))this.deactivateRouteAndItsChildren(Pe,se);if(z&&z.outlet){const Pe=z.outlet.detach(),vt=z.children.onOutletDeactivated();this.routeReuseStrategy.store(W.value.snapshot,{componentRef:Pe,route:W,contexts:vt})}}deactivateRouteAndOutlet(W,V){const z=V.getContext(W.value.outlet),se=z&&W.value.component?z.children:V,Ue=Ii(W);for(const Pe of Object.values(Ue))this.deactivateRouteAndItsChildren(Pe,se);z&&(z.outlet&&(z.outlet.deactivate(),z.children.onOutletDeactivated()),z.attachRef=null,z.route=null)}activateChildRoutes(W,V,z){const se=Ii(V);W.children.forEach(Ue=>{this.activateRoutes(Ue,se[Ue.value.outlet],z),this.forwardEvent(new Fr(Ue.value.snapshot))}),W.children.length&&this.forwardEvent(new Os(W.value.snapshot))}activateRoutes(W,V,z){const se=W.value,Ue=V?V.value:null;if($o(se),se===Ue)if(se.component){const Pe=z.getOrCreateContext(se.outlet);this.activateChildRoutes(W,V,Pe.children)}else this.activateChildRoutes(W,V,z);else if(se.component){const Pe=z.getOrCreateContext(se.outlet);if(this.routeReuseStrategy.shouldAttach(se.snapshot)){const vt=this.routeReuseStrategy.retrieve(se.snapshot);this.routeReuseStrategy.store(se.snapshot,null),Pe.children.onOutletReAttached(vt.contexts),Pe.attachRef=vt.componentRef,Pe.route=vt.route.value,Pe.outlet&&Pe.outlet.attach(vt.componentRef,vt.route.value),$o(vt.route.value),this.activateChildRoutes(W,null,Pe.children)}else Pe.attachRef=null,Pe.route=se,Pe.outlet&&Pe.outlet.activateWith(se,Pe.injector),this.activateChildRoutes(W,null,Pe.children)}else this.activateChildRoutes(W,null,z)}}class $t{path;route;constructor(W){this.path=W,this.route=this.path[this.path.length-1]}}class fn{component;route;constructor(W,V){this.component=W,this.route=V}}function In(B,W,V){const z=B._root;return Mr(z,W?W._root:null,V,[z.value])}function lr(B,W){const V=Symbol(),z=W.get(B,V);return z===V?"function"!=typeof B||(0,r.muV)(B)?W.get(B):B:z}function Mr(B,W,V,z,se={canDeactivateChecks:[],canActivateChecks:[]}){const Ue=Ii(W);return B.children.forEach(Pe=>{(function ci(B,W,V,z,se={canDeactivateChecks:[],canActivateChecks:[]}){const Ue=B.value,Pe=W?W.value:null,vt=V?V.getContext(B.value.outlet):null;if(Pe&&Ue.routeConfig===Pe.routeConfig){const nn=function Sr(B,W,V){if("function"==typeof V)return V(B,W);switch(V){case"pathParamsChange":return!zn(B.url,W.url);case"pathParamsOrQueryParamsChange":return!zn(B.url,W.url)||!kn(B.queryParams,W.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!da(B,W)||!kn(B.queryParams,W.queryParams);default:return!da(B,W)}}(Pe,Ue,Ue.routeConfig.runGuardsAndResolvers);nn?se.canActivateChecks.push(new $t(z)):(Ue.data=Pe.data,Ue._resolvedData=Pe._resolvedData),Mr(B,W,Ue.component?vt?vt.children:null:V,z,se),nn&&vt&&vt.outlet&&vt.outlet.isActivated&&se.canDeactivateChecks.push(new fn(vt.outlet.component,Pe))}else Pe&&zi(W,vt,se),se.canActivateChecks.push(new $t(z)),Mr(B,null,Ue.component?vt?vt.children:null:V,z,se)})(Pe,Ue[Pe.value.outlet],V,z.concat([Pe.value]),se),delete Ue[Pe.value.outlet]}),Object.entries(Ue).forEach(([Pe,vt])=>zi(vt,V.getContext(Pe),se)),se}function zi(B,W,V){const z=Ii(B),se=B.value;Object.entries(z).forEach(([Ue,Pe])=>{zi(Pe,se.component?W?W.children.getContext(Ue):null:W,V)}),V.canDeactivateChecks.push(new fn(se.component&&W&&W.outlet&&W.outlet.isActivated?W.outlet.component:null,se))}function Qi(B){return"function"==typeof B}function Ba(B){return B instanceof ie.G||"EmptyError"===B?.name}const ka=Symbol("INITIAL_VALUE");function Vs(){return(0,Ve.n)(B=>(0,m.z)(B.map(W=>W.pipe((0,ze.s)(1),(0,en.Z)(ka)))).pipe((0,gt.T)(W=>{for(const V of W)if(!0!==V){if(V===ka)return ka;if(!1===V||bs(V))return V}return!0}),(0,at.p)(W=>W!==ka),(0,ze.s)(1)))}function bs(B){return wi(B)||B instanceof po}function Ra(B){return B.aborted?(0,ee.of)(void 0).pipe((0,ze.s)(1)):new xe.c(W=>{const V=()=>{W.next(),W.complete()};return B.addEventListener("abort",V),()=>B.removeEventListener("abort",V)})}function Dl(B){return(0,Bt.Q)(Ra(B))}function Zr(B){return(0,Se.F)((0,Ke.M)(W=>{if("boolean"!=typeof W)throw ls(0,W)}),(0,gt.T)(W=>!0===W))}let gs=class A1 extends Error{segmentGroup;constructor(W){super(),this.segmentGroup=W||null,Object.setPrototypeOf(this,A1.prototype)}},ha=class M1 extends Error{urlTree;constructor(W){super(),this.urlTree=W,Object.setPrototypeOf(this,M1.prototype)}};function Va(B){throw new r.buA(4e3,!1)}let Ua=class{urlSerializer;urlTree;constructor(W,V){this.urlSerializer=W,this.urlTree=V}lineralizeSegments(W,V){return(0,L.A)(function*(){let z=[],se=V.root;for(;;){if(z=z.concat(se.segments),0===se.numberOfChildren)return z;if(se.numberOfChildren>1||!se.children[dt])throw Va();se=se.children[dt]}})()}applyRedirectCommands(W,V,z,se,Ue){var Pe=this;return(0,L.A)(function*(){const vt=yield function I(B,W,V){if("string"==typeof B)return Promise.resolve(B);const z=B,{queryParams:se,fragment:Ue,routeConfig:Pe,url:vt,outlet:nn,params:jn,data:dr,title:ki}=W;return bn(Jn((0,r.N4e)(V,()=>z({params:jn,data:dr,queryParams:se,fragment:Ue,routeConfig:Pe,url:vt,outlet:nn,title:ki}))))}(V,se,Ue);if(vt instanceof yn)throw new ha(vt);const nn=Pe.applyRedirectCreateUrlTree(vt,Pe.urlSerializer.parse(vt),W,z);if("/"===vt[0])throw new ha(nn);return nn})()}applyRedirectCreateUrlTree(W,V,z,se){const Ue=this.createSegmentGroup(W,V.root,z,se);return new yn(Ue,this.createQueryParams(V.queryParams,this.urlTree.queryParams),V.fragment)}createQueryParams(W,V){const z={};return Object.entries(W).forEach(([se,Ue])=>{if("string"==typeof Ue&&":"===Ue[0]){const vt=Ue.substring(1);z[se]=V[vt]}else z[se]=Ue}),z}createSegmentGroup(W,V,z,se){const Ue=this.createSegments(W,V.segments,z,se);let Pe={};return Object.entries(V.children).forEach(([vt,nn])=>{Pe[vt]=this.createSegmentGroup(W,nn,z,se)}),new or(Ue,Pe)}createSegments(W,V,z,se){return V.map(Ue=>":"===Ue.path[0]?this.findPosParam(W,Ue,se):this.findOrReturn(Ue,z))}findPosParam(W,V,z){const se=z[V.path.substring(1)];if(!se)throw new r.buA(4001,!1);return se}findOrReturn(W,V){let z=0;for(const se of V){if(se.path===W.path)return V.splice(z),se;z++}return W}};const O={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function q(B,W,V,z,se,Ue){const Pe=ae(B,W,V);return Pe.matched?(z=function pe(B,W){return B.providers&&!B._injector&&(B._injector=(0,ve.Ol2)(B.providers,W,`Route: ${B.path}`)),B._injector??W}(W,z),function Ko(B,W,V,z,se){const Ue=W.canMatch;if(!Ue||0===Ue.length)return(0,ee.of)(!0);const Pe=Ue.map(vt=>{const nn=lr(vt,B);let dr=Jn(function us(B){return B&&Qi(B.canMatch)}(nn)?nn.canMatch(W,V):(0,r.N4e)(B,()=>nn(W,V)));return se?dr.pipe(Dl(se)):dr});return(0,ee.of)(Pe).pipe(Vs(),Zr())}(z,W,V,0,Ue).pipe((0,gt.T)(vt=>!0===vt?Pe:{...O}))):(0,ee.of)(Pe)}function ae(B,W,V){if("**"===W.path)return function me(B){return{matched:!0,parameters:B.length>0?mi(B).parameters:{},consumedSegments:B,remainingSegments:[],positionalParamSegments:{}}}(V);if(""===W.path)return"full"===W.pathMatch&&(B.hasChildren()||V.length>0)?{...O}:{matched:!0,consumedSegments:[],remainingSegments:V,parameters:{},positionalParamSegments:{}};const se=(W.matcher||wn)(V,B,W);if(!se)return{...O};const Ue={};Object.entries(se.posParams??{}).forEach(([vt,nn])=>{Ue[vt]=nn.path});const Pe=se.consumed.length>0?{...Ue,...se.consumed[se.consumed.length-1].parameters}:Ue;return{matched:!0,consumedSegments:se.consumed,remainingSegments:V.slice(se.consumed.length),parameters:Pe,positionalParamSegments:se.posParams??{}}}function Ie(B,W,V,z){return V.length>0&&function St(B,W,V){return V.some(z=>zt(B,W,z)&&dn(z)!==dt)}(B,V,z)?{segmentGroup:new or(W,_t(z,new or(V,B.children))),slicedSegments:[]}:0===V.length&&function Mt(B,W,V){return V.some(z=>zt(B,W,z))}(B,V,z)?{segmentGroup:new or(B.segments,Je(B,V,z,B.children)),slicedSegments:V}:{segmentGroup:new or(B.segments,B.children),slicedSegments:V}}function Je(B,W,V,z){const se={};for(const Ue of V)if(zt(B,W,Ue)&&!z[dn(Ue)]){const Pe=new or([],{});se[dn(Ue)]=Pe}return{...z,...se}}function _t(B,W){const V={};V[dt]=W;for(const z of B)if(""===z.path&&dn(z)!==dt){const se=new or([],{});V[dn(z)]=se}return V}function zt(B,W,V){return(!(B.hasChildren()||W.length>0)||"full"!==V.pathMatch)&&""===V.path}let Jt=class{};function Ot(B,W,V,z,se,Ue){return Vt.apply(this,arguments)}function Vt(){return(Vt=(0,L.A)(function*(B,W,V,z,se,Ue,Pe="emptyOnly",vt){return new Xt(B,W,V,z,se,Pe,Ue,vt).recognize()})).apply(this,arguments)}let Xt=class{injector;configLoader;rootComponentType;config;urlTree;paramsInheritanceStrategy;urlSerializer;abortSignal;applyRedirects;absoluteRedirectCount=0;allowRedirects=!0;constructor(W,V,z,se,Ue,Pe,vt,nn){this.injector=W,this.configLoader=V,this.rootComponentType=z,this.config=se,this.urlTree=Ue,this.paramsInheritanceStrategy=Pe,this.urlSerializer=vt,this.abortSignal=nn,this.applyRedirects=new Ua(this.urlSerializer,this.urlTree)}noMatchError(W){return new r.buA(4002,`'${W.segmentGroup}'`)}recognize(){var W=this;return(0,L.A)(function*(){const V=Ie(W.urlTree.root,[],[],W.config).segmentGroup,{children:z,rootSnapshot:se}=yield W.match(V),Ue=new zr(se,z),Pe=new So("",Ue),vt=function ss(B,W,V=null,z=null,se=new Zn){return Ji(yo(B),W,V,z,se)}(se,[],W.urlTree.queryParams,W.urlTree.fragment);return vt.queryParams=W.urlTree.queryParams,Pe.url=W.urlSerializer.serialize(vt),{state:Pe,tree:vt}})()}match(W){var V=this;return(0,L.A)(function*(){const z=new bo([],Object.freeze({}),Object.freeze({...V.urlTree.queryParams}),V.urlTree.fragment,Object.freeze({}),dt,V.rootComponentType,null,{});try{return{children:yield V.processSegmentGroup(V.injector,V.config,W,dt,z),rootSnapshot:z}}catch(se){if(se instanceof ha)return V.urlTree=se.urlTree,V.match(se.urlTree.root);throw se instanceof gs?V.noMatchError(se):se}})()}processSegmentGroup(W,V,z,se,Ue){var Pe=this;return(0,L.A)(function*(){if(0===z.segments.length&&z.hasChildren())return Pe.processChildren(W,V,z,Ue);const vt=yield Pe.processSegment(W,V,z,z.segments,se,!0,Ue);return vt instanceof zr?[vt]:[]})()}processChildren(W,V,z,se){var Ue=this;return(0,L.A)(function*(){const Pe=[];for(const jn of Object.keys(z.children))"primary"===jn?Pe.unshift(jn):Pe.push(jn);let vt=[];for(const jn of Pe){const dr=z.children[jn],ki=Ln(V,jn),No=yield Ue.processSegmentGroup(W,ki,dr,jn,se);vt.push(...No)}const nn=mn(vt);return function qt(B){B.sort((W,V)=>W.value.outlet===dt?-1:V.value.outlet===dt?1:W.value.outlet.localeCompare(V.value.outlet))}(nn),nn})()}processSegment(W,V,z,se,Ue,Pe,vt){var nn=this;return(0,L.A)(function*(){for(const jn of V)try{return yield nn.processSegmentAgainstRoute(jn._injector??W,V,jn,z,se,Ue,Pe,vt)}catch(dr){if(dr instanceof gs||Ba(dr))continue;throw dr}if(function wt(B,W,V){return 0===W.length&&!B.children[V]}(z,se,Ue))return new Jt;throw new gs(z)})()}processSegmentAgainstRoute(W,V,z,se,Ue,Pe,vt,nn){var jn=this;return(0,L.A)(function*(){if(dn(z)!==Pe&&(Pe===dt||!zt(se,Ue,z)))throw new gs(se);if(void 0===z.redirectTo)return jn.matchSegmentAgainstRoute(W,se,z,Ue,Pe,nn);if(jn.allowRedirects&&vt)return jn.expandSegmentAgainstRouteUsingRedirect(W,se,V,z,Ue,Pe,nn);throw new gs(se)})()}expandSegmentAgainstRouteUsingRedirect(W,V,z,se,Ue,Pe,vt){var nn=this;return(0,L.A)(function*(){const{matched:jn,parameters:dr,consumedSegments:ki,positionalParamSegments:No,remainingSegments:ma}=ae(V,se,Ue);if(!jn)throw new gs(V);"string"==typeof se.redirectTo&&"/"===se.redirectTo[0]&&(nn.absoluteRedirectCount++,nn.absoluteRedirectCount>31&&(nn.allowRedirects=!1));const go=new bo(Ue,dr,Object.freeze({...nn.urlTree.queryParams}),nn.urlTree.fragment,Gn(se),dn(se),se.component??se._loadedComponent??null,se,ur(se)),Pa=Eo(go,vt,nn.paramsInheritanceStrategy);if(go.params=Object.freeze(Pa.params),go.data=Object.freeze(Pa.data),nn.abortSignal.aborted)throw new Error(nn.abortSignal.reason);const ws=yield nn.applyRedirects.applyRedirectCommands(ki,se.redirectTo,No,go,W),_a=yield nn.applyRedirects.lineralizeSegments(se,ws);return nn.processSegment(W,z,V,_a.concat(ma),Pe,!1,vt)})()}matchSegmentAgainstRoute(W,V,z,se,Ue,Pe){var vt=this;return(0,L.A)(function*(){if(vt.abortSignal.aborted)throw new Error(vt.abortSignal.reason);const nn=yield bn(q(V,z,se,W,0,vt.abortSignal));if("**"===z.path&&(V.children={}),!nn?.matched)throw new gs(V);W=z._injector??W;const{routes:jn}=yield vt.getChildConfig(W,z,se),dr=z._loadedInjector??W,{parameters:ki,consumedSegments:No,remainingSegments:ma}=nn,go=new bo(No,ki,Object.freeze({...vt.urlTree.queryParams}),vt.urlTree.fragment,Gn(z),dn(z),z.component??z._loadedComponent??null,z,ur(z)),Pa=Eo(go,Pe,vt.paramsInheritanceStrategy);go.params=Object.freeze(Pa.params),go.data=Object.freeze(Pa.data);const{segmentGroup:ws,slicedSegments:_a}=Ie(V,No,ma,jn);if(0===_a.length&&ws.hasChildren()){const su=yield vt.processChildren(dr,jn,ws,go);return new zr(go,su)}if(0===jn.length&&0===_a.length)return new zr(go,[]);const fl=dn(z)===Ue,es=yield vt.processSegment(dr,jn,ws,_a,fl?dt:Ue,!0,go);return new zr(go,es instanceof zr?[es]:[])})()}getChildConfig(W,V,z){var se=this;return(0,L.A)(function*(){if(V.children)return{routes:V.children,injector:W};if(V.loadChildren){if(void 0!==V._loadedRoutes)return{routes:V._loadedRoutes,injector:V._loadedInjector};if(se.abortSignal.aborted)throw new Error(se.abortSignal.reason);if(yield bn(function vr(B,W,V,z,se){const Ue=W.canLoad;if(void 0===Ue||0===Ue.length)return(0,ee.of)(!0);const Pe=Ue.map(vt=>{const nn=lr(vt,B),dr=Jn(function zo(B){return B&&Qi(B.canLoad)}(nn)?nn.canLoad(W,V):(0,r.N4e)(B,()=>nn(W,V)));return se?dr.pipe(Dl(se)):dr});return(0,ee.of)(Pe).pipe(Vs(),Zr())}(W,V,z,0,se.abortSignal))){const Pe=yield se.configLoader.loadChildren(W,V);return V._loadedRoutes=Pe.routes,V._loadedInjector=Pe.injector,Pe}throw function xs(){throw no(!1,Ur.GuardRejected)}()}return{routes:[],injector:W}})()}};function sn(B){const W=B.value.routeConfig;return W&&""===W.path}function mn(B){const W=[],V=new Set;for(const z of B){if(!sn(z)){W.push(z);continue}const se=W.find(Ue=>z.value.routeConfig===Ue.value.routeConfig);void 0!==se?(se.children.push(...z.children),V.add(se)):W.push(z)}for(const z of V){const se=mn(z.children);W.push(new zr(z.value,se))}return W.filter(z=>!V.has(z))}function Gn(B){return B.data||{}}function ur(B){return B.resolve||{}}Error;const kl=new r.nKC("",{factory:()=>Ot});function Tl(B){const W=B.children.map(V=>Tl(V)).flat();return[B,...W]}function Hl(B){return(0,Ve.n)(W=>{const V=B(W);return V?(0,Ae.H)(V).pipe((0,gt.T)(()=>W)):(0,ee.of)(W)})}let jl=(()=>{class B{buildTitle(V){let z,se=V.root;for(;void 0!==se;)z=this.getResolvedTitleForRoute(se)??z,se=se.children.find(Ue=>Ue.outlet===dt);return z}getResolvedTitleForRoute(V){return V.data[Et]}static \u0275fac=function(z){return new(z||B)};static \u0275prov=r.jDH({token:B,factory:()=>(0,r.WQX)(Gl),providedIn:"root"})}return B})(),Gl=(()=>{class B extends jl{title;constructor(V){super(),this.title=V}updateTitle(V){const z=this.buildTitle(V);void 0!==z&&this.title.setTitle(z)}static \u0275fac=function(z){return new(z||B)(r.KVO(Ze.hE))};static \u0275prov=r.jDH({token:B,factory:B.\u0275fac,providedIn:"root"})}return B})();const Ya=new r.nKC("",{factory:()=>({})}),ll=new r.nKC("");let $l=(()=>{class B{componentLoaders=new WeakMap;childrenLoaders=new WeakMap;onLoadStartListener;onLoadEndListener;compiler=(0,r.WQX)(ve.Ql9);loadComponent(V,z){var se=this;return(0,L.A)(function*(){if(se.componentLoaders.get(z))return se.componentLoaders.get(z);if(z._loadedComponent)return Promise.resolve(z._loadedComponent);se.onLoadStartListener&&se.onLoadStartListener(z);const Ue=(0,L.A)(function*(){try{const Pe=yield Pt((0,r.N4e)(V,()=>z.loadComponent())),vt=yield Fl(vl(Pe));return se.onLoadEndListener&&se.onLoadEndListener(z),z._loadedComponent=vt,vt}finally{se.componentLoaders.delete(z)}})();return se.componentLoaders.set(z,Ue),Ue})()}loadChildren(V,z){var se=this;if(this.childrenLoaders.get(z))return this.childrenLoaders.get(z);if(z._loadedRoutes)return Promise.resolve({routes:z._loadedRoutes,injector:z._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(z);const Ue=(0,L.A)(function*(){try{const Pe=yield function tu(B,W,V,z){return nu.apply(this,arguments)}(z,se.compiler,V,se.onLoadEndListener);return z._loadedRoutes=Pe.routes,z._loadedInjector=Pe.injector,Pe}finally{se.childrenLoaders.delete(z)}})();return this.childrenLoaders.set(z,Ue),Ue}static \u0275fac=function(z){return new(z||B)};static \u0275prov=r.jDH({token:B,factory:B.\u0275fac,providedIn:"root"})}return B})();function nu(){return(nu=(0,L.A)(function*(B,W,V,z){const se=yield Pt((0,r.N4e)(V,()=>B.loadChildren())),Ue=yield Fl(vl(se));let Pe;Pe=Ue instanceof ve.PYt||Array.isArray(Ue)?Ue:yield W.compileModuleAsync(Ue),z&&z(B);let vt,nn;return Array.isArray(Pe)?nn=Pe:(vt=Pe.create(V).injector,nn=vt.get(ll,[],{optional:!0,self:!0}).flat()),{routes:nn.map(qs),injector:vt}})).apply(this,arguments)}function vl(B){return function Pl(B){return B&&"object"==typeof B&&"default"in B}(B)?B.default:B}function Fl(B){return ga.apply(this,arguments)}function ga(){return(ga=(0,L.A)(function*(B){return B})).apply(this,arguments)}let ms=(()=>{class B{static \u0275fac=function(z){return new(z||B)};static \u0275prov=r.jDH({token:B,factory:()=>(0,r.WQX)(Xo),providedIn:"root"})}return B})(),Xo=(()=>{class B{shouldProcessUrl(V){return!0}extract(V){return V}merge(V,z){return V}static \u0275fac=function(z){return new(z||B)};static \u0275prov=r.jDH({token:B,factory:B.\u0275fac,providedIn:"root"})}return B})();const ul=new r.nKC(""),yl=new r.nKC("");function ru(B,W,V){const z=B.get(yl),se=B.get(r.qQL);if(!se.startViewTransition||z.skipNextTransition)return z.skipNextTransition=!1,new Promise(jn=>setTimeout(jn));let Ue;const Pe=new Promise(jn=>{Ue=jn}),vt=se.startViewTransition(()=>(Ue(),function xa(B){return new Promise(W=>{(0,ve.mal)({read:()=>setTimeout(W)},{injector:B})})}(B)));vt.updateCallbackDone.catch(jn=>{}),vt.ready.catch(jn=>{}),vt.finished.catch(jn=>{});const{onViewTransitionCreated:nn}=z;return nn&&(0,r.N4e)(B,()=>nn({transition:vt,from:W,to:V})),Pe}const vu=()=>{},bu=new r.nKC("");let cl=(()=>{class B{currentNavigation=(0,r.vPA)(null,{equal:()=>!1});currentTransition=null;lastSuccessfulNavigation=(0,r.vPA)(null);events=new be.B;transitionAbortWithErrorSubject=new be.B;configLoader=(0,r.WQX)($l);environmentInjector=(0,r.WQX)(r.uvJ);destroyRef=(0,r.WQX)(r.abz);urlSerializer=(0,r.WQX)(Tr);rootContexts=(0,r.WQX)(bi);location=(0,r.WQX)(R.aZ);inputBindingEnabled=null!==(0,r.WQX)(ps,{optional:!0});titleStrategy=(0,r.WQX)(jl);options=(0,r.WQX)(Ya,{optional:!0})||{};paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly";urlHandlingStrategy=(0,r.WQX)(ms);createViewTransition=(0,r.WQX)(ul,{optional:!0});navigationErrorHandler=(0,r.WQX)(bu,{optional:!0});navigationId=0;get hasRequestedNavigation(){return 0!==this.navigationId}transitions;afterPreactivation=()=>(0,ee.of)(void 0);rootComponentType=null;destroyed=!1;constructor(){this.configLoader.onLoadEndListener=se=>this.events.next(new As(se)),this.configLoader.onLoadStartListener=se=>this.events.next(new Co(se)),this.destroyRef.onDestroy(()=>{this.destroyed=!0})}complete(){this.transitions?.complete()}handleNavigationRequest(V){const z=++this.navigationId;(0,r.O8t)(()=>{this.transitions?.next({...V,extractedUrl:this.urlHandlingStrategy.extract(V.rawUrl),targetSnapshot:null,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null,id:z})})}setupNavigations(V){return this.transitions=new v.t(null),this.transitions.pipe((0,at.p)(z=>null!==z),(0,Ve.n)(z=>{let se=!1;const Ue=new AbortController;return(0,ee.of)(z).pipe((0,Ve.n)(Pe=>{if(this.navigationId>z.id)return this.cancelNavigationTransition(z,"",Ur.SupersededByNewNavigation),je.w;this.currentTransition=z;const vt=this.lastSuccessfulNavigation();this.currentNavigation.set({id:Pe.id,initialUrl:Pe.rawUrl,extractedUrl:Pe.extractedUrl,targetBrowserUrl:"string"==typeof Pe.extras.browserUrl?this.urlSerializer.parse(Pe.extras.browserUrl):Pe.extras.browserUrl,trigger:Pe.source,extras:Pe.extras,previousNavigation:vt?{...vt,previousNavigation:null}:null,abort:()=>Ue.abort()});const nn=!V.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl();if(!nn&&"reload"!==(Pe.extras.onSameUrlNavigation??V.onSameUrlNavigation))return this.events.next(new Yi(Pe.id,this.urlSerializer.serialize(Pe.rawUrl),"",qn.IgnoredSameUrlNavigation)),Pe.resolve(!1),je.w;if(this.urlHandlingStrategy.shouldProcessUrl(Pe.rawUrl))return(0,ee.of)(Pe).pipe((0,Ve.n)(dr=>(this.events.next(new nr(dr.id,this.urlSerializer.serialize(dr.extractedUrl),dr.source,dr.restoredState)),dr.id!==this.navigationId?je.w:Promise.resolve(dr))),function Rl(B,W,V,z,se,Ue,Pe){const vt=B.get(kl);return(0,Dt.Z)(nn=>(0,ee.of)(nn).pipe((0,Ve.n)(jn=>vt(B,W,V,z,jn.extractedUrl,se,Ue,Pe)),(0,gt.T)(({state:jn,tree:dr})=>({...nn,targetSnapshot:jn,urlAfterRedirects:dr}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,V.config,this.urlSerializer,this.paramsInheritanceStrategy,Ue.signal),(0,Ke.M)(dr=>{z.targetSnapshot=dr.targetSnapshot,z.urlAfterRedirects=dr.urlAfterRedirects,this.currentNavigation.update(No=>(No.finalUrl=dr.urlAfterRedirects,No));const ki=new To(dr.id,this.urlSerializer.serialize(dr.extractedUrl),this.urlSerializer.serialize(dr.urlAfterRedirects),dr.targetSnapshot);this.events.next(ki)}));if(nn&&this.urlHandlingStrategy.shouldProcessUrl(Pe.currentRawUrl)){const{id:dr,extractedUrl:ki,source:No,restoredState:ma,extras:go}=Pe,Pa=new nr(dr,this.urlSerializer.serialize(ki),No,ma);this.events.next(Pa);const ws=Yo(this.rootComponentType).snapshot;return this.currentTransition=z={...Pe,targetSnapshot:ws,urlAfterRedirects:ki,extras:{...go,skipLocationChange:!1,replaceUrl:!1}},this.currentNavigation.update(_a=>(_a.finalUrl=ki,_a)),(0,ee.of)(z)}return this.events.next(new Yi(Pe.id,this.urlSerializer.serialize(Pe.extractedUrl),"",qn.IgnoredByUrlHandlingStrategy)),Pe.resolve(!1),je.w}),(0,Ke.M)(Pe=>{const vt=new eo(Pe.id,this.urlSerializer.serialize(Pe.extractedUrl),this.urlSerializer.serialize(Pe.urlAfterRedirects),Pe.targetSnapshot);this.events.next(vt)}),(0,gt.T)(Pe=>(this.currentTransition=z={...Pe,guards:In(Pe.targetSnapshot,Pe.currentSnapshot,this.rootContexts)},z)),function _u(B,W){return(0,Dt.Z)(V=>{const{targetSnapshot:z,currentSnapshot:se,guards:{canActivateChecks:Ue,canDeactivateChecks:Pe}}=V;return 0===Pe.length&&0===Ue.length?(0,ee.of)({...V,guardsResult:!0}):function Ys(B,W,V,z){return(0,Ae.H)(B).pipe((0,Dt.Z)(se=>function mt(B,W,V,z,se){const Ue=W&&W.routeConfig?W.routeConfig.canDeactivate:null;if(!Ue||0===Ue.length)return(0,ee.of)(!0);const Pe=Ue.map(vt=>{const nn=hr(W)??se,jn=lr(vt,nn);return Jn(function ba(B){return B&&Qi(B.canDeactivate)}(jn)?jn.canDeactivate(B,W,V,z):(0,r.N4e)(nn,()=>jn(B,W,V,z))).pipe(Me())});return(0,ee.of)(Pe).pipe(Vs())}(se.component,se.route,V,W,z)),Me(se=>!0!==se,!0))}(Pe,z,se,B).pipe((0,Dt.Z)(vt=>vt&&function Wo(B){return"boolean"==typeof B}(vt)?function sl(B,W,V,z){return(0,Ae.H)(W).pipe((0,ht.H)(se=>(0,t.x)(function he(B,W){return null!==B&&W&&W(new qr(B)),(0,ee.of)(!0)}(se.route.parent,z),function le(B,W){return null!==B&&W&&W(new Ws(B)),(0,ee.of)(!0)}(se.route,z),function Re(B,W,V){const z=W[W.length-1],Ue=W.slice(0,W.length-1).reverse().map(Pe=>function er(B){const W=B.routeConfig?B.routeConfig.canActivateChild:null;return W&&0!==W.length?{node:B,guards:W}:null}(Pe)).filter(Pe=>null!==Pe).map(Pe=>(0,Le.v)(()=>{const vt=Pe.guards.map(nn=>{const jn=hr(Pe.node)??V,dr=lr(nn,jn);return Jn(function Uo(B){return B&&Qi(B.canActivateChild)}(dr)?dr.canActivateChild(z,B):(0,r.N4e)(jn,()=>dr(z,B))).pipe(Me())});return(0,ee.of)(vt).pipe(Vs())}));return(0,ee.of)(Ue).pipe(Vs())}(B,se.path,V),function K(B,W,V){const z=W.routeConfig?W.routeConfig.canActivate:null;if(!z||0===z.length)return(0,ee.of)(!0);const se=z.map(Ue=>(0,Le.v)(()=>{const Pe=hr(W)??V,vt=lr(Ue,Pe);return Jn(function Po(B){return B&&Qi(B.canActivate)}(vt)?vt.canActivate(W,B):(0,r.N4e)(Pe,()=>vt(W,B))).pipe(Me())}));return(0,ee.of)(se).pipe(Vs())}(B,se.route,V))),Me(se=>!0!==se,!0))}(z,Ue,B,W):(0,ee.of)(vt)),(0,gt.T)(vt=>({...V,guardsResult:vt})))})}(this.environmentInjector,Pe=>this.events.next(Pe)),(0,Ke.M)(Pe=>{if(z.guardsResult=Pe.guardsResult,Pe.guardsResult&&"boolean"!=typeof Pe.guardsResult)throw ls(0,Pe.guardsResult);const vt=new ho(Pe.id,this.urlSerializer.serialize(Pe.extractedUrl),this.urlSerializer.serialize(Pe.urlAfterRedirects),Pe.targetSnapshot,!!Pe.guardsResult);this.events.next(vt)}),(0,at.p)(Pe=>!!Pe.guardsResult||(this.cancelNavigationTransition(Pe,"",Ur.GuardRejected),!1)),Hl(Pe=>{if(0!==Pe.guards.canActivateChecks.length)return(0,ee.of)(Pe).pipe((0,Ke.M)(vt=>{const nn=new as(vt.id,this.urlSerializer.serialize(vt.extractedUrl),this.urlSerializer.serialize(vt.urlAfterRedirects),vt.targetSnapshot);this.events.next(nn)}),(0,Ve.n)(vt=>{let nn=!1;return(0,ee.of)(vt).pipe(function Jo(B,W){return(0,Dt.Z)(V=>{const{targetSnapshot:z,guards:{canActivateChecks:se}}=V;if(!se.length)return(0,ee.of)(V);const Ue=new Set(se.map(nn=>nn.route)),Pe=new Set;for(const nn of Ue)if(!Pe.has(nn))for(const jn of Tl(nn))Pe.add(jn);let vt=0;return(0,Ae.H)(Pe).pipe((0,ht.H)(nn=>Ue.has(nn)?function Qn(B,W,V,z){const se=B.routeConfig,Ue=B._resolve;return void 0!==se?.title&&!lo(se)&&(Ue[Et]=se.title),(0,Le.v)(()=>(B.data=Eo(B,B.parent,V).resolve,function Is(B,W,V,z){const se=On(B);if(0===se.length)return(0,ee.of)({});const Ue={};return(0,Ae.H)(se).pipe((0,Dt.Z)(Pe=>function cs(B,W,V,z){const se=hr(W)??z,Ue=lr(B,se);return Jn(Ue.resolve?Ue.resolve(W,V):(0,r.N4e)(se,()=>Ue(W,V)))}(B[Pe],W,V,z).pipe(Me(),(0,Ke.M)(vt=>{if(vt instanceof po)throw ls(new Zn,vt);Ue[Pe]=vt}))),Ge(1),(0,gt.T)(()=>Ue),(0,Ft.W)(Pe=>Ba(Pe)?je.w:(0,Te.$)(Pe)))}(Ue,B,W,z).pipe((0,gt.T)(Pe=>(B._resolvedData=Pe,B.data={...B.data,...Pe},null)))))}(nn,z,B,W):(nn.data=Eo(nn,nn.parent,B).resolve,(0,ee.of)(void 0))),(0,Ke.M)(()=>vt++),Ge(1),(0,Dt.Z)(nn=>vt===Pe.size?(0,ee.of)(V):je.w))})}(this.paramsInheritanceStrategy,this.environmentInjector),(0,Ke.M)({next:()=>nn=!0,complete:()=>{nn||this.cancelNavigationTransition(vt,"",Ur.NoDataFromResolver)}}))}),(0,Ke.M)(vt=>{const nn=new Vo(vt.id,this.urlSerializer.serialize(vt.extractedUrl),this.urlSerializer.serialize(vt.urlAfterRedirects),vt.targetSnapshot);this.events.next(nn)}))}),Hl(Pe=>{const vt=jn=>{const dr=[];if(jn.routeConfig?._loadedComponent)jn.component=jn.routeConfig?._loadedComponent;else if(jn.routeConfig?.loadComponent){const ki=hr(jn)??this.environmentInjector;dr.push(this.configLoader.loadComponent(ki,jn.routeConfig).then(No=>{jn.component=No}))}for(const ki of jn.children)dr.push(...vt(ki));return dr},nn=vt(Pe.targetSnapshot.root);return 0===nn.length?(0,ee.of)(Pe):(0,Ae.H)(Promise.all(nn).then(()=>Pe))}),Hl(()=>this.afterPreactivation()),(0,Ve.n)(()=>{const{currentSnapshot:Pe,targetSnapshot:vt}=z,nn=this.createViewTransition?.(this.environmentInjector,Pe.root,vt.root);return nn?(0,Ae.H)(nn).pipe((0,gt.T)(()=>z)):(0,ee.of)(z)}),(0,gt.T)(Pe=>{const vt=function qa(B,W,V){const z=Ea(B,W._root,V?V._root:void 0);return new to(z,W)}(V.routeReuseStrategy,Pe.targetSnapshot,Pe.currentRouterState);return this.currentTransition=z={...Pe,targetRouterState:vt},this.currentNavigation.update(nn=>(nn.targetRouterState=vt,nn)),z}),(0,Ke.M)(()=>{this.events.next(new zs)}),((B,W,V,z)=>(0,gt.T)(se=>(new it(W,se.targetRouterState,se.currentRouterState,V,z).activate(B),se)))(this.rootContexts,V.routeReuseStrategy,Pe=>this.events.next(Pe),this.inputBindingEnabled),(0,ze.s)(1),(0,Bt.Q)(Ra(Ue.signal).pipe((0,at.p)(()=>!se&&!z.targetRouterState),(0,Ke.M)(()=>{this.cancelNavigationTransition(z,Ue.signal.reason+"",Ur.Aborted)}))),(0,Ke.M)({next:Pe=>{se=!0,this.currentNavigation.update(vt=>(vt.abort=vu,vt)),this.lastSuccessfulNavigation.set((0,r.O8t)(this.currentNavigation)),this.events.next(new _r(Pe.id,this.urlSerializer.serialize(Pe.extractedUrl),this.urlSerializer.serialize(Pe.urlAfterRedirects))),this.titleStrategy?.updateTitle(Pe.targetRouterState.snapshot),Pe.resolve(!0)},complete:()=>{se=!0}}),(0,Bt.Q)(this.transitionAbortWithErrorSubject.pipe((0,Ke.M)(Pe=>{throw Pe}))),(0,Xe.j)(()=>{Ue.abort(),se||this.cancelNavigationTransition(z,"",Ur.SupersededByNewNavigation),this.currentTransition?.id===z.id&&(this.currentNavigation.set(null),this.currentTransition=null)}),(0,Ft.W)(Pe=>{if(this.destroyed)return z.resolve(!1),je.w;if(se=!0,we(Pe))this.events.next(new tr(z.id,this.urlSerializer.serialize(z.extractedUrl),Pe.message,Pe.cancellationCode)),function Ms(B){return we(B)&&wi(B.url)}(Pe)?this.events.next(new Ks(Pe.url,Pe.navigationBehaviorOptions)):z.resolve(!1);else{const vt=new hi(z.id,this.urlSerializer.serialize(z.extractedUrl),Pe,z.targetSnapshot??void 0);try{const nn=(0,r.N4e)(this.environmentInjector,()=>this.navigationErrorHandler?.(vt));if(!(nn instanceof po))throw this.events.next(vt),Pe;{const{message:jn,cancellationCode:dr}=ls(0,nn);this.events.next(new tr(z.id,this.urlSerializer.serialize(z.extractedUrl),jn,dr)),this.events.next(new Ks(nn.redirectTo,nn.navigationBehaviorOptions))}}catch(nn){this.options.resolveNavigationPromiseOnError?z.resolve(!1):z.reject(nn)}}return je.w}))}))}cancelNavigationTransition(V,z,se){const Ue=new tr(V.id,this.urlSerializer.serialize(V.extractedUrl),z,se);this.events.next(Ue),V.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){const V=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),z=(0,r.O8t)(this.currentNavigation),se=z?.targetBrowserUrl??z?.extractedUrl;return V.toString()!==se?.toString()&&!z?.extras.skipLocationChange}static \u0275fac=function(z){return new(z||B)};static \u0275prov=r.jDH({token:B,factory:B.\u0275fac,providedIn:"root"})}return B})();function dl(B){return B!==ot}let _c=(()=>{class B{static \u0275fac=function(z){return new(z||B)};static \u0275prov=r.jDH({token:B,factory:()=>(0,r.WQX)(Uu),providedIn:"root"})}return B})();class ic{shouldDetach(W){return!1}store(W,V){}shouldAttach(W){return!1}retrieve(W){return null}shouldReuseRoute(W,V){return W.routeConfig===V.routeConfig}}let Uu=(()=>{class B extends ic{static \u0275fac=(()=>{let V;return function(se){return(V||(V=ve.xGo(B)))(se||B)}})();static \u0275prov=r.jDH({token:B,factory:B.\u0275fac,providedIn:"root"})}return B})(),Sl=(()=>{class B{urlSerializer=(0,r.WQX)(Tr);options=(0,r.WQX)(Ya,{optional:!0})||{};canceledNavigationResolution=this.options.canceledNavigationResolution||"replace";location=(0,r.WQX)(R.aZ);urlHandlingStrategy=(0,r.WQX)(ms);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";currentUrlTree=new yn;getCurrentUrlTree(){return this.currentUrlTree}rawUrlTree=this.currentUrlTree;getRawUrlTree(){return this.rawUrlTree}createBrowserPath({finalUrl:V,initialUrl:z,targetBrowserUrl:se}){const Ue=void 0!==V?this.urlHandlingStrategy.merge(V,z):z,Pe=se??Ue;return Pe instanceof yn?this.urlSerializer.serialize(Pe):Pe}commitTransition({targetRouterState:V,finalUrl:z,initialUrl:se}){z&&V?(this.currentUrlTree=z,this.rawUrlTree=this.urlHandlingStrategy.merge(z,se),this.routerState=V):this.rawUrlTree=se}routerState=Yo(null);getRouterState(){return this.routerState}stateMemento=this.createStateMemento();updateStateMemento(){this.stateMemento=this.createStateMemento()}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}resetInternalState({finalUrl:V}){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,V??this.rawUrlTree)}static \u0275fac=function(z){return new(z||B)};static \u0275prov=r.jDH({token:B,factory:()=>(0,r.WQX)(iu),providedIn:"root"})}return B})(),iu=(()=>{class B extends Sl{currentPageId=0;lastSuccessfulId=-1;restoredState(){return this.location.getState()}get browserPageId(){return"computed"!==this.canceledNavigationResolution?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}registerNonRouterCurrentEntryChangeListener(V){return this.location.subscribe(z=>{"popstate"===z.type&&setTimeout(()=>{V(z.url,z.state,"popstate")})})}handleRouterEvent(V,z){V instanceof nr?this.updateStateMemento():V instanceof Yi?this.commitTransition(z):V instanceof To?"eager"===this.urlUpdateStrategy&&(z.extras.skipLocationChange||this.setBrowserUrl(this.createBrowserPath(z),z)):V instanceof zs?(this.commitTransition(z),"deferred"===this.urlUpdateStrategy&&!z.extras.skipLocationChange&&this.setBrowserUrl(this.createBrowserPath(z),z)):V instanceof tr&&V.code!==Ur.SupersededByNewNavigation&&V.code!==Ur.Redirect?this.restoreHistory(z):V instanceof hi?this.restoreHistory(z,!0):V instanceof _r&&(this.lastSuccessfulId=V.id,this.currentPageId=this.browserPageId)}setBrowserUrl(V,{extras:z,id:se}){const{replaceUrl:Ue,state:Pe}=z;if(this.location.isCurrentPathEqualTo(V)||Ue){const vt=this.browserPageId,nn={...Pe,...this.generateNgRouterState(se,vt)};this.location.replaceState(V,"",nn)}else{const vt={...Pe,...this.generateNgRouterState(se,this.browserPageId+1)};this.location.go(V,"",vt)}}restoreHistory(V,z=!1){if("computed"===this.canceledNavigationResolution){const Ue=this.currentPageId-this.browserPageId;0!==Ue?this.location.historyGo(Ue):this.getCurrentUrlTree()===V.finalUrl&&0===Ue&&(this.resetInternalState(V),this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(z&&this.resetInternalState(V),this.resetUrlToCurrentUrlTree())}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.getRawUrlTree()),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(V,z){return"computed"===this.canceledNavigationResolution?{navigationId:V,\u0275routerPageId:z}:{navigationId:V}}static \u0275fac=(()=>{let V;return function(se){return(V||(V=ve.xGo(B)))(se||B)}})();static \u0275prov=r.jDH({token:B,factory:B.\u0275fac,providedIn:"root"})}return B})();function ou(B,W){B.events.pipe((0,at.p)(V=>V instanceof _r||V instanceof tr||V instanceof hi||V instanceof Yi),(0,gt.T)(V=>V instanceof _r||V instanceof Yi?0:V instanceof tr&&(V.code===Ur.Redirect||V.code===Ur.SupersededByNewNavigation)?2:1),(0,at.p)(V=>2!==V),(0,ze.s)(1)).subscribe(()=>{W()})}const Us={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},ks={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let _s=(()=>{class B{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}disposed=!1;nonRouterCurrentEntryChangeSubscription;console=(0,r.WQX)(ve.C7A);stateManager=(0,r.WQX)(Sl);options=(0,r.WQX)(Ya,{optional:!0})||{};pendingTasks=(0,r.WQX)(r.rev);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";navigationTransitions=(0,r.WQX)(cl);urlSerializer=(0,r.WQX)(Tr);location=(0,r.WQX)(R.aZ);urlHandlingStrategy=(0,r.WQX)(ms);injector=(0,r.WQX)(r.uvJ);_events=new be.B;get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}navigated=!1;routeReuseStrategy=(0,r.WQX)(_c);onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore";config=(0,r.WQX)(ll,{optional:!0})?.flat()??[];componentInputBindingEnabled=!!(0,r.WQX)(ps,{optional:!0});currentNavigation=this.navigationTransitions.currentNavigation.asReadonly();constructor(){this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this).subscribe({error:V=>{this.console.warn(V)}}),this.subscribeToNavigationEvents()}eventsSubscription=new Oe.yU;subscribeToNavigationEvents(){const V=this.navigationTransitions.events.subscribe(z=>{try{const se=this.navigationTransitions.currentTransition,Ue=(0,r.O8t)(this.navigationTransitions.currentNavigation);if(null!==se&&null!==Ue)if(this.stateManager.handleRouterEvent(z,Ue),z instanceof tr&&z.code!==Ur.Redirect&&z.code!==Ur.SupersededByNewNavigation)this.navigated=!0;else if(z instanceof _r)this.navigated=!0;else if(z instanceof Ks){const Pe=z.navigationBehaviorOptions,vt=this.urlHandlingStrategy.merge(z.url,se.currentRawUrl),nn={browserUrl:se.extras.browserUrl,info:se.extras.info,skipLocationChange:se.extras.skipLocationChange,replaceUrl:se.extras.replaceUrl||"eager"===this.urlUpdateStrategy||dl(se.source),...Pe};this.scheduleNavigation(vt,ot,null,nn,{resolve:se.resolve,reject:se.reject,promise:se.promise})}(function Xs(B){return!(B instanceof zs||B instanceof Ks)})(z)&&this._events.next(z)}catch(se){this.navigationTransitions.transitionAbortWithErrorSubject.next(se)}});this.eventsSubscription.add(V)}resetRootComponentType(V){this.routerState.root.component=V,this.navigationTransitions.rootComponentType=V}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),ot,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((V,z,se)=>{this.navigateToSyncWithBrowser(V,se,z)})}navigateToSyncWithBrowser(V,z,se){const Ue={replaceUrl:!0},Pe=se?.navigationId?se:null;if(se){const nn={...se};delete nn.navigationId,delete nn.\u0275routerPageId,0!==Object.keys(nn).length&&(Ue.state=nn)}const vt=this.parseUrl(V);this.scheduleNavigation(vt,z,Pe,Ue).catch(nn=>{this.disposed||this.injector.get(r.ZTf)(nn)})}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return(0,r.O8t)(this.navigationTransitions.currentNavigation)}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(V){this.config=V.map(qs),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this._events.unsubscribe(),this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription?.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0,this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(V,z={}){const{relativeTo:se,queryParams:Ue,fragment:Pe,queryParamsHandling:vt,preserveFragment:nn}=z,jn=nn?this.currentUrlTree.fragment:Pe;let ki,dr=null;switch(vt??this.options.defaultQueryParamsHandling){case"merge":dr={...this.currentUrlTree.queryParams,...Ue};break;case"preserve":dr=this.currentUrlTree.queryParams;break;default:dr=Ue||null}null!==dr&&(dr=this.removeEmptyProps(dr));try{ki=yo(se?se.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof V[0]||"/"!==V[0][0])&&(V=[]),ki=this.currentUrlTree.root}return Ji(ki,V,dr,jn??null,this.urlSerializer)}navigateByUrl(V,z={skipLocationChange:!1}){const se=wi(V)?V:this.parseUrl(V),Ue=this.urlHandlingStrategy.merge(se,this.rawUrlTree);return this.scheduleNavigation(Ue,ot,null,z)}navigate(V,z={skipLocationChange:!1}){return function Zo(B){for(let W=0;W<B.length;W++)if(null==B[W])throw new r.buA(4008,!1)}(V),this.navigateByUrl(this.createUrlTree(V,z),z)}serializeUrl(V){return this.urlSerializer.serialize(V)}parseUrl(V){try{return this.urlSerializer.parse(V)}catch{return this.console.warn((0,r.OsK)(4018,!1)),this.urlSerializer.parse("/")}}isActive(V,z){let se;if(se=!0===z?{...Us}:!1===z?{...ks}:z,wi(V))return fr(this.currentUrlTree,V,se);const Ue=this.parseUrl(V);return fr(this.currentUrlTree,Ue,se)}removeEmptyProps(V){return Object.entries(V).reduce((z,[se,Ue])=>(null!=Ue&&(z[se]=Ue),z),{})}scheduleNavigation(V,z,se,Ue,Pe){if(this.disposed)return Promise.resolve(!1);let vt,nn,jn;Pe?(vt=Pe.resolve,nn=Pe.reject,jn=Pe.promise):jn=new Promise((ki,No)=>{vt=ki,nn=No});const dr=this.pendingTasks.add();return ou(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(dr))}),this.navigationTransitions.handleNavigationRequest({source:z,restoredState:se,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:V,extras:Ue,resolve:vt,reject:nn,promise:jn,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),jn.catch(ki=>Promise.reject(ki))}static \u0275fac=function(z){return new(z||B)};static \u0275prov=r.jDH({token:B,factory:B.\u0275fac,providedIn:"root"})}return B})()},6354(on,ct,$){"use strict";$.d(ct,{T:()=>R});var L=$(9974),r=$(4360);function R(ve,oe){return(0,L.N)((ke,Ae)=>{let ee=0;ke.subscribe((0,r._)(Ae,v=>{Ae.next(ve.call(oe,v,ee++))}))})}},6365(on,ct,$){"use strict";$.d(ct,{U:()=>R});var L=$(1397),r=$(3669);function R(ve=1/0){return(0,L.Z)(r.D,ve)}},6450(on,ct,$){"use strict";$.d(ct,{I:()=>ve});var L=$(6354);const{isArray:r}=Array;function ve(oe){return(0,L.T)(ke=>function R(oe,ke){return r(ke)?oe(...ke):oe(ke)}(oe,ke))}},6494(on,ct,$){"use strict";$.d(ct,{Vw:()=>ke,hj:()=>Ae,ig:()=>ve,qj:()=>oe,rb:()=>R});var L=$(375);let r=null;function R(){return r}function ve(v){r??=v}class oe{}let ke=(()=>{class v{historyGo(ie){throw new Error("")}static \u0275fac=function(xe){return new(xe||v)};static \u0275prov=L.jDH({token:v,factory:()=>(0,L.WQX)(ee),providedIn:"platform"})}return v})();const Ae=new L.nKC("");let ee=(()=>{class v extends ke{_location;_history;_doc=(0,L.WQX)(L.qQL);constructor(){super(),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return R().getBaseHref(this._doc)}onPopState(ie){const xe=R().getGlobalEventTarget(this._doc,"window");return xe.addEventListener("popstate",ie,!1),()=>xe.removeEventListener("popstate",ie)}onHashChange(ie){const xe=R().getGlobalEventTarget(this._doc,"window");return xe.addEventListener("hashchange",ie,!1),()=>xe.removeEventListener("hashchange",ie)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(ie){this._location.pathname=ie}pushState(ie,xe,t){this._history.pushState(ie,xe,t)}replaceState(ie,xe,t){this._history.replaceState(ie,xe,t)}forward(){this._history.forward()}back(){this._history.back()}historyGo(ie=0){this._history.go(ie)}getState(){return this._history.state}static \u0275fac=function(xe){return new(xe||v)};static \u0275prov=L.jDH({token:v,factory:()=>new v,providedIn:"platform"})}return v})()},6598(on,ct,$){var L,ve;on.exports=(L=$(7656),ve=L.lib.WordArray,L.enc.Base64url={stringify:function(ee,v){void 0===v&&(v=!0);var m=ee.words,ie=ee.sigBytes,xe=v?this._safe_map:this._map;ee.clamp();for(var t=[],Le=0;Le<ie;Le+=3)for(var be=(m[Le>>>2]>>>24-Le%4*8&255)<<16|(m[Le+1>>>2]>>>24-(Le+1)%4*8&255)<<8|m[Le+2>>>2]>>>24-(Le+2)%4*8&255,Oe=0;Oe<4&&Le+.75*Oe<ie;Oe++)t.push(xe.charAt(be>>>6*(3-Oe)&63));var at=xe.charAt(64);if(at)for(;t.length%4;)t.push(at);return t.join("")},parse:function(ee,v){void 0===v&&(v=!0);var m=ee.length,ie=v?this._safe_map:this._map,xe=this._reverseMap;if(!xe){xe=this._reverseMap=[];for(var t=0;t<ie.length;t++)xe[ie.charCodeAt(t)]=t}var Le=ie.charAt(64);if(Le){var Se=ee.indexOf(Le);-1!==Se&&(m=Se)}return function Ae(ee,v,m){for(var ie=[],xe=0,t=0;t<v;t++)if(t%4){var Le=m[ee.charCodeAt(t-1)]<<t%4*2,Se=m[ee.charCodeAt(t)]>>>6-t%4*2;ie[xe>>>2]|=(Le|Se)<<24-xe%4*8,xe++}return ve.create(ie,xe)}(ee,m,xe)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",_safe_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_"},L.enc.Base64url)},6648(on,ct,$){"use strict";$.d(ct,{H:()=>rn});var L=$(8750),r=$(5225),R=$(9974),ve=$(4360);function oe(It,Ht=0){return(0,R.N)((At,Me)=>{At.subscribe((0,ve._)(Me,gt=>(0,r.N)(Me,It,()=>Me.next(gt),Ht),()=>(0,r.N)(Me,It,()=>Me.complete(),Ht),gt=>(0,r.N)(Me,It,()=>Me.error(gt),Ht)))})}function ke(It,Ht=0){return(0,R.N)((At,Me)=>{Me.add(It.schedule(()=>At.subscribe(Me),Ht))})}var v=$(1985),ie=$(4761),xe=$(8071);function Le(It,Ht){if(!It)throw new Error("Iterable cannot be null");return new v.c(At=>{(0,r.N)(At,Ht,()=>{const Me=It[Symbol.asyncIterator]();(0,r.N)(At,Ht,()=>{Me.next().then(gt=>{gt.done?At.complete():At.next(gt.value)})},0,!0)})})}var Se=$(5055),je=$(9858),Te=$(7441),be=$(5397),Oe=$(7953),at=$(591),ze=$(5196);function rn(It,Ht){return Ht?function st(It,Ht){if(null!=It){if((0,Se.l)(It))return function Ae(It,Ht){return(0,L.Tg)(It).pipe(ke(Ht),oe(Ht))}(It,Ht);if((0,Te.X)(It))return function m(It,Ht){return new v.c(At=>{let Me=0;return Ht.schedule(function(){Me===It.length?At.complete():(At.next(It[Me++]),At.closed||this.schedule())})})}(It,Ht);if((0,je.y)(It))return function ee(It,Ht){return(0,L.Tg)(It).pipe(ke(Ht),oe(Ht))}(It,Ht);if((0,Oe.T)(It))return Le(It,Ht);if((0,be.x)(It))return function t(It,Ht){return new v.c(At=>{let Me;return(0,r.N)(At,Ht,()=>{Me=It[ie.l](),(0,r.N)(At,Ht,()=>{let gt,Ve;try{({value:gt,done:Ve}=Me.next())}catch(en){return void At.error(en)}Ve?At.complete():At.next(gt)},0,!0)}),()=>(0,xe.T)(Me?.return)&&Me.return()})}(It,Ht);if((0,ze.U)(It))return function et(It,Ht){return Le((0,ze.C)(It),Ht)}(It,Ht)}throw(0,at.L)(It)}(It,Ht):(0,L.Tg)(It)}},6697(on,ct,$){"use strict";$.d(ct,{s:()=>ve});var L=$(983),r=$(9974),R=$(4360);function ve(oe){return oe<=0?()=>L.w:(0,r.N)((ke,Ae)=>{let ee=0;ke.subscribe((0,R._)(Ae,v=>{++ee<=oe&&(Ae.next(v),oe<=ee&&Ae.complete())}))})}},6700(on,ct,$){var r,R,L;on.exports=(L=$(7656),$(2414),L.mode.OFB=(R=(r=L.lib.BlockCipherMode.extend()).Encryptor=r.extend({processBlock:function(ve,oe){var ke=this._cipher,Ae=ke.blockSize,ee=this._iv,v=this._keystream;ee&&(v=this._keystream=ee.slice(0),this._iv=void 0),ke.encryptBlock(v,0);for(var m=0;m<Ae;m++)ve[oe+m]^=v[m]}}),r.Decryptor=R,r),L.mode.OFB)},6780(on,ct,$){"use strict";$.d(ct,{R:()=>oe});var L=$(8359);class r extends L.yU{constructor(Ae,ee){super()}schedule(Ae,ee=0){return this}}const R={setInterval(ke,Ae,...ee){const{delegate:v}=R;return v?.setInterval?v.setInterval(ke,Ae,...ee):setInterval(ke,Ae,...ee)},clearInterval(ke){const{delegate:Ae}=R;return(Ae?.clearInterval||clearInterval)(ke)},delegate:void 0};var ve=$(7908);class oe extends r{constructor(Ae,ee){super(Ae,ee),this.scheduler=Ae,this.work=ee,this.pending=!1}schedule(Ae,ee=0){var v;if(this.closed)return this;this.state=Ae;const m=this.id,ie=this.scheduler;return null!=m&&(this.id=this.recycleAsyncId(ie,m,ee)),this.pending=!0,this.delay=ee,this.id=null!==(v=this.id)&&void 0!==v?v:this.requestAsyncId(ie,this.id,ee),this}requestAsyncId(Ae,ee,v=0){return R.setInterval(Ae.flush.bind(Ae,this),v)}recycleAsyncId(Ae,ee,v=0){if(null!=v&&this.delay===v&&!1===this.pending)return ee;null!=ee&&R.clearInterval(ee)}execute(Ae,ee){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const v=this._execute(Ae,ee);if(v)return v;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(Ae,ee){let m,v=!1;try{this.work(Ae)}catch(ie){v=!0,m=ie||new Error("Scheduled action threw falsy error")}if(v)return this.unsubscribe(),m}unsubscribe(){if(!this.closed){const{id:Ae,scheduler:ee}=this,{actions:v}=ee;this.work=this.state=this.scheduler=null,this.pending=!1,(0,ve.o)(v,this),null!=Ae&&(this.id=this.recycleAsyncId(ee,Ae,null)),this.delay=null,super.unsubscribe()}}}},6964(on,ct,$){var L;on.exports=(L=$(7656),$(2414),L.pad.ZeroPadding={pad:function(r,R){var ve=4*R;r.clamp(),r.sigBytes+=ve-(r.sigBytes%ve||ve)},unpad:function(r){var R=r.words,ve=r.sigBytes-1;for(ve=r.sigBytes-1;ve>=0;ve--)if(R[ve>>>2]>>>24-ve%4*8&255){r.sigBytes=ve+1;break}}},L.pad.ZeroPadding)},6977(on,ct,$){"use strict";$.d(ct,{Q:()=>oe});var L=$(9974),r=$(4360),R=$(8750),ve=$(5343);function oe(ke){return(0,L.N)((Ae,ee)=>{(0,R.Tg)(ke).subscribe((0,r._)(ee,()=>ee.complete(),ve.l)),!ee.closed&&Ae.subscribe(ee)})}},7006(on,ct,$){"use strict";$.d(ct,{M4:()=>yh,ZU:()=>Bt});var L=$(467);class Ae{}function ee(a,s){return a.replace(/\{([^}]+)\}/g,(_,w)=>{if(Object.prototype.hasOwnProperty.call(s,w)){const k=s[w];return null!=k?String(k):""}throw new Error(`Key '${w}' not found in valueMap.`)})}function v(a,s,f){for(let k=0;k<s.length-1;k++){const H=s[k];if(H.endsWith("[]")){const Q=H.slice(0,-2);if(!(Q in a)){if(!Array.isArray(f))throw new Error(`Value must be a list given an array path ${H}`);a[Q]=Array.from({length:f.length},()=>({}))}if(Array.isArray(a[Q])){const J=a[Q];if(Array.isArray(f))for(let re=0;re<J.length;re++)v(J[re],s.slice(k+1),f[re]);else for(const re of J)v(re,s.slice(k+1),f)}return}if(H.endsWith("[0]")){const Q=H.slice(0,-3);return Q in a||(a[Q]=[{}]),void v(a[Q][0],s.slice(k+1),f)}(!a[H]||"object"!=typeof a[H])&&(a[H]={}),a=a[H]}const _=s[s.length-1],w=a[_];if(void 0!==w){if(!f||"object"==typeof f&&0===Object.keys(f).length||f===w)return;if("object"!=typeof w||"object"!=typeof f||null===w||null===f)throw new Error(`Cannot set value for an existing key. Key: ${_}`);Object.assign(w,f)}else"_self"!==_||"object"!=typeof f||null===f||Array.isArray(f)?a[_]=f:Object.assign(a,f)}function m(a,s,f=void 0){try{if(1===s.length&&"_self"===s[0])return a;for(let _=0;_<s.length;_++){if("object"!=typeof a||null===a)return f;const w=s[_];if(w.endsWith("[]")){const k=w.slice(0,-2);if(k in a){const H=a[k];return Array.isArray(H)?H.map(Q=>m(Q,s.slice(_+1),f)):f}return f}a=a[w]}return a}catch(_){if(_ instanceof TypeError)return f;throw _}}function xe(a,s,f,_,w){if(_>=s.length||"object"!=typeof a||null===a)return;const k=s[_];if(k.endsWith("[]")){const H=k.slice(0,-2),Q=a;if(H in Q&&Array.isArray(Q[H]))for(const J of Q[H])xe(J,s,f,_+1,w)}else if("*"===k){if("object"==typeof a&&null!==a&&!Array.isArray(a)){const H=a,Q=Object.keys(H).filter(re=>!re.startsWith("_")&&!w.has(re)),J={};for(const re of Q)J[re]=H[re];for(const[re,Y]of Object.entries(J)){const fe=[];for(const $e of f.slice(_))fe.push("*"===$e?re:$e);v(H,fe,Y)}for(const re of Q)delete H[re]}}else k in a&&xe(a[k],s,f,_+1,w)}function t(a){if("string"!=typeof a)throw new Error("fromImageBytes must be a string");return a}function It(a){const s={},f=m(a,["name"]);null!=f&&v(s,["name"],f);const _=m(a,["metadata"]);null!=_&&v(s,["metadata"],_);const w=m(a,["done"]);null!=w&&v(s,["done"],w);const k=m(a,["error"]);null!=k&&v(s,["error"],k);const H=m(a,["response"]);return null!=H&&v(s,["response"],function Ht(a){const s={},f=m(a,["sdkHttpResponse"]);null!=f&&v(s,["sdkHttpResponse"],f);const _=m(a,["parent"]);null!=_&&v(s,["parent"],_);const w=m(a,["documentName"]);return null!=w&&v(s,["documentName"],w),s}(H)),s}var Bt=function(a){return a.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",a.STRING="STRING",a.NUMBER="NUMBER",a.INTEGER="INTEGER",a.BOOLEAN="BOOLEAN",a.ARRAY="ARRAY",a.OBJECT="OBJECT",a.NULL="NULL",a}(Bt||{}),mi=function(a){return a.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",a.TEXT="TEXT",a.IMAGE="IMAGE",a.AUDIO="AUDIO",a}(mi||{}),Un=function(a){return a.JOB_STATE_UNSPECIFIED="JOB_STATE_UNSPECIFIED",a.JOB_STATE_QUEUED="JOB_STATE_QUEUED",a.JOB_STATE_PENDING="JOB_STATE_PENDING",a.JOB_STATE_RUNNING="JOB_STATE_RUNNING",a.JOB_STATE_SUCCEEDED="JOB_STATE_SUCCEEDED",a.JOB_STATE_FAILED="JOB_STATE_FAILED",a.JOB_STATE_CANCELLING="JOB_STATE_CANCELLING",a.JOB_STATE_CANCELLED="JOB_STATE_CANCELLED",a.JOB_STATE_PAUSED="JOB_STATE_PAUSED",a.JOB_STATE_EXPIRED="JOB_STATE_EXPIRED",a.JOB_STATE_UPDATING="JOB_STATE_UPDATING",a.JOB_STATE_PARTIALLY_SUCCEEDED="JOB_STATE_PARTIALLY_SUCCEEDED",a}(Un||{}),Ui=function(a){return a.PLAYBACK_CONTROL_UNSPECIFIED="PLAYBACK_CONTROL_UNSPECIFIED",a.PLAY="PLAY",a.PAUSE="PAUSE",a.STOP="STOP",a.RESET_CONTEXT="RESET_CONTEXT",a}(Ui||{});class Bo{constructor(s){const f={};for(const _ of s.headers.entries())f[_[0]]=_[1];this.headers=f,this.responseInternal=s}json(){return this.responseInternal.json()}}class lt{get text(){var s,f,_,w,k,H,Q,J;if(0===(null===(w=null===(_=null===(f=null===(s=this.candidates)||void 0===s?void 0:s[0])||void 0===f?void 0:f.content)||void 0===_?void 0:_.parts)||void 0===w?void 0:w.length))return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning text from the first one.");let re="",Y=!1;const fe=[];for(const $e of null!==(J=null===(Q=null===(H=null===(k=this.candidates)||void 0===k?void 0:k[0])||void 0===H?void 0:H.content)||void 0===Q?void 0:Q.parts)&&void 0!==J?J:[]){for(const[Ne,vn]of Object.entries($e))"text"!==Ne&&"thought"!==Ne&&"thoughtSignature"!==Ne&&(null!==vn||void 0!==vn)&&fe.push(Ne);if("string"==typeof $e.text){if("boolean"==typeof $e.thought&&$e.thought)continue;Y=!0,re+=$e.text}}return fe.length>0&&console.warn(`there are non-text parts ${fe} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),Y?re:void 0}get data(){var s,f,_,w,k,H,Q,J;if(0===(null===(w=null===(_=null===(f=null===(s=this.candidates)||void 0===s?void 0:s[0])||void 0===f?void 0:f.content)||void 0===_?void 0:_.parts)||void 0===w?void 0:w.length))return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning data from the first one.");let re="";const Y=[];for(const fe of null!==(J=null===(Q=null===(H=null===(k=this.candidates)||void 0===k?void 0:k[0])||void 0===H?void 0:H.content)||void 0===Q?void 0:Q.parts)&&void 0!==J?J:[]){for(const[$e,Ne]of Object.entries(fe))"inlineData"!==$e&&(null!==Ne||void 0!==Ne)&&Y.push($e);fe.inlineData&&"string"==typeof fe.inlineData.data&&(re+=atob(fe.inlineData.data))}return Y.length>0&&console.warn(`there are non-data parts ${Y} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),re.length>0?btoa(re):void 0}get functionCalls(){var s,f,_,w,k,H,Q,J;if(0===(null===(w=null===(_=null===(f=null===(s=this.candidates)||void 0===s?void 0:s[0])||void 0===f?void 0:f.content)||void 0===_?void 0:_.parts)||void 0===w?void 0:w.length))return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning function calls from the first one.");const re=null===(J=null===(Q=null===(H=null===(k=this.candidates)||void 0===k?void 0:k[0])||void 0===H?void 0:H.content)||void 0===Q?void 0:Q.parts)||void 0===J?void 0:J.filter(Y=>Y.functionCall).map(Y=>Y.functionCall).filter(Y=>void 0!==Y);return 0!==re?.length?re:void 0}get executableCode(){var s,f,_,w,k,H,Q,J,re;if(0===(null===(w=null===(_=null===(f=null===(s=this.candidates)||void 0===s?void 0:s[0])||void 0===f?void 0:f.content)||void 0===_?void 0:_.parts)||void 0===w?void 0:w.length))return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning executable code from the first one.");const Y=null===(J=null===(Q=null===(H=null===(k=this.candidates)||void 0===k?void 0:k[0])||void 0===H?void 0:H.content)||void 0===Q?void 0:Q.parts)||void 0===J?void 0:J.filter(fe=>fe.executableCode).map(fe=>fe.executableCode).filter(fe=>void 0!==fe);return 0!==Y?.length?null===(re=Y?.[0])||void 0===re?void 0:re.code:void 0}get codeExecutionResult(){var s,f,_,w,k,H,Q,J,re;if(0===(null===(w=null===(_=null===(f=null===(s=this.candidates)||void 0===s?void 0:s[0])||void 0===f?void 0:f.content)||void 0===_?void 0:_.parts)||void 0===w?void 0:w.length))return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning code execution result from the first one.");const Y=null===(J=null===(Q=null===(H=null===(k=this.candidates)||void 0===k?void 0:k[0])||void 0===H?void 0:H.content)||void 0===Q?void 0:Q.parts)||void 0===J?void 0:J.filter(fe=>fe.codeExecutionResult).map(fe=>fe.codeExecutionResult).filter(fe=>void 0!==fe);return 0!==Y?.length?null===(re=Y?.[0])||void 0===re?void 0:re.output:void 0}}class tn{}class hn{}class un{}class an{}class Rr{}class rt{}class Wt{}class Qt{}class Cn{}class ge{}class ot{_fromAPIResponse({apiResponse:s,_isVertexAI:f}){const _=new ot;let w;const k=s;return w=f?function je(a){const s={},f=m(a,["name"]);null!=f&&v(s,["name"],f);const _=m(a,["metadata"]);null!=_&&v(s,["metadata"],_);const w=m(a,["done"]);null!=w&&v(s,["done"],w);const k=m(a,["error"]);null!=k&&v(s,["error"],k);const H=m(a,["response"]);return null!=H&&v(s,["response"],function be(a){const s={},f=m(a,["videos"]);if(null!=f){let k=f;Array.isArray(k)&&(k=k.map(H=>function at(a){const s={},f=m(a,["_self"]);return null!=f&&v(s,["video"],function Me(a){const s={},f=m(a,["gcsUri"]);null!=f&&v(s,["uri"],f);const _=m(a,["bytesBase64Encoded"]);null!=_&&v(s,["videoBytes"],t(_));const w=m(a,["mimeType"]);return null!=w&&v(s,["mimeType"],w),s}(f)),s}(H))),v(s,["generatedVideos"],k)}const _=m(a,["raiMediaFilteredCount"]);null!=_&&v(s,["raiMediaFilteredCount"],_);const w=m(a,["raiMediaFilteredReasons"]);return null!=w&&v(s,["raiMediaFilteredReasons"],w),s}(H)),s}(k):function Se(a){const s={},f=m(a,["name"]);null!=f&&v(s,["name"],f);const _=m(a,["metadata"]);null!=_&&v(s,["metadata"],_);const w=m(a,["done"]);null!=w&&v(s,["done"],w);const k=m(a,["error"]);null!=k&&v(s,["error"],k);const H=m(a,["response","generateVideoResponse"]);return null!=H&&v(s,["response"],function Te(a){const s={},f=m(a,["generatedSamples"]);if(null!=f){let k=f;Array.isArray(k)&&(k=k.map(H=>function Oe(a){const s={},f=m(a,["video"]);return null!=f&&v(s,["video"],function At(a){const s={},f=m(a,["uri"]);null!=f&&v(s,["uri"],f);const _=m(a,["encodedVideo"]);null!=_&&v(s,["videoBytes"],t(_));const w=m(a,["encoding"]);return null!=w&&v(s,["mimeType"],w),s}(f)),s}(H))),v(s,["generatedVideos"],k)}const _=m(a,["raiMediaFilteredCount"]);null!=_&&v(s,["raiMediaFilteredCount"],_);const w=m(a,["raiMediaFilteredReasons"]);return null!=w&&v(s,["raiMediaFilteredReasons"],w),s}(H)),s}(k),Object.assign(_,w),_}}class kt{}class Tn{}class nr{}class _r{}class Ur{}class qn{}class tr{}class hi{_fromAPIResponse({apiResponse:s}){const _=new hi,k=function st(a){const s={},f=m(a,["name"]);null!=f&&v(s,["name"],f);const _=m(a,["metadata"]);null!=_&&v(s,["metadata"],_);const w=m(a,["done"]);null!=w&&v(s,["done"],w);const k=m(a,["error"]);null!=k&&v(s,["error"],k);const H=m(a,["response"]);return null!=H&&v(s,["response"],function rn(a){const s={},f=m(a,["sdkHttpResponse"]);null!=f&&v(s,["sdkHttpResponse"],f);const _=m(a,["parent"]);null!=_&&v(s,["parent"],_);const w=m(a,["documentName"]);return null!=w&&v(s,["documentName"],w),s}(H)),s}(s);return Object.assign(_,k),_}}class To{}class eo{}class ho{}class As{}class Xs{get text(){var s,f,_;let w="",k=!1;const H=[];for(const Q of null!==(_=null===(f=null===(s=this.serverContent)||void 0===s?void 0:s.modelTurn)||void 0===f?void 0:f.parts)&&void 0!==_?_:[]){for(const[J,re]of Object.entries(Q))"text"!==J&&"thought"!==J&&null!==re&&H.push(J);if("string"==typeof Q.text){if("boolean"==typeof Q.thought&&Q.thought)continue;k=!0,w+=Q.text}}return H.length>0&&console.warn(`there are non-text parts ${H} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),k?w:void 0}get data(){var s,f,_;let w="";const k=[];for(const H of null!==(_=null===(f=null===(s=this.serverContent)||void 0===s?void 0:s.modelTurn)||void 0===f?void 0:f.parts)&&void 0!==_?_:[]){for(const[Q,J]of Object.entries(H))"inlineData"!==Q&&null!==J&&k.push(Q);H.inlineData&&"string"==typeof H.inlineData.data&&(w+=atob(H.inlineData.data))}return k.length>0&&console.warn(`there are non-data parts ${k} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),w.length>0?btoa(w):void 0}}class qe{get audioChunk(){if(this.serverContent&&this.serverContent.audioChunks&&this.serverContent.audioChunks.length>0)return this.serverContent.audioChunks[0]}}class Be{_fromAPIResponse({apiResponse:s}){const _=new Be,k=It(s);return Object.assign(_,k),_}}function xt(a,s){if(!s||"string"!=typeof s)throw new Error("model is required and must be a string");if(s.includes("..")||s.includes("?")||s.includes("&"))throw new Error("invalid model parameter");if(a.isVertexAI()){if(s.startsWith("publishers/")||s.startsWith("projects/")||s.startsWith("models/"))return s;if(s.indexOf("/")>=0){const f=s.split("/",2);return`publishers/${f[0]}/models/${f[1]}`}return`publishers/google/models/${s}`}return s.startsWith("models/")||s.startsWith("tunedModels/")?s:`models/${s}`}function dn(a,s){const f=xt(a,s);return f?f.startsWith("publishers/")&&a.isVertexAI()?`projects/${a.getProject()}/locations/${a.getLocation()}/${f}`:f.startsWith("models/")&&a.isVertexAI()?`projects/${a.getProject()}/locations/${a.getLocation()}/publishers/google/${f}`:f:""}function Ln(a){return Array.isArray(a)?a.map(s=>hr(s)):[hr(a)]}function hr(a){if("object"==typeof a&&null!==a)return a;throw new Error("Could not parse input as Blob. Unsupported blob type: "+typeof a)}function yi(a){const s=hr(a);if(s.mimeType&&s.mimeType.startsWith("image/"))return s;throw new Error(`Unsupported mime type: ${s.mimeType}`)}function bi(a){const s=hr(a);if(s.mimeType&&s.mimeType.startsWith("audio/"))return s;throw new Error(`Unsupported mime type: ${s.mimeType}`)}function Si(a){if(null==a)throw new Error("PartUnion is required");if("object"==typeof a)return a;if("string"==typeof a)return{text:a};throw new Error("Unsupported part type: "+typeof a)}function ti(a){if(null==a||Array.isArray(a)&&0===a.length)throw new Error("PartListUnion is required");return Array.isArray(a)?a.map(s=>Si(s)):[Si(a)]}function Hi(a){return null!=a&&"object"==typeof a&&"parts"in a&&Array.isArray(a.parts)}function zr(a){return null!=a&&"object"==typeof a&&"functionCall"in a}function Ii(a){return null!=a&&"object"==typeof a&&"functionResponse"in a}function to(a){if(null==a)throw new Error("ContentUnion is required");return Hi(a)?a:{role:"user",parts:ti(a)}}function Yo(a,s){if(!s)return[];if(a.isVertexAI()&&Array.isArray(s))return s.flatMap(f=>{const _=to(f);return _.parts&&_.parts.length>0&&void 0!==_.parts[0].text?[_.parts[0].text]:[]});if(a.isVertexAI()){const f=to(s);return f.parts&&f.parts.length>0&&void 0!==f.parts[0].text?[f.parts[0].text]:[]}return Array.isArray(s)?s.map(f=>to(f)):[to(s)]}function ao(a){if(null==a||Array.isArray(a)&&0===a.length)throw new Error("contents are required");if(!Array.isArray(a)){if(zr(a)||Ii(a))throw new Error("To specify functionCall or functionResponse parts, please wrap them in a Content object, specifying the role for them");return[to(a)]}const s=[],f=[],_=Hi(a[0]);for(const w of a){const k=Hi(w);if(k!=_)throw new Error("Mixing Content and Parts is not supported, please group the parts into a the appropriate Content objects and specify the roles for them");if(k)s.push(w);else{if(zr(w)||Ii(w))throw new Error("To specify functionCall or functionResponse parts, please wrap them, and any other parts, in Content objects as appropriate, specifying the role for them");f.push(w)}}return _||s.push({role:"user",parts:ti(f)}),s}function Eo(a){const s={},f=["items"],_=["anyOf"],w=["properties"];if(a.type&&a.anyOf)throw new Error("type and anyOf cannot be both populated.");const k=a.anyOf;null!=k&&2==k.length&&("null"===k[0].type?(s.nullable=!0,a=k[1]):"null"===k[1].type&&(s.nullable=!0,a=k[0])),a.type instanceof Array&&function Es(a,s){a.includes("null")&&(s.nullable=!0);const f=a.filter(_=>"null"!==_);if(1===f.length)s.type=Object.values(Bt).includes(f[0].toUpperCase())?f[0].toUpperCase():Bt.TYPE_UNSPECIFIED;else{s.anyOf=[];for(const _ of f)s.anyOf.push({type:Object.values(Bt).includes(_.toUpperCase())?_.toUpperCase():Bt.TYPE_UNSPECIFIED})}}(a.type,s);for(const[H,Q]of Object.entries(a))if(null!=Q)if("type"==H){if("null"===Q)throw new Error("type: null can not be the only possible type for the field.");if(Q instanceof Array)continue;s.type=Object.values(Bt).includes(Q.toUpperCase())?Q.toUpperCase():Bt.TYPE_UNSPECIFIED}else if(f.includes(H))s[H]=Eo(Q);else if(_.includes(H)){const J=[];for(const re of Q)"null"!=re.type?J.push(Eo(re)):s.nullable=!0;s[H]=J}else if(w.includes(H)){const J={};for(const[re,Y]of Object.entries(Q))J[re]=Eo(Y);s[H]=J}else{if("additionalProperties"===H)continue;s[H]=Q}return s}function bo(a){return Eo(a)}function So(a){if("object"==typeof a)return a;if("string"==typeof a)return{voiceConfig:{prebuiltVoiceConfig:{voiceName:a}}};throw new Error("Unsupported speechConfig type: "+typeof a)}function Ls(a){if("multiSpeakerVoiceConfig"in a)throw new Error("multiSpeakerVoiceConfig is not supported in the live API.");return a}function ca(a){if(a.functionDeclarations)for(const s of a.functionDeclarations)s.parameters&&(Object.keys(s.parameters).includes("$schema")?s.parametersJsonSchema||(s.parametersJsonSchema=s.parameters,delete s.parameters):s.parameters=Eo(s.parameters)),s.response&&(Object.keys(s.response).includes("$schema")?s.responseJsonSchema||(s.responseJsonSchema=s.response,delete s.response):s.response=Eo(s.response));return a}function $o(a){if(null==a)throw new Error("tools is required");if(!Array.isArray(a))throw new Error("tools is required and must be an array of Tools");const s=[];for(const f of a)s.push(f);return s}function lo(a,s){if("string"!=typeof s)throw new Error("name must be a string");return function da(a,s,f,_=1){const w=!s.startsWith(`${f}/`)&&s.split("/").length===_;return a.isVertexAI()?s.startsWith("projects/")?s:s.startsWith("locations/")?`projects/${a.getProject()}/${s}`:s.startsWith(`${f}/`)?`projects/${a.getProject()}/locations/${a.getLocation()}/${s}`:w?`projects/${a.getProject()}/locations/${a.getLocation()}/${f}/${s}`:s:w?`${f}/${s}`:s}(a,s,"cachedContents")}function ol(a){switch(a){case"STATE_UNSPECIFIED":return"JOB_STATE_UNSPECIFIED";case"CREATING":return"JOB_STATE_RUNNING";case"ACTIVE":return"JOB_STATE_SUCCEEDED";case"FAILED":return"JOB_STATE_FAILED";default:return a}}function Ro(a){return t(a)}function La(a){var s;let f;if(function fa(a){return null!=a&&"object"==typeof a&&"name"in a}(a)&&(f=a.name),!(function Qo(a){return null!=a&&"object"==typeof a&&"uri"in a}(a)&&(f=a.uri,void 0===f)||function ps(a){return null!=a&&"object"==typeof a&&"video"in a}(a)&&(f=null===(s=a.video)||void 0===s?void 0:s.uri,void 0===f))){if("string"==typeof a&&(f=a),void 0===f)throw new Error("Could not extract file name from the provided input.");if(f.startsWith("https://")){const w=f.split("files/")[1].match(/[a-z0-9]+/);if(null===w)throw new Error(`Could not extract file name from URI ${f}`);f=w[0]}else f.startsWith("files/")&&(f=f.split("files/")[1]);return f}}function qs(a,s){let f;return f=a.isVertexAI()?s?"publishers/google/models":"models":s?"models":"tunedModels",f}function qa(a){for(const s of["models","tunedModels","publisherModels"])if(Ea(a,s))return a[s];return[]}function Ea(a,s){return null!==a&&"object"==typeof a&&s in a}function Ma(a,s={}){const _={name:a.name,description:a.description,parametersJsonSchema:a.inputSchema};return a.outputSchema&&(_.responseJsonSchema=a.outputSchema),s.behavior&&(_.behavior=s.behavior),{functionDeclarations:[_]}}function po(a,s){let f;if("string"==typeof s)if(a.isVertexAI())if(s.startsWith("gs://"))f={format:"jsonl",gcsUri:[s]};else{if(!s.startsWith("bq://"))throw new Error(`Unsupported string source for Vertex AI: ${s}`);f={format:"bigquery",bigqueryUri:s}}else{if(!s.startsWith("files/"))throw new Error(`Unsupported string source for Gemini API: ${s}`);f={fileName:s}}else if(Array.isArray(s)){if(a.isVertexAI())throw new Error("InlinedRequest[] is not supported in Vertex AI.");f={inlinedRequests:s}}else f=s;const _=[f.gcsUri,f.bigqueryUri].filter(Boolean).length,w=[f.inlinedRequests,f.fileName].filter(Boolean).length;if(a.isVertexAI()){if(w>0||1!==_)throw new Error("Exactly one of `gcsUri` or `bigqueryUri` must be set for Vertex AI.")}else if(_>0||1!==w)throw new Error("Exactly one of `inlinedRequests`, `fileName`, must be set for Gemini API.");return f}function ls(a){if("object"!=typeof a||null===a)return{};const s=a,f=s.inlinedResponses;if("object"!=typeof f||null===f)return a;const w=f.inlinedResponses;if(!Array.isArray(w)||0===w.length)return a;let k=!1;for(const H of w){if("object"!=typeof H||null===H)continue;const J=H.response;if("object"==typeof J&&null!==J&&void 0!==J.embedding){k=!0;break}}return k&&(s.inlinedEmbedContentResponses=s.inlinedResponses,delete s.inlinedResponses),a}function no(a,s){const f=s;if(!a.isVertexAI()){if(/batches\/[^/]+$/.test(f))return f.split("/").pop();throw new Error(`Invalid batch job name: ${f}.`)}if(/^projects\/[^/]+\/locations\/[^/]+\/batchPredictionJobs\/[^/]+$/.test(f))return f.split("/").pop();if(/^\d+$/.test(f))return f;throw new Error(`Invalid batch job name: ${f}.`)}function Ms(a){return"BATCH_STATE_UNSPECIFIED"===a?"JOB_STATE_UNSPECIFIED":"BATCH_STATE_PENDING"===a?"JOB_STATE_PENDING":"BATCH_STATE_RUNNING"===a?"JOB_STATE_RUNNING":"BATCH_STATE_SUCCEEDED"===a?"JOB_STATE_SUCCEEDED":"BATCH_STATE_FAILED"===a?"JOB_STATE_FAILED":"BATCH_STATE_CANCELLED"===a?"JOB_STATE_CANCELLED":"BATCH_STATE_EXPIRED"===a?"JOB_STATE_EXPIRED":a}function it(a){const s={},f=m(a,["name"]);null!=f&&v(s,["name"],f);const _=m(a,["metadata","displayName"]);null!=_&&v(s,["displayName"],_);const w=m(a,["metadata","state"]);null!=w&&v(s,["state"],Ms(w));const k=m(a,["metadata","createTime"]);null!=k&&v(s,["createTime"],k);const H=m(a,["metadata","endTime"]);null!=H&&v(s,["endTime"],H);const Q=m(a,["metadata","updateTime"]);null!=Q&&v(s,["updateTime"],Q);const J=m(a,["metadata","model"]);null!=J&&v(s,["model"],J);const re=m(a,["metadata","output"]);return null!=re&&v(s,["dest"],function we(a){const s={},f=m(a,["responsesFile"]);null!=f&&v(s,["fileName"],f);const _=m(a,["inlinedResponses","inlinedResponses"]);if(null!=_){let k=_;Array.isArray(k)&&(k=k.map(H=>function ha(a){const s={},f=m(a,["response"]);null!=f&&v(s,["response"],function K(a){const s={},f=m(a,["sdkHttpResponse"]);null!=f&&v(s,["sdkHttpResponse"],f);const _=m(a,["candidates"]);if(null!=_){let J=_;Array.isArray(J)&&(J=J.map(re=>function Sr(a){const s={},f=m(a,["content"]);null!=f&&v(s,["content"],f);const _=m(a,["citationMetadata"]);null!=_&&v(s,["citationMetadata"],function zi(a){const s={},f=m(a,["citationSources"]);if(null!=f){let _=f;Array.isArray(_)&&(_=_.map(w=>w)),v(s,["citations"],_)}return s}(_));const w=m(a,["tokenCount"]);null!=w&&v(s,["tokenCount"],w);const k=m(a,["finishReason"]);null!=k&&v(s,["finishReason"],k);const H=m(a,["avgLogprobs"]);null!=H&&v(s,["avgLogprobs"],H);const Q=m(a,["groundingMetadata"]);null!=Q&&v(s,["groundingMetadata"],Q);const J=m(a,["index"]);null!=J&&v(s,["index"],J);const re=m(a,["logprobsResult"]);null!=re&&v(s,["logprobsResult"],re);const Y=m(a,["safetyRatings"]);if(null!=Y){let $e=Y;Array.isArray($e)&&($e=$e.map(Ne=>Ne)),v(s,["safetyRatings"],$e)}const fe=m(a,["urlContextMetadata"]);return null!=fe&&v(s,["urlContextMetadata"],fe),s}(re))),v(s,["candidates"],J)}const w=m(a,["modelVersion"]);null!=w&&v(s,["modelVersion"],w);const k=m(a,["promptFeedback"]);null!=k&&v(s,["promptFeedback"],k);const H=m(a,["responseId"]);null!=H&&v(s,["responseId"],H);const Q=m(a,["usageMetadata"]);return null!=Q&&v(s,["usageMetadata"],Q),s}(f));const _=m(a,["error"]);return null!=_&&v(s,["error"],_),s}(H))),v(s,["inlinedResponses"],k)}const w=m(a,["inlinedEmbedContentResponses","inlinedResponses"]);if(null!=w){let k=w;Array.isArray(k)&&(k=k.map(H=>H)),v(s,["inlinedEmbedContentResponses"],k)}return s}(ls(re))),s}function $t(a){const s={},f=m(a,["name"]);null!=f&&v(s,["name"],f);const _=m(a,["displayName"]);null!=_&&v(s,["displayName"],_);const w=m(a,["state"]);null!=w&&v(s,["state"],Ms(w));const k=m(a,["error"]);null!=k&&v(s,["error"],k);const H=m(a,["createTime"]);null!=H&&v(s,["createTime"],H);const Q=m(a,["startTime"]);null!=Q&&v(s,["startTime"],Q);const J=m(a,["endTime"]);null!=J&&v(s,["endTime"],J);const re=m(a,["updateTime"]);null!=re&&v(s,["updateTime"],re);const Y=m(a,["model"]);null!=Y&&v(s,["model"],Y);const fe=m(a,["inputConfig"]);null!=fe&&v(s,["src"],function fn(a){const s={},f=m(a,["instancesFormat"]);null!=f&&v(s,["format"],f);const _=m(a,["gcsSource","uris"]);null!=_&&v(s,["gcsUri"],_);const w=m(a,["bigquerySource","inputUri"]);return null!=w&&v(s,["bigqueryUri"],w),s}(fe));const $e=m(a,["outputConfig"]);null!=$e&&v(s,["dest"],function de(a){const s={},f=m(a,["predictionsFormat"]);null!=f&&v(s,["format"],f);const _=m(a,["gcsDestination","outputUriPrefix"]);null!=_&&v(s,["gcsUri"],_);const w=m(a,["bigqueryDestination","outputUri"]);return null!=w&&v(s,["bigqueryUri"],w),s}(ls($e)));const Ne=m(a,["completionStats"]);return null!=Ne&&v(s,["completionStats"],Ne),s}function Qi(a){const s={},f=m(a,["parts"]);if(null!=f){let w=f;Array.isArray(w)&&(w=w.map(k=>function ae(a){const s={},f=m(a,["mediaResolution"]);null!=f&&v(s,["mediaResolution"],f);const _=m(a,["codeExecutionResult"]);null!=_&&v(s,["codeExecutionResult"],_);const w=m(a,["executableCode"]);null!=w&&v(s,["executableCode"],w);const k=m(a,["fileData"]);null!=k&&v(s,["fileData"],function Ys(a){const s={};if(void 0!==m(a,["displayName"]))throw new Error("displayName parameter is not supported in Gemini API.");const f=m(a,["fileUri"]);null!=f&&v(s,["fileUri"],f);const _=m(a,["mimeType"]);return null!=_&&v(s,["mimeType"],_),s}(k));const H=m(a,["functionCall"]);null!=H&&v(s,["functionCall"],function sl(a){const s={},f=m(a,["id"]);null!=f&&v(s,["id"],f);const _=m(a,["args"]);null!=_&&v(s,["args"],_);const w=m(a,["name"]);if(null!=w&&v(s,["name"],w),void 0!==m(a,["partialArgs"]))throw new Error("partialArgs parameter is not supported in Gemini API.");if(void 0!==m(a,["willContinue"]))throw new Error("willContinue parameter is not supported in Gemini API.");return s}(H));const Q=m(a,["functionResponse"]);null!=Q&&v(s,["functionResponse"],Q);const J=m(a,["inlineData"]);null!=J&&v(s,["inlineData"],function lr(a){const s={},f=m(a,["data"]);if(null!=f&&v(s,["data"],f),void 0!==m(a,["displayName"]))throw new Error("displayName parameter is not supported in Gemini API.");const _=m(a,["mimeType"]);return null!=_&&v(s,["mimeType"],_),s}(J));const re=m(a,["text"]);null!=re&&v(s,["text"],re);const Y=m(a,["thought"]);null!=Y&&v(s,["thought"],Y);const fe=m(a,["thoughtSignature"]);null!=fe&&v(s,["thoughtSignature"],fe);const $e=m(a,["videoMetadata"]);return null!=$e&&v(s,["videoMetadata"],$e),s}(k))),v(s,["parts"],w)}const _=m(a,["role"]);return null!=_&&v(s,["role"],_),s}function Po(a,s){const f={},_=m(s,["model"]);null!=_&&v(f,["_url","model"],xt(a,_));const w=m(s,["src"]);null!=w&&v(f,["batch","inputConfig"],function In(a,s){const f={};if(void 0!==m(s,["format"]))throw new Error("format parameter is not supported in Gemini API.");if(void 0!==m(s,["gcsUri"]))throw new Error("gcsUri parameter is not supported in Gemini API.");if(void 0!==m(s,["bigqueryUri"]))throw new Error("bigqueryUri parameter is not supported in Gemini API.");const _=m(s,["fileName"]);null!=_&&v(f,["fileName"],_);const w=m(s,["inlinedRequests"]);if(null!=w){let k=w;Array.isArray(k)&&(k=k.map(H=>function gs(a,s){const f={},_=m(s,["model"]);null!=_&&v(f,["request","model"],xt(a,_));const w=m(s,["contents"]);if(null!=w){let Q=ao(w);Array.isArray(Q)&&(Q=Q.map(J=>Qi(J))),v(f,["request","contents"],Q)}const k=m(s,["metadata"]);null!=k&&v(f,["metadata"],k);const H=m(s,["config"]);return null!=H&&v(f,["request","generationConfig"],function he(a,s,f){const _={},w=m(s,["systemInstruction"]);void 0!==f&&null!=w&&v(f,["systemInstruction"],Qi(to(w)));const k=m(s,["temperature"]);null!=k&&v(_,["temperature"],k);const H=m(s,["topP"]);null!=H&&v(_,["topP"],H);const Q=m(s,["topK"]);null!=Q&&v(_,["topK"],Q);const J=m(s,["candidateCount"]);null!=J&&v(_,["candidateCount"],J);const re=m(s,["maxOutputTokens"]);null!=re&&v(_,["maxOutputTokens"],re);const Y=m(s,["stopSequences"]);null!=Y&&v(_,["stopSequences"],Y);const fe=m(s,["responseLogprobs"]);null!=fe&&v(_,["responseLogprobs"],fe);const $e=m(s,["logprobs"]);null!=$e&&v(_,["logprobs"],$e);const Ne=m(s,["presencePenalty"]);null!=Ne&&v(_,["presencePenalty"],Ne);const vn=m(s,["frequencyPenalty"]);null!=vn&&v(_,["frequencyPenalty"],vn);const rr=m(s,["seed"]);null!=rr&&v(_,["seed"],rr);const Rn=m(s,["responseMimeType"]);null!=Rn&&v(_,["responseMimeType"],Rn);const pr=m(s,["responseSchema"]);null!=pr&&v(_,["responseSchema"],bo(pr));const cr=m(s,["responseJsonSchema"]);if(null!=cr&&v(_,["responseJsonSchema"],cr),void 0!==m(s,["routingConfig"]))throw new Error("routingConfig parameter is not supported in Gemini API.");if(void 0!==m(s,["modelSelectionConfig"]))throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const $r=m(s,["safetySettings"]);if(void 0!==f&&null!=$r){let sa=$r;Array.isArray(sa)&&(sa=sa.map(Zu=>function me(a){const s={},f=m(a,["category"]);if(null!=f&&v(s,["category"],f),void 0!==m(a,["method"]))throw new Error("method parameter is not supported in Gemini API.");const _=m(a,["threshold"]);return null!=_&&v(s,["threshold"],_),s}(Zu))),v(f,["safetySettings"],sa)}const ri=m(s,["tools"]);if(void 0!==f&&null!=ri){let sa=$o(ri);Array.isArray(sa)&&(sa=sa.map(Zu=>function Je(a){const s={};if(void 0!==m(a,["retrieval"]))throw new Error("retrieval parameter is not supported in Gemini API.");const f=m(a,["computerUse"]);null!=f&&v(s,["computerUse"],f);const _=m(a,["fileSearch"]);null!=_&&v(s,["fileSearch"],_);const w=m(a,["codeExecution"]);if(null!=w&&v(s,["codeExecution"],w),void 0!==m(a,["enterpriseWebSearch"]))throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const k=m(a,["functionDeclarations"]);if(null!=k){let Y=k;Array.isArray(Y)&&(Y=Y.map(fe=>fe)),v(s,["functionDeclarations"],Y)}const H=m(a,["googleMaps"]);null!=H&&v(s,["googleMaps"],function vr(a){const s={};if(void 0!==m(a,["authConfig"]))throw new Error("authConfig parameter is not supported in Gemini API.");const f=m(a,["enableWidget"]);return null!=f&&v(s,["enableWidget"],f),s}(H));const Q=m(a,["googleSearch"]);null!=Q&&v(s,["googleSearch"],function Zr(a){const s={};if(void 0!==m(a,["excludeDomains"]))throw new Error("excludeDomains parameter is not supported in Gemini API.");if(void 0!==m(a,["blockingConfidence"]))throw new Error("blockingConfidence parameter is not supported in Gemini API.");const f=m(a,["timeRangeFilter"]);return null!=f&&v(s,["timeRangeFilter"],f),s}(Q));const J=m(a,["googleSearchRetrieval"]);null!=J&&v(s,["googleSearchRetrieval"],J);const re=m(a,["urlContext"]);return null!=re&&v(s,["urlContext"],re),s}(ca(Zu)))),v(f,["tools"],sa)}const Ti=m(s,["toolConfig"]);if(void 0!==f&&null!=Ti&&v(f,["toolConfig"],function Ie(a){const s={},f=m(a,["retrievalConfig"]);null!=f&&v(s,["retrievalConfig"],f);const _=m(a,["functionCallingConfig"]);return null!=_&&v(s,["functionCallingConfig"],function le(a){const s={},f=m(a,["allowedFunctionNames"]);null!=f&&v(s,["allowedFunctionNames"],f);const _=m(a,["mode"]);if(null!=_&&v(s,["mode"],_),void 0!==m(a,["streamFunctionCallArguments"]))throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return s}(_)),s}(Ti)),void 0!==m(s,["labels"]))throw new Error("labels parameter is not supported in Gemini API.");const vi=m(s,["cachedContent"]);void 0!==f&&null!=vi&&v(f,["cachedContent"],lo(a,vi));const jo=m(s,["responseModalities"]);null!=jo&&v(_,["responseModalities"],jo);const $s=m(s,["mediaResolution"]);null!=$s&&v(_,["mediaResolution"],$s);const za=m(s,["speechConfig"]);if(null!=za&&v(_,["speechConfig"],So(za)),void 0!==m(s,["audioTimestamp"]))throw new Error("audioTimestamp parameter is not supported in Gemini API.");const Ni=m(s,["thinkingConfig"]);null!=Ni&&v(_,["thinkingConfig"],Ni);const Mo=m(s,["imageConfig"]);null!=Mo&&v(_,["imageConfig"],function Ko(a){const s={},f=m(a,["aspectRatio"]);null!=f&&v(s,["aspectRatio"],f);const _=m(a,["imageSize"]);if(null!=_&&v(s,["imageSize"],_),void 0!==m(a,["personGeneration"]))throw new Error("personGeneration parameter is not supported in Gemini API.");if(void 0!==m(a,["outputMimeType"]))throw new Error("outputMimeType parameter is not supported in Gemini API.");if(void 0!==m(a,["outputCompressionQuality"]))throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return s}(Mo));const Vl=m(s,["enableEnhancedCivicAnswers"]);return null!=Vl&&v(_,["enableEnhancedCivicAnswers"],Vl),_}(a,H,m(f,["request"],{}))),f}(a,H))),v(f,["requests","requests"],k)}return f}(a,po(a,w)));const k=m(s,["config"]);return null!=k&&function Wo(a,s){const _=m(a,["displayName"]);if(void 0!==s&&null!=_&&v(s,["batch","displayName"],_),void 0!==m(a,["dest"]))throw new Error("dest parameter is not supported in Gemini API.")}(k,f),f}function Uo(a,s){const f={},_=m(s,["model"]);null!=_&&v(f,["model"],xt(a,_));const w=m(s,["src"]);null!=w&&v(f,["inputConfig"],function er(a){const s={},f=m(a,["format"]);null!=f&&v(s,["instancesFormat"],f);const _=m(a,["gcsUri"]);null!=_&&v(s,["gcsSource","uris"],_);const w=m(a,["bigqueryUri"]);if(null!=w&&v(s,["bigquerySource","inputUri"],w),void 0!==m(a,["fileName"]))throw new Error("fileName parameter is not supported in Vertex AI.");if(void 0!==m(a,["inlinedRequests"]))throw new Error("inlinedRequests parameter is not supported in Vertex AI.");return s}(po(a,w)));const k=m(s,["config"]);return null!=k&&function zo(a,s){const _=m(a,["displayName"]);void 0!==s&&null!=_&&v(s,["displayName"],_);const w=m(a,["dest"]);return void 0!==s&&null!=w&&v(s,["outputConfig"],function Ce(a){const s={},f=m(a,["format"]);null!=f&&v(s,["predictionsFormat"],f);const _=m(a,["gcsUri"]);null!=_&&v(s,["gcsDestination","outputUriPrefix"],_);const w=m(a,["bigqueryUri"]);if(null!=w&&v(s,["bigqueryDestination","outputUri"],w),void 0!==m(a,["fileName"]))throw new Error("fileName parameter is not supported in Vertex AI.");if(void 0!==m(a,["inlinedResponses"]))throw new Error("inlinedResponses parameter is not supported in Vertex AI.");if(void 0!==m(a,["inlinedEmbedContentResponses"]))throw new Error("inlinedEmbedContentResponses parameter is not supported in Vertex AI.");return s}(function Bs(a){if("string"!=typeof a)return a;const s=a;if(s.startsWith("gs://"))return{format:"jsonl",gcsUri:s};if(s.startsWith("bq://"))return{format:"bigquery",bigqueryUri:s};throw new Error(`Unsupported destination: ${s}`)}(w))),{}}(k,f),f}var _t=function(a){return a.PAGED_ITEM_BATCH_JOBS="batchJobs",a.PAGED_ITEM_MODELS="models",a.PAGED_ITEM_TUNING_JOBS="tuningJobs",a.PAGED_ITEM_FILES="files",a.PAGED_ITEM_CACHED_CONTENTS="cachedContents",a.PAGED_ITEM_FILE_SEARCH_STORES="fileSearchStores",a.PAGED_ITEM_DOCUMENTS="documents",a}(_t||{});class St{constructor(s,f,_,w){this.pageInternal=[],this.paramsInternal={},this.requestInternal=f,this.init(s,_,w)}init(s,f,_){var w,k;this.nameInternal=s,this.pageInternal=f[this.nameInternal]||[],this.sdkHttpResponseInternal=f?.sdkHttpResponse,this.idxInternal=0;let H={config:{}};H=_&&0!==Object.keys(_).length?"object"==typeof _?Object.assign({},_):_:{config:{}},H.config&&(H.config.pageToken=f.nextPageToken),this.paramsInternal=H,this.pageInternalSize=null!==(k=null===(w=H.config)||void 0===w?void 0:w.pageSize)&&void 0!==k?k:this.pageInternal.length}initNextPage(s){this.init(this.nameInternal,s,this.paramsInternal)}get page(){return this.pageInternal}get name(){return this.nameInternal}get pageSize(){return this.pageInternalSize}get sdkHttpResponse(){return this.sdkHttpResponseInternal}get params(){return this.paramsInternal}get pageLength(){return this.pageInternal.length}getItem(s){return this.pageInternal[s]}[Symbol.asyncIterator](){var f,s=this;return{next:(f=(0,L.A)(function*(){if(s.idxInternal>=s.pageLength){if(!s.hasNextPage())return{value:void 0,done:!0};yield s.nextPage()}const _=s.getItem(s.idxInternal);return s.idxInternal+=1,{value:_,done:!1}}),function(){return f.apply(this,arguments)}),return:function(){var f=(0,L.A)(function*(){return{value:void 0,done:!0}});return function(){return f.apply(this,arguments)}}()}}nextPage(){var s=this;return(0,L.A)(function*(){if(!s.hasNextPage())throw new Error("No more pages to fetch.");const f=yield s.requestInternal(s.params);return s.initNextPage(f),s.page})()}hasNextPage(){var s;return void 0!==(null===(s=this.params.config)||void 0===s?void 0:s.pageToken)}}class Mt extends Ae{constructor(s){var f;super(),f=this,this.apiClient=s,this.list=(0,L.A)(function*(_={}){return new St(_t.PAGED_ITEM_BATCH_JOBS,w=>f.listInternal(w),yield f.listInternal(_),_)}),this.create=function(){var _=(0,L.A)(function*(w){return f.apiClient.isVertexAI()&&(w.config=f.formatDestination(w.src,w.config)),f.createInternal(w)});return function(w){return _.apply(this,arguments)}}(),this.createEmbeddings=function(){var _=(0,L.A)(function*(w){if(console.warn("batches.createEmbeddings() is experimental and may change without notice."),f.apiClient.isVertexAI())throw new Error("Vertex AI does not support batches.createEmbeddings.");return f.createEmbeddingsInternal(w)});return function(w){return _.apply(this,arguments)}}()}createInlinedGenerateContentRequest(s){const f=Po(this.apiClient,s),w=ee("{model}:batchGenerateContent",f._url),Q=f.batch.inputConfig.requests,J=Q.requests,re=[];for(const Y of J){const fe=Object.assign({},Y);if(fe.systemInstruction){const $e=fe.systemInstruction;delete fe.systemInstruction;const Ne=fe.request;Ne.systemInstruction=$e,fe.request=Ne}re.push(fe)}return Q.requests=re,delete f.config,delete f._url,delete f._query,{path:w,body:f}}getGcsUri(s){return"string"==typeof s?s.startsWith("gs://")?s:void 0:!Array.isArray(s)&&s.gcsUri&&s.gcsUri.length>0?s.gcsUri[0]:void 0}getBigqueryUri(s){return"string"==typeof s?s.startsWith("bq://")?s:void 0:Array.isArray(s)?void 0:s.bigqueryUri}formatDestination(s,f){const _=f?Object.assign({},f):{},w=Date.now().toString();if(_.displayName||(_.displayName=`genaiBatchJob_${w}`),void 0===_.dest){const k=this.getGcsUri(s),H=this.getBigqueryUri(s);if(k)_.dest=k.endsWith(".jsonl")?`${k.slice(0,-6)}/dest`:`${k}_dest_${w}`;else{if(!H)throw new Error("Unsupported source for Vertex AI: No GCS or BigQuery URI found.");_.dest=`${H}_dest_${w}`}}return _}createInternal(s){var f=this;return(0,L.A)(function*(){var _,w,k,H;let Q,J="",re={};if(f.apiClient.isVertexAI()){const Y=Uo(f.apiClient,s);return J=ee("batchPredictionJobs",Y._url),re=Y._query,delete Y._url,delete Y._query,Q=f.apiClient.request({path:J,queryParams:re,body:JSON.stringify(Y),httpMethod:"POST",httpOptions:null===(_=s.config)||void 0===_?void 0:_.httpOptions,abortSignal:null===(w=s.config)||void 0===w?void 0:w.abortSignal}).then(fe=>fe.json()),Q.then(fe=>$t(fe))}{const Y=Po(f.apiClient,s);return J=ee("{model}:batchGenerateContent",Y._url),re=Y._query,delete Y._url,delete Y._query,Q=f.apiClient.request({path:J,queryParams:re,body:JSON.stringify(Y),httpMethod:"POST",httpOptions:null===(k=s.config)||void 0===k?void 0:k.httpOptions,abortSignal:null===(H=s.config)||void 0===H?void 0:H.abortSignal}).then(fe=>fe.json()),Q.then(fe=>it(fe))}})()}createEmbeddingsInternal(s){var f=this;return(0,L.A)(function*(){var _,w;let k,H="",Q={};if(f.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const J=function us(a,s){const f={},_=m(s,["model"]);null!=_&&v(f,["_url","model"],xt(a,_));const w=m(s,["src"]);null!=w&&v(f,["batch","inputConfig"],function _u(a,s){const f={},_=m(s,["fileName"]);null!=_&&v(f,["file_name"],_);const w=m(s,["inlinedRequests"]);return null!=w&&v(f,["requests"],function Ra(a,s){const f={},_=m(s,["contents"]);if(null!=_){let k=Yo(a,_);Array.isArray(k)&&(k=k.map(H=>H)),v(f,["requests[]","request","content"],k)}const w=m(s,["config"]);return null!=w&&(v(f,["_self"],function Dl(a,s){const _=m(a,["taskType"]);void 0!==s&&null!=_&&v(s,["requests[]","taskType"],_);const w=m(a,["title"]);void 0!==s&&null!=w&&v(s,["requests[]","title"],w);const k=m(a,["outputDimensionality"]);if(void 0!==s&&null!=k&&v(s,["requests[]","outputDimensionality"],k),void 0!==m(a,["mimeType"]))throw new Error("mimeType parameter is not supported in Gemini API.");if(void 0!==m(a,["autoTruncate"]))throw new Error("autoTruncate parameter is not supported in Gemini API.");return{}}(w,f)),function ie(a,s){for(const[f,_]of Object.entries(s)){const w=f.split("."),k=_.split("."),H=new Set;let Q=-1;for(let J=0;J<w.length;J++)if("*"===w[J]){Q=J;break}if(-1!==Q&&k.length>Q)for(let J=Q;J<k.length;J++){const re=k[J];"*"!==re&&!re.endsWith("[]")&&!re.endsWith("[0]")&&H.add(re)}xe(a,w,k,0,H)}}(f,{"requests[].*":"requests[].request.*"})),f}(a,w)),f}(a,w));const k=m(s,["config"]);return null!=k&&function ba(a,s){const _=m(a,["displayName"]);void 0!==s&&null!=_&&v(s,["batch","displayName"],_)}(k,f),f}(f.apiClient,s);return H=ee("{model}:asyncBatchEmbedContent",J._url),Q=J._query,delete J._url,delete J._query,k=f.apiClient.request({path:H,queryParams:Q,body:JSON.stringify(J),httpMethod:"POST",httpOptions:null===(_=s.config)||void 0===_?void 0:_.httpOptions,abortSignal:null===(w=s.config)||void 0===w?void 0:w.abortSignal}).then(re=>re.json()),k.then(re=>it(re))}})()}get(s){var f=this;return(0,L.A)(function*(){var _,w,k,H;let Q,J="",re={};if(f.apiClient.isVertexAI()){const Y=function mt(a,s){const f={},_=m(s,["name"]);return null!=_&&v(f,["_url","name"],no(a,_)),f}(f.apiClient,s);return J=ee("batchPredictionJobs/{name}",Y._url),re=Y._query,delete Y._url,delete Y._query,Q=f.apiClient.request({path:J,queryParams:re,body:JSON.stringify(Y),httpMethod:"GET",httpOptions:null===(_=s.config)||void 0===_?void 0:_.httpOptions,abortSignal:null===(w=s.config)||void 0===w?void 0:w.abortSignal}).then(fe=>fe.json()),Q.then(fe=>$t(fe))}{const Y=function Re(a,s){const f={},_=m(s,["name"]);return null!=_&&v(f,["_url","name"],no(a,_)),f}(f.apiClient,s);return J=ee("batches/{name}",Y._url),re=Y._query,delete Y._url,delete Y._query,Q=f.apiClient.request({path:J,queryParams:re,body:JSON.stringify(Y),httpMethod:"GET",httpOptions:null===(k=s.config)||void 0===k?void 0:k.httpOptions,abortSignal:null===(H=s.config)||void 0===H?void 0:H.abortSignal}).then(fe=>fe.json()),Q.then(fe=>it(fe))}})()}cancel(s){var f=this;return(0,L.A)(function*(){var _,w,k,H;let Q="",J={};if(f.apiClient.isVertexAI()){const re=function ci(a,s){const f={},_=m(s,["name"]);return null!=_&&v(f,["_url","name"],no(a,_)),f}(f.apiClient,s);Q=ee("batchPredictionJobs/{name}:cancel",re._url),J=re._query,delete re._url,delete re._query,yield f.apiClient.request({path:Q,queryParams:J,body:JSON.stringify(re),httpMethod:"POST",httpOptions:null===(_=s.config)||void 0===_?void 0:_.httpOptions,abortSignal:null===(w=s.config)||void 0===w?void 0:w.abortSignal})}else{const re=function Mr(a,s){const f={},_=m(s,["name"]);return null!=_&&v(f,["_url","name"],no(a,_)),f}(f.apiClient,s);Q=ee("batches/{name}:cancel",re._url),J=re._query,delete re._url,delete re._query,yield f.apiClient.request({path:Q,queryParams:J,body:JSON.stringify(re),httpMethod:"POST",httpOptions:null===(k=s.config)||void 0===k?void 0:k.httpOptions,abortSignal:null===(H=s.config)||void 0===H?void 0:H.abortSignal})}})()}listInternal(s){var f=this;return(0,L.A)(function*(){var _,w,k,H;let Q,J="",re={};if(f.apiClient.isVertexAI()){const Y=function I(a){const s={},f=m(a,["config"]);return null!=f&&function xs(a,s){const _=m(a,["pageSize"]);void 0!==s&&null!=_&&v(s,["_query","pageSize"],_);const w=m(a,["pageToken"]);void 0!==s&&null!=w&&v(s,["_query","pageToken"],w);const k=m(a,["filter"]);void 0!==s&&null!=k&&v(s,["_query","filter"],k)}(f,s),s}(s);return J=ee("batchPredictionJobs",Y._url),re=Y._query,delete Y._url,delete Y._query,Q=f.apiClient.request({path:J,queryParams:re,body:JSON.stringify(Y),httpMethod:"GET",httpOptions:null===(_=s.config)||void 0===_?void 0:_.httpOptions,abortSignal:null===(w=s.config)||void 0===w?void 0:w.abortSignal}).then(fe=>fe.json().then($e=>{const Ne=$e;return Ne.sdkHttpResponse={headers:fe.headers},Ne})),Q.then(fe=>{const $e=function q(a){const s={},f=m(a,["sdkHttpResponse"]);null!=f&&v(s,["sdkHttpResponse"],f);const _=m(a,["nextPageToken"]);null!=_&&v(s,["nextPageToken"],_);const w=m(a,["batchPredictionJobs"]);if(null!=w){let k=w;Array.isArray(k)&&(k=k.map(H=>$t(H))),v(s,["batchJobs"],k)}return s}(fe),Ne=new As;return Object.assign(Ne,$e),Ne})}{const Y=function Ua(a){const s={},f=m(a,["config"]);return null!=f&&function Va(a,s){const _=m(a,["pageSize"]);void 0!==s&&null!=_&&v(s,["_query","pageSize"],_);const w=m(a,["pageToken"]);if(void 0!==s&&null!=w&&v(s,["_query","pageToken"],w),void 0!==m(a,["filter"]))throw new Error("filter parameter is not supported in Gemini API.")}(f,s),s}(s);return J=ee("batches",Y._url),re=Y._query,delete Y._url,delete Y._query,Q=f.apiClient.request({path:J,queryParams:re,body:JSON.stringify(Y),httpMethod:"GET",httpOptions:null===(k=s.config)||void 0===k?void 0:k.httpOptions,abortSignal:null===(H=s.config)||void 0===H?void 0:H.abortSignal}).then(fe=>fe.json().then($e=>{const Ne=$e;return Ne.sdkHttpResponse={headers:fe.headers},Ne})),Q.then(fe=>{const $e=function O(a){const s={},f=m(a,["sdkHttpResponse"]);null!=f&&v(s,["sdkHttpResponse"],f);const _=m(a,["nextPageToken"]);null!=_&&v(s,["nextPageToken"],_);const w=m(a,["operations"]);if(null!=w){let k=w;Array.isArray(k)&&(k=k.map(H=>it(H))),v(s,["batchJobs"],k)}return s}(fe),Ne=new As;return Object.assign(Ne,$e),Ne})}})()}delete(s){var f=this;return(0,L.A)(function*(){var _,w,k,H;let Q,J="",re={};if(f.apiClient.isVertexAI()){const Y=function ka(a,s){const f={},_=m(s,["name"]);return null!=_&&v(f,["_url","name"],no(a,_)),f}(f.apiClient,s);return J=ee("batchPredictionJobs/{name}",Y._url),re=Y._query,delete Y._url,delete Y._query,Q=f.apiClient.request({path:J,queryParams:re,body:JSON.stringify(Y),httpMethod:"DELETE",httpOptions:null===(_=s.config)||void 0===_?void 0:_.httpOptions,abortSignal:null===(w=s.config)||void 0===w?void 0:w.abortSignal}).then(fe=>fe.json().then($e=>{const Ne=$e;return Ne.sdkHttpResponse={headers:fe.headers},Ne})),Q.then(fe=>function bs(a){const s={},f=m(a,["sdkHttpResponse"]);null!=f&&v(s,["sdkHttpResponse"],f);const _=m(a,["name"]);null!=_&&v(s,["name"],_);const w=m(a,["done"]);null!=w&&v(s,["done"],w);const k=m(a,["error"]);return null!=k&&v(s,["error"],k),s}(fe))}{const Y=function Ba(a,s){const f={},_=m(s,["name"]);return null!=_&&v(f,["_url","name"],no(a,_)),f}(f.apiClient,s);return J=ee("batches/{name}",Y._url),re=Y._query,delete Y._url,delete Y._query,Q=f.apiClient.request({path:J,queryParams:re,body:JSON.stringify(Y),httpMethod:"DELETE",httpOptions:null===(k=s.config)||void 0===k?void 0:k.httpOptions,abortSignal:null===(H=s.config)||void 0===H?void 0:H.abortSignal}).then(fe=>fe.json().then($e=>{const Ne=$e;return Ne.sdkHttpResponse={headers:fe.headers},Ne})),Q.then(fe=>function Vs(a){const s={},f=m(a,["sdkHttpResponse"]);null!=f&&v(s,["sdkHttpResponse"],f);const _=m(a,["name"]);null!=_&&v(s,["name"],_);const w=m(a,["done"]);null!=w&&v(s,["done"],w);const k=m(a,["error"]);return null!=k&&v(s,["error"],k),s}(fe))}})()}}function wt(a){const s={},f=m(a,["parts"]);if(null!=f){let w=f;Array.isArray(w)&&(w=w.map(k=>function Fo(a){const s={},f=m(a,["mediaResolution"]);null!=f&&v(s,["mediaResolution"],f);const _=m(a,["codeExecutionResult"]);null!=_&&v(s,["codeExecutionResult"],_);const w=m(a,["executableCode"]);null!=w&&v(s,["executableCode"],w);const k=m(a,["fileData"]);null!=k&&v(s,["fileData"],function En(a){const s={};if(void 0!==m(a,["displayName"]))throw new Error("displayName parameter is not supported in Gemini API.");const f=m(a,["fileUri"]);null!=f&&v(s,["fileUri"],f);const _=m(a,["mimeType"]);return null!=_&&v(s,["mimeType"],_),s}(k));const H=m(a,["functionCall"]);null!=H&&v(s,["functionCall"],function Gn(a){const s={},f=m(a,["id"]);null!=f&&v(s,["id"],f);const _=m(a,["args"]);null!=_&&v(s,["args"],_);const w=m(a,["name"]);if(null!=w&&v(s,["name"],w),void 0!==m(a,["partialArgs"]))throw new Error("partialArgs parameter is not supported in Gemini API.");if(void 0!==m(a,["willContinue"]))throw new Error("willContinue parameter is not supported in Gemini API.");return s}(H));const Q=m(a,["functionResponse"]);null!=Q&&v(s,["functionResponse"],Q);const J=m(a,["inlineData"]);null!=J&&v(s,["inlineData"],function zt(a){const s={},f=m(a,["data"]);if(null!=f&&v(s,["data"],f),void 0!==m(a,["displayName"]))throw new Error("displayName parameter is not supported in Gemini API.");const _=m(a,["mimeType"]);return null!=_&&v(s,["mimeType"],_),s}(J));const re=m(a,["text"]);null!=re&&v(s,["text"],re);const Y=m(a,["thought"]);null!=Y&&v(s,["thought"],Y);const fe=m(a,["thoughtSignature"]);null!=fe&&v(s,["thoughtSignature"],fe);const $e=m(a,["videoMetadata"]);return null!=$e&&v(s,["videoMetadata"],$e),s}(k))),v(s,["parts"],w)}const _=m(a,["role"]);return null!=_&&v(s,["role"],_),s}class Rl extends Ae{constructor(s){var f;super(),f=this,this.apiClient=s,this.list=(0,L.A)(function*(_={}){return new St(_t.PAGED_ITEM_CACHED_CONTENTS,w=>f.listInternal(w),yield f.listInternal(_),_)})}create(s){var f=this;return(0,L.A)(function*(){var _,w,k,H;let Q,J="",re={};if(f.apiClient.isVertexAI()){const Y=function Ut(a,s){const f={},_=m(s,["model"]);null!=_&&v(f,["model"],dn(a,_));const w=m(s,["config"]);return null!=w&&function Ot(a,s){const _=m(a,["ttl"]);void 0!==s&&null!=_&&v(s,["ttl"],_);const w=m(a,["expireTime"]);void 0!==s&&null!=w&&v(s,["expireTime"],w);const k=m(a,["displayName"]);void 0!==s&&null!=k&&v(s,["displayName"],k);const H=m(a,["contents"]);if(void 0!==s&&null!=H){let fe=ao(H);Array.isArray(fe)&&(fe=fe.map($e=>$e)),v(s,["contents"],fe)}const Q=m(a,["systemInstruction"]);void 0!==s&&null!=Q&&v(s,["systemInstruction"],to(Q));const J=m(a,["tools"]);if(void 0!==s&&null!=J){let fe=J;Array.isArray(fe)&&(fe=fe.map($e=>function Ds(a){const s={},f=m(a,["retrieval"]);null!=f&&v(s,["retrieval"],f);const _=m(a,["computerUse"]);if(null!=_&&v(s,["computerUse"],_),void 0!==m(a,["fileSearch"]))throw new Error("fileSearch parameter is not supported in Vertex AI.");const w=m(a,["codeExecution"]);null!=w&&v(s,["codeExecution"],w);const k=m(a,["enterpriseWebSearch"]);null!=k&&v(s,["enterpriseWebSearch"],k);const H=m(a,["functionDeclarations"]);if(null!=H){let fe=H;Array.isArray(fe)&&(fe=fe.map($e=>function Nn(a){const s={},f=m(a,["description"]);null!=f&&v(s,["description"],f);const _=m(a,["name"]);null!=_&&v(s,["name"],_);const w=m(a,["parameters"]);null!=w&&v(s,["parameters"],w);const k=m(a,["parametersJsonSchema"]);null!=k&&v(s,["parametersJsonSchema"],k);const H=m(a,["response"]);null!=H&&v(s,["response"],H);const Q=m(a,["responseJsonSchema"]);if(null!=Q&&v(s,["responseJsonSchema"],Q),void 0!==m(a,["behavior"]))throw new Error("behavior parameter is not supported in Vertex AI.");return s}($e))),v(s,["functionDeclarations"],fe)}const Q=m(a,["googleMaps"]);null!=Q&&v(s,["googleMaps"],Q);const J=m(a,["googleSearch"]);null!=J&&v(s,["googleSearch"],J);const re=m(a,["googleSearchRetrieval"]);null!=re&&v(s,["googleSearchRetrieval"],re);const Y=m(a,["urlContext"]);return null!=Y&&v(s,["urlContext"],Y),s}($e))),v(s,["tools"],fe)}const re=m(a,["toolConfig"]);void 0!==s&&null!=re&&v(s,["toolConfig"],re);const Y=m(a,["kmsKeyName"]);return void 0!==s&&null!=Y&&v(s,["encryption_spec","kmsKeyName"],Y),{}}(w,f),f}(f.apiClient,s);return J=ee("cachedContents",Y._url),re=Y._query,delete Y._url,delete Y._query,Q=f.apiClient.request({path:J,queryParams:re,body:JSON.stringify(Y),httpMethod:"POST",httpOptions:null===(_=s.config)||void 0===_?void 0:_.httpOptions,abortSignal:null===(w=s.config)||void 0===w?void 0:w.abortSignal}).then(fe=>fe.json()),Q.then(fe=>fe)}{const Y=function Vt(a,s){const f={},_=m(s,["model"]);null!=_&&v(f,["model"],dn(a,_));const w=m(s,["config"]);return null!=w&&function Jt(a,s){const _=m(a,["ttl"]);void 0!==s&&null!=_&&v(s,["ttl"],_);const w=m(a,["expireTime"]);void 0!==s&&null!=w&&v(s,["expireTime"],w);const k=m(a,["displayName"]);void 0!==s&&null!=k&&v(s,["displayName"],k);const H=m(a,["contents"]);if(void 0!==s&&null!=H){let Y=ao(H);Array.isArray(Y)&&(Y=Y.map(fe=>wt(fe))),v(s,["contents"],Y)}const Q=m(a,["systemInstruction"]);void 0!==s&&null!=Q&&v(s,["systemInstruction"],wt(to(Q)));const J=m(a,["tools"]);if(void 0!==s&&null!=J){let Y=J;Array.isArray(Y)&&(Y=Y.map(fe=>function ko(a){const s={};if(void 0!==m(a,["retrieval"]))throw new Error("retrieval parameter is not supported in Gemini API.");const f=m(a,["computerUse"]);null!=f&&v(s,["computerUse"],f);const _=m(a,["fileSearch"]);null!=_&&v(s,["fileSearch"],_);const w=m(a,["codeExecution"]);if(null!=w&&v(s,["codeExecution"],w),void 0!==m(a,["enterpriseWebSearch"]))throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const k=m(a,["functionDeclarations"]);if(null!=k){let Y=k;Array.isArray(Y)&&(Y=Y.map(fe=>fe)),v(s,["functionDeclarations"],Y)}const H=m(a,["googleMaps"]);null!=H&&v(s,["googleMaps"],function Xn(a){const s={};if(void 0!==m(a,["authConfig"]))throw new Error("authConfig parameter is not supported in Gemini API.");const f=m(a,["enableWidget"]);return null!=f&&v(s,["enableWidget"],f),s}(H));const Q=m(a,["googleSearch"]);null!=Q&&v(s,["googleSearch"],function gr(a){const s={};if(void 0!==m(a,["excludeDomains"]))throw new Error("excludeDomains parameter is not supported in Gemini API.");if(void 0!==m(a,["blockingConfidence"]))throw new Error("blockingConfidence parameter is not supported in Gemini API.");const f=m(a,["timeRangeFilter"]);return null!=f&&v(s,["timeRangeFilter"],f),s}(Q));const J=m(a,["googleSearchRetrieval"]);null!=J&&v(s,["googleSearchRetrieval"],J);const re=m(a,["urlContext"]);return null!=re&&v(s,["urlContext"],re),s}(fe))),v(s,["tools"],Y)}const re=m(a,["toolConfig"]);if(void 0!==s&&null!=re&&v(s,["toolConfig"],function pa(a){const s={},f=m(a,["retrievalConfig"]);null!=f&&v(s,["retrievalConfig"],f);const _=m(a,["functionCallingConfig"]);return null!=_&&v(s,["functionCallingConfig"],function ur(a){const s={},f=m(a,["allowedFunctionNames"]);null!=f&&v(s,["allowedFunctionNames"],f);const _=m(a,["mode"]);if(null!=_&&v(s,["mode"],_),void 0!==m(a,["streamFunctionCallArguments"]))throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return s}(_)),s}(re)),void 0!==m(a,["kmsKeyName"]))throw new Error("kmsKeyName parameter is not supported in Gemini API.");return{}}(w,f),f}(f.apiClient,s);return J=ee("cachedContents",Y._url),re=Y._query,delete Y._url,delete Y._query,Q=f.apiClient.request({path:J,queryParams:re,body:JSON.stringify(Y),httpMethod:"POST",httpOptions:null===(k=s.config)||void 0===k?void 0:k.httpOptions,abortSignal:null===(H=s.config)||void 0===H?void 0:H.abortSignal}).then(fe=>fe.json()),Q.then(fe=>fe)}})()}get(s){var f=this;return(0,L.A)(function*(){var _,w,k,H;let Q,J="",re={};if(f.apiClient.isVertexAI()){const Y=function Yn(a,s){const f={},_=m(s,["name"]);return null!=_&&v(f,["_url","name"],lo(a,_)),f}(f.apiClient,s);return J=ee("{name}",Y._url),re=Y._query,delete Y._url,delete Y._query,Q=f.apiClient.request({path:J,queryParams:re,body:JSON.stringify(Y),httpMethod:"GET",httpOptions:null===(_=s.config)||void 0===_?void 0:_.httpOptions,abortSignal:null===(w=s.config)||void 0===w?void 0:w.abortSignal}).then(fe=>fe.json()),Q.then(fe=>fe)}{const Y=function $n(a,s){const f={},_=m(s,["name"]);return null!=_&&v(f,["_url","name"],lo(a,_)),f}(f.apiClient,s);return J=ee("{name}",Y._url),re=Y._query,delete Y._url,delete Y._query,Q=f.apiClient.request({path:J,queryParams:re,body:JSON.stringify(Y),httpMethod:"GET",httpOptions:null===(k=s.config)||void 0===k?void 0:k.httpOptions,abortSignal:null===(H=s.config)||void 0===H?void 0:H.abortSignal}).then(fe=>fe.json()),Q.then(fe=>fe)}})()}delete(s){var f=this;return(0,L.A)(function*(){var _,w,k,H;let Q,J="",re={};if(f.apiClient.isVertexAI()){const Y=function qt(a,s){const f={},_=m(s,["name"]);return null!=_&&v(f,["_url","name"],lo(a,_)),f}(f.apiClient,s);return J=ee("{name}",Y._url),re=Y._query,delete Y._url,delete Y._query,Q=f.apiClient.request({path:J,queryParams:re,body:JSON.stringify(Y),httpMethod:"DELETE",httpOptions:null===(_=s.config)||void 0===_?void 0:_.httpOptions,abortSignal:null===(w=s.config)||void 0===w?void 0:w.abortSignal}).then(fe=>fe.json().then($e=>{const Ne=$e;return Ne.sdkHttpResponse={headers:fe.headers},Ne})),Q.then(fe=>{const $e=function mn(a){const s={},f=m(a,["sdkHttpResponse"]);return null!=f&&v(s,["sdkHttpResponse"],f),s}(fe),Ne=new nr;return Object.assign(Ne,$e),Ne})}{const Y=function Xt(a,s){const f={},_=m(s,["name"]);return null!=_&&v(f,["_url","name"],lo(a,_)),f}(f.apiClient,s);return J=ee("{name}",Y._url),re=Y._query,delete Y._url,delete Y._query,Q=f.apiClient.request({path:J,queryParams:re,body:JSON.stringify(Y),httpMethod:"DELETE",httpOptions:null===(k=s.config)||void 0===k?void 0:k.httpOptions,abortSignal:null===(H=s.config)||void 0===H?void 0:H.abortSignal}).then(fe=>fe.json().then($e=>{const Ne=$e;return Ne.sdkHttpResponse={headers:fe.headers},Ne})),Q.then(fe=>{const $e=function sn(a){const s={},f=m(a,["sdkHttpResponse"]);return null!=f&&v(s,["sdkHttpResponse"],f),s}(fe),Ne=new nr;return Object.assign(Ne,$e),Ne})}})()}update(s){var f=this;return(0,L.A)(function*(){var _,w,k,H;let Q,J="",re={};if(f.apiClient.isVertexAI()){const Y=function wl(a,s){const f={},_=m(s,["name"]);null!=_&&v(f,["_url","name"],lo(a,_));const w=m(s,["config"]);return null!=w&&function _l(a,s){const _=m(a,["ttl"]);void 0!==s&&null!=_&&v(s,["ttl"],_);const w=m(a,["expireTime"]);void 0!==s&&null!=w&&v(s,["expireTime"],w)}(w,f),f}(f.apiClient,s);return J=ee("{name}",Y._url),re=Y._query,delete Y._url,delete Y._query,Q=f.apiClient.request({path:J,queryParams:re,body:JSON.stringify(Y),httpMethod:"PATCH",httpOptions:null===(_=s.config)||void 0===_?void 0:_.httpOptions,abortSignal:null===(w=s.config)||void 0===w?void 0:w.abortSignal}).then(fe=>fe.json()),Q.then(fe=>fe)}{const Y=function kl(a,s){const f={},_=m(s,["name"]);null!=_&&v(f,["_url","name"],lo(a,_));const w=m(s,["config"]);return null!=w&&function al(a,s){const _=m(a,["ttl"]);void 0!==s&&null!=_&&v(s,["ttl"],_);const w=m(a,["expireTime"]);void 0!==s&&null!=w&&v(s,["expireTime"],w)}(w,f),f}(f.apiClient,s);return J=ee("{name}",Y._url),re=Y._query,delete Y._url,delete Y._query,Q=f.apiClient.request({path:J,queryParams:re,body:JSON.stringify(Y),httpMethod:"PATCH",httpOptions:null===(k=s.config)||void 0===k?void 0:k.httpOptions,abortSignal:null===(H=s.config)||void 0===H?void 0:H.abortSignal}).then(fe=>fe.json()),Q.then(fe=>fe)}})()}listInternal(s){var f=this;return(0,L.A)(function*(){var _,w,k,H;let Q,J="",re={};if(f.apiClient.isVertexAI()){const Y=function uo(a){const s={},f=m(a,["config"]);return null!=f&&function Gr(a,s){const _=m(a,["pageSize"]);void 0!==s&&null!=_&&v(s,["_query","pageSize"],_);const w=m(a,["pageToken"]);void 0!==s&&null!=w&&v(s,["_query","pageToken"],w)}(f,s),s}(s);return J=ee("cachedContents",Y._url),re=Y._query,delete Y._url,delete Y._query,Q=f.apiClient.request({path:J,queryParams:re,body:JSON.stringify(Y),httpMethod:"GET",httpOptions:null===(_=s.config)||void 0===_?void 0:_.httpOptions,abortSignal:null===(w=s.config)||void 0===w?void 0:w.abortSignal}).then(fe=>fe.json().then($e=>{const Ne=$e;return Ne.sdkHttpResponse={headers:fe.headers},Ne})),Q.then(fe=>{const $e=function xo(a){const s={},f=m(a,["sdkHttpResponse"]);null!=f&&v(s,["sdkHttpResponse"],f);const _=m(a,["nextPageToken"]);null!=_&&v(s,["nextPageToken"],_);const w=m(a,["cachedContents"]);if(null!=w){let k=w;Array.isArray(k)&&(k=k.map(H=>H)),v(s,["cachedContents"],k)}return s}(fe),Ne=new _r;return Object.assign(Ne,$e),Ne})}{const Y=function ni(a){const s={},f=m(a,["config"]);return null!=f&&function Ir(a,s){const _=m(a,["pageSize"]);void 0!==s&&null!=_&&v(s,["_query","pageSize"],_);const w=m(a,["pageToken"]);void 0!==s&&null!=w&&v(s,["_query","pageToken"],w)}(f,s),s}(s);return J=ee("cachedContents",Y._url),re=Y._query,delete Y._url,delete Y._query,Q=f.apiClient.request({path:J,queryParams:re,body:JSON.stringify(Y),httpMethod:"GET",httpOptions:null===(k=s.config)||void 0===k?void 0:k.httpOptions,abortSignal:null===(H=s.config)||void 0===H?void 0:H.abortSignal}).then(fe=>fe.json().then($e=>{const Ne=$e;return Ne.sdkHttpResponse={headers:fe.headers},Ne})),Q.then(fe=>{const $e=function Yr(a){const s={},f=m(a,["sdkHttpResponse"]);null!=f&&v(s,["sdkHttpResponse"],f);const _=m(a,["nextPageToken"]);null!=_&&v(s,["nextPageToken"],_);const w=m(a,["cachedContents"]);if(null!=w){let k=w;Array.isArray(k)&&(k=k.map(H=>H)),v(s,["cachedContents"],k)}return s}(fe),Ne=new _r;return Object.assign(Ne,$e),Ne})}})()}}function Jo(a,s){var f={};for(var _ in a)Object.prototype.hasOwnProperty.call(a,_)&&s.indexOf(_)<0&&(f[_]=a[_]);if(null!=a&&"function"==typeof Object.getOwnPropertySymbols){var w=0;for(_=Object.getOwnPropertySymbols(a);w<_.length;w++)s.indexOf(_[w])<0&&Object.prototype.propertyIsEnumerable.call(a,_[w])&&(f[_[w]]=a[_[w]])}return f}function Qn(a){return this instanceof Qn?(this.v=a,this):new Qn(a)}function Is(a,s,f){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var w,_=f.apply(a,s||[]),k=[];return w=Object.create(("function"==typeof AsyncIterator?AsyncIterator:Object).prototype),Q("next"),Q("throw"),Q("return",function H(Ne){return function(vn){return Promise.resolve(vn).then(Ne,fe)}}),w[Symbol.asyncIterator]=function(){return this},w;function Q(Ne,vn){_[Ne]&&(w[Ne]=function(rr){return new Promise(function(Rn,pr){k.push([Ne,rr,Rn,pr])>1||J(Ne,rr)})},vn&&(w[Ne]=vn(w[Ne])))}function J(Ne,vn){try{!function re(Ne){Ne.value instanceof Qn?Promise.resolve(Ne.value.v).then(Y,fe):$e(k[0][2],Ne)}(_[Ne](vn))}catch(rr){$e(k[0][3],rr)}}function Y(Ne){J("next",Ne)}function fe(Ne){J("throw",Ne)}function $e(Ne,vn){Ne(vn),k.shift(),k.length&&J(k[0][0],k[0][1])}}function cs(a){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var f,s=a[Symbol.asyncIterator];return s?s.call(a):(a=function Tl(a){var s="function"==typeof Symbol&&Symbol.iterator,f=s&&a[s],_=0;if(f)return f.call(a);if(a&&"number"==typeof a.length)return{next:function(){return a&&_>=a.length&&(a=void 0),{value:a&&a[_++],done:!a}}};throw new TypeError(s?"Object is not iterable.":"Symbol.iterator is not defined.")}(a),f={},_("next"),_("throw"),_("return"),f[Symbol.asyncIterator]=function(){return this},f);function _(k){f[k]=a[k]&&function(H){return new Promise(function(Q,J){!function w(k,H,Q,J){Promise.resolve(J).then(function(re){k({value:re,done:Q})},H)}(Q,J,(H=a[k](H)).done,H.value)})}}}function Hl(a){var s;if(null==a.candidates||0===a.candidates.length)return!1;const f=null===(s=a.candidates[0])||void 0===s?void 0:s.content;return void 0!==f&&jl(f)}function jl(a){if(void 0===a.parts||0===a.parts.length)return!1;for(const s of a.parts)if(void 0===s||0===Object.keys(s).length)return!1;return!0}function Ya(a){if(void 0===a||0===a.length)return[];const s=[],f=a.length;let _=0;for(;_<f;)if("user"===a[_].role)s.push(a[_]),_++;else{const w=[];let k=!0;for(;_<f&&"model"===a[_].role;)w.push(a[_]),k&&!jl(a[_])&&(k=!1),_++;k?s.push(...w):s.pop()}return s}"function"==typeof SuppressedError&&SuppressedError;class ll{constructor(s,f){this.modelsModule=s,this.apiClient=f}create(s){return new $l(this.apiClient,this.modelsModule,s.model,s.config,structuredClone(s.history))}}class $l{constructor(s,f,_,w={},k=[]){this.apiClient=s,this.modelsModule=f,this.model=_,this.config=w,this.history=k,this.sendPromise=Promise.resolve(),function Gl(a){if(0!==a.length)for(const s of a)if("user"!==s.role&&"model"!==s.role)throw new Error(`Role must be user or model, but got ${s.role}.`)}(k)}sendMessage(s){var f=this;return(0,L.A)(function*(){var _;yield f.sendPromise;const w=to(s.message),k=f.modelsModule.generateContent({model:f.model,contents:f.getHistory(!0).concat(w),config:null!==(_=s.config)&&void 0!==_?_:f.config});return f.sendPromise=(0,L.A)(function*(){var H,Q,J;const re=yield k,Y=null===(Q=null===(H=re.candidates)||void 0===H?void 0:H[0])||void 0===Q?void 0:Q.content,fe=re.automaticFunctionCallingHistory,$e=f.getHistory(!0).length;let Ne=[];null!=fe&&(Ne=null!==(J=fe.slice($e))&&void 0!==J?J:[]),f.recordHistory(w,Y?[Y]:[],Ne)})(),yield f.sendPromise.catch(()=>{f.sendPromise=Promise.resolve()}),k})()}sendMessageStream(s){var f=this;return(0,L.A)(function*(){var _;yield f.sendPromise;const w=to(s.message),k=f.modelsModule.generateContentStream({model:f.model,contents:f.getHistory(!0).concat(w),config:null!==(_=s.config)&&void 0!==_?_:f.config});f.sendPromise=k.then(()=>{}).catch(()=>{});const H=yield k;return f.processStreamResponse(H,w)})()}getHistory(s=!1){const f=s?Ya(this.history):this.history;return structuredClone(f)}processStreamResponse(s,f){return Is(this,arguments,function*(){var w,k,H,J,re;const Y=[];try{for(var Ne,fe=!0,$e=cs(s);!(w=(Ne=yield Qn($e.next())).done);fe=!0){fe=!1;const vn=Ne.value;if(Hl(vn)){const rr=null===(re=null===(J=vn.candidates)||void 0===J?void 0:J[0])||void 0===re?void 0:re.content;void 0!==rr&&Y.push(rr)}yield yield Qn(vn)}}catch(vn){k={error:vn}}finally{try{!fe&&!w&&(H=$e.return)&&(yield Qn(H.call($e)))}finally{if(k)throw k.error}}this.recordHistory(f,Y)})}recordHistory(s,f,_){let w=[];f.length>0&&f.every(k=>void 0!==k.role)?w=f:w.push({role:"model",parts:[]}),_&&_.length>0?this.history.push(...Ya(_)):this.history.push(s),this.history.push(...w)}}class tu extends Error{constructor(s){super(s.message),this.name="ApiError",this.status=s.status,Object.setPrototypeOf(this,tu.prototype)}}class yl extends Ae{constructor(s){var f;super(),f=this,this.apiClient=s,this.list=(0,L.A)(function*(_={}){return new St(_t.PAGED_ITEM_FILES,w=>f.listInternal(w),yield f.listInternal(_),_)})}upload(s){var f=this;return(0,L.A)(function*(){if(f.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files. You can share files through a GCS bucket.");return f.apiClient.uploadFile(s.file,s.config).then(_=>_)})()}download(s){var f=this;return(0,L.A)(function*(){yield f.apiClient.downloadFile(s)})()}listInternal(s){var f=this;return(0,L.A)(function*(){var _,w;let k,H="",Q={};if(f.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const J=function Xo(a){const s={},f=m(a,["config"]);return null!=f&&function ms(a,s){const _=m(a,["pageSize"]);void 0!==s&&null!=_&&v(s,["_query","pageSize"],_);const w=m(a,["pageToken"]);void 0!==s&&null!=w&&v(s,["_query","pageToken"],w)}(f,s),s}(s);return H=ee("files",J._url),Q=J._query,delete J._url,delete J._query,k=f.apiClient.request({path:H,queryParams:Q,body:JSON.stringify(J),httpMethod:"GET",httpOptions:null===(_=s.config)||void 0===_?void 0:_.httpOptions,abortSignal:null===(w=s.config)||void 0===w?void 0:w.abortSignal}).then(re=>re.json().then(Y=>{const fe=Y;return fe.sdkHttpResponse={headers:re.headers},fe})),k.then(re=>{const Y=function ul(a){const s={},f=m(a,["sdkHttpResponse"]);null!=f&&v(s,["sdkHttpResponse"],f);const _=m(a,["nextPageToken"]);null!=_&&v(s,["nextPageToken"],_);const w=m(a,["files"]);if(null!=w){let k=w;Array.isArray(k)&&(k=k.map(H=>H)),v(s,["files"],k)}return s}(re),fe=new To;return Object.assign(fe,Y),fe})}})()}createInternal(s){var f=this;return(0,L.A)(function*(){var _,w;let k,H="",Q={};if(f.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const J=function nu(a){const s={},f=m(a,["file"]);return null!=f&&v(s,["file"],f),s}(s);return H=ee("upload/v1beta/files",J._url),Q=J._query,delete J._url,delete J._query,k=f.apiClient.request({path:H,queryParams:Q,body:JSON.stringify(J),httpMethod:"POST",httpOptions:null===(_=s.config)||void 0===_?void 0:_.httpOptions,abortSignal:null===(w=s.config)||void 0===w?void 0:w.abortSignal}).then(re=>re.json()),k.then(re=>{const Y=function Pl(a){const s={},f=m(a,["sdkHttpResponse"]);return null!=f&&v(s,["sdkHttpResponse"],f),s}(re),fe=new eo;return Object.assign(fe,Y),fe})}})()}get(s){var f=this;return(0,L.A)(function*(){var _,w;let k,H="",Q={};if(f.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const J=function ga(a){const s={},f=m(a,["name"]);return null!=f&&v(s,["_url","file"],La(f)),s}(s);return H=ee("files/{file}",J._url),Q=J._query,delete J._url,delete J._query,k=f.apiClient.request({path:H,queryParams:Q,body:JSON.stringify(J),httpMethod:"GET",httpOptions:null===(_=s.config)||void 0===_?void 0:_.httpOptions,abortSignal:null===(w=s.config)||void 0===w?void 0:w.abortSignal}).then(re=>re.json()),k.then(re=>re)}})()}delete(s){var f=this;return(0,L.A)(function*(){var _,w;let k,H="",Q={};if(f.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const J=function vl(a){const s={},f=m(a,["name"]);return null!=f&&v(s,["_url","file"],La(f)),s}(s);return H=ee("files/{file}",J._url),Q=J._query,delete J._url,delete J._query,k=f.apiClient.request({path:H,queryParams:Q,body:JSON.stringify(J),httpMethod:"DELETE",httpOptions:null===(_=s.config)||void 0===_?void 0:_.httpOptions,abortSignal:null===(w=s.config)||void 0===w?void 0:w.abortSignal}).then(re=>re.json().then(Y=>{const fe=Y;return fe.sdkHttpResponse={headers:re.headers},fe})),k.then(re=>{const Y=function Fl(a){const s={},f=m(a,["sdkHttpResponse"]);return null!=f&&v(s,["sdkHttpResponse"],f),s}(re),fe=new ho;return Object.assign(fe,Y),fe})}})()}}function ru(a){const s={},f=m(a,["data"]);if(null!=f&&v(s,["data"],f),void 0!==m(a,["displayName"]))throw new Error("displayName parameter is not supported in Gemini API.");const _=m(a,["mimeType"]);return null!=_&&v(s,["mimeType"],_),s}function Uu(a,s){const _=m(a,["generationConfig"]);void 0!==s&&null!=_&&v(s,["setup","generationConfig"],_);const w=m(a,["responseModalities"]);void 0!==s&&null!=w&&v(s,["setup","generationConfig","responseModalities"],w);const k=m(a,["temperature"]);void 0!==s&&null!=k&&v(s,["setup","generationConfig","temperature"],k);const H=m(a,["topP"]);void 0!==s&&null!=H&&v(s,["setup","generationConfig","topP"],H);const Q=m(a,["topK"]);void 0!==s&&null!=Q&&v(s,["setup","generationConfig","topK"],Q);const J=m(a,["maxOutputTokens"]);void 0!==s&&null!=J&&v(s,["setup","generationConfig","maxOutputTokens"],J);const re=m(a,["mediaResolution"]);void 0!==s&&null!=re&&v(s,["setup","generationConfig","mediaResolution"],re);const Y=m(a,["seed"]);void 0!==s&&null!=Y&&v(s,["setup","generationConfig","seed"],Y);const fe=m(a,["speechConfig"]);void 0!==s&&null!=fe&&v(s,["setup","generationConfig","speechConfig"],Ls(fe));const $e=m(a,["thinkingConfig"]);void 0!==s&&null!=$e&&v(s,["setup","generationConfig","thinkingConfig"],$e);const Ne=m(a,["enableAffectiveDialog"]);void 0!==s&&null!=Ne&&v(s,["setup","generationConfig","enableAffectiveDialog"],Ne);const vn=m(a,["systemInstruction"]);void 0!==s&&null!=vn&&v(s,["setup","systemInstruction"],function xa(a){const s={},f=m(a,["parts"]);if(null!=f){let w=f;Array.isArray(w)&&(w=w.map(k=>function W(a){const s={},f=m(a,["mediaResolution"]);null!=f&&v(s,["mediaResolution"],f);const _=m(a,["codeExecutionResult"]);null!=_&&v(s,["codeExecutionResult"],_);const w=m(a,["executableCode"]);null!=w&&v(s,["executableCode"],w);const k=m(a,["fileData"]);null!=k&&v(s,["fileData"],function vu(a){const s={};if(void 0!==m(a,["displayName"]))throw new Error("displayName parameter is not supported in Gemini API.");const f=m(a,["fileUri"]);null!=f&&v(s,["fileUri"],f);const _=m(a,["mimeType"]);return null!=_&&v(s,["mimeType"],_),s}(k));const H=m(a,["functionCall"]);null!=H&&v(s,["functionCall"],function bu(a){const s={},f=m(a,["id"]);null!=f&&v(s,["id"],f);const _=m(a,["args"]);null!=_&&v(s,["args"],_);const w=m(a,["name"]);if(null!=w&&v(s,["name"],w),void 0!==m(a,["partialArgs"]))throw new Error("partialArgs parameter is not supported in Gemini API.");if(void 0!==m(a,["willContinue"]))throw new Error("willContinue parameter is not supported in Gemini API.");return s}(H));const Q=m(a,["functionResponse"]);null!=Q&&v(s,["functionResponse"],Q);const J=m(a,["inlineData"]);null!=J&&v(s,["inlineData"],ru(J));const re=m(a,["text"]);null!=re&&v(s,["text"],re);const Y=m(a,["thought"]);null!=Y&&v(s,["thought"],Y);const fe=m(a,["thoughtSignature"]);null!=fe&&v(s,["thoughtSignature"],fe);const $e=m(a,["videoMetadata"]);return null!=$e&&v(s,["videoMetadata"],$e),s}(k))),v(s,["parts"],w)}const _=m(a,["role"]);return null!=_&&v(s,["role"],_),s}(to(vn)));const rr=m(a,["tools"]);if(void 0!==s&&null!=rr){let vi=$o(rr);Array.isArray(vi)&&(vi=vi.map(jo=>function z(a){const s={};if(void 0!==m(a,["retrieval"]))throw new Error("retrieval parameter is not supported in Gemini API.");const f=m(a,["computerUse"]);null!=f&&v(s,["computerUse"],f);const _=m(a,["fileSearch"]);null!=_&&v(s,["fileSearch"],_);const w=m(a,["codeExecution"]);if(null!=w&&v(s,["codeExecution"],w),void 0!==m(a,["enterpriseWebSearch"]))throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const k=m(a,["functionDeclarations"]);if(null!=k){let Y=k;Array.isArray(Y)&&(Y=Y.map(fe=>fe)),v(s,["functionDeclarations"],Y)}const H=m(a,["googleMaps"]);null!=H&&v(s,["googleMaps"],function _c(a){const s={};if(void 0!==m(a,["authConfig"]))throw new Error("authConfig parameter is not supported in Gemini API.");const f=m(a,["enableWidget"]);return null!=f&&v(s,["enableWidget"],f),s}(H));const Q=m(a,["googleSearch"]);null!=Q&&v(s,["googleSearch"],function ic(a){const s={};if(void 0!==m(a,["excludeDomains"]))throw new Error("excludeDomains parameter is not supported in Gemini API.");if(void 0!==m(a,["blockingConfidence"]))throw new Error("blockingConfidence parameter is not supported in Gemini API.");const f=m(a,["timeRangeFilter"]);return null!=f&&v(s,["timeRangeFilter"],f),s}(Q));const J=m(a,["googleSearchRetrieval"]);null!=J&&v(s,["googleSearchRetrieval"],J);const re=m(a,["urlContext"]);return null!=re&&v(s,["urlContext"],re),s}(ca(jo)))),v(s,["setup","tools"],vi)}const Rn=m(a,["sessionResumption"]);void 0!==s&&null!=Rn&&v(s,["setup","sessionResumption"],function V(a){const s={},f=m(a,["handle"]);if(null!=f&&v(s,["handle"],f),void 0!==m(a,["transparent"]))throw new Error("transparent parameter is not supported in Gemini API.");return s}(Rn));const pr=m(a,["inputAudioTranscription"]);void 0!==s&&null!=pr&&v(s,["setup","inputAudioTranscription"],pr);const cr=m(a,["outputAudioTranscription"]);void 0!==s&&null!=cr&&v(s,["setup","outputAudioTranscription"],cr);const $r=m(a,["realtimeInputConfig"]);void 0!==s&&null!=$r&&v(s,["setup","realtimeInputConfig"],$r);const ri=m(a,["contextWindowCompression"]);void 0!==s&&null!=ri&&v(s,["setup","contextWindowCompression"],ri);const Ti=m(a,["proactivity"]);if(void 0!==s&&null!=Ti&&v(s,["setup","proactivity"],Ti),void 0!==m(a,["explicitVadSignal"]))throw new Error("explicitVadSignal parameter is not supported in Gemini API.");return{}}function _s(a){const s={},f=m(a,["media"]);if(null!=f){let re=Ln(f);Array.isArray(re)&&(re=re.map(Y=>ru(Y))),v(s,["mediaChunks"],re)}const _=m(a,["audio"]);null!=_&&v(s,["audio"],ru(bi(_)));const w=m(a,["audioStreamEnd"]);null!=w&&v(s,["audioStreamEnd"],w);const k=m(a,["video"]);null!=k&&v(s,["video"],ru(yi(k)));const H=m(a,["text"]);null!=H&&v(s,["text"],H);const Q=m(a,["activityStart"]);null!=Q&&v(s,["activityStart"],Q);const J=m(a,["activityEnd"]);return null!=J&&v(s,["activityEnd"],J),s}function Zo(a){const s={},f=m(a,["media"]);if(null!=f){let re=Ln(f);Array.isArray(re)&&(re=re.map(Y=>Y)),v(s,["mediaChunks"],re)}const _=m(a,["audio"]);null!=_&&v(s,["audio"],bi(_));const w=m(a,["audioStreamEnd"]);null!=w&&v(s,["audioStreamEnd"],w);const k=m(a,["video"]);null!=k&&v(s,["video"],yi(k));const H=m(a,["text"]);null!=H&&v(s,["text"],H);const Q=m(a,["activityStart"]);null!=Q&&v(s,["activityStart"],Q);const J=m(a,["activityEnd"]);return null!=J&&v(s,["activityEnd"],J),s}function ma(a){const s={},f=m(a,["parts"]);if(null!=f){let w=f;Array.isArray(w)&&(w=w.map(k=>function A(a){const s={},f=m(a,["mediaResolution"]);null!=f&&v(s,["mediaResolution"],f);const _=m(a,["codeExecutionResult"]);null!=_&&v(s,["codeExecutionResult"],_);const w=m(a,["executableCode"]);null!=w&&v(s,["executableCode"],w);const k=m(a,["fileData"]);null!=k&&v(s,["fileData"],function lu(a){const s={};if(void 0!==m(a,["displayName"]))throw new Error("displayName parameter is not supported in Gemini API.");const f=m(a,["fileUri"]);null!=f&&v(s,["fileUri"],f);const _=m(a,["mimeType"]);return null!=_&&v(s,["mimeType"],_),s}(k));const H=m(a,["functionCall"]);null!=H&&v(s,["functionCall"],function Ja(a){const s={},f=m(a,["id"]);null!=f&&v(s,["id"],f);const _=m(a,["args"]);null!=_&&v(s,["args"],_);const w=m(a,["name"]);if(null!=w&&v(s,["name"],w),void 0!==m(a,["partialArgs"]))throw new Error("partialArgs parameter is not supported in Gemini API.");if(void 0!==m(a,["willContinue"]))throw new Error("willContinue parameter is not supported in Gemini API.");return s}(H));const Q=m(a,["functionResponse"]);null!=Q&&v(s,["functionResponse"],Q);const J=m(a,["inlineData"]);null!=J&&v(s,["inlineData"],function Pe(a){const s={},f=m(a,["data"]);if(null!=f&&v(s,["data"],f),void 0!==m(a,["displayName"]))throw new Error("displayName parameter is not supported in Gemini API.");const _=m(a,["mimeType"]);return null!=_&&v(s,["mimeType"],_),s}(J));const re=m(a,["text"]);null!=re&&v(s,["text"],re);const Y=m(a,["thought"]);null!=Y&&v(s,["thought"],Y);const fe=m(a,["thoughtSignature"]);null!=fe&&v(s,["thoughtSignature"],fe);const $e=m(a,["videoMetadata"]);return null!=$e&&v(s,["videoMetadata"],$e),s}(k))),v(s,["parts"],w)}const _=m(a,["role"]);return null!=_&&v(s,["role"],_),s}function Ol(a,s){const f={},_=m(s,["model"]);null!=_&&v(f,["_url","model"],xt(a,_));const w=m(s,["contents"]);if(null!=w){let H=ao(w);Array.isArray(H)&&(H=H.map(Q=>ma(Q))),v(f,["contents"],H)}const k=m(s,["config"]);return null!=k&&v(f,["generationConfig"],function Hu(a,s,f){const _={},w=m(s,["systemInstruction"]);void 0!==f&&null!=w&&v(f,["systemInstruction"],ma(to(w)));const k=m(s,["temperature"]);null!=k&&v(_,["temperature"],k);const H=m(s,["topP"]);null!=H&&v(_,["topP"],H);const Q=m(s,["topK"]);null!=Q&&v(_,["topK"],Q);const J=m(s,["candidateCount"]);null!=J&&v(_,["candidateCount"],J);const re=m(s,["maxOutputTokens"]);null!=re&&v(_,["maxOutputTokens"],re);const Y=m(s,["stopSequences"]);null!=Y&&v(_,["stopSequences"],Y);const fe=m(s,["responseLogprobs"]);null!=fe&&v(_,["responseLogprobs"],fe);const $e=m(s,["logprobs"]);null!=$e&&v(_,["logprobs"],$e);const Ne=m(s,["presencePenalty"]);null!=Ne&&v(_,["presencePenalty"],Ne);const vn=m(s,["frequencyPenalty"]);null!=vn&&v(_,["frequencyPenalty"],vn);const rr=m(s,["seed"]);null!=rr&&v(_,["seed"],rr);const Rn=m(s,["responseMimeType"]);null!=Rn&&v(_,["responseMimeType"],Rn);const pr=m(s,["responseSchema"]);null!=pr&&v(_,["responseSchema"],bo(pr));const cr=m(s,["responseJsonSchema"]);if(null!=cr&&v(_,["responseJsonSchema"],cr),void 0!==m(s,["routingConfig"]))throw new Error("routingConfig parameter is not supported in Gemini API.");if(void 0!==m(s,["modelSelectionConfig"]))throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const $r=m(s,["safetySettings"]);if(void 0!==f&&null!=$r){let sa=$r;Array.isArray(sa)&&(sa=sa.map(Zu=>function Cr(a){const s={},f=m(a,["category"]);if(null!=f&&v(s,["category"],f),void 0!==m(a,["method"]))throw new Error("method parameter is not supported in Gemini API.");const _=m(a,["threshold"]);return null!=_&&v(s,["threshold"],_),s}(Zu))),v(f,["safetySettings"],sa)}const ri=m(s,["tools"]);if(void 0!==f&&null!=ri){let sa=$o(ri);Array.isArray(sa)&&(sa=sa.map(Zu=>function wa(a){const s={};if(void 0!==m(a,["retrieval"]))throw new Error("retrieval parameter is not supported in Gemini API.");const f=m(a,["computerUse"]);null!=f&&v(s,["computerUse"],f);const _=m(a,["fileSearch"]);null!=_&&v(s,["fileSearch"],_);const w=m(a,["codeExecution"]);if(null!=w&&v(s,["codeExecution"],w),void 0!==m(a,["enterpriseWebSearch"]))throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const k=m(a,["functionDeclarations"]);if(null!=k){let Y=k;Array.isArray(Y)&&(Y=Y.map(fe=>fe)),v(s,["functionDeclarations"],Y)}const H=m(a,["googleMaps"]);null!=H&&v(s,["googleMaps"],function ku(a){const s={};if(void 0!==m(a,["authConfig"]))throw new Error("authConfig parameter is not supported in Gemini API.");const f=m(a,["enableWidget"]);return null!=f&&v(s,["enableWidget"],f),s}(H));const Q=m(a,["googleSearch"]);null!=Q&&v(s,["googleSearch"],function du(a){const s={};if(void 0!==m(a,["excludeDomains"]))throw new Error("excludeDomains parameter is not supported in Gemini API.");if(void 0!==m(a,["blockingConfidence"]))throw new Error("blockingConfidence parameter is not supported in Gemini API.");const f=m(a,["timeRangeFilter"]);return null!=f&&v(s,["timeRangeFilter"],f),s}(Q));const J=m(a,["googleSearchRetrieval"]);null!=J&&v(s,["googleSearchRetrieval"],J);const re=m(a,["urlContext"]);return null!=re&&v(s,["urlContext"],re),s}(ca(Zu)))),v(f,["tools"],sa)}const Ti=m(s,["toolConfig"]);if(void 0!==f&&null!=Ti&&v(f,["toolConfig"],function Ga(a){const s={},f=m(a,["retrievalConfig"]);null!=f&&v(s,["retrievalConfig"],f);const _=m(a,["functionCallingConfig"]);return null!=_&&v(s,["functionCallingConfig"],function hl(a){const s={},f=m(a,["allowedFunctionNames"]);null!=f&&v(s,["allowedFunctionNames"],f);const _=m(a,["mode"]);if(null!=_&&v(s,["mode"],_),void 0!==m(a,["streamFunctionCallArguments"]))throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return s}(_)),s}(Ti)),void 0!==m(s,["labels"]))throw new Error("labels parameter is not supported in Gemini API.");const vi=m(s,["cachedContent"]);void 0!==f&&null!=vi&&v(f,["cachedContent"],lo(a,vi));const jo=m(s,["responseModalities"]);null!=jo&&v(_,["responseModalities"],jo);const $s=m(s,["mediaResolution"]);null!=$s&&v(_,["mediaResolution"],$s);const za=m(s,["speechConfig"]);if(null!=za&&v(_,["speechConfig"],So(za)),void 0!==m(s,["audioTimestamp"]))throw new Error("audioTimestamp parameter is not supported in Gemini API.");const Ni=m(s,["thinkingConfig"]);null!=Ni&&v(_,["thinkingConfig"],Ni);const Mo=m(s,["imageConfig"]);null!=Mo&&v(_,["imageConfig"],function Ec(a){const s={},f=m(a,["aspectRatio"]);null!=f&&v(s,["aspectRatio"],f);const _=m(a,["imageSize"]);if(null!=_&&v(s,["imageSize"],_),void 0!==m(a,["personGeneration"]))throw new Error("personGeneration parameter is not supported in Gemini API.");if(void 0!==m(a,["outputMimeType"]))throw new Error("outputMimeType parameter is not supported in Gemini API.");if(void 0!==m(a,["outputCompressionQuality"]))throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return s}(Mo));const Vl=m(s,["enableEnhancedCivicAnswers"]);return null!=Vl&&v(_,["enableEnhancedCivicAnswers"],Vl),_}(a,k,f)),f}function oc(a,s){const f={},_=m(s,["model"]);null!=_&&v(f,["_url","model"],xt(a,_));const w=m(s,["contents"]);if(null!=w){let H=ao(w);Array.isArray(H)&&(H=H.map(Q=>Q)),v(f,["contents"],H)}const k=m(s,["config"]);return null!=k&&v(f,["generationConfig"],function wu(a,s,f){const _={},w=m(s,["systemInstruction"]);void 0!==f&&null!=w&&v(f,["systemInstruction"],to(w));const k=m(s,["temperature"]);null!=k&&v(_,["temperature"],k);const H=m(s,["topP"]);null!=H&&v(_,["topP"],H);const Q=m(s,["topK"]);null!=Q&&v(_,["topK"],Q);const J=m(s,["candidateCount"]);null!=J&&v(_,["candidateCount"],J);const re=m(s,["maxOutputTokens"]);null!=re&&v(_,["maxOutputTokens"],re);const Y=m(s,["stopSequences"]);null!=Y&&v(_,["stopSequences"],Y);const fe=m(s,["responseLogprobs"]);null!=fe&&v(_,["responseLogprobs"],fe);const $e=m(s,["logprobs"]);null!=$e&&v(_,["logprobs"],$e);const Ne=m(s,["presencePenalty"]);null!=Ne&&v(_,["presencePenalty"],Ne);const vn=m(s,["frequencyPenalty"]);null!=vn&&v(_,["frequencyPenalty"],vn);const rr=m(s,["seed"]);null!=rr&&v(_,["seed"],rr);const Rn=m(s,["responseMimeType"]);null!=Rn&&v(_,["responseMimeType"],Rn);const pr=m(s,["responseSchema"]);null!=pr&&v(_,["responseSchema"],bo(pr));const cr=m(s,["responseJsonSchema"]);null!=cr&&v(_,["responseJsonSchema"],cr);const $r=m(s,["routingConfig"]);null!=$r&&v(_,["routingConfig"],$r);const ri=m(s,["modelSelectionConfig"]);null!=ri&&v(_,["modelConfig"],ri);const Ti=m(s,["safetySettings"]);if(void 0!==f&&null!=Ti){let Ic=Ti;Array.isArray(Ic)&&(Ic=Ic.map(Ch=>Ch)),v(f,["safetySettings"],Ic)}const vi=m(s,["tools"]);if(void 0!==f&&null!=vi){let Ic=$o(vi);Array.isArray(Ic)&&(Ic=Ic.map(Ch=>Nu(ca(Ch)))),v(f,["tools"],Ic)}const jo=m(s,["toolConfig"]);void 0!==f&&null!=jo&&v(f,["toolConfig"],jo);const $s=m(s,["labels"]);void 0!==f&&null!=$s&&v(f,["labels"],$s);const za=m(s,["cachedContent"]);void 0!==f&&null!=za&&v(f,["cachedContent"],lo(a,za));const Ni=m(s,["responseModalities"]);null!=Ni&&v(_,["responseModalities"],Ni);const Mo=m(s,["mediaResolution"]);null!=Mo&&v(_,["mediaResolution"],Mo);const Vl=m(s,["speechConfig"]);null!=Vl&&v(_,["speechConfig"],So(Vl));const sa=m(s,["audioTimestamp"]);null!=sa&&v(_,["audioTimestamp"],sa);const Zu=m(s,["thinkingConfig"]);null!=Zu&&v(_,["thinkingConfig"],Zu);const up=m(s,["imageConfig"]);if(null!=up&&v(_,["imageConfig"],function Ru(a){const s={},f=m(a,["aspectRatio"]);null!=f&&v(s,["aspectRatio"],f);const _=m(a,["imageSize"]);null!=_&&v(s,["imageSize"],_);const w=m(a,["personGeneration"]);null!=w&&v(s,["personGeneration"],w);const k=m(a,["outputMimeType"]);null!=k&&v(s,["imageOutputOptions","mimeType"],k);const H=m(a,["outputCompressionQuality"]);return null!=H&&v(s,["imageOutputOptions","compressionQuality"],H),s}(up)),void 0!==m(s,["enableEnhancedCivicAnswers"]))throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return _}(a,k,f)),f}function Tu(a){const s={},f=m(a,["sdkHttpResponse"]);null!=f&&v(s,["sdkHttpResponse"],f);const _=m(a,["candidates"]);if(null!=_){let J=_;Array.isArray(J)&&(J=J.map(re=>function vt(a){const s={},f=m(a,["content"]);null!=f&&v(s,["content"],f);const _=m(a,["citationMetadata"]);null!=_&&v(s,["citationMetadata"],function nn(a){const s={},f=m(a,["citationSources"]);if(null!=f){let _=f;Array.isArray(_)&&(_=_.map(w=>w)),v(s,["citations"],_)}return s}(_));const w=m(a,["tokenCount"]);null!=w&&v(s,["tokenCount"],w);const k=m(a,["finishReason"]);null!=k&&v(s,["finishReason"],k);const H=m(a,["avgLogprobs"]);null!=H&&v(s,["avgLogprobs"],H);const Q=m(a,["groundingMetadata"]);null!=Q&&v(s,["groundingMetadata"],Q);const J=m(a,["index"]);null!=J&&v(s,["index"],J);const re=m(a,["logprobsResult"]);null!=re&&v(s,["logprobsResult"],re);const Y=m(a,["safetyRatings"]);if(null!=Y){let $e=Y;Array.isArray($e)&&($e=$e.map(Ne=>Ne)),v(s,["safetyRatings"],$e)}const fe=m(a,["urlContextMetadata"]);return null!=fe&&v(s,["urlContextMetadata"],fe),s}(re))),v(s,["candidates"],J)}const w=m(a,["modelVersion"]);null!=w&&v(s,["modelVersion"],w);const k=m(a,["promptFeedback"]);null!=k&&v(s,["promptFeedback"],k);const H=m(a,["responseId"]);null!=H&&v(s,["responseId"],H);const Q=m(a,["usageMetadata"]);return null!=Q&&v(s,["usageMetadata"],Q),s}function Su(a){const s={},f=m(a,["sdkHttpResponse"]);null!=f&&v(s,["sdkHttpResponse"],f);const _=m(a,["candidates"]);if(null!=_){let re=_;Array.isArray(re)&&(re=re.map(Y=>Y)),v(s,["candidates"],re)}const w=m(a,["createTime"]);null!=w&&v(s,["createTime"],w);const k=m(a,["modelVersion"]);null!=k&&v(s,["modelVersion"],k);const H=m(a,["promptFeedback"]);null!=H&&v(s,["promptFeedback"],H);const Q=m(a,["responseId"]);null!=Q&&v(s,["responseId"],Q);const J=m(a,["usageMetadata"]);return null!=J&&v(s,["usageMetadata"],J),s}function Gu(a,s){const f={},_=m(s,["model"]);null!=_&&v(f,["_url","model"],xt(a,_));const w=m(s,["prompt"]);null!=w&&v(f,["instances[0]","prompt"],w);const k=m(s,["image"]);null!=k&&v(f,["instances[0]","image"],zu(k));const H=m(s,["video"]);null!=H&&v(f,["instances[0]","video"],fs(H));const Q=m(s,["source"]);null!=Q&&function uu(a,s){const _=m(a,["prompt"]);void 0!==s&&null!=_&&v(s,["instances[0]","prompt"],_);const w=m(a,["image"]);void 0!==s&&null!=w&&v(s,["instances[0]","image"],zu(w));const k=m(a,["video"]);void 0!==s&&null!=k&&v(s,["instances[0]","video"],fs(k))}(Q,f);const J=m(s,["config"]);return null!=J&&function Ha(a,s){const _=m(a,["numberOfVideos"]);if(void 0!==s&&null!=_&&v(s,["parameters","sampleCount"],_),void 0!==m(a,["outputGcsUri"]))throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(void 0!==m(a,["fps"]))throw new Error("fps parameter is not supported in Gemini API.");const w=m(a,["durationSeconds"]);if(void 0!==s&&null!=w&&v(s,["parameters","durationSeconds"],w),void 0!==m(a,["seed"]))throw new Error("seed parameter is not supported in Gemini API.");const k=m(a,["aspectRatio"]);void 0!==s&&null!=k&&v(s,["parameters","aspectRatio"],k);const H=m(a,["resolution"]);void 0!==s&&null!=H&&v(s,["parameters","resolution"],H);const Q=m(a,["personGeneration"]);if(void 0!==s&&null!=Q&&v(s,["parameters","personGeneration"],Q),void 0!==m(a,["pubsubTopic"]))throw new Error("pubsubTopic parameter is not supported in Gemini API.");const J=m(a,["negativePrompt"]);void 0!==s&&null!=J&&v(s,["parameters","negativePrompt"],J);const re=m(a,["enhancePrompt"]);if(void 0!==s&&null!=re&&v(s,["parameters","enhancePrompt"],re),void 0!==m(a,["generateAudio"]))throw new Error("generateAudio parameter is not supported in Gemini API.");const Y=m(a,["lastFrame"]);void 0!==s&&null!=Y&&v(s,["instances[0]","lastFrame"],zu(Y));const fe=m(a,["referenceImages"]);if(void 0!==s&&null!=fe){let $e=fe;Array.isArray($e)&&($e=$e.map(Ne=>function gi(a){const s={},f=m(a,["image"]);null!=f&&v(s,["image"],zu(f));const _=m(a,["referenceType"]);return null!=_&&v(s,["referenceType"],_),s}(Ne))),v(s,["instances[0]","referenceImages"],$e)}if(void 0!==m(a,["mask"]))throw new Error("mask parameter is not supported in Gemini API.");if(void 0!==m(a,["compressionQuality"]))throw new Error("compressionQuality parameter is not supported in Gemini API.");return{}}(J,f),f}function Iu(a,s){const f={},_=m(s,["model"]);null!=_&&v(f,["_url","model"],xt(a,_));const w=m(s,["prompt"]);null!=w&&v(f,["instances[0]","prompt"],w);const k=m(s,["image"]);null!=k&&v(f,["instances[0]","image"],Hs(k));const H=m(s,["video"]);null!=H&&v(f,["instances[0]","video"],el(H));const Q=m(s,["source"]);null!=Q&&function ea(a,s){const _=m(a,["prompt"]);void 0!==s&&null!=_&&v(s,["instances[0]","prompt"],_);const w=m(a,["image"]);void 0!==s&&null!=w&&v(s,["instances[0]","image"],Hs(w));const k=m(a,["video"]);void 0!==s&&null!=k&&v(s,["instances[0]","video"],el(k))}(Q,f);const J=m(s,["config"]);return null!=J&&function ja(a,s){const _=m(a,["numberOfVideos"]);void 0!==s&&null!=_&&v(s,["parameters","sampleCount"],_);const w=m(a,["outputGcsUri"]);void 0!==s&&null!=w&&v(s,["parameters","storageUri"],w);const k=m(a,["fps"]);void 0!==s&&null!=k&&v(s,["parameters","fps"],k);const H=m(a,["durationSeconds"]);void 0!==s&&null!=H&&v(s,["parameters","durationSeconds"],H);const Q=m(a,["seed"]);void 0!==s&&null!=Q&&v(s,["parameters","seed"],Q);const J=m(a,["aspectRatio"]);void 0!==s&&null!=J&&v(s,["parameters","aspectRatio"],J);const re=m(a,["resolution"]);void 0!==s&&null!=re&&v(s,["parameters","resolution"],re);const Y=m(a,["personGeneration"]);void 0!==s&&null!=Y&&v(s,["parameters","personGeneration"],Y);const fe=m(a,["pubsubTopic"]);void 0!==s&&null!=fe&&v(s,["parameters","pubsubTopic"],fe);const $e=m(a,["negativePrompt"]);void 0!==s&&null!=$e&&v(s,["parameters","negativePrompt"],$e);const Ne=m(a,["enhancePrompt"]);void 0!==s&&null!=Ne&&v(s,["parameters","enhancePrompt"],Ne);const vn=m(a,["generateAudio"]);void 0!==s&&null!=vn&&v(s,["parameters","generateAudio"],vn);const rr=m(a,["lastFrame"]);void 0!==s&&null!=rr&&v(s,["instances[0]","lastFrame"],Hs(rr));const Rn=m(a,["referenceImages"]);if(void 0!==s&&null!=Rn){let $r=Rn;Array.isArray($r)&&($r=$r.map(ri=>function ro(a){const s={},f=m(a,["image"]);null!=f&&v(s,["image"],Hs(f));const _=m(a,["referenceType"]);return null!=_&&v(s,["referenceType"],_),s}(ri))),v(s,["instances[0]","referenceImages"],$r)}const pr=m(a,["mask"]);void 0!==s&&null!=pr&&v(s,["instances[0]","mask"],function si(a){const s={},f=m(a,["image"]);null!=f&&v(s,["_self"],Hs(f));const _=m(a,["maskMode"]);return null!=_&&v(s,["maskMode"],_),s}(pr));const cr=m(a,["compressionQuality"]);return void 0!==s&&null!=cr&&v(s,["parameters","compressionQuality"],cr),{}}(J,f),f}function yu(a){const s={},f=m(a,["_self"]);null!=f&&v(s,["image"],Al(f));const _=m(a,["raiFilteredReason"]);null!=_&&v(s,["raiFilteredReason"],_);const w=m(a,["_self"]);null!=w&&v(s,["safetyAttributes"],yr(w));const k=m(a,["prompt"]);return null!=k&&v(s,["enhancedPrompt"],k),s}function Al(a){const s={},f=m(a,["gcsUri"]);null!=f&&v(s,["gcsUri"],f);const _=m(a,["bytesBase64Encoded"]);null!=_&&v(s,["imageBytes"],Ro(_));const w=m(a,["mimeType"]);return null!=w&&v(s,["mimeType"],w),s}function zu(a){const s={};if(void 0!==m(a,["gcsUri"]))throw new Error("gcsUri parameter is not supported in Gemini API.");const f=m(a,["imageBytes"]);null!=f&&v(s,["bytesBase64Encoded"],Ro(f));const _=m(a,["mimeType"]);return null!=_&&v(s,["mimeType"],_),s}function Hs(a){const s={},f=m(a,["gcsUri"]);null!=f&&v(s,["gcsUri"],f);const _=m(a,["imageBytes"]);null!=_&&v(s,["bytesBase64Encoded"],Ro(_));const w=m(a,["mimeType"]);return null!=w&&v(s,["mimeType"],w),s}function D(a){const s={},f=m(a,["name"]);null!=f&&v(s,["name"],f);const _=m(a,["displayName"]);null!=_&&v(s,["displayName"],_);const w=m(a,["description"]);null!=w&&v(s,["description"],w);const k=m(a,["version"]);null!=k&&v(s,["version"],k);const H=m(a,["_self"]);null!=H&&v(s,["tunedModelInfo"],function zl(a){const s={},f=m(a,["baseModel"]);null!=f&&v(s,["baseModel"],f);const _=m(a,["createTime"]);null!=_&&v(s,["createTime"],_);const w=m(a,["updateTime"]);return null!=w&&v(s,["updateTime"],w),s}(H));const Q=m(a,["inputTokenLimit"]);null!=Q&&v(s,["inputTokenLimit"],Q);const J=m(a,["outputTokenLimit"]);null!=J&&v(s,["outputTokenLimit"],J);const re=m(a,["supportedGenerationMethods"]);null!=re&&v(s,["supportedActions"],re);const Y=m(a,["temperature"]);null!=Y&&v(s,["temperature"],Y);const fe=m(a,["maxTemperature"]);null!=fe&&v(s,["maxTemperature"],fe);const $e=m(a,["topP"]);null!=$e&&v(s,["topP"],$e);const Ne=m(a,["topK"]);null!=Ne&&v(s,["topK"],Ne);const vn=m(a,["thinking"]);return null!=vn&&v(s,["thinking"],vn),s}function g(a){const s={},f=m(a,["name"]);null!=f&&v(s,["name"],f);const _=m(a,["displayName"]);null!=_&&v(s,["displayName"],_);const w=m(a,["description"]);null!=w&&v(s,["description"],w);const k=m(a,["versionId"]);null!=k&&v(s,["version"],k);const H=m(a,["deployedModels"]);if(null!=H){let fe=H;Array.isArray(fe)&&(fe=fe.map($e=>function Da(a){const s={},f=m(a,["endpoint"]);null!=f&&v(s,["name"],f);const _=m(a,["deployedModelId"]);return null!=_&&v(s,["deployedModelId"],_),s}($e))),v(s,["endpoints"],fe)}const Q=m(a,["labels"]);null!=Q&&v(s,["labels"],Q);const J=m(a,["_self"]);null!=J&&v(s,["tunedModelInfo"],function Za(a){const s={},f=m(a,["labels","google-vertex-llm-tuning-base-model-id"]);null!=f&&v(s,["baseModel"],f);const _=m(a,["createTime"]);null!=_&&v(s,["createTime"],_);const w=m(a,["updateTime"]);return null!=w&&v(s,["updateTime"],w),s}(J));const re=m(a,["defaultCheckpointId"]);null!=re&&v(s,["defaultCheckpointId"],re);const Y=m(a,["checkpoints"]);if(null!=Y){let fe=Y;Array.isArray(fe)&&(fe=fe.map($e=>$e)),v(s,["checkpoints"],fe)}return s}function xn(a){const s={},f=m(a,["safetyAttributes","categories"]);null!=f&&v(s,["categories"],f);const _=m(a,["safetyAttributes","scores"]);null!=_&&v(s,["scores"],_);const w=m(a,["contentType"]);return null!=w&&v(s,["contentType"],w),s}function yr(a){const s={},f=m(a,["safetyAttributes","categories"]);null!=f&&v(s,["categories"],f);const _=m(a,["safetyAttributes","scores"]);null!=_&&v(s,["scores"],_);const w=m(a,["contentType"]);return null!=w&&v(s,["contentType"],w),s}function Nu(a){const s={},f=m(a,["retrieval"]);null!=f&&v(s,["retrieval"],f);const _=m(a,["computerUse"]);if(null!=_&&v(s,["computerUse"],_),void 0!==m(a,["fileSearch"]))throw new Error("fileSearch parameter is not supported in Vertex AI.");const w=m(a,["codeExecution"]);null!=w&&v(s,["codeExecution"],w);const k=m(a,["enterpriseWebSearch"]);null!=k&&v(s,["enterpriseWebSearch"],k);const H=m(a,["functionDeclarations"]);if(null!=H){let fe=H;Array.isArray(fe)&&(fe=fe.map($e=>function Zs(a){const s={},f=m(a,["description"]);null!=f&&v(s,["description"],f);const _=m(a,["name"]);null!=_&&v(s,["name"],_);const w=m(a,["parameters"]);null!=w&&v(s,["parameters"],w);const k=m(a,["parametersJsonSchema"]);null!=k&&v(s,["parametersJsonSchema"],k);const H=m(a,["response"]);null!=H&&v(s,["response"],H);const Q=m(a,["responseJsonSchema"]);if(null!=Q&&v(s,["responseJsonSchema"],Q),void 0!==m(a,["behavior"]))throw new Error("behavior parameter is not supported in Vertex AI.");return s}($e))),v(s,["functionDeclarations"],fe)}const Q=m(a,["googleMaps"]);null!=Q&&v(s,["googleMaps"],Q);const J=m(a,["googleSearch"]);null!=J&&v(s,["googleSearch"],J);const re=m(a,["googleSearchRetrieval"]);null!=re&&v(s,["googleSearchRetrieval"],re);const Y=m(a,["urlContext"]);return null!=Y&&v(s,["urlContext"],Y),s}function fs(a){const s={},f=m(a,["uri"]);null!=f&&v(s,["uri"],f);const _=m(a,["videoBytes"]);null!=_&&v(s,["encodedVideo"],Ro(_));const w=m(a,["mimeType"]);return null!=w&&v(s,["encoding"],w),s}function el(a){const s={},f=m(a,["uri"]);null!=f&&v(s,["gcsUri"],f);const _=m(a,["videoBytes"]);null!=_&&v(s,["bytesBase64Encoded"],Ro(_));const w=m(a,["mimeType"]);return null!=w&&v(s,["mimeType"],w),s}function vd(a,s){const _=m(a,["mimeType"]);void 0!==s&&null!=_&&v(s,["mimeType"],_);const w=m(a,["displayName"]);void 0!==s&&null!=w&&v(s,["displayName"],w);const k=m(a,["customMetadata"]);if(void 0!==s&&null!=k){let Q=k;Array.isArray(Q)&&(Q=Q.map(J=>J)),v(s,["customMetadata"],Q)}const H=m(a,["chunkingConfig"]);return void 0!==s&&null!=H&&v(s,["chunkingConfig"],H),{}}const Yc="x-goog-api-client";class rh{constructor(s){var f,_;this.clientOptions=Object.assign(Object.assign({},s),{project:s.project,location:s.location,apiKey:s.apiKey,vertexai:s.vertexai});const w={};this.clientOptions.vertexai?(w.apiVersion=null!==(f=this.clientOptions.apiVersion)&&void 0!==f?f:"v1beta1",w.baseUrl=this.baseUrlFromProjectLocation(),this.normalizeAuthParameters()):(w.apiVersion=null!==(_=this.clientOptions.apiVersion)&&void 0!==_?_:"v1beta",w.baseUrl="https://generativelanguage.googleapis.com/"),w.headers=this.getDefaultHeaders(),this.clientOptions.httpOptions=w,s.httpOptions&&(this.clientOptions.httpOptions=this.patchHttpOptions(w,s.httpOptions))}baseUrlFromProjectLocation(){return this.clientOptions.project&&this.clientOptions.location&&"global"!==this.clientOptions.location?`https://${this.clientOptions.location}-aiplatform.googleapis.com/`:"https://aiplatform.googleapis.com/"}normalizeAuthParameters(){this.clientOptions.project&&this.clientOptions.location?this.clientOptions.apiKey=void 0:(this.clientOptions.project=void 0,this.clientOptions.location=void 0)}isVertexAI(){var s;return null!==(s=this.clientOptions.vertexai)&&void 0!==s&&s}getProject(){return this.clientOptions.project}getLocation(){return this.clientOptions.location}getAuthHeaders(){var s=this;return(0,L.A)(function*(){const f=new Headers;return yield s.clientOptions.auth.addAuthHeaders(f),f})()}getApiVersion(){if(this.clientOptions.httpOptions&&void 0!==this.clientOptions.httpOptions.apiVersion)return this.clientOptions.httpOptions.apiVersion;throw new Error("API version is not set.")}getBaseUrl(){if(this.clientOptions.httpOptions&&void 0!==this.clientOptions.httpOptions.baseUrl)return this.clientOptions.httpOptions.baseUrl;throw new Error("Base URL is not set.")}getRequestUrl(){return this.getRequestUrlInternal(this.clientOptions.httpOptions)}getHeaders(){if(this.clientOptions.httpOptions&&void 0!==this.clientOptions.httpOptions.headers)return this.clientOptions.httpOptions.headers;throw new Error("Headers are not set.")}getRequestUrlInternal(s){if(!s||void 0===s.baseUrl||void 0===s.apiVersion)throw new Error("HTTP options are not correctly set.");const _=[s.baseUrl.endsWith("/")?s.baseUrl.slice(0,-1):s.baseUrl];return s.apiVersion&&""!==s.apiVersion&&_.push(s.apiVersion),_.join("/")}getBaseResourcePath(){return`projects/${this.clientOptions.project}/locations/${this.clientOptions.location}`}getApiKey(){return this.clientOptions.apiKey}getWebsocketBaseUrl(){const s=this.getBaseUrl(),f=new URL(s);return f.protocol="http:"==f.protocol?"ws":"wss",f.toString()}setBaseUrl(s){if(!this.clientOptions.httpOptions)throw new Error("HTTP options are not correctly set.");this.clientOptions.httpOptions.baseUrl=s}constructUrl(s,f,_){const w=[this.getRequestUrlInternal(f)];return _&&w.push(this.getBaseResourcePath()),""!==s&&w.push(s),new URL(`${w.join("/")}`)}shouldPrependVertexProjectPath(s){return!(this.clientOptions.apiKey||!this.clientOptions.vertexai||s.path.startsWith("projects/")||"GET"===s.httpMethod&&s.path.startsWith("publishers/google/models"))}request(s){var f=this;return(0,L.A)(function*(){let _=f.clientOptions.httpOptions;s.httpOptions&&(_=f.patchHttpOptions(f.clientOptions.httpOptions,s.httpOptions));const w=f.shouldPrependVertexProjectPath(s),k=f.constructUrl(s.path,_,w);if(s.queryParams)for(const[Q,J]of Object.entries(s.queryParams))k.searchParams.append(Q,String(J));let H={};if("GET"===s.httpMethod){if(s.body&&"{}"!==s.body)throw new Error("Request body should be empty for GET request, but got non empty request body")}else H.body=s.body;return H=yield f.includeExtraHttpOptionsToRequestInit(H,_,k.toString(),s.abortSignal),f.unaryApiCall(k,H,s.httpMethod)})()}patchHttpOptions(s,f){const _=JSON.parse(JSON.stringify(s));for(const[w,k]of Object.entries(f))"object"==typeof k?_[w]=Object.assign(Object.assign({},_[w]),k):void 0!==k&&(_[w]=k);return _}requestStream(s){var f=this;return(0,L.A)(function*(){let _=f.clientOptions.httpOptions;s.httpOptions&&(_=f.patchHttpOptions(f.clientOptions.httpOptions,s.httpOptions));const w=f.shouldPrependVertexProjectPath(s),k=f.constructUrl(s.path,_,w);(!k.searchParams.has("alt")||"sse"!==k.searchParams.get("alt"))&&k.searchParams.set("alt","sse");let H={};return H.body=s.body,H=yield f.includeExtraHttpOptionsToRequestInit(H,_,k.toString(),s.abortSignal),f.streamApiCall(k,H,s.httpMethod)})()}includeExtraHttpOptionsToRequestInit(s,f,_,w){var k=this;return(0,L.A)(function*(){if(f&&f.timeout||w){const H=new AbortController,Q=H.signal;if(f.timeout&&f?.timeout>0){const J=setTimeout(()=>H.abort(),f.timeout);J&&"function"==typeof J.unref&&J.unref()}w&&w.addEventListener("abort",()=>{H.abort()}),s.signal=Q}return f&&null!==f.extraBody&&function $d(a,s){if(!s||0===Object.keys(s).length)return;if(a.body instanceof Blob)return void console.warn("includeExtraBodyToRequestInit: extraBody provided but current request body is a Blob. extraBody will be ignored as merging is not supported for Blob bodies.");let f={};if("string"==typeof a.body&&a.body.length>0)try{const k=JSON.parse(a.body);if("object"!=typeof k||null===k||Array.isArray(k))return void console.warn("includeExtraBodyToRequestInit: Original request body is valid JSON but not a non-array object. Skip applying extraBody to the request body.");f=k}catch{return void console.warn("includeExtraBodyToRequestInit: Original request body is not valid JSON. Skip applying extraBody to the request body.")}const w=function _(k,H){const Q=Object.assign({},k);for(const J in H)if(Object.prototype.hasOwnProperty.call(H,J)){const re=H[J],Y=Q[J];re&&"object"==typeof re&&!Array.isArray(re)&&Y&&"object"==typeof Y&&!Array.isArray(Y)?Q[J]=_(Y,re):(Y&&re&&typeof Y!=typeof re&&console.warn(`includeExtraBodyToRequestInit:deepMerge: Type mismatch for key "${J}". Original type: ${typeof Y}, New type: ${typeof re}. Overwriting.`),Q[J]=re)}return Q}(f,s);a.body=JSON.stringify(w)}(s,f.extraBody),s.headers=yield k.getHeadersInternal(f,_),s})()}unaryApiCall(s,f,_){var w=this;return(0,L.A)(function*(){return w.apiCall(s.toString(),Object.assign(Object.assign({},f),{method:_})).then(function(){var k=(0,L.A)(function*(H){return yield Gd(H),new Bo(H)});return function(H){return k.apply(this,arguments)}}()).catch(k=>{throw k instanceof Error?k:new Error(JSON.stringify(k))})})()}streamApiCall(s,f,_){var w=this;return(0,L.A)(function*(){return w.apiCall(s.toString(),Object.assign(Object.assign({},f),{method:_})).then(function(){var k=(0,L.A)(function*(H){return yield Gd(H),w.processStreamResponse(H)});return function(H){return k.apply(this,arguments)}}()).catch(k=>{throw k instanceof Error?k:new Error(JSON.stringify(k))})})()}processStreamResponse(s){return Is(this,arguments,function*(){var _;const w=null===(_=s?.body)||void 0===_?void 0:_.getReader(),k=new TextDecoder("utf-8");if(!w)throw new Error("Response body is empty");try{let H="";const Q="data:",J=["\n\n","\r\r","\r\n\r\n"];for(;;){const{done:re,value:Y}=yield Qn(w.read());if(re){if(H.trim().length>0)throw new Error("Incomplete JSON segment at the end");break}const fe=k.decode(Y,{stream:!0});try{const vn=JSON.parse(fe);if("error"in vn){const rr=JSON.parse(JSON.stringify(vn.error)),pr=rr.code,cr=`got status: ${rr.status}. ${JSON.stringify(vn)}`;if(pr>=400&&pr<600)throw new tu({message:cr,status:pr})}}catch(vn){if("ApiError"===vn.name)throw vn}H+=fe;let $e=-1,Ne=0;for(;;){$e=-1,Ne=0;for(const Rn of J){const pr=H.indexOf(Rn);-1!==pr&&(-1===$e||pr<$e)&&($e=pr,Ne=Rn.length)}if(-1===$e)break;const vn=H.substring(0,$e);H=H.substring($e+Ne);const rr=vn.trim();if(rr.startsWith(Q)){const Rn=rr.substring(Q.length).trim();try{const pr=new Response(Rn,{headers:s?.headers,status:s?.status,statusText:s?.statusText});yield yield Qn(new Bo(pr))}catch(pr){throw new Error(`exception parsing stream chunk ${Rn}. ${pr}`)}}}}}finally{w.releaseLock()}})}apiCall(s,f){return(0,L.A)(function*(){return fetch(s,f).catch(_=>{throw new Error(`exception ${_} sending request`)})})()}getDefaultHeaders(){const s={},f="google-genai-sdk/1.35.0 "+this.clientOptions.userAgentExtra;return s["User-Agent"]=f,s[Yc]=f,s["Content-Type"]="application/json",s}getHeadersInternal(s,f){var _=this;return(0,L.A)(function*(){const w=new Headers;if(s&&s.headers){for(const[k,H]of Object.entries(s.headers))w.append(k,H);s.timeout&&s.timeout>0&&w.append("X-Server-Timeout",String(Math.ceil(s.timeout/1e3)))}return yield _.clientOptions.auth.addAuthHeaders(w,f),w})()}getFileName(s){var f;let _="";return"string"==typeof s&&(_=s.replace(/[/\\]+$/,""),_=null!==(f=_.split(/[/\\]/).pop())&&void 0!==f?f:""),_}uploadFile(s,f){var _=this;return(0,L.A)(function*(){var w;const k={};null!=f&&(k.mimeType=f.mimeType,k.name=f.name,k.displayName=f.displayName),k.name&&!k.name.startsWith("files/")&&(k.name=`files/${k.name}`);const H=_.clientOptions.uploader,Q=yield H.stat(s);k.sizeBytes=String(Q.size);const J=null!==(w=f?.mimeType)&&void 0!==w?w:Q.type;if(void 0===J||""===J)throw new Error("Can not determine mimeType. Please provide mimeType in the config.");k.mimeType=J;const re={file:k},Y=_.getFileName(s),fe=ee("upload/v1beta/files",re._url),$e=yield _.fetchUploadUrl(fe,k.sizeBytes,k.mimeType,Y,re,f?.httpOptions);return H.upload(s,$e,_)})()}uploadFileToFileSearchStore(s,f,_){var w=this;return(0,L.A)(function*(){var k;const H=w.clientOptions.uploader,Q=yield H.stat(f),J=String(Q.size),re=null!==(k=_?.mimeType)&&void 0!==k?k:Q.type;if(void 0===re||""===re)throw new Error("Can not determine mimeType. Please provide mimeType in the config.");const Y=`upload/v1beta/${s}:uploadToFileSearchStore`,fe=w.getFileName(f),$e={};null!=_&&vd(_,$e);const Ne=yield w.fetchUploadUrl(Y,J,re,fe,$e,_?.httpOptions);return H.uploadToFileSearchStore(f,Ne,w)})()}downloadFile(s){var f=this;return(0,L.A)(function*(){yield f.clientOptions.downloader.download(s,f)})()}fetchUploadUrl(s,f,_,w,k,H){var Q=this;return(0,L.A)(function*(){var J;let re={};re=H||{apiVersion:"",headers:Object.assign({"Content-Type":"application/json","X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${f}`,"X-Goog-Upload-Header-Content-Type":`${_}`},w?{"X-Goog-Upload-File-Name":w}:{})};const Y=yield Q.request({path:s,body:JSON.stringify(k),httpMethod:"POST",httpOptions:re});if(!Y||!Y?.headers)throw new Error("Server did not return an HttpResponse or the returned HttpResponse did not have headers.");const fe=null===(J=Y?.headers)||void 0===J?void 0:J["x-goog-upload-url"];if(void 0===fe)throw new Error("Failed to get upload url. Server did not return the x-google-upload-url in the headers");return fe})()}}function Gd(a){return Nc.apply(this,arguments)}function Nc(){return(Nc=(0,L.A)(function*(a){var s;if(void 0===a)throw new Error("response is undefined");if(!a.ok){const f=a.status;let _;_=null!==(s=a.headers.get("content-type"))&&void 0!==s&&s.includes("application/json")?yield a.json():{error:{message:yield a.text(),code:a.status,status:a.statusText}};const w=JSON.stringify(_);throw f>=400&&f<600?new tu({message:w,status:f}):new Error(w)}})).apply(this,arguments)}function Jc(a){for(const s of a)if(Oc(s)||"object"==typeof s&&"inputSchema"in s)return!0;return false}function Ho(a){var s;const f=null!==(s=a[Yc])&&void 0!==s?s:"";a[Yc]=(f+" mcp_used/unknown").trimStart()}function Oc(a){return null!==a&&"object"==typeof a&&a instanceof Ou}function bd(a){return Is(this,arguments,function*(f,_=100){let w,k=0;for(;k<_;){const H=yield Qn(f.listTools({cursor:w}));for(const Q of H.tools)yield yield Qn(Q),k++;if(!H.nextCursor)break;w=H.nextCursor}})}class Ou{constructor(s=[],f){this.mcpTools=[],this.functionNameToMcpClient={},this.mcpClients=s,this.config=f}static create(s,f){return new Ou(s,f)}initialize(){var s=this;return(0,L.A)(function*(){var f,_,w;if(s.mcpTools.length>0)return;const H={},Q=[];for(const fe of s.mcpClients)try{for(var Y,J=!0,re=(_=void 0,cs(bd(fe)));!(f=(Y=yield re.next()).done);J=!0){J=!1;const $e=Y.value;Q.push($e);const Ne=$e.name;if(H[Ne])throw new Error(`Duplicate function name ${Ne} found in MCP tools. Please ensure function names are unique.`);H[Ne]=fe}}catch($e){_={error:$e}}finally{try{!J&&!f&&(w=re.return)&&(yield w.call(re))}finally{if(_)throw _.error}}s.mcpTools=Q,s.functionNameToMcpClient=H})()}tool(){var s=this;return(0,L.A)(function*(){return yield s.initialize(),function Ia(a,s={}){const f=[],_=new Set;for(const w of a){const k=w.name;if(_.has(k))throw new Error(`Duplicate function name ${k} found in MCP tools. Please ensure function names are unique.`);_.add(k);const H=Ma(w,s);H.functionDeclarations&&f.push(...H.functionDeclarations)}return{functionDeclarations:f}}(s.mcpTools,s.config)})()}callTool(s){var f=this;return(0,L.A)(function*(){yield f.initialize();const _=[];for(const w of s)if(w.name in f.functionNameToMcpClient){const k=f.functionNameToMcpClient[w.name];let H;f.config.timeout&&(H={timeout:f.config.timeout});const Q=yield k.callTool({name:w.name,arguments:w.args},void 0,H);_.push({functionResponse:{name:w.name,response:Q.isError?{error:Q}:Q}})}return _})()}}function Il(){return(Il=(0,L.A)(function*(a,s,f){const _=new qe;let w;w=f.data instanceof Blob?JSON.parse(yield f.data.text()):JSON.parse(f.data),Object.assign(_,w),s(_)})).apply(this,arguments)}class Bc{constructor(s,f,_){this.apiClient=s,this.auth=f,this.webSocketFactory=_}connect(s){var f=this;return(0,L.A)(function*(){var _,w;if(f.apiClient.isVertexAI())throw new Error("Live music is not supported for Vertex AI.");console.warn("Live music generation is experimental and may change in future versions.");const k=f.apiClient.getWebsocketBaseUrl(),H=f.apiClient.getApiVersion(),Q=function ed(a){const s=new Headers;for(const[f,_]of Object.entries(a))s.append(f,_);return s}(f.apiClient.getDefaultHeaders()),re=`${k}/ws/google.ai.generativelanguage.${H}.GenerativeService.BidiGenerateMusic?key=${f.apiClient.getApiKey()}`;let Y=()=>{};const fe=new Promise(ri=>{Y=ri}),$e=s.callbacks,vn=f.apiClient,rr={onopen:function(){Y({})},onmessage:ri=>{!function Lc(a,s,f){Il.apply(this,arguments)}(vn,$e.onmessage,ri)},onerror:null!==(_=$e?.onerror)&&void 0!==_?_:function(ri){},onclose:null!==(w=$e?.onclose)&&void 0!==w?w:function(ri){}},Rn=f.webSocketFactory.create(re,function Wd(a){const s={};return a.forEach((f,_)=>{s[_]=f}),s}(Q),rr);Rn.connect(),yield fe;const $r={setup:{model:xt(f.apiClient,s.model)}};return Rn.send(JSON.stringify($r)),new Zc(Rn,f.apiClient)})()}}class Zc{constructor(s,f){this.conn=s,this.apiClient=f}setWeightedPrompts(s){var f=this;return(0,L.A)(function*(){if(!s.weightedPrompts||0===Object.keys(s.weightedPrompts).length)throw new Error("Weighted prompts must be set and contain at least one entry.");const _=function ks(a){const s={},f=m(a,["weightedPrompts"]);if(null!=f){let _=f;Array.isArray(_)&&(_=_.map(w=>w)),v(s,["weightedPrompts"],_)}return s}(s);f.conn.send(JSON.stringify({clientContent:_}))})()}setMusicGenerationConfig(s){var f=this;return(0,L.A)(function*(){s.musicGenerationConfig||(s.musicGenerationConfig={});const _=function Us(a){const s={},f=m(a,["musicGenerationConfig"]);return null!=f&&v(s,["musicGenerationConfig"],f),s}(s);f.conn.send(JSON.stringify(_))})()}sendPlaybackControl(s){this.conn.send(JSON.stringify({playbackControl:s}))}play(){this.sendPlaybackControl(Ui.PLAY)}pause(){this.sendPlaybackControl(Ui.PAUSE)}stop(){this.sendPlaybackControl(Ui.STOP)}resetContext(){this.sendPlaybackControl(Ui.RESET_CONTEXT)}close(){this.conn.close()}}function Vc(){return(Vc=(0,L.A)(function*(a,s,f){const _=new Xs;let w;w=f.data instanceof Blob?yield f.data.text():f.data instanceof ArrayBuffer?(new TextDecoder).decode(f.data):f.data;const k=JSON.parse(w);if(a.isVertexAI()){const H=function B(a){const s={},f=m(a,["setupComplete"]);null!=f&&v(s,["setupComplete"],f);const _=m(a,["serverContent"]);null!=_&&v(s,["serverContent"],_);const w=m(a,["toolCall"]);null!=w&&v(s,["toolCall"],w);const k=m(a,["toolCallCancellation"]);null!=k&&v(s,["toolCallCancellation"],k);const H=m(a,["usageMetadata"]);null!=H&&v(s,["usageMetadata"],function Ue(a){const s={},f=m(a,["promptTokenCount"]);null!=f&&v(s,["promptTokenCount"],f);const _=m(a,["cachedContentTokenCount"]);null!=_&&v(s,["cachedContentTokenCount"],_);const w=m(a,["candidatesTokenCount"]);null!=w&&v(s,["responseTokenCount"],w);const k=m(a,["toolUsePromptTokenCount"]);null!=k&&v(s,["toolUsePromptTokenCount"],k);const H=m(a,["thoughtsTokenCount"]);null!=H&&v(s,["thoughtsTokenCount"],H);const Q=m(a,["totalTokenCount"]);null!=Q&&v(s,["totalTokenCount"],Q);const J=m(a,["promptTokensDetails"]);if(null!=J){let Ne=J;Array.isArray(Ne)&&(Ne=Ne.map(vn=>vn)),v(s,["promptTokensDetails"],Ne)}const re=m(a,["cacheTokensDetails"]);if(null!=re){let Ne=re;Array.isArray(Ne)&&(Ne=Ne.map(vn=>vn)),v(s,["cacheTokensDetails"],Ne)}const Y=m(a,["candidatesTokensDetails"]);if(null!=Y){let Ne=Y;Array.isArray(Ne)&&(Ne=Ne.map(vn=>vn)),v(s,["responseTokensDetails"],Ne)}const fe=m(a,["toolUsePromptTokensDetails"]);if(null!=fe){let Ne=fe;Array.isArray(Ne)&&(Ne=Ne.map(vn=>vn)),v(s,["toolUsePromptTokensDetails"],Ne)}const $e=m(a,["trafficType"]);return null!=$e&&v(s,["trafficType"],$e),s}(H));const Q=m(a,["goAway"]);null!=Q&&v(s,["goAway"],Q);const J=m(a,["sessionResumptionUpdate"]);null!=J&&v(s,["sessionResumptionUpdate"],J);const re=m(a,["voiceActivityDetectionSignal"]);return null!=re&&v(s,["voiceActivityDetectionSignal"],re),s}(k);Object.assign(_,H)}else Object.assign(_,k);s(_)})).apply(this,arguments)}class fc{constructor(s,f,_){this.apiClient=s,this.auth=f,this.webSocketFactory=_,this.music=new Bc(this.apiClient,this.auth,this.webSocketFactory)}connect(s){var f=this;return(0,L.A)(function*(){var _,w,k,H,Q,J;if(s.config&&s.config.httpOptions)throw new Error("The Live module does not support httpOptions at request-level in LiveConnectConfig yet. Please use the client-level httpOptions configuration instead.");const re=f.apiClient.getWebsocketBaseUrl(),Y=f.apiClient.getApiVersion();let fe;const $e=f.apiClient.getHeaders();s.config&&s.config.tools&&Jc(s.config.tools)&&Ho($e);const Ne=function td(a){const s=new Headers;for(const[f,_]of Object.entries(a))s.append(f,_);return s}($e);if(f.apiClient.isVertexAI())fe=`${re}/ws/google.cloud.aiplatform.${Y}.LlmBidiService/BidiGenerateContent`,yield f.auth.addAuthHeaders(Ne,fe);else{const Ni=f.apiClient.getApiKey();let Mo="BidiGenerateContent",Vl="key";Ni?.startsWith("auth_tokens/")&&(console.warn("Warning: Ephemeral token support is experimental and may change in future versions."),"v1alpha"!==Y&&console.warn("Warning: The SDK's ephemeral token support is in v1alpha only. Please use const ai = new GoogleGenAI({apiKey: token.name, httpOptions: { apiVersion: 'v1alpha' }}); before session connection."),Mo="BidiGenerateContentConstrained",Vl="access_token"),fe=`${re}/ws/google.ai.generativelanguage.${Y}.GenerativeService.${Mo}?${Vl}=${Ni}`}let vn=()=>{};const rr=new Promise(Ni=>{vn=Ni}),Rn=s.callbacks,cr=f.apiClient,$r={onopen:function(){var Ni;null===(Ni=Rn?.onopen)||void 0===Ni||Ni.call(Rn),vn({})},onmessage:Ni=>{!function Oo(a,s,f){Vc.apply(this,arguments)}(cr,Rn.onmessage,Ni)},onerror:null!==(_=Rn?.onerror)&&void 0!==_?_:function(Ni){},onclose:null!==(w=Rn?.onclose)&&void 0!==w?w:function(Ni){}},ri=f.webSocketFactory.create(fe,function Lu(a){const s={};return a.forEach((f,_)=>{s[_]=f}),s}(Ne),$r);ri.connect(),yield rr;let Ti=xt(f.apiClient,s.model);f.apiClient.isVertexAI()&&Ti.startsWith("publishers/")&&(Ti=`projects/${f.apiClient.getProject()}/locations/${f.apiClient.getLocation()}/`+Ti);let vi={};f.apiClient.isVertexAI()&&void 0===(null===(k=s.config)||void 0===k?void 0:k.responseModalities)&&(void 0===s.config?s.config={responseModalities:[mi.AUDIO]}:s.config.responseModalities=[mi.AUDIO]),null!==(H=s.config)&&void 0!==H&&H.generationConfig&&console.warn("Setting `LiveConnectConfig.generation_config` is deprecated, please set the fields on `LiveConnectConfig` directly. This will become an error in a future version (not before Q3 2025).");const jo=null!==(J=null===(Q=s.config)||void 0===Q?void 0:Q.tools)&&void 0!==J?J:[],$s=[];for(const Ni of jo)if(f.isCallableTool(Ni)){const Mo=Ni;$s.push(yield Mo.tool())}else $s.push(Ni);$s.length>0&&(s.config.tools=$s);const za={model:Ti,config:s.config,callbacks:s.callbacks};return vi=f.apiClient.isVertexAI()?function ou(a,s){const f={},_=m(s,["model"]);null!=_&&v(f,["setup","model"],xt(a,_));const w=m(s,["config"]);return null!=w&&v(f,["config"],function Sl(a,s){const _=m(a,["generationConfig"]);void 0!==s&&null!=_&&v(s,["setup","generationConfig"],function dl(a){const s={},f=m(a,["modelSelectionConfig"]);null!=f&&v(s,["modelConfig"],f);const _=m(a,["responseJsonSchema"]);null!=_&&v(s,["responseJsonSchema"],_);const w=m(a,["audioTimestamp"]);null!=w&&v(s,["audioTimestamp"],w);const k=m(a,["candidateCount"]);null!=k&&v(s,["candidateCount"],k);const H=m(a,["enableAffectiveDialog"]);null!=H&&v(s,["enableAffectiveDialog"],H);const Q=m(a,["frequencyPenalty"]);null!=Q&&v(s,["frequencyPenalty"],Q);const J=m(a,["logprobs"]);null!=J&&v(s,["logprobs"],J);const re=m(a,["maxOutputTokens"]);null!=re&&v(s,["maxOutputTokens"],re);const Y=m(a,["mediaResolution"]);null!=Y&&v(s,["mediaResolution"],Y);const fe=m(a,["presencePenalty"]);null!=fe&&v(s,["presencePenalty"],fe);const $e=m(a,["responseLogprobs"]);null!=$e&&v(s,["responseLogprobs"],$e);const Ne=m(a,["responseMimeType"]);null!=Ne&&v(s,["responseMimeType"],Ne);const vn=m(a,["responseModalities"]);null!=vn&&v(s,["responseModalities"],vn);const rr=m(a,["responseSchema"]);null!=rr&&v(s,["responseSchema"],rr);const Rn=m(a,["routingConfig"]);null!=Rn&&v(s,["routingConfig"],Rn);const pr=m(a,["seed"]);null!=pr&&v(s,["seed"],pr);const cr=m(a,["speechConfig"]);null!=cr&&v(s,["speechConfig"],cr);const $r=m(a,["stopSequences"]);null!=$r&&v(s,["stopSequences"],$r);const ri=m(a,["temperature"]);null!=ri&&v(s,["temperature"],ri);const Ti=m(a,["thinkingConfig"]);null!=Ti&&v(s,["thinkingConfig"],Ti);const vi=m(a,["topK"]);null!=vi&&v(s,["topK"],vi);const jo=m(a,["topP"]);if(null!=jo&&v(s,["topP"],jo),void 0!==m(a,["enableEnhancedCivicAnswers"]))throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return s}(_));const w=m(a,["responseModalities"]);void 0!==s&&null!=w&&v(s,["setup","generationConfig","responseModalities"],w);const k=m(a,["temperature"]);void 0!==s&&null!=k&&v(s,["setup","generationConfig","temperature"],k);const H=m(a,["topP"]);void 0!==s&&null!=H&&v(s,["setup","generationConfig","topP"],H);const Q=m(a,["topK"]);void 0!==s&&null!=Q&&v(s,["setup","generationConfig","topK"],Q);const J=m(a,["maxOutputTokens"]);void 0!==s&&null!=J&&v(s,["setup","generationConfig","maxOutputTokens"],J);const re=m(a,["mediaResolution"]);void 0!==s&&null!=re&&v(s,["setup","generationConfig","mediaResolution"],re);const Y=m(a,["seed"]);void 0!==s&&null!=Y&&v(s,["setup","generationConfig","seed"],Y);const fe=m(a,["speechConfig"]);void 0!==s&&null!=fe&&v(s,["setup","generationConfig","speechConfig"],Ls(fe));const $e=m(a,["thinkingConfig"]);void 0!==s&&null!=$e&&v(s,["setup","generationConfig","thinkingConfig"],$e);const Ne=m(a,["enableAffectiveDialog"]);void 0!==s&&null!=Ne&&v(s,["setup","generationConfig","enableAffectiveDialog"],Ne);const vn=m(a,["systemInstruction"]);void 0!==s&&null!=vn&&v(s,["setup","systemInstruction"],to(vn));const rr=m(a,["tools"]);if(void 0!==s&&null!=rr){let jo=$o(rr);Array.isArray(jo)&&(jo=jo.map($s=>function se(a){const s={},f=m(a,["retrieval"]);null!=f&&v(s,["retrieval"],f);const _=m(a,["computerUse"]);if(null!=_&&v(s,["computerUse"],_),void 0!==m(a,["fileSearch"]))throw new Error("fileSearch parameter is not supported in Vertex AI.");const w=m(a,["codeExecution"]);null!=w&&v(s,["codeExecution"],w);const k=m(a,["enterpriseWebSearch"]);null!=k&&v(s,["enterpriseWebSearch"],k);const H=m(a,["functionDeclarations"]);if(null!=H){let fe=H;Array.isArray(fe)&&(fe=fe.map($e=>function cl(a){const s={},f=m(a,["description"]);null!=f&&v(s,["description"],f);const _=m(a,["name"]);null!=_&&v(s,["name"],_);const w=m(a,["parameters"]);null!=w&&v(s,["parameters"],w);const k=m(a,["parametersJsonSchema"]);null!=k&&v(s,["parametersJsonSchema"],k);const H=m(a,["response"]);null!=H&&v(s,["response"],H);const Q=m(a,["responseJsonSchema"]);if(null!=Q&&v(s,["responseJsonSchema"],Q),void 0!==m(a,["behavior"]))throw new Error("behavior parameter is not supported in Vertex AI.");return s}($e))),v(s,["functionDeclarations"],fe)}const Q=m(a,["googleMaps"]);null!=Q&&v(s,["googleMaps"],Q);const J=m(a,["googleSearch"]);null!=J&&v(s,["googleSearch"],J);const re=m(a,["googleSearchRetrieval"]);null!=re&&v(s,["googleSearchRetrieval"],re);const Y=m(a,["urlContext"]);return null!=Y&&v(s,["urlContext"],Y),s}(ca($s)))),v(s,["setup","tools"],jo)}const Rn=m(a,["sessionResumption"]);void 0!==s&&null!=Rn&&v(s,["setup","sessionResumption"],Rn);const pr=m(a,["inputAudioTranscription"]);void 0!==s&&null!=pr&&v(s,["setup","inputAudioTranscription"],pr);const cr=m(a,["outputAudioTranscription"]);void 0!==s&&null!=cr&&v(s,["setup","outputAudioTranscription"],cr);const $r=m(a,["realtimeInputConfig"]);void 0!==s&&null!=$r&&v(s,["setup","realtimeInputConfig"],$r);const ri=m(a,["contextWindowCompression"]);void 0!==s&&null!=ri&&v(s,["setup","contextWindowCompression"],ri);const Ti=m(a,["proactivity"]);void 0!==s&&null!=Ti&&v(s,["setup","proactivity"],Ti);const vi=m(a,["explicitVadSignal"]);return void 0!==s&&null!=vi&&v(s,["setup","explicitVadSignal"],vi),{}}(w,f)),f}(f.apiClient,za):function iu(a,s){const f={},_=m(s,["model"]);null!=_&&v(f,["setup","model"],xt(a,_));const w=m(s,["config"]);return null!=w&&v(f,["config"],Uu(w,f)),f}(f.apiClient,za),delete vi.config,ri.send(JSON.stringify(vi)),new tl(ri,f.apiClient)})()}isCallableTool(s){return"callTool"in s&&"function"==typeof s.callTool}}const Uc={turnComplete:!0};class tl{constructor(s,f){this.conn=s,this.apiClient=f}tLiveClientContent(s,f){if(null!=f.turns){let _=[];try{_=ao(f.turns),s.isVertexAI()||(_=_.map(w=>ma(w)))}catch{throw new Error(`Failed to parse client content "turns", type: '${typeof f.turns}'`)}return{clientContent:{turns:_,turnComplete:f.turnComplete}}}return{clientContent:{turnComplete:f.turnComplete}}}tLiveClienttToolResponse(s,f){let _=[];if(null==f.functionResponses)throw new Error("functionResponses is required.");if(_=Array.isArray(f.functionResponses)?f.functionResponses:[f.functionResponses],0===_.length)throw new Error("functionResponses is required.");for(const k of _){if("object"!=typeof k||null===k||!("name"in k)||!("response"in k))throw new Error(`Could not parse function response, type '${typeof k}'.`);if(!s.isVertexAI()&&!("id"in k))throw new Error("FunctionResponse request must have an `id` field from the response of a ToolCall.FunctionalCalls in Google AI.")}return{toolResponse:{functionResponses:_}}}sendClientContent(s){s=Object.assign(Object.assign({},Uc),s);const f=this.tLiveClientContent(this.apiClient,s);this.conn.send(JSON.stringify(f))}sendRealtimeInput(s){let f={};f=this.apiClient.isVertexAI()?{realtimeInput:Zo(s)}:{realtimeInput:_s(s)},this.conn.send(JSON.stringify(f))}sendToolResponse(s){if(null==s.functionResponses)throw new Error("Tool response parameters are required.");const f=this.tLiveClienttToolResponse(this.apiClient,s);this.conn.send(JSON.stringify(f))}close(){this.conn.close()}}function nd(a){var s,f,_;if(null!==(s=a?.automaticFunctionCalling)&&void 0!==s&&s.disable)return!0;let w=!1;for(const H of null!==(f=a?.tools)&&void 0!==f?f:[])if(hc(H)){w=!0;break}if(!w)return!0;const k=null===(_=a?.automaticFunctionCalling)||void 0===_?void 0:_.maximumRemoteCalls;return!!(k&&(k<0||!Number.isInteger(k))||0==k)&&(console.warn("Invalid maximumRemoteCalls value provided for automatic function calling. Disabled automatic function calling. Please provide a valid integer value greater than 0. maximumRemoteCalls provided:",k),!0)}function hc(a){return"callTool"in a&&"function"==typeof a.callTool}function id(a){var s;const f=[];return!(null===(s=a?.config)||void 0===s)&&s.tools&&a.config.tools.forEach((_,w)=>{hc(_)||_.functionDeclarations&&_.functionDeclarations.length>0&&f.push(w)}),f}function vf(a){var s;return!(null!==(s=a?.automaticFunctionCalling)&&void 0!==s&&s.ignoreCallHistory)}class qu extends Ae{constructor(s){var f;super(),f=this,this.apiClient=s,this.generateContent=function(){var _=(0,L.A)(function*(w){var k,H,Q,J,re;const Y=yield f.processParamsMaybeAddMcpUsage(w);if(f.maybeMoveToResponseJsonSchem(w),!function rd(a){var s,f,_;return null!==(_=null===(f=null===(s=a.config)||void 0===s?void 0:s.tools)||void 0===f?void 0:f.some(w=>hc(w)))&&void 0!==_&&_}(w)||nd(w.config))return yield f.generateContentInternal(Y);const fe=id(w);if(fe.length>0){const pr=fe.map(cr=>`tools[${cr}]`).join(", ");throw new Error(`Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations is not yet supported. Incompatible tools found at ${pr}.`)}let $e,Ne;const vn=ao(Y.contents),rr=null!==(Q=null===(H=null===(k=Y.config)||void 0===k?void 0:k.automaticFunctionCalling)||void 0===H?void 0:H.maximumRemoteCalls)&&void 0!==Q?Q:10;let Rn=0;for(;Rn<rr&&($e=yield f.generateContentInternal(Y),$e.functionCalls&&0!==$e.functionCalls.length);){const pr=$e.candidates[0].content,cr=[];for(const $r of null!==(re=null===(J=w.config)||void 0===J?void 0:J.tools)&&void 0!==re?re:[])if(hc($r)){const Ti=yield $r.callTool($e.functionCalls);cr.push(...Ti)}Rn++,Ne={role:"user",parts:cr},Y.contents=ao(Y.contents),Y.contents.push(pr),Y.contents.push(Ne),vf(Y.config)&&(vn.push(pr),vn.push(Ne))}return vf(Y.config)&&($e.automaticFunctionCallingHistory=vn),$e});return function(w){return _.apply(this,arguments)}}(),this.generateContentStream=function(){var _=(0,L.A)(function*(w){var k,H,Q,J,re;if(f.maybeMoveToResponseJsonSchem(w),nd(w.config)){const Ne=yield f.processParamsMaybeAddMcpUsage(w);return yield f.generateContentStreamInternal(Ne)}const Y=id(w);if(Y.length>0){const Ne=Y.map(vn=>`tools[${vn}]`).join(", ");throw new Error(`Incompatible tools found at ${Ne}. Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations" is not yet supported.`)}const fe=null===(Q=null===(H=null===(k=w?.config)||void 0===k?void 0:k.toolConfig)||void 0===H?void 0:H.functionCallingConfig)||void 0===Q?void 0:Q.streamFunctionCallArguments,$e=null===(re=null===(J=w?.config)||void 0===J?void 0:J.automaticFunctionCalling)||void 0===re?void 0:re.disable;if(fe&&!$e)throw new Error("Running in streaming mode with 'streamFunctionCallArguments' enabled, this feature is not compatible with automatic function calling (AFC). Please set 'config.automaticFunctionCalling.disable' to true to disable AFC or leave 'config.toolConfig.functionCallingConfig.streamFunctionCallArguments' to be undefined or set to false to disable streaming function call arguments feature.");return yield f.processAfcStream(w)});return function(w){return _.apply(this,arguments)}}(),this.generateImages=function(){var _=(0,L.A)(function*(w){return yield f.generateImagesInternal(w).then(k=>{var H;let Q;const J=[];if(k?.generatedImages)for(const Y of k.generatedImages)Y&&Y?.safetyAttributes&&"Positive Prompt"===(null===(H=Y?.safetyAttributes)||void 0===H?void 0:H.contentType)?Q=Y?.safetyAttributes:J.push(Y);let re;return re=Q?{generatedImages:J,positivePromptSafetyAttributes:Q,sdkHttpResponse:k.sdkHttpResponse}:{generatedImages:J,sdkHttpResponse:k.sdkHttpResponse},re})});return function(w){return _.apply(this,arguments)}}(),this.list=function(){var _=(0,L.A)(function*(w){var k;const J={config:Object.assign(Object.assign({},{queryBase:!0}),w?.config)};if(f.apiClient.isVertexAI()&&!J.config.queryBase){if(null!==(k=J.config)&&void 0!==k&&k.filter)throw new Error("Filtering tuned models list for Vertex AI is not currently supported");J.config.filter="labels.tune-type:*"}return new St(_t.PAGED_ITEM_MODELS,re=>f.listInternal(re),yield f.listInternal(J),J)});return function(w){return _.apply(this,arguments)}}(),this.editImage=function(){var _=(0,L.A)(function*(w){const k={model:w.model,prompt:w.prompt,referenceImages:[],config:w.config};return w.referenceImages&&w.referenceImages&&(k.referenceImages=w.referenceImages.map(H=>H.toReferenceImageAPI())),yield f.editImageInternal(k)});return function(w){return _.apply(this,arguments)}}(),this.upscaleImage=function(){var _=(0,L.A)(function*(w){let k={numberOfImages:1,mode:"upscale"};w.config&&(k=Object.assign(Object.assign({},k),w.config));const H={model:w.model,image:w.image,upscaleFactor:w.upscaleFactor,config:k};return yield f.upscaleImageInternal(H)});return function(w){return _.apply(this,arguments)}}(),this.generateVideos=function(){var _=(0,L.A)(function*(w){var k,H,Q,J,re,Y;if((w.prompt||w.image||w.video)&&w.source)throw new Error("Source and prompt/image/video are mutually exclusive. Please only use source.");return f.apiClient.isVertexAI()||(null!==(k=w.video)&&void 0!==k&&k.uri&&null!==(H=w.video)&&void 0!==H&&H.videoBytes?w.video={uri:w.video.uri,mimeType:w.video.mimeType}:!(null===(J=null===(Q=w.source)||void 0===Q?void 0:Q.video)||void 0===J)&&J.uri&&!(null===(Y=null===(re=w.source)||void 0===re?void 0:re.video)||void 0===Y)&&Y.videoBytes&&(w.source.video={uri:w.source.video.uri,mimeType:w.source.video.mimeType})),yield f.generateVideosInternal(w)});return function(w){return _.apply(this,arguments)}}()}maybeMoveToResponseJsonSchem(s){s.config&&s.config.responseSchema&&(s.config.responseJsonSchema||Object.keys(s.config.responseSchema).includes("$schema")&&(s.config.responseJsonSchema=s.config.responseSchema,delete s.config.responseSchema))}processParamsMaybeAddMcpUsage(s){var f=this;return(0,L.A)(function*(){var _,w,k;const H=null===(_=s.config)||void 0===_?void 0:_.tools;if(!H)return s;const Q=yield Promise.all(H.map(function(){var re=(0,L.A)(function*(Y){return hc(Y)?yield Y.tool():Y});return function(Y){return re.apply(this,arguments)}}())),J={model:s.model,contents:s.contents,config:Object.assign(Object.assign({},s.config),{tools:Q})};if(J.config.tools=Q,s.config&&s.config.tools&&Jc(s.config.tools)){const re=null!==(k=null===(w=s.config.httpOptions)||void 0===w?void 0:w.headers)&&void 0!==k?k:{};let Y=Object.assign({},re);0===Object.keys(Y).length&&(Y=f.apiClient.getDefaultHeaders()),Ho(Y),J.config.httpOptions=Object.assign(Object.assign({},s.config.httpOptions),{headers:Y})}return J})()}initAfcToolsMap(s){return(0,L.A)(function*(){var f,_,w;const k=new Map;for(const H of null!==(_=null===(f=s.config)||void 0===f?void 0:f.tools)&&void 0!==_?_:[])if(hc(H)){const Q=H,J=yield Q.tool();for(const re of null!==(w=J.functionDeclarations)&&void 0!==w?w:[]){if(!re.name)throw new Error("Function declaration name is required.");if(k.has(re.name))throw new Error(`Duplicate tool declaration name: ${re.name}`);k.set(re.name,Q)}}return k})()}processAfcStream(s){var f=this;return(0,L.A)(function*(){var _,w,k;const H=null!==(k=null===(w=null===(_=s.config)||void 0===_?void 0:_.automaticFunctionCalling)||void 0===w?void 0:w.maximumRemoteCalls)&&void 0!==k?k:10;let Q=!1,J=0;const re=yield f.initAfcToolsMap(s);return function(Y,fe,$e){return Is(this,arguments,function*(){for(var Ne,vn,rr,pr,cr;J<H;){Q&&(J++,Q=!1);const vi=yield Qn(Y.processParamsMaybeAddMcpUsage($e)),jo=yield Qn(Y.generateContentStreamInternal(vi)),$s=[],za=[];try{for(var Ti,$r=!0,ri=(vn=void 0,cs(jo));!(Ne=(Ti=yield Qn(ri.next())).done);$r=!0){$r=!1;const Ni=Ti.value;if(yield yield Qn(Ni),Ni.candidates&&null!==(pr=Ni.candidates[0])&&void 0!==pr&&pr.content){za.push(Ni.candidates[0].content);for(const Mo of null!==(cr=Ni.candidates[0].content.parts)&&void 0!==cr?cr:[])if(J<H&&Mo.functionCall){if(!Mo.functionCall.name)throw new Error("Function call name was not returned by the model.");if(!fe.has(Mo.functionCall.name))throw new Error(`Automatic function calling was requested, but not all the tools the model used implement the CallableTool interface. Available tools: ${fe.keys()}, mising tool: ${Mo.functionCall.name}`);{const Vl=yield Qn(fe.get(Mo.functionCall.name).callTool([Mo.functionCall]));$s.push(...Vl)}}}}}catch(Ni){vn={error:Ni}}finally{try{!$r&&!Ne&&(rr=ri.return)&&(yield Qn(rr.call(ri)))}finally{if(vn)throw vn.error}}if(!($s.length>0))break;{Q=!0;const Ni=new lt;Ni.candidates=[{content:{role:"user",parts:$s}}],yield yield Qn(Ni);const Mo=[];Mo.push(...za),Mo.push({role:"user",parts:$s});const Vl=ao($e.contents).concat(Mo);$e.contents=Vl}}})}(f,re,s)})()}generateContentInternal(s){var f=this;return(0,L.A)(function*(){var _,w,k,H;let Q,J="",re={};if(f.apiClient.isVertexAI()){const Y=oc(f.apiClient,s);return J=ee("{model}:generateContent",Y._url),re=Y._query,delete Y._url,delete Y._query,Q=f.apiClient.request({path:J,queryParams:re,body:JSON.stringify(Y),httpMethod:"POST",httpOptions:null===(_=s.config)||void 0===_?void 0:_.httpOptions,abortSignal:null===(w=s.config)||void 0===w?void 0:w.abortSignal}).then(fe=>fe.json().then($e=>{const Ne=$e;return Ne.sdkHttpResponse={headers:fe.headers},Ne})),Q.then(fe=>{const $e=Su(fe),Ne=new lt;return Object.assign(Ne,$e),Ne})}{const Y=Ol(f.apiClient,s);return J=ee("{model}:generateContent",Y._url),re=Y._query,delete Y._url,delete Y._query,Q=f.apiClient.request({path:J,queryParams:re,body:JSON.stringify(Y),httpMethod:"POST",httpOptions:null===(k=s.config)||void 0===k?void 0:k.httpOptions,abortSignal:null===(H=s.config)||void 0===H?void 0:H.abortSignal}).then(fe=>fe.json().then($e=>{const Ne=$e;return Ne.sdkHttpResponse={headers:fe.headers},Ne})),Q.then(fe=>{const $e=Tu(fe),Ne=new lt;return Object.assign(Ne,$e),Ne})}})()}generateContentStreamInternal(s){var f=this;return(0,L.A)(function*(){var _,w,k,H;let Q,J="",re={};if(f.apiClient.isVertexAI()){const Y=oc(f.apiClient,s);return J=ee("{model}:streamGenerateContent?alt=sse",Y._url),re=Y._query,delete Y._url,delete Y._query,Q=f.apiClient.requestStream({path:J,queryParams:re,body:JSON.stringify(Y),httpMethod:"POST",httpOptions:null===(_=s.config)||void 0===_?void 0:_.httpOptions,abortSignal:null===(w=s.config)||void 0===w?void 0:w.abortSignal}),Q.then(function($e){return Is(this,arguments,function*(){var Ne,vn,rr;try{for(var $r,pr=!0,cr=cs($e);!(Ne=($r=yield Qn(cr.next())).done);pr=!0){pr=!1;const ri=$r.value,Ti=Su(yield Qn(ri.json()));Ti.sdkHttpResponse={headers:ri.headers};const vi=new lt;Object.assign(vi,Ti),yield yield Qn(vi)}}catch(ri){vn={error:ri}}finally{try{!pr&&!Ne&&(rr=cr.return)&&(yield Qn(rr.call(cr)))}finally{if(vn)throw vn.error}}})})}{const Y=Ol(f.apiClient,s);return J=ee("{model}:streamGenerateContent?alt=sse",Y._url),re=Y._query,delete Y._url,delete Y._query,Q=f.apiClient.requestStream({path:J,queryParams:re,body:JSON.stringify(Y),httpMethod:"POST",httpOptions:null===(k=s.config)||void 0===k?void 0:k.httpOptions,abortSignal:null===(H=s.config)||void 0===H?void 0:H.abortSignal}),Q.then(function($e){return Is(this,arguments,function*(){var Ne,vn,rr;try{for(var $r,pr=!0,cr=cs($e);!(Ne=($r=yield Qn(cr.next())).done);pr=!0){pr=!1;const ri=$r.value,Ti=Tu(yield Qn(ri.json()));Ti.sdkHttpResponse={headers:ri.headers};const vi=new lt;Object.assign(vi,Ti),yield yield Qn(vi)}}catch(ri){vn={error:ri}}finally{try{!pr&&!Ne&&(rr=cr.return)&&(yield Qn(rr.call(cr)))}finally{if(vn)throw vn.error}}})})}})()}embedContent(s){var f=this;return(0,L.A)(function*(){var _,w,k,H;let Q,J="",re={};if(f.apiClient.isVertexAI()){const Y=function Nl(a,s){const f={},_=m(s,["model"]);null!=_&&v(f,["_url","model"],xt(a,_));const w=m(s,["contents"]);if(null!=w){let H=Yo(a,w);Array.isArray(H)&&(H=H.map(Q=>Q)),v(f,["instances[]","content"],H)}const k=m(s,["config"]);return null!=k&&function bl(a,s){const _=m(a,["taskType"]);void 0!==s&&null!=_&&v(s,["instances[]","task_type"],_);const w=m(a,["title"]);void 0!==s&&null!=w&&v(s,["instances[]","title"],w);const k=m(a,["outputDimensionality"]);void 0!==s&&null!=k&&v(s,["parameters","outputDimensionality"],k);const H=m(a,["mimeType"]);void 0!==s&&null!=H&&v(s,["instances[]","mimeType"],H);const Q=m(a,["autoTruncate"]);void 0!==s&&null!=Q&&v(s,["parameters","autoTruncate"],Q)}(k,f),f}(f.apiClient,s);return J=ee("{model}:predict",Y._url),re=Y._query,delete Y._url,delete Y._query,Q=f.apiClient.request({path:J,queryParams:re,body:JSON.stringify(Y),httpMethod:"POST",httpOptions:null===(_=s.config)||void 0===_?void 0:_.httpOptions,abortSignal:null===(w=s.config)||void 0===w?void 0:w.abortSignal}).then(fe=>fe.json().then($e=>{const Ne=$e;return Ne.sdkHttpResponse={headers:fe.headers},Ne})),Q.then(fe=>{const $e=function Wl(a){const s={},f=m(a,["sdkHttpResponse"]);null!=f&&v(s,["sdkHttpResponse"],f);const _=m(a,["predictions[]","embeddings"]);if(null!=_){let k=_;Array.isArray(k)&&(k=k.map(H=>function ki(a){const s={},f=m(a,["values"]);null!=f&&v(s,["values"],f);const _=m(a,["statistics"]);return null!=_&&v(s,["statistics"],function No(a){const s={},f=m(a,["truncated"]);null!=f&&v(s,["truncated"],f);const _=m(a,["token_count"]);return null!=_&&v(s,["tokenCount"],_),s}(_)),s}(H))),v(s,["embeddings"],k)}const w=m(a,["metadata"]);return null!=w&&v(s,["metadata"],w),s}(fe),Ne=new tn;return Object.assign(Ne,$e),Ne})}{const Y=function Qa(a,s){const f={},_=m(s,["model"]);null!=_&&v(f,["_url","model"],xt(a,_));const w=m(s,["contents"]);if(null!=w){let Q=Yo(a,w);Array.isArray(Q)&&(Q=Q.map(J=>J)),v(f,["requests[]","content"],Q)}const k=m(s,["config"]);null!=k&&function au(a,s){const _=m(a,["taskType"]);void 0!==s&&null!=_&&v(s,["requests[]","taskType"],_);const w=m(a,["title"]);void 0!==s&&null!=w&&v(s,["requests[]","title"],w);const k=m(a,["outputDimensionality"]);if(void 0!==s&&null!=k&&v(s,["requests[]","outputDimensionality"],k),void 0!==m(a,["mimeType"]))throw new Error("mimeType parameter is not supported in Gemini API.");if(void 0!==m(a,["autoTruncate"]))throw new Error("autoTruncate parameter is not supported in Gemini API.")}(k,f);const H=m(s,["model"]);return void 0!==H&&v(f,["requests[]","model"],xt(a,H)),f}(f.apiClient,s);return J=ee("{model}:batchEmbedContents",Y._url),re=Y._query,delete Y._url,delete Y._query,Q=f.apiClient.request({path:J,queryParams:re,body:JSON.stringify(Y),httpMethod:"POST",httpOptions:null===(k=s.config)||void 0===k?void 0:k.httpOptions,abortSignal:null===(H=s.config)||void 0===H?void 0:H.abortSignal}).then(fe=>fe.json().then($e=>{const Ne=$e;return Ne.sdkHttpResponse={headers:fe.headers},Ne})),Q.then(fe=>{const $e=function Js(a){const s={},f=m(a,["sdkHttpResponse"]);null!=f&&v(s,["sdkHttpResponse"],f);const _=m(a,["embeddings"]);if(null!=_){let k=_;Array.isArray(k)&&(k=k.map(H=>H)),v(s,["embeddings"],k)}const w=m(a,["metadata"]);return null!=w&&v(s,["metadata"],w),s}(fe),Ne=new tn;return Object.assign(Ne,$e),Ne})}})()}generateImagesInternal(s){var f=this;return(0,L.A)(function*(){var _,w,k,H;let Q,J="",re={};if(f.apiClient.isVertexAI()){const Y=function Au(a,s){const f={},_=m(s,["model"]);null!=_&&v(f,["_url","model"],xt(a,_));const w=m(s,["prompt"]);null!=w&&v(f,["instances[0]","prompt"],w);const k=m(s,["config"]);return null!=k&&function va(a,s){const _=m(a,["outputGcsUri"]);void 0!==s&&null!=_&&v(s,["parameters","storageUri"],_);const w=m(a,["negativePrompt"]);void 0!==s&&null!=w&&v(s,["parameters","negativePrompt"],w);const k=m(a,["numberOfImages"]);void 0!==s&&null!=k&&v(s,["parameters","sampleCount"],k);const H=m(a,["aspectRatio"]);void 0!==s&&null!=H&&v(s,["parameters","aspectRatio"],H);const Q=m(a,["guidanceScale"]);void 0!==s&&null!=Q&&v(s,["parameters","guidanceScale"],Q);const J=m(a,["seed"]);void 0!==s&&null!=J&&v(s,["parameters","seed"],J);const re=m(a,["safetyFilterLevel"]);void 0!==s&&null!=re&&v(s,["parameters","safetySetting"],re);const Y=m(a,["personGeneration"]);void 0!==s&&null!=Y&&v(s,["parameters","personGeneration"],Y);const fe=m(a,["includeSafetyAttributes"]);void 0!==s&&null!=fe&&v(s,["parameters","includeSafetyAttributes"],fe);const $e=m(a,["includeRaiReason"]);void 0!==s&&null!=$e&&v(s,["parameters","includeRaiReason"],$e);const Ne=m(a,["language"]);void 0!==s&&null!=Ne&&v(s,["parameters","language"],Ne);const vn=m(a,["outputMimeType"]);void 0!==s&&null!=vn&&v(s,["parameters","outputOptions","mimeType"],vn);const rr=m(a,["outputCompressionQuality"]);void 0!==s&&null!=rr&&v(s,["parameters","outputOptions","compressionQuality"],rr);const Rn=m(a,["addWatermark"]);void 0!==s&&null!=Rn&&v(s,["parameters","addWatermark"],Rn);const pr=m(a,["labels"]);void 0!==s&&null!=pr&&v(s,["labels"],pr);const cr=m(a,["imageSize"]);void 0!==s&&null!=cr&&v(s,["parameters","sampleImageSize"],cr);const $r=m(a,["enhancePrompt"]);void 0!==s&&null!=$r&&v(s,["parameters","enhancePrompt"],$r)}(k,f),f}(f.apiClient,s);return J=ee("{model}:predict",Y._url),re=Y._query,delete Y._url,delete Y._query,Q=f.apiClient.request({path:J,queryParams:re,body:JSON.stringify(Y),httpMethod:"POST",httpOptions:null===(_=s.config)||void 0===_?void 0:_.httpOptions,abortSignal:null===(w=s.config)||void 0===w?void 0:w.abortSignal}).then(fe=>fe.json().then($e=>{const Ne=$e;return Ne.sdkHttpResponse={headers:fe.headers},Ne})),Q.then(fe=>{const $e=function ju(a){const s={},f=m(a,["sdkHttpResponse"]);null!=f&&v(s,["sdkHttpResponse"],f);const _=m(a,["predictions"]);if(null!=_){let k=_;Array.isArray(k)&&(k=k.map(H=>yu(H))),v(s,["generatedImages"],k)}const w=m(a,["positivePromptSafetyAttributes"]);return null!=w&&v(s,["positivePromptSafetyAttributes"],yr(w)),s}(fe),Ne=new hn;return Object.assign(Ne,$e),Ne})}{const Y=function pl(a,s){const f={},_=m(s,["model"]);null!=_&&v(f,["_url","model"],xt(a,_));const w=m(s,["prompt"]);null!=w&&v(f,["instances[0]","prompt"],w);const k=m(s,["config"]);return null!=k&&function sc(a,s){if(void 0!==m(a,["outputGcsUri"]))throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(void 0!==m(a,["negativePrompt"]))throw new Error("negativePrompt parameter is not supported in Gemini API.");const _=m(a,["numberOfImages"]);void 0!==s&&null!=_&&v(s,["parameters","sampleCount"],_);const w=m(a,["aspectRatio"]);void 0!==s&&null!=w&&v(s,["parameters","aspectRatio"],w);const k=m(a,["guidanceScale"]);if(void 0!==s&&null!=k&&v(s,["parameters","guidanceScale"],k),void 0!==m(a,["seed"]))throw new Error("seed parameter is not supported in Gemini API.");const H=m(a,["safetyFilterLevel"]);void 0!==s&&null!=H&&v(s,["parameters","safetySetting"],H);const Q=m(a,["personGeneration"]);void 0!==s&&null!=Q&&v(s,["parameters","personGeneration"],Q);const J=m(a,["includeSafetyAttributes"]);void 0!==s&&null!=J&&v(s,["parameters","includeSafetyAttributes"],J);const re=m(a,["includeRaiReason"]);void 0!==s&&null!=re&&v(s,["parameters","includeRaiReason"],re);const Y=m(a,["language"]);void 0!==s&&null!=Y&&v(s,["parameters","language"],Y);const fe=m(a,["outputMimeType"]);void 0!==s&&null!=fe&&v(s,["parameters","outputOptions","mimeType"],fe);const $e=m(a,["outputCompressionQuality"]);if(void 0!==s&&null!=$e&&v(s,["parameters","outputOptions","compressionQuality"],$e),void 0!==m(a,["addWatermark"]))throw new Error("addWatermark parameter is not supported in Gemini API.");if(void 0!==m(a,["labels"]))throw new Error("labels parameter is not supported in Gemini API.");const Ne=m(a,["imageSize"]);if(void 0!==s&&null!=Ne&&v(s,["parameters","sampleImageSize"],Ne),void 0!==m(a,["enhancePrompt"]))throw new Error("enhancePrompt parameter is not supported in Gemini API.")}(k,f),f}(f.apiClient,s);return J=ee("{model}:predict",Y._url),re=Y._query,delete Y._url,delete Y._query,Q=f.apiClient.request({path:J,queryParams:re,body:JSON.stringify(Y),httpMethod:"POST",httpOptions:null===(k=s.config)||void 0===k?void 0:k.httpOptions,abortSignal:null===(H=s.config)||void 0===H?void 0:H.abortSignal}).then(fe=>fe.json().then($e=>{const Ne=$e;return Ne.sdkHttpResponse={headers:fe.headers},Ne})),Q.then(fe=>{const $e=function zc(a){const s={},f=m(a,["sdkHttpResponse"]);null!=f&&v(s,["sdkHttpResponse"],f);const _=m(a,["predictions"]);if(null!=_){let k=_;Array.isArray(k)&&(k=k.map(H=>function yc(a){const s={},f=m(a,["_self"]);null!=f&&v(s,["image"],function cc(a){const s={},f=m(a,["bytesBase64Encoded"]);null!=f&&v(s,["imageBytes"],Ro(f));const _=m(a,["mimeType"]);return null!=_&&v(s,["mimeType"],_),s}(f));const _=m(a,["raiFilteredReason"]);null!=_&&v(s,["raiFilteredReason"],_);const w=m(a,["_self"]);return null!=w&&v(s,["safetyAttributes"],xn(w)),s}(H))),v(s,["generatedImages"],k)}const w=m(a,["positivePromptSafetyAttributes"]);return null!=w&&v(s,["positivePromptSafetyAttributes"],xn(w)),s}(fe),Ne=new hn;return Object.assign(Ne,$e),Ne})}})()}editImageInternal(s){var f=this;return(0,L.A)(function*(){var _,w;let k,H="",Q={};if(f.apiClient.isVertexAI()){const J=function Cl(a,s){const f={},_=m(s,["model"]);null!=_&&v(f,["_url","model"],xt(a,_));const w=m(s,["prompt"]);null!=w&&v(f,["instances[0]","prompt"],w);const k=m(s,["referenceImages"]);if(null!=k){let Q=k;Array.isArray(Q)&&(Q=Q.map(J=>function Sn(a){const s={},f=m(a,["referenceImage"]);null!=f&&v(s,["referenceImage"],Hs(f));const _=m(a,["referenceId"]);null!=_&&v(s,["referenceId"],_);const w=m(a,["referenceType"]);null!=w&&v(s,["referenceType"],w);const k=m(a,["maskImageConfig"]);null!=k&&v(s,["maskImageConfig"],function S(a){const s={},f=m(a,["maskMode"]);null!=f&&v(s,["maskMode"],f);const _=m(a,["segmentationClasses"]);null!=_&&v(s,["maskClasses"],_);const w=m(a,["maskDilation"]);return null!=w&&v(s,["dilation"],w),s}(k));const H=m(a,["controlImageConfig"]);null!=H&&v(s,["controlImageConfig"],function go(a){const s={},f=m(a,["controlType"]);null!=f&&v(s,["controlType"],f);const _=m(a,["enableControlImageComputation"]);return null!=_&&v(s,["computeControl"],_),s}(H));const Q=m(a,["styleImageConfig"]);null!=Q&&v(s,["styleImageConfig"],Q);const J=m(a,["subjectImageConfig"]);return null!=J&&v(s,["subjectImageConfig"],J),s}(J))),v(f,["instances[0]","referenceImages"],Q)}const H=m(s,["config"]);return null!=H&&function Fa(a,s){const _=m(a,["outputGcsUri"]);void 0!==s&&null!=_&&v(s,["parameters","storageUri"],_);const w=m(a,["negativePrompt"]);void 0!==s&&null!=w&&v(s,["parameters","negativePrompt"],w);const k=m(a,["numberOfImages"]);void 0!==s&&null!=k&&v(s,["parameters","sampleCount"],k);const H=m(a,["aspectRatio"]);void 0!==s&&null!=H&&v(s,["parameters","aspectRatio"],H);const Q=m(a,["guidanceScale"]);void 0!==s&&null!=Q&&v(s,["parameters","guidanceScale"],Q);const J=m(a,["seed"]);void 0!==s&&null!=J&&v(s,["parameters","seed"],J);const re=m(a,["safetyFilterLevel"]);void 0!==s&&null!=re&&v(s,["parameters","safetySetting"],re);const Y=m(a,["personGeneration"]);void 0!==s&&null!=Y&&v(s,["parameters","personGeneration"],Y);const fe=m(a,["includeSafetyAttributes"]);void 0!==s&&null!=fe&&v(s,["parameters","includeSafetyAttributes"],fe);const $e=m(a,["includeRaiReason"]);void 0!==s&&null!=$e&&v(s,["parameters","includeRaiReason"],$e);const Ne=m(a,["language"]);void 0!==s&&null!=Ne&&v(s,["parameters","language"],Ne);const vn=m(a,["outputMimeType"]);void 0!==s&&null!=vn&&v(s,["parameters","outputOptions","mimeType"],vn);const rr=m(a,["outputCompressionQuality"]);void 0!==s&&null!=rr&&v(s,["parameters","outputOptions","compressionQuality"],rr);const Rn=m(a,["addWatermark"]);void 0!==s&&null!=Rn&&v(s,["parameters","addWatermark"],Rn);const pr=m(a,["labels"]);void 0!==s&&null!=pr&&v(s,["labels"],pr);const cr=m(a,["editMode"]);void 0!==s&&null!=cr&&v(s,["parameters","editMode"],cr);const $r=m(a,["baseSteps"]);void 0!==s&&null!=$r&&v(s,["parameters","editConfig","baseSteps"],$r)}(H,f),f}(f.apiClient,s);return H=ee("{model}:predict",J._url),Q=J._query,delete J._url,delete J._query,k=f.apiClient.request({path:H,queryParams:Q,body:JSON.stringify(J),httpMethod:"POST",httpOptions:null===(_=s.config)||void 0===_?void 0:_.httpOptions,abortSignal:null===(w=s.config)||void 0===w?void 0:w.abortSignal}).then(re=>re.json().then(Y=>{const fe=Y;return fe.sdkHttpResponse={headers:re.headers},fe})),k.then(re=>{const Y=function El(a){const s={},f=m(a,["sdkHttpResponse"]);null!=f&&v(s,["sdkHttpResponse"],f);const _=m(a,["predictions"]);if(null!=_){let w=_;Array.isArray(w)&&(w=w.map(k=>yu(k))),v(s,["generatedImages"],w)}return s}(re),fe=new un;return Object.assign(fe,Y),fe})}throw new Error("This method is only supported by the Vertex AI.")})()}upscaleImageInternal(s){var f=this;return(0,L.A)(function*(){var _,w;let k,H="",Q={};if(f.apiClient.isVertexAI()){const J=function Bl(a,s){const f={},_=m(s,["model"]);null!=_&&v(f,["_url","model"],xt(a,_));const w=m(s,["image"]);null!=w&&v(f,["instances[0]","image"],Hs(w));const k=m(s,["upscaleFactor"]);null!=k&&v(f,["parameters","upscaleConfig","upscaleFactor"],k);const H=m(s,["config"]);return null!=H&&function ya(a,s){const _=m(a,["outputGcsUri"]);void 0!==s&&null!=_&&v(s,["parameters","storageUri"],_);const w=m(a,["safetyFilterLevel"]);void 0!==s&&null!=w&&v(s,["parameters","safetySetting"],w);const k=m(a,["personGeneration"]);void 0!==s&&null!=k&&v(s,["parameters","personGeneration"],k);const H=m(a,["includeRaiReason"]);void 0!==s&&null!=H&&v(s,["parameters","includeRaiReason"],H);const Q=m(a,["outputMimeType"]);void 0!==s&&null!=Q&&v(s,["parameters","outputOptions","mimeType"],Q);const J=m(a,["outputCompressionQuality"]);void 0!==s&&null!=J&&v(s,["parameters","outputOptions","compressionQuality"],J);const re=m(a,["enhanceInputImage"]);void 0!==s&&null!=re&&v(s,["parameters","upscaleConfig","enhanceInputImage"],re);const Y=m(a,["imagePreservationFactor"]);void 0!==s&&null!=Y&&v(s,["parameters","upscaleConfig","imagePreservationFactor"],Y);const fe=m(a,["labels"]);void 0!==s&&null!=fe&&v(s,["labels"],fe);const $e=m(a,["numberOfImages"]);void 0!==s&&null!=$e&&v(s,["parameters","sampleCount"],$e);const Ne=m(a,["mode"]);void 0!==s&&null!=Ne&&v(s,["parameters","mode"],Ne)}(H,f),f}(f.apiClient,s);return H=ee("{model}:predict",J._url),Q=J._query,delete J._url,delete J._query,k=f.apiClient.request({path:H,queryParams:Q,body:JSON.stringify(J),httpMethod:"POST",httpOptions:null===(_=s.config)||void 0===_?void 0:_.httpOptions,abortSignal:null===(w=s.config)||void 0===w?void 0:w.abortSignal}).then(re=>re.json().then(Y=>{const fe=Y;return fe.sdkHttpResponse={headers:re.headers},fe})),k.then(re=>{const Y=function _d(a){const s={},f=m(a,["sdkHttpResponse"]);null!=f&&v(s,["sdkHttpResponse"],f);const _=m(a,["predictions"]);if(null!=_){let w=_;Array.isArray(w)&&(w=w.map(k=>yu(k))),v(s,["generatedImages"],w)}return s}(re),fe=new an;return Object.assign(fe,Y),fe})}throw new Error("This method is only supported by the Vertex AI.")})()}recontextImage(s){var f=this;return(0,L.A)(function*(){var _,w;let k,H="",Q={};if(f.apiClient.isVertexAI()){const J=function Ee(a,s){const f={},_=m(s,["model"]);null!=_&&v(f,["_url","model"],xt(a,_));const w=m(s,["source"]);null!=w&&function bt(a,s){const _=m(a,["prompt"]);void 0!==s&&null!=_&&v(s,["instances[0]","prompt"],_);const w=m(a,["personImage"]);void 0!==s&&null!=w&&v(s,["instances[0]","personImage","image"],Hs(w));const k=m(a,["productImages"]);if(void 0!==s&&null!=k){let H=k;Array.isArray(H)&&(H=H.map(Q=>function U(a){const s={},f=m(a,["productImage"]);return null!=f&&v(s,["image"],Hs(f)),s}(Q))),v(s,["instances[0]","productImages"],H)}}(w,f);const k=m(s,["config"]);return null!=k&&function ne(a,s){const _=m(a,["numberOfImages"]);void 0!==s&&null!=_&&v(s,["parameters","sampleCount"],_);const w=m(a,["baseSteps"]);void 0!==s&&null!=w&&v(s,["parameters","baseSteps"],w);const k=m(a,["outputGcsUri"]);void 0!==s&&null!=k&&v(s,["parameters","storageUri"],k);const H=m(a,["seed"]);void 0!==s&&null!=H&&v(s,["parameters","seed"],H);const Q=m(a,["safetyFilterLevel"]);void 0!==s&&null!=Q&&v(s,["parameters","safetySetting"],Q);const J=m(a,["personGeneration"]);void 0!==s&&null!=J&&v(s,["parameters","personGeneration"],J);const re=m(a,["addWatermark"]);void 0!==s&&null!=re&&v(s,["parameters","addWatermark"],re);const Y=m(a,["outputMimeType"]);void 0!==s&&null!=Y&&v(s,["parameters","outputOptions","mimeType"],Y);const fe=m(a,["outputCompressionQuality"]);void 0!==s&&null!=fe&&v(s,["parameters","outputOptions","compressionQuality"],fe);const $e=m(a,["enhancePrompt"]);void 0!==s&&null!=$e&&v(s,["parameters","enhancePrompt"],$e);const Ne=m(a,["labels"]);void 0!==s&&null!=Ne&&v(s,["labels"],Ne)}(k,f),f}(f.apiClient,s);return H=ee("{model}:predict",J._url),Q=J._query,delete J._url,delete J._query,k=f.apiClient.request({path:H,queryParams:Q,body:JSON.stringify(J),httpMethod:"POST",httpOptions:null===(_=s.config)||void 0===_?void 0:_.httpOptions,abortSignal:null===(w=s.config)||void 0===w?void 0:w.abortSignal}).then(re=>re.json()),k.then(re=>{const Y=function tt(a){const s={},f=m(a,["predictions"]);if(null!=f){let _=f;Array.isArray(_)&&(_=_.map(w=>yu(w))),v(s,["generatedImages"],_)}return s}(re),fe=new Rr;return Object.assign(fe,Y),fe})}throw new Error("This method is only supported by the Vertex AI.")})()}segmentImage(s){var f=this;return(0,L.A)(function*(){var _,w;let k,H="",Q={};if(f.apiClient.isVertexAI()){const J=function mo(a,s){const f={},_=m(s,["model"]);null!=_&&v(f,["_url","model"],xt(a,_));const w=m(s,["source"]);null!=w&&function vs(a,s){const _=m(a,["prompt"]);void 0!==s&&null!=_&&v(s,["instances[0]","prompt"],_);const w=m(a,["image"]);void 0!==s&&null!=w&&v(s,["instances[0]","image"],Hs(w));const k=m(a,["scribbleImage"]);void 0!==s&&null!=k&&v(s,["instances[0]","scribble"],function Kr(a){const s={},f=m(a,["image"]);return null!=f&&v(s,["image"],Hs(f)),s}(k))}(w,f);const k=m(s,["config"]);return null!=k&&function ii(a,s){const _=m(a,["mode"]);void 0!==s&&null!=_&&v(s,["parameters","mode"],_);const w=m(a,["maxPredictions"]);void 0!==s&&null!=w&&v(s,["parameters","maxPredictions"],w);const k=m(a,["confidenceThreshold"]);void 0!==s&&null!=k&&v(s,["parameters","confidenceThreshold"],k);const H=m(a,["maskDilation"]);void 0!==s&&null!=H&&v(s,["parameters","maskDilation"],H);const Q=m(a,["binaryColorThreshold"]);void 0!==s&&null!=Q&&v(s,["parameters","binaryColorThreshold"],Q);const J=m(a,["labels"]);void 0!==s&&null!=J&&v(s,["labels"],J)}(k,f),f}(f.apiClient,s);return H=ee("{model}:predict",J._url),Q=J._query,delete J._url,delete J._query,k=f.apiClient.request({path:H,queryParams:Q,body:JSON.stringify(J),httpMethod:"POST",httpOptions:null===(_=s.config)||void 0===_?void 0:_.httpOptions,abortSignal:null===(w=s.config)||void 0===w?void 0:w.abortSignal}).then(re=>re.json()),k.then(re=>{const Y=function ds(a){const s={},f=m(a,["predictions"]);if(null!=f){let _=f;Array.isArray(_)&&(_=_.map(w=>function lc(a){const s={},f=m(a,["_self"]);null!=f&&v(s,["mask"],Al(f));const _=m(a,["labels"]);if(null!=_){let w=_;Array.isArray(w)&&(w=w.map(k=>k)),v(s,["labels"],w)}return s}(w))),v(s,["generatedMasks"],_)}return s}(re),fe=new rt;return Object.assign(fe,Y),fe})}throw new Error("This method is only supported by the Vertex AI.")})()}get(s){var f=this;return(0,L.A)(function*(){var _,w,k,H;let Q,J="",re={};if(f.apiClient.isVertexAI()){const Y=function Cc(a,s){const f={},_=m(s,["model"]);return null!=_&&v(f,["_url","name"],xt(a,_)),f}(f.apiClient,s);return J=ee("{name}",Y._url),re=Y._query,delete Y._url,delete Y._query,Q=f.apiClient.request({path:J,queryParams:re,body:JSON.stringify(Y),httpMethod:"GET",httpOptions:null===(_=s.config)||void 0===_?void 0:_.httpOptions,abortSignal:null===(w=s.config)||void 0===w?void 0:w.abortSignal}).then(fe=>fe.json()),Q.then(fe=>g(fe))}{const Y=function Wu(a,s){const f={},_=m(s,["model"]);return null!=_&&v(f,["_url","name"],xt(a,_)),f}(f.apiClient,s);return J=ee("{name}",Y._url),re=Y._query,delete Y._url,delete Y._query,Q=f.apiClient.request({path:J,queryParams:re,body:JSON.stringify(Y),httpMethod:"GET",httpOptions:null===(k=s.config)||void 0===k?void 0:k.httpOptions,abortSignal:null===(H=s.config)||void 0===H?void 0:H.abortSignal}).then(fe=>fe.json()),Q.then(fe=>D(fe))}})()}listInternal(s){var f=this;return(0,L.A)(function*(){var _,w,k,H;let Q,J="",re={};if(f.apiClient.isVertexAI()){const Y=function Pu(a,s){const f={},_=m(s,["config"]);return null!=_&&function bc(a,s,f){const w=m(s,["pageSize"]);void 0!==f&&null!=w&&v(f,["_query","pageSize"],w);const k=m(s,["pageToken"]);void 0!==f&&null!=k&&v(f,["_query","pageToken"],k);const H=m(s,["filter"]);void 0!==f&&null!=H&&v(f,["_query","filter"],H);const Q=m(s,["queryBase"]);void 0!==f&&null!=Q&&v(f,["_url","models_url"],qs(a,Q))}(a,_,f),f}(f.apiClient,s);return J=ee("{models_url}",Y._url),re=Y._query,delete Y._url,delete Y._query,Q=f.apiClient.request({path:J,queryParams:re,body:JSON.stringify(Y),httpMethod:"GET",httpOptions:null===(_=s.config)||void 0===_?void 0:_.httpOptions,abortSignal:null===(w=s.config)||void 0===w?void 0:w.abortSignal}).then(fe=>fe.json().then($e=>{const Ne=$e;return Ne.sdkHttpResponse={headers:fe.headers},Ne})),Q.then(fe=>{const $e=function j(a){const s={},f=m(a,["sdkHttpResponse"]);null!=f&&v(s,["sdkHttpResponse"],f);const _=m(a,["nextPageToken"]);null!=_&&v(s,["nextPageToken"],_);const w=m(a,["_self"]);if(null!=w){let k=qa(w);Array.isArray(k)&&(k=k.map(H=>g(H))),v(s,["models"],k)}return s}(fe),Ne=new Wt;return Object.assign(Ne,$e),Ne})}{const Y=function xc(a,s){const f={},_=m(s,["config"]);return null!=_&&function Pc(a,s,f){const w=m(s,["pageSize"]);void 0!==f&&null!=w&&v(f,["_query","pageSize"],w);const k=m(s,["pageToken"]);void 0!==f&&null!=k&&v(f,["_query","pageToken"],k);const H=m(s,["filter"]);void 0!==f&&null!=H&&v(f,["_query","filter"],H);const Q=m(s,["queryBase"]);void 0!==f&&null!=Q&&v(f,["_url","models_url"],qs(a,Q))}(a,_,f),f}(f.apiClient,s);return J=ee("{models_url}",Y._url),re=Y._query,delete Y._url,delete Y._query,Q=f.apiClient.request({path:J,queryParams:re,body:JSON.stringify(Y),httpMethod:"GET",httpOptions:null===(k=s.config)||void 0===k?void 0:k.httpOptions,abortSignal:null===(H=s.config)||void 0===H?void 0:H.abortSignal}).then(fe=>fe.json().then($e=>{const Ne=$e;return Ne.sdkHttpResponse={headers:fe.headers},Ne})),Q.then(fe=>{const $e=function Fu(a){const s={},f=m(a,["sdkHttpResponse"]);null!=f&&v(s,["sdkHttpResponse"],f);const _=m(a,["nextPageToken"]);null!=_&&v(s,["nextPageToken"],_);const w=m(a,["_self"]);if(null!=w){let k=qa(w);Array.isArray(k)&&(k=k.map(H=>D(H))),v(s,["models"],k)}return s}(fe),Ne=new Wt;return Object.assign(Ne,$e),Ne})}})()}update(s){var f=this;return(0,L.A)(function*(){var _,w,k,H;let Q,J="",re={};if(f.apiClient.isVertexAI()){const Y=function Xl(a,s){const f={},_=m(s,["model"]);null!=_&&v(f,["_url","model"],xt(a,_));const w=m(s,["config"]);return null!=w&&function Kl(a,s){const _=m(a,["displayName"]);void 0!==s&&null!=_&&v(s,["displayName"],_);const w=m(a,["description"]);void 0!==s&&null!=w&&v(s,["description"],w);const k=m(a,["defaultCheckpointId"]);void 0!==s&&null!=k&&v(s,["defaultCheckpointId"],k)}(w,f),f}(f.apiClient,s);return J=ee("{model}",Y._url),re=Y._query,delete Y._url,delete Y._query,Q=f.apiClient.request({path:J,queryParams:re,body:JSON.stringify(Y),httpMethod:"PATCH",httpOptions:null===(_=s.config)||void 0===_?void 0:_.httpOptions,abortSignal:null===(w=s.config)||void 0===w?void 0:w.abortSignal}).then(fe=>fe.json()),Q.then(fe=>g(fe))}{const Y=function $a(a,s){const f={},_=m(s,["model"]);null!=_&&v(f,["_url","name"],xt(a,_));const w=m(s,["config"]);return null!=w&&function Rs(a,s){const _=m(a,["displayName"]);void 0!==s&&null!=_&&v(s,["displayName"],_);const w=m(a,["description"]);void 0!==s&&null!=w&&v(s,["description"],w);const k=m(a,["defaultCheckpointId"]);void 0!==s&&null!=k&&v(s,["defaultCheckpointId"],k)}(w,f),f}(f.apiClient,s);return J=ee("{name}",Y._url),re=Y._query,delete Y._url,delete Y._query,Q=f.apiClient.request({path:J,queryParams:re,body:JSON.stringify(Y),httpMethod:"PATCH",httpOptions:null===(k=s.config)||void 0===k?void 0:k.httpOptions,abortSignal:null===(H=s.config)||void 0===H?void 0:H.abortSignal}).then(fe=>fe.json()),Q.then(fe=>D(fe))}})()}delete(s){var f=this;return(0,L.A)(function*(){var _,w,k,H;let Q,J="",re={};if(f.apiClient.isVertexAI()){const Y=function Du(a,s){const f={},_=m(s,["model"]);return null!=_&&v(f,["_url","name"],xt(a,_)),f}(f.apiClient,s);return J=ee("{name}",Y._url),re=Y._query,delete Y._url,delete Y._query,Q=f.apiClient.request({path:J,queryParams:re,body:JSON.stringify(Y),httpMethod:"DELETE",httpOptions:null===(_=s.config)||void 0===_?void 0:_.httpOptions,abortSignal:null===(w=s.config)||void 0===w?void 0:w.abortSignal}).then(fe=>fe.json().then($e=>{const Ne=$e;return Ne.sdkHttpResponse={headers:fe.headers},Ne})),Q.then(fe=>{const $e=function di(a){const s={},f=m(a,["sdkHttpResponse"]);return null!=f&&v(s,["sdkHttpResponse"],f),s}(fe),Ne=new Qt;return Object.assign(Ne,$e),Ne})}{const Y=function xu(a,s){const f={},_=m(s,["model"]);return null!=_&&v(f,["_url","name"],xt(a,_)),f}(f.apiClient,s);return J=ee("{name}",Y._url),re=Y._query,delete Y._url,delete Y._query,Q=f.apiClient.request({path:J,queryParams:re,body:JSON.stringify(Y),httpMethod:"DELETE",httpOptions:null===(k=s.config)||void 0===k?void 0:k.httpOptions,abortSignal:null===(H=s.config)||void 0===H?void 0:H.abortSignal}).then(fe=>fe.json().then($e=>{const Ne=$e;return Ne.sdkHttpResponse={headers:fe.headers},Ne})),Q.then(fe=>{const $e=function Qs(a){const s={},f=m(a,["sdkHttpResponse"]);return null!=f&&v(s,["sdkHttpResponse"],f),s}(fe),Ne=new Qt;return Object.assign(Ne,$e),Ne})}})()}countTokens(s){var f=this;return(0,L.A)(function*(){var _,w,k,H;let Q,J="",re={};if(f.apiClient.isVertexAI()){const Y=function fl(a,s){const f={},_=m(s,["model"]);null!=_&&v(f,["_url","model"],xt(a,_));const w=m(s,["contents"]);if(null!=w){let H=ao(w);Array.isArray(H)&&(H=H.map(Q=>Q)),v(f,["contents"],H)}const k=m(s,["config"]);return null!=k&&function ws(a,s){const _=m(a,["systemInstruction"]);void 0!==s&&null!=_&&v(s,["systemInstruction"],to(_));const w=m(a,["tools"]);if(void 0!==s&&null!=w){let H=w;Array.isArray(H)&&(H=H.map(Q=>Nu(Q))),v(s,["tools"],H)}const k=m(a,["generationConfig"]);return void 0!==s&&null!=k&&v(s,["generationConfig"],function $u(a){const s={},f=m(a,["modelSelectionConfig"]);null!=f&&v(s,["modelConfig"],f);const _=m(a,["responseJsonSchema"]);null!=_&&v(s,["responseJsonSchema"],_);const w=m(a,["audioTimestamp"]);null!=w&&v(s,["audioTimestamp"],w);const k=m(a,["candidateCount"]);null!=k&&v(s,["candidateCount"],k);const H=m(a,["enableAffectiveDialog"]);null!=H&&v(s,["enableAffectiveDialog"],H);const Q=m(a,["frequencyPenalty"]);null!=Q&&v(s,["frequencyPenalty"],Q);const J=m(a,["logprobs"]);null!=J&&v(s,["logprobs"],J);const re=m(a,["maxOutputTokens"]);null!=re&&v(s,["maxOutputTokens"],re);const Y=m(a,["mediaResolution"]);null!=Y&&v(s,["mediaResolution"],Y);const fe=m(a,["presencePenalty"]);null!=fe&&v(s,["presencePenalty"],fe);const $e=m(a,["responseLogprobs"]);null!=$e&&v(s,["responseLogprobs"],$e);const Ne=m(a,["responseMimeType"]);null!=Ne&&v(s,["responseMimeType"],Ne);const vn=m(a,["responseModalities"]);null!=vn&&v(s,["responseModalities"],vn);const rr=m(a,["responseSchema"]);null!=rr&&v(s,["responseSchema"],rr);const Rn=m(a,["routingConfig"]);null!=Rn&&v(s,["routingConfig"],Rn);const pr=m(a,["seed"]);null!=pr&&v(s,["seed"],pr);const cr=m(a,["speechConfig"]);null!=cr&&v(s,["speechConfig"],cr);const $r=m(a,["stopSequences"]);null!=$r&&v(s,["stopSequences"],$r);const ri=m(a,["temperature"]);null!=ri&&v(s,["temperature"],ri);const Ti=m(a,["thinkingConfig"]);null!=Ti&&v(s,["thinkingConfig"],Ti);const vi=m(a,["topK"]);null!=vi&&v(s,["topK"],vi);const jo=m(a,["topP"]);if(null!=jo&&v(s,["topP"],jo),void 0!==m(a,["enableEnhancedCivicAnswers"]))throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return s}(k)),{}}(k,f),f}(f.apiClient,s);return J=ee("{model}:countTokens",Y._url),re=Y._query,delete Y._url,delete Y._query,Q=f.apiClient.request({path:J,queryParams:re,body:JSON.stringify(Y),httpMethod:"POST",httpOptions:null===(_=s.config)||void 0===_?void 0:_.httpOptions,abortSignal:null===(w=s.config)||void 0===w?void 0:w.abortSignal}).then(fe=>fe.json().then($e=>{const Ne=$e;return Ne.sdkHttpResponse={headers:fe.headers},Ne})),Q.then(fe=>{const $e=function su(a){const s={},f=m(a,["sdkHttpResponse"]);null!=f&&v(s,["sdkHttpResponse"],f);const _=m(a,["totalTokens"]);return null!=_&&v(s,["totalTokens"],_),s}(fe),Ne=new Cn;return Object.assign(Ne,$e),Ne})}{const Y=function _a(a,s){const f={},_=m(s,["model"]);null!=_&&v(f,["_url","model"],xt(a,_));const w=m(s,["contents"]);if(null!=w){let H=ao(w);Array.isArray(H)&&(H=H.map(Q=>ma(Q))),v(f,["contents"],H)}const k=m(s,["config"]);return null!=k&&function Pa(a){if(void 0!==m(a,["systemInstruction"]))throw new Error("systemInstruction parameter is not supported in Gemini API.");if(void 0!==m(a,["tools"]))throw new Error("tools parameter is not supported in Gemini API.");if(void 0!==m(a,["generationConfig"]))throw new Error("generationConfig parameter is not supported in Gemini API.")}(k),f}(f.apiClient,s);return J=ee("{model}:countTokens",Y._url),re=Y._query,delete Y._url,delete Y._query,Q=f.apiClient.request({path:J,queryParams:re,body:JSON.stringify(Y),httpMethod:"POST",httpOptions:null===(k=s.config)||void 0===k?void 0:k.httpOptions,abortSignal:null===(H=s.config)||void 0===H?void 0:H.abortSignal}).then(fe=>fe.json().then($e=>{const Ne=$e;return Ne.sdkHttpResponse={headers:fe.headers},Ne})),Q.then(fe=>{const $e=function es(a){const s={},f=m(a,["sdkHttpResponse"]);null!=f&&v(s,["sdkHttpResponse"],f);const _=m(a,["totalTokens"]);null!=_&&v(s,["totalTokens"],_);const w=m(a,["cachedContentTokenCount"]);return null!=w&&v(s,["cachedContentTokenCount"],w),s}(fe),Ne=new Cn;return Object.assign(Ne,$e),Ne})}})()}computeTokens(s){var f=this;return(0,L.A)(function*(){var _,w;let k,H="",Q={};if(f.apiClient.isVertexAI()){const J=function jn(a,s){const f={},_=m(s,["model"]);null!=_&&v(f,["_url","model"],xt(a,_));const w=m(s,["contents"]);if(null!=w){let k=ao(w);Array.isArray(k)&&(k=k.map(H=>H)),v(f,["contents"],k)}return f}(f.apiClient,s);return H=ee("{model}:computeTokens",J._url),Q=J._query,delete J._url,delete J._query,k=f.apiClient.request({path:H,queryParams:Q,body:JSON.stringify(J),httpMethod:"POST",httpOptions:null===(_=s.config)||void 0===_?void 0:_.httpOptions,abortSignal:null===(w=s.config)||void 0===w?void 0:w.abortSignal}).then(re=>re.json().then(Y=>{const fe=Y;return fe.sdkHttpResponse={headers:re.headers},fe})),k.then(re=>{const Y=function dr(a){const s={},f=m(a,["sdkHttpResponse"]);null!=f&&v(s,["sdkHttpResponse"],f);const _=m(a,["tokensInfo"]);if(null!=_){let w=_;Array.isArray(w)&&(w=w.map(k=>k)),v(s,["tokensInfo"],w)}return s}(re),fe=new ge;return Object.assign(fe,Y),fe})}throw new Error("This method is only supported by the Vertex AI.")})()}generateVideosInternal(s){var f=this;return(0,L.A)(function*(){var _,w,k,H;let Q,J="",re={};if(f.apiClient.isVertexAI()){const Y=Iu(f.apiClient,s);return J=ee("{model}:predictLongRunning",Y._url),re=Y._query,delete Y._url,delete Y._query,Q=f.apiClient.request({path:J,queryParams:re,body:JSON.stringify(Y),httpMethod:"POST",httpOptions:null===(_=s.config)||void 0===_?void 0:_.httpOptions,abortSignal:null===(w=s.config)||void 0===w?void 0:w.abortSignal}).then(fe=>fe.json()),Q.then(fe=>{const $e=function Mu(a){const s={},f=m(a,["name"]);null!=f&&v(s,["name"],f);const _=m(a,["metadata"]);null!=_&&v(s,["metadata"],_);const w=m(a,["done"]);null!=w&&v(s,["done"],w);const k=m(a,["error"]);null!=k&&v(s,["error"],k);const H=m(a,["response"]);return null!=H&&v(s,["response"],function ac(a){const s={},f=m(a,["videos"]);if(null!=f){let k=f;Array.isArray(k)&&(k=k.map(H=>function cu(a){const s={},f=m(a,["_self"]);return null!=f&&v(s,["video"],function Br(a){const s={},f=m(a,["gcsUri"]);null!=f&&v(s,["uri"],f);const _=m(a,["bytesBase64Encoded"]);null!=_&&v(s,["videoBytes"],Ro(_));const w=m(a,["mimeType"]);return null!=w&&v(s,["mimeType"],w),s}(f)),s}(H))),v(s,["generatedVideos"],k)}const _=m(a,["raiMediaFilteredCount"]);null!=_&&v(s,["raiMediaFilteredCount"],_);const w=m(a,["raiMediaFilteredReasons"]);return null!=w&&v(s,["raiMediaFilteredReasons"],w),s}(H)),s}(fe),Ne=new ot;return Object.assign(Ne,$e),Ne})}{const Y=Gu(f.apiClient,s);return J=ee("{model}:predictLongRunning",Y._url),re=Y._query,delete Y._url,delete Y._query,Q=f.apiClient.request({path:J,queryParams:re,body:JSON.stringify(Y),httpMethod:"POST",httpOptions:null===(k=s.config)||void 0===k?void 0:k.httpOptions,abortSignal:null===(H=s.config)||void 0===H?void 0:H.abortSignal}).then(fe=>fe.json()),Q.then(fe=>{const $e=function Ll(a){const s={},f=m(a,["name"]);null!=f&&v(s,["name"],f);const _=m(a,["metadata"]);null!=_&&v(s,["metadata"],_);const w=m(a,["done"]);null!=w&&v(s,["done"],w);const k=m(a,["error"]);null!=k&&v(s,["error"],k);const H=m(a,["response","generateVideoResponse"]);return null!=H&&v(s,["response"],function vc(a){const s={},f=m(a,["generatedSamples"]);if(null!=f){let k=f;Array.isArray(k)&&(k=k.map(H=>function uc(a){const s={},f=m(a,["video"]);return null!=f&&v(s,["video"],function Ku(a){const s={},f=m(a,["uri"]);null!=f&&v(s,["uri"],f);const _=m(a,["encodedVideo"]);null!=_&&v(s,["videoBytes"],Ro(_));const w=m(a,["encoding"]);return null!=w&&v(s,["mimeType"],w),s}(f)),s}(H))),v(s,["generatedVideos"],k)}const _=m(a,["raiMediaFilteredCount"]);null!=_&&v(s,["raiMediaFilteredCount"],_);const w=m(a,["raiMediaFilteredReasons"]);return null!=w&&v(s,["raiMediaFilteredReasons"],w),s}(H)),s}(fe),Ne=new ot;return Object.assign(Ne,$e),Ne})}})()}}class od extends Ae{constructor(s){super(),this.apiClient=s}getVideosOperation(s){var f=this;return(0,L.A)(function*(){const _=s.operation,w=s.config;if(void 0===_.name||""===_.name)throw new Error("Operation name is required.");if(f.apiClient.isVertexAI()){const k=_.name.split("/operations/")[0];let H;w&&"httpOptions"in w&&(H=w.httpOptions);const Q=yield f.fetchPredictVideosOperationInternal({operationName:_.name,resourceName:k,config:{httpOptions:H}});return _._fromAPIResponse({apiResponse:Q,_isVertexAI:!0})}{const k=yield f.getVideosOperationInternal({operationName:_.name,config:w});return _._fromAPIResponse({apiResponse:k,_isVertexAI:!1})}})()}get(s){var f=this;return(0,L.A)(function*(){const _=s.operation,w=s.config;if(void 0===_.name||""===_.name)throw new Error("Operation name is required.");if(f.apiClient.isVertexAI()){const k=_.name.split("/operations/")[0];let H;w&&"httpOptions"in w&&(H=w.httpOptions);const Q=yield f.fetchPredictVideosOperationInternal({operationName:_.name,resourceName:k,config:{httpOptions:H}});return _._fromAPIResponse({apiResponse:Q,_isVertexAI:!0})}{const k=yield f.getVideosOperationInternal({operationName:_.name,config:w});return _._fromAPIResponse({apiResponse:k,_isVertexAI:!1})}})()}getVideosOperationInternal(s){var f=this;return(0,L.A)(function*(){var _,w,k,H;let Q,J="",re={};if(f.apiClient.isVertexAI()){const Y=function et(a){const s={},f=m(a,["operationName"]);return null!=f&&v(s,["_url","operationName"],f),s}(s);return J=ee("{operationName}",Y._url),re=Y._query,delete Y._url,delete Y._query,Q=f.apiClient.request({path:J,queryParams:re,body:JSON.stringify(Y),httpMethod:"GET",httpOptions:null===(_=s.config)||void 0===_?void 0:_.httpOptions,abortSignal:null===(w=s.config)||void 0===w?void 0:w.abortSignal}).then(fe=>fe.json()),Q}{const Y=function ze(a){const s={},f=m(a,["operationName"]);return null!=f&&v(s,["_url","operationName"],f),s}(s);return J=ee("{operationName}",Y._url),re=Y._query,delete Y._url,delete Y._query,Q=f.apiClient.request({path:J,queryParams:re,body:JSON.stringify(Y),httpMethod:"GET",httpOptions:null===(k=s.config)||void 0===k?void 0:k.httpOptions,abortSignal:null===(H=s.config)||void 0===H?void 0:H.abortSignal}).then(fe=>fe.json()),Q}})()}fetchPredictVideosOperationInternal(s){var f=this;return(0,L.A)(function*(){var _,w;let k,H="",Q={};if(f.apiClient.isVertexAI()){const J=function Le(a){const s={},f=m(a,["operationName"]);null!=f&&v(s,["operationName"],f);const _=m(a,["resourceName"]);return null!=_&&v(s,["_url","resourceName"],_),s}(s);return H=ee("{resourceName}:fetchPredictOperation",J._url),Q=J._query,delete J._url,delete J._query,k=f.apiClient.request({path:H,queryParams:Q,body:JSON.stringify(J),httpMethod:"POST",httpOptions:null===(_=s.config)||void 0===_?void 0:_.httpOptions,abortSignal:null===(w=s.config)||void 0===w?void 0:w.abortSignal}).then(re=>re.json()),k}throw new Error("This method is only supported by the Vertex AI.")})()}}function nl(a,s,f){const w=m(s,["expireTime"]);void 0!==f&&null!=w&&v(f,["expireTime"],w);const k=m(s,["newSessionExpireTime"]);void 0!==f&&null!=k&&v(f,["newSessionExpireTime"],k);const H=m(s,["uses"]);void 0!==f&&null!=H&&v(f,["uses"],H);const Q=m(s,["liveConnectConstraints"]);void 0!==f&&null!=Q&&v(f,["bidiGenerateContentSetup"],function yf(a,s){const f={},_=m(s,["model"]);null!=_&&v(f,["setup","model"],xt(a,_));const w=m(s,["config"]);return null!=w&&v(f,["config"],function Dd(a,s){const _=m(a,["generationConfig"]);void 0!==s&&null!=_&&v(s,["setup","generationConfig"],_);const w=m(a,["responseModalities"]);void 0!==s&&null!=w&&v(s,["setup","generationConfig","responseModalities"],w);const k=m(a,["temperature"]);void 0!==s&&null!=k&&v(s,["setup","generationConfig","temperature"],k);const H=m(a,["topP"]);void 0!==s&&null!=H&&v(s,["setup","generationConfig","topP"],H);const Q=m(a,["topK"]);void 0!==s&&null!=Q&&v(s,["setup","generationConfig","topK"],Q);const J=m(a,["maxOutputTokens"]);void 0!==s&&null!=J&&v(s,["setup","generationConfig","maxOutputTokens"],J);const re=m(a,["mediaResolution"]);void 0!==s&&null!=re&&v(s,["setup","generationConfig","mediaResolution"],re);const Y=m(a,["seed"]);void 0!==s&&null!=Y&&v(s,["setup","generationConfig","seed"],Y);const fe=m(a,["speechConfig"]);void 0!==s&&null!=fe&&v(s,["setup","generationConfig","speechConfig"],Ls(fe));const $e=m(a,["thinkingConfig"]);void 0!==s&&null!=$e&&v(s,["setup","generationConfig","thinkingConfig"],$e);const Ne=m(a,["enableAffectiveDialog"]);void 0!==s&&null!=Ne&&v(s,["setup","generationConfig","enableAffectiveDialog"],Ne);const vn=m(a,["systemInstruction"]);void 0!==s&&null!=vn&&v(s,["setup","systemInstruction"],function sd(a){const s={},f=m(a,["parts"]);if(null!=f){let w=f;Array.isArray(w)&&(w=w.map(k=>function wd(a){const s={},f=m(a,["mediaResolution"]);null!=f&&v(s,["mediaResolution"],f);const _=m(a,["codeExecutionResult"]);null!=_&&v(s,["codeExecutionResult"],_);const w=m(a,["executableCode"]);null!=w&&v(s,["executableCode"],w);const k=m(a,["fileData"]);null!=k&&v(s,["fileData"],function zd(a){const s={};if(void 0!==m(a,["displayName"]))throw new Error("displayName parameter is not supported in Gemini API.");const f=m(a,["fileUri"]);null!=f&&v(s,["fileUri"],f);const _=m(a,["mimeType"]);return null!=_&&v(s,["mimeType"],_),s}(k));const H=m(a,["functionCall"]);null!=H&&v(s,["functionCall"],function ad(a){const s={},f=m(a,["id"]);null!=f&&v(s,["id"],f);const _=m(a,["args"]);null!=_&&v(s,["args"],_);const w=m(a,["name"]);if(null!=w&&v(s,["name"],w),void 0!==m(a,["partialArgs"]))throw new Error("partialArgs parameter is not supported in Gemini API.");if(void 0!==m(a,["willContinue"]))throw new Error("willContinue parameter is not supported in Gemini API.");return s}(H));const Q=m(a,["functionResponse"]);null!=Q&&v(s,["functionResponse"],Q);const J=m(a,["inlineData"]);null!=J&&v(s,["inlineData"],function Ao(a){const s={},f=m(a,["data"]);if(null!=f&&v(s,["data"],f),void 0!==m(a,["displayName"]))throw new Error("displayName parameter is not supported in Gemini API.");const _=m(a,["mimeType"]);return null!=_&&v(s,["mimeType"],_),s}(J));const re=m(a,["text"]);null!=re&&v(s,["text"],re);const Y=m(a,["thought"]);null!=Y&&v(s,["thought"],Y);const fe=m(a,["thoughtSignature"]);null!=fe&&v(s,["thoughtSignature"],fe);const $e=m(a,["videoMetadata"]);return null!=$e&&v(s,["videoMetadata"],$e),s}(k))),v(s,["parts"],w)}const _=m(a,["role"]);return null!=_&&v(s,["role"],_),s}(to(vn)));const rr=m(a,["tools"]);if(void 0!==s&&null!=rr){let vi=$o(rr);Array.isArray(vi)&&(vi=vi.map(jo=>function o(a){const s={};if(void 0!==m(a,["retrieval"]))throw new Error("retrieval parameter is not supported in Gemini API.");const f=m(a,["computerUse"]);null!=f&&v(s,["computerUse"],f);const _=m(a,["fileSearch"]);null!=_&&v(s,["fileSearch"],_);const w=m(a,["codeExecution"]);if(null!=w&&v(s,["codeExecution"],w),void 0!==m(a,["enterpriseWebSearch"]))throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const k=m(a,["functionDeclarations"]);if(null!=k){let Y=k;Array.isArray(Y)&&(Y=Y.map(fe=>fe)),v(s,["functionDeclarations"],Y)}const H=m(a,["googleMaps"]);null!=H&&v(s,["googleMaps"],function ld(a){const s={};if(void 0!==m(a,["authConfig"]))throw new Error("authConfig parameter is not supported in Gemini API.");const f=m(a,["enableWidget"]);return null!=f&&v(s,["enableWidget"],f),s}(H));const Q=m(a,["googleSearch"]);null!=Q&&v(s,["googleSearch"],function ta(a){const s={};if(void 0!==m(a,["excludeDomains"]))throw new Error("excludeDomains parameter is not supported in Gemini API.");if(void 0!==m(a,["blockingConfidence"]))throw new Error("blockingConfidence parameter is not supported in Gemini API.");const f=m(a,["timeRangeFilter"]);return null!=f&&v(s,["timeRangeFilter"],f),s}(Q));const J=m(a,["googleSearchRetrieval"]);null!=J&&v(s,["googleSearchRetrieval"],J);const re=m(a,["urlContext"]);return null!=re&&v(s,["urlContext"],re),s}(ca(jo)))),v(s,["setup","tools"],vi)}const Rn=m(a,["sessionResumption"]);void 0!==s&&null!=Rn&&v(s,["setup","sessionResumption"],function Yu(a){const s={},f=m(a,["handle"]);if(null!=f&&v(s,["handle"],f),void 0!==m(a,["transparent"]))throw new Error("transparent parameter is not supported in Gemini API.");return s}(Rn));const pr=m(a,["inputAudioTranscription"]);void 0!==s&&null!=pr&&v(s,["setup","inputAudioTranscription"],pr);const cr=m(a,["outputAudioTranscription"]);void 0!==s&&null!=cr&&v(s,["setup","outputAudioTranscription"],cr);const $r=m(a,["realtimeInputConfig"]);void 0!==s&&null!=$r&&v(s,["setup","realtimeInputConfig"],$r);const ri=m(a,["contextWindowCompression"]);void 0!==s&&null!=ri&&v(s,["setup","contextWindowCompression"],ri);const Ti=m(a,["proactivity"]);if(void 0!==s&&null!=Ti&&v(s,["setup","proactivity"],Ti),void 0!==m(a,["explicitVadSignal"]))throw new Error("explicitVadSignal parameter is not supported in Gemini API.");return{}}(w,f)),f}(a,Q));const J=m(s,["lockAdditionalFields"]);return void 0!==f&&null!=J&&v(f,["fieldMask"],J),{}}class y extends Ae{constructor(s){super(),this.apiClient=s}create(s){var f=this;return(0,L.A)(function*(){var _,w;let k,H="",Q={};if(f.apiClient.isVertexAI())throw new Error("The client.tokens.create method is only supported by the Gemini Developer API.");{const J=function pc(a,s){const f={},_=m(s,["config"]);return null!=_&&v(f,["config"],nl(a,_,f)),f}(f.apiClient,s);H=ee("auth_tokens",J._url),Q=J._query,delete J.config,delete J._url,delete J._query;const re=function C(a,s){let f=null;const _=a.bidiGenerateContentSetup;if("object"==typeof _&&null!==_&&"setup"in _){const k=_.setup;"object"==typeof k&&null!==k?(a.bidiGenerateContentSetup=k,f=k):delete a.bidiGenerateContentSetup}else void 0!==_&&delete a.bidiGenerateContentSetup;const w=a.fieldMask;if(f){const k=function d(a){const s=[];for(const f in a)if(Object.prototype.hasOwnProperty.call(a,f)){const _=a[f];if("object"==typeof _&&null!=_&&Object.keys(_).length>0){const w=Object.keys(_).map(k=>`${f}.${k}`);s.push(...w)}else s.push(f)}return s.join(",")}(f);if(Array.isArray(s?.lockAdditionalFields)&&0===s?.lockAdditionalFields.length)k?a.fieldMask=k:delete a.fieldMask;else if(s?.lockAdditionalFields&&s.lockAdditionalFields.length>0&&null!==w&&Array.isArray(w)&&w.length>0){const H=["temperature","topK","topP","maxOutputTokens","responseModalities","seed","speechConfig"];let Q=[];w.length>0&&(Q=w.map(re=>H.includes(re)?`generationConfig.${re}`:re));const J=[];k&&J.push(k),Q.length>0&&J.push(...Q),J.length>0?a.fieldMask=J.join(","):delete a.fieldMask}else delete a.fieldMask}else null!==w&&Array.isArray(w)&&w.length>0?a.fieldMask=w.join(","):delete a.fieldMask;return a}(J,s.config);return k=f.apiClient.request({path:H,queryParams:Q,body:JSON.stringify(re),httpMethod:"POST",httpOptions:null===(_=s.config)||void 0===_?void 0:_.httpOptions,abortSignal:null===(w=s.config)||void 0===w?void 0:w.abortSignal}).then(Y=>Y.json()),k.then(Y=>Y)}})()}}class nt extends Ae{constructor(s){var f;super(),f=this,this.apiClient=s,this.list=function(){var _=(0,L.A)(function*(w){return new St(_t.PAGED_ITEM_DOCUMENTS,k=>f.listInternal({parent:w.parent,config:k.config}),yield f.listInternal(w),w)});return function(w){return _.apply(this,arguments)}}()}get(s){var f=this;return(0,L.A)(function*(){var _,w;let k,H="",Q={};if(f.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const J=function X(a){const s={},f=m(a,["name"]);return null!=f&&v(s,["_url","name"],f),s}(s);return H=ee("{name}",J._url),Q=J._query,delete J._url,delete J._query,k=f.apiClient.request({path:H,queryParams:Q,body:JSON.stringify(J),httpMethod:"GET",httpOptions:null===(_=s.config)||void 0===_?void 0:_.httpOptions,abortSignal:null===(w=s.config)||void 0===w?void 0:w.abortSignal}).then(re=>re.json()),k.then(re=>re)}})()}delete(s){var f=this;return(0,L.A)(function*(){var _,w;let k="",H={};if(f.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const Q=function F(a){const s={},f=m(a,["name"]);null!=f&&v(s,["_url","name"],f);const _=m(a,["config"]);return null!=_&&function x(a,s){const _=m(a,["force"]);void 0!==s&&null!=_&&v(s,["_query","force"],_)}(_,s),s}(s);k=ee("{name}",Q._url),H=Q._query,delete Q._url,delete Q._query,yield f.apiClient.request({path:k,queryParams:H,body:JSON.stringify(Q),httpMethod:"DELETE",httpOptions:null===(_=s.config)||void 0===_?void 0:_.httpOptions,abortSignal:null===(w=s.config)||void 0===w?void 0:w.abortSignal})}})()}listInternal(s){var f=this;return(0,L.A)(function*(){var _,w;let k,H="",Q={};if(f.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const J=function ue(a){const s={},f=m(a,["parent"]);null!=f&&v(s,["_url","parent"],f);const _=m(a,["config"]);return null!=_&&function Z(a,s){const _=m(a,["pageSize"]);void 0!==s&&null!=_&&v(s,["_query","pageSize"],_);const w=m(a,["pageToken"]);void 0!==s&&null!=w&&v(s,["_query","pageToken"],w)}(_,s),s}(s);return H=ee("{parent}/documents",J._url),Q=J._query,delete J._url,delete J._query,k=f.apiClient.request({path:H,queryParams:Q,body:JSON.stringify(J),httpMethod:"GET",httpOptions:null===(_=s.config)||void 0===_?void 0:_.httpOptions,abortSignal:null===(w=s.config)||void 0===w?void 0:w.abortSignal}).then(re=>re.json()),k.then(re=>{const Y=function ye(a){const s={},f=m(a,["sdkHttpResponse"]);null!=f&&v(s,["sdkHttpResponse"],f);const _=m(a,["nextPageToken"]);null!=_&&v(s,["nextPageToken"],_);const w=m(a,["documents"]);if(null!=w){let k=w;Array.isArray(k)&&(k=k.map(H=>H)),v(s,["documents"],k)}return s}(re),fe=new Ur;return Object.assign(fe,Y),fe})}})()}}class ft extends Ae{constructor(s,f=new nt(s)){var _;super(),_=this,this.apiClient=s,this.documents=f,this.list=(0,L.A)(function*(w={}){return new St(_t.PAGED_ITEM_FILE_SEARCH_STORES,k=>_.listInternal(k),yield _.listInternal(w),w)})}uploadToFileSearchStore(s){var f=this;return(0,L.A)(function*(){if(f.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files to a file search store.");return f.apiClient.uploadFileToFileSearchStore(s.fileSearchStoreName,s.file,s.config)})()}create(s){var f=this;return(0,L.A)(function*(){var _,w;let k,H="",Q={};if(f.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const J=function Wa(a){const s={},f=m(a,["config"]);return null!=f&&function js(a,s){const _=m(a,["displayName"]);void 0!==s&&null!=_&&v(s,["displayName"],_)}(f,s),s}(s);return H=ee("fileSearchStores",J._url),Q=J._query,delete J._url,delete J._query,k=f.apiClient.request({path:H,queryParams:Q,body:JSON.stringify(J),httpMethod:"POST",httpOptions:null===(_=s.config)||void 0===_?void 0:_.httpOptions,abortSignal:null===(w=s.config)||void 0===w?void 0:w.abortSignal}).then(re=>re.json()),k.then(re=>re)}})()}get(s){var f=this;return(0,L.A)(function*(){var _,w;let k,H="",Q={};if(f.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const J=function ns(a){const s={},f=m(a,["name"]);return null!=f&&v(s,["_url","name"],f),s}(s);return H=ee("{name}",J._url),Q=J._query,delete J._url,delete J._query,k=f.apiClient.request({path:H,queryParams:Q,body:JSON.stringify(J),httpMethod:"GET",httpOptions:null===(_=s.config)||void 0===_?void 0:_.httpOptions,abortSignal:null===(w=s.config)||void 0===w?void 0:w.abortSignal}).then(re=>re.json()),k.then(re=>re)}})()}delete(s){var f=this;return(0,L.A)(function*(){var _,w;let k="",H={};if(f.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const Q=function ts(a){const s={},f=m(a,["name"]);null!=f&&v(s,["_url","name"],f);const _=m(a,["config"]);return null!=_&&function hs(a,s){const _=m(a,["force"]);void 0!==s&&null!=_&&v(s,["_query","force"],_)}(_,s),s}(s);k=ee("{name}",Q._url),H=Q._query,delete Q._url,delete Q._query,yield f.apiClient.request({path:k,queryParams:H,body:JSON.stringify(Q),httpMethod:"DELETE",httpOptions:null===(_=s.config)||void 0===_?void 0:_.httpOptions,abortSignal:null===(w=s.config)||void 0===w?void 0:w.abortSignal})}})()}listInternal(s){var f=this;return(0,L.A)(function*(){var _,w;let k,H="",Q={};if(f.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const J=function Ml(a){const s={},f=m(a,["config"]);return null!=f&&function Kc(a,s){const _=m(a,["pageSize"]);void 0!==s&&null!=_&&v(s,["_query","pageSize"],_);const w=m(a,["pageToken"]);void 0!==s&&null!=w&&v(s,["_query","pageToken"],w)}(f,s),s}(s);return H=ee("fileSearchStores",J._url),Q=J._query,delete J._url,delete J._query,k=f.apiClient.request({path:H,queryParams:Q,body:JSON.stringify(J),httpMethod:"GET",httpOptions:null===(_=s.config)||void 0===_?void 0:_.httpOptions,abortSignal:null===(w=s.config)||void 0===w?void 0:w.abortSignal}).then(re=>re.json()),k.then(re=>{const Y=function Xc(a){const s={},f=m(a,["sdkHttpResponse"]);null!=f&&v(s,["sdkHttpResponse"],f);const _=m(a,["nextPageToken"]);null!=_&&v(s,["nextPageToken"],_);const w=m(a,["fileSearchStores"]);if(null!=w){let k=w;Array.isArray(k)&&(k=k.map(H=>H)),v(s,["fileSearchStores"],k)}return s}(re),fe=new qn;return Object.assign(fe,Y),fe})}})()}uploadToFileSearchStoreInternal(s){var f=this;return(0,L.A)(function*(){var _,w;let k,H="",Q={};if(f.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const J=function gf(a){const s={},f=m(a,["fileSearchStoreName"]);null!=f&&v(s,["_url","file_search_store_name"],f);const _=m(a,["config"]);return null!=_&&vd(_,s),s}(s);return H=ee("upload/v1beta/{file_search_store_name}:uploadToFileSearchStore",J._url),Q=J._query,delete J._url,delete J._query,k=f.apiClient.request({path:H,queryParams:Q,body:JSON.stringify(J),httpMethod:"POST",httpOptions:null===(_=s.config)||void 0===_?void 0:_.httpOptions,abortSignal:null===(w=s.config)||void 0===w?void 0:w.abortSignal}).then(re=>re.json()),k.then(re=>{const Y=function qc(a){const s={},f=m(a,["sdkHttpResponse"]);return null!=f&&v(s,["sdkHttpResponse"],f),s}(re),fe=new tr;return Object.assign(fe,Y),fe})}})()}importFile(s){var f=this;return(0,L.A)(function*(){var _,w;let k,H="",Q={};if(f.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const J=function Ca(a){const s={},f=m(a,["fileSearchStoreName"]);null!=f&&v(s,["_url","file_search_store_name"],f);const _=m(a,["fileName"]);null!=_&&v(s,["fileName"],_);const w=m(a,["config"]);return null!=w&&function Ta(a,s){const _=m(a,["customMetadata"]);if(void 0!==s&&null!=_){let k=_;Array.isArray(k)&&(k=k.map(H=>H)),v(s,["customMetadata"],k)}const w=m(a,["chunkingConfig"]);void 0!==s&&null!=w&&v(s,["chunkingConfig"],w)}(w,s),s}(s);return H=ee("{file_search_store_name}:importFile",J._url),Q=J._query,delete J._url,delete J._query,k=f.apiClient.request({path:H,queryParams:Q,body:JSON.stringify(J),httpMethod:"POST",httpOptions:null===(_=s.config)||void 0===_?void 0:_.httpOptions,abortSignal:null===(w=s.config)||void 0===w?void 0:w.abortSignal}).then(re=>re.json()),k.then(re=>{const Y=function ql(a){const s={},f=m(a,["name"]);null!=f&&v(s,["name"],f);const _=m(a,["metadata"]);null!=_&&v(s,["metadata"],_);const w=m(a,["done"]);null!=w&&v(s,["done"],w);const k=m(a,["error"]);null!=k&&v(s,["error"],k);const H=m(a,["response"]);return null!=H&&v(s,["response"],function Xu(a){const s={},f=m(a,["sdkHttpResponse"]);null!=f&&v(s,["sdkHttpResponse"],f);const _=m(a,["parent"]);null!=_&&v(s,["parent"],_);const w=m(a,["documentName"]);return null!=w&&v(s,["documentName"],w),s}(H)),s}(re),fe=new hi;return Object.assign(fe,Y),fe})}})()}}let jt=function(){const{crypto:a}=globalThis;if(a?.randomUUID)return jt=a.randomUUID.bind(a),a.randomUUID();const s=new Uint8Array(1),f=a?()=>a.getRandomValues(s)[0]:()=>255*Math.random()&255;return"10000000-1000-4000-8000-100000000000".replace(/[018]/g,_=>(+_^f()&15>>+_/4).toString(16))};function _n(a){return"object"==typeof a&&null!==a&&("name"in a&&"AbortError"===a.name||"message"in a&&String(a.message).includes("FetchRequestCanceledException"))}const An=a=>{if(a instanceof Error)return a;if("object"==typeof a&&null!==a){try{if("[object Error]"===Object.prototype.toString.call(a)){const s=new Error(a.message,a.cause?{cause:a.cause}:{});return a.stack&&(s.stack=a.stack),a.cause&&!s.cause&&(s.cause=a.cause),a.name&&(s.name=a.name),s}}catch{}try{return new Error(JSON.stringify(a))}catch{}}return new Error(a)};class Bn extends Error{}class Kn extends Bn{constructor(s,f,_,w){super(`${Kn.makeMessage(s,f,_)}`),this.status=s,this.headers=w,this.error=f}static makeMessage(s,f,_){const w=f?.message?"string"==typeof f.message?f.message:JSON.stringify(f.message):f?JSON.stringify(f):_;return s&&w?`${s} ${w}`:s?`${s} status code (no body)`:w||"(no status code or body)"}static generate(s,f,_,w){if(!s||!w)return new ar({message:_,cause:An(f)});const k=f;return 400===s?new Qr(s,k,_,w):401===s?new Hr(s,k,_,w):403===s?new Ri(s,k,_,w):404===s?new Lo(s,k,_,w):409===s?new Ps(s,k,_,w):422===s?new rs(s,k,_,w):429===s?new na(s,k,_,w):s>=500?new rl(s,k,_,w):new Kn(s,k,_,w)}}class mr extends Kn{constructor({message:s}={}){super(void 0,void 0,s||"Request was aborted.",void 0)}}class ar extends Kn{constructor({message:s,cause:f}){super(void 0,void 0,s||"Connection error.",void 0),f&&(this.cause=f)}}class xr extends ar{constructor({message:s}={}){super({message:s??"Request timed out."})}}class Qr extends Kn{}class Hr extends Kn{}class Ri extends Kn{}class Lo extends Kn{}class Ps extends Kn{}class rs extends Kn{}class na extends Kn{}class rl extends Kn{}const Fs=/^[a-z][a-z0-9+.-]*:/i;let Gs=a=>(Gs=Array.isArray,Gs(a));const Ts=Gs,Ss="0.0.1",Bu=()=>{var a,s,f,_,w;const k=function ud(){return typeof Deno<"u"&&null!=Deno.build?"deno":typeof EdgeRuntime<"u"?"edge":"[object process]"===Object.prototype.toString.call(typeof globalThis.process<"u"?globalThis.process:0)?"node":"unknown"}();if("deno"===k)return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Ss,"X-Stainless-OS":Aa(Deno.build.os),"X-Stainless-Arch":mc(Deno.build.arch),"X-Stainless-Runtime":"deno","X-Stainless-Runtime-Version":"string"==typeof Deno.version?Deno.version:null!==(s=null===(a=Deno.version)||void 0===a?void 0:a.deno)&&void 0!==s?s:"unknown"};if(typeof EdgeRuntime<"u")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Ss,"X-Stainless-OS":"Unknown","X-Stainless-Arch":`other:${EdgeRuntime}`,"X-Stainless-Runtime":"edge","X-Stainless-Runtime-Version":globalThis.process.version};if("node"===k)return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Ss,"X-Stainless-OS":Aa(null!==(f=globalThis.process.platform)&&void 0!==f?f:"unknown"),"X-Stainless-Arch":mc(null!==(_=globalThis.process.arch)&&void 0!==_?_:"unknown"),"X-Stainless-Runtime":"node","X-Stainless-Runtime-Version":null!==(w=globalThis.process.version)&&void 0!==w?w:"unknown"};const H=function Tc(){if(typeof navigator>"u"||!navigator)return null;const a=[{key:"edge",pattern:/Edge(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/MSIE(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/Trident(?:.*rv\:(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"chrome",pattern:/Chrome(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"firefox",pattern:/Firefox(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"safari",pattern:/(?:Version\W+(\d+)\.(\d+)(?:\.(\d+))?)?(?:\W+Mobile\S*)?\W+Safari/}];for(const{key:s,pattern:f}of a){const _=f.exec(navigator.userAgent);if(_)return{browser:s,version:`${_[1]||0}.${_[2]||0}.${_[3]||0}`}}return null}();return H?{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Ss,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":`browser:${H.browser}`,"X-Stainless-Runtime-Version":H.version}:{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Ss,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":"unknown","X-Stainless-Runtime-Version":"unknown"}},mc=a=>"x32"===a?"x32":"x86_64"===a||"x64"===a?"x64":"arm"===a?"arm":"aarch64"===a||"arm64"===a?"arm64":a?`other:${a}`:"unknown",Aa=a=>(a=a.toLowerCase()).includes("ios")?"iOS":"android"===a?"Android":"darwin"===a?"MacOS":"win32"===a?"Windows":"freebsd"===a?"FreeBSD":"openbsd"===a?"OpenBSD":"linux"===a?"Linux":a?`Other:${a}`:"Unknown";let kr;function $h(...a){const s=globalThis.ReadableStream;if(typeof s>"u")throw new Error("`ReadableStream` is not defined as a global; You will need to polyfill it, `globalThis.ReadableStream = ReadableStream`");return new s(...a)}function Wh(a){let s=Symbol.asyncIterator in a?a[Symbol.asyncIterator]():a[Symbol.iterator]();return $h({start(){},pull:f=>(0,L.A)(function*(){const{done:_,value:w}=yield s.next();_?f.close():f.enqueue(w)})(),cancel:()=>(0,L.A)(function*(){var f;yield null===(f=s.return)||void 0===f?void 0:f.call(s)})()})}function oh(a){if(a[Symbol.asyncIterator])return a;const s=a.getReader();return{next:()=>(0,L.A)(function*(){try{const f=yield s.read();return f?.done&&s.releaseLock(),f}catch(f){throw s.releaseLock(),f}})(),return:()=>(0,L.A)(function*(){const f=s.cancel();return s.releaseLock(),yield f,{done:!0,value:void 0}})(),[Symbol.asyncIterator](){return this}}}function Td(){return(Td=(0,L.A)(function*(a){var s,f;if(null===a||"object"!=typeof a)return;if(a[Symbol.asyncIterator])return void(yield null===(f=(s=a[Symbol.asyncIterator]()).return)||void 0===f?void 0:f.call(s));const _=a.getReader(),w=_.cancel();_.releaseLock(),yield w})).apply(this,arguments)}const Kh=({body:s})=>({bodyHeaders:{"content-type":"application/json"},body:JSON.stringify(s)}),Sd=()=>{var a;if(typeof File>"u"){const{process:s}=globalThis,f="string"==typeof(null===(a=s?.versions)||void 0===a?void 0:a.node)&&parseInt(s.versions.node.split("."))<20;throw new Error("`File` is not defined as a global, which is required for file uploads."+(f?" Update to Node 20 LTS or newer, or set `globalThis.File` to `import('node:buffer').File`.":""))}};function Cf(a,s,f){return Sd(),new File(a,s??"unknown_file",f)}const sh=a=>null!=a&&"object"==typeof a&&"number"==typeof a.size&&"string"==typeof a.type&&"function"==typeof a.text&&"function"==typeof a.slice&&"function"==typeof a.arrayBuffer;function bf(){return(bf=(0,L.A)(function*(a,s,f){if(Sd(),(a=>null!=a&&"object"==typeof a&&"string"==typeof a.name&&"number"==typeof a.lastModified&&sh(a))(a=yield a))return a instanceof File?a:Cf([yield a.arrayBuffer()],a.name);if((a=>null!=a&&"object"==typeof a&&"string"==typeof a.url&&"function"==typeof a.blob)(a)){const w=yield a.blob();return s||(s=new URL(a.url).pathname.split(/[\\/]/).pop()),Cf(yield xf(w),s,f)}const _=yield xf(a);if(s||(s=function Kd(a){return("object"==typeof a&&null!==a&&("name"in a&&a.name&&String(a.name)||"url"in a&&a.url&&String(a.url)||"filename"in a&&a.filename&&String(a.filename)||"path"in a&&a.path&&String(a.path))||"").split(/[\\/]/).pop()||void 0}(a)),!f?.type){const w=_.find(k=>"object"==typeof k&&"type"in k&&k.type);"string"==typeof w&&(f=Object.assign(Object.assign({},f),{type:w}))}return Cf(_,s,f)})).apply(this,arguments)}function xf(a){return Df.apply(this,arguments)}function Df(){return(Df=(0,L.A)(function*(a){var s,f,_,k;let H=[];if("string"==typeof a||ArrayBuffer.isView(a)||a instanceof ArrayBuffer)H.push(a);else if(sh(a))H.push(a instanceof Blob?a:yield a.arrayBuffer());else{if(!(a=>null!=a&&"object"==typeof a&&"function"==typeof a[Symbol.asyncIterator])(a)){const Y=null===(k=a?.constructor)||void 0===k?void 0:k.name;throw new Error(`Unexpected data type: ${typeof a}${Y?`; constructor: ${Y}`:""}${function Yd(a){return"object"!=typeof a||null===a?"":`; props: [${Object.getOwnPropertyNames(a).map(f=>`"${f}"`).join(", ")}]`}(a)}`)}try{for(var re,Q=!0,J=cs(a);!(s=(re=yield J.next()).done);Q=!0){Q=!1;const Y=re.value;H.push(...yield xf(Y))}}catch(Y){f={error:Y}}finally{try{!Q&&!s&&(_=J.return)&&(yield _.call(J))}finally{if(f)throw f.error}}}return H})).apply(this,arguments)}let Xh=(()=>{class a{constructor(f){this._client=f}}return a._key=[],a})();function Hc(a){return a.replace(/[^A-Za-z0-9\-._~!$&'()*+,;=:@]+/g,encodeURIComponent)}const Sc=Object.freeze(Object.create(null)),wf=((a=Hc)=>function(f,..._){if(1===f.length)return f[0];let w=!1;const k=[],H=f.reduce((Y,fe,$e)=>{var Ne,vn,rr;/[?#]/.test(fe)&&(w=!0);const Rn=_[$e];let pr=(w?encodeURIComponent:a)(""+Rn);return $e!==_.length&&(null==Rn||"object"==typeof Rn&&Rn.toString===(null===(rr=Object.getPrototypeOf(null!==(vn=Object.getPrototypeOf(null!==(Ne=Rn.hasOwnProperty)&&void 0!==Ne?Ne:Sc))&&void 0!==vn?vn:Sc))||void 0===rr?void 0:rr.toString))&&(pr=Rn+"",k.push({start:Y.length+fe.length,length:pr.length,error:`Value of type ${Object.prototype.toString.call(Rn).slice(8,-1)} is not a valid path parameter`})),Y+fe+($e===_.length?"":pr)},""),Q=H.split(/[?#]/,1)[0],J=/(?<=^|\/)(?:\.|%2e){1,2}(?=\/|$)/gi;let re;for(;null!==(re=J.exec(Q));)k.push({start:re.index,length:re[0].length,error:`Value "${re[0]}" can't be safely passed as a path parameter`});if(k.sort((Y,fe)=>Y.start-fe.start),k.length>0){let Y=0;const fe=k.reduce(($e,Ne)=>{const vn=" ".repeat(Ne.start-Y),rr="^".repeat(Ne.length);return Y=Ne.start+Ne.length,$e+vn+rr},"");throw new Bn(`Path parameters result in path with invalid segments:\n${k.map($e=>$e.error).join("\n")}\n${H}\n${fe}`)}return H})(Hc);class cd extends Xh{create(s,f){var _;const{api_version:w=this._client.apiVersion}=s,k=Jo(s,["api_version"]);if("model"in k&&"agent_config"in k)throw new Bn("Invalid request: specified `model` and `agent_config`. If specifying `model`, use `generation_config`.");if("agent"in k&&"generation_config"in k)throw new Bn("Invalid request: specified `agent` and `generation_config`. If specifying `agent`, use `agent_config`.");return this._client.post(wf`/${w}/interactions`,Object.assign(Object.assign({body:k},f),{stream:null!==(_=s.stream)&&void 0!==_&&_}))}delete(s,f={},_){const{api_version:w=this._client.apiVersion}=f??{};return this._client.delete(wf`/${w}/interactions/${s}`,_)}cancel(s,f={},_){const{api_version:w=this._client.apiVersion}=f??{};return this._client.post(wf`/${w}/interactions/${s}/cancel`,_)}get(s,f={},_){var w;const k=f??{},{api_version:H=this._client.apiVersion}=k,Q=Jo(k,["api_version"]);return this._client.get(wf`/${H}/interactions/${s}`,Object.assign(Object.assign({query:Q},_),{stream:null!==(w=f?.stream)&&void 0!==w&&w}))}}cd._key=Object.freeze(["interactions"]);class lh extends cd{}let Ad,Qd;function Tf(a){let s;return(Ad??(s=new globalThis.TextEncoder,Ad=s.encode.bind(s)))(a)}function ch(a){let s;return(Qd??(s=new globalThis.TextDecoder,Qd=s.decode.bind(s)))(a)}class Jd{constructor(){this.buffer=new Uint8Array,this.carriageReturnIndex=null}decode(s){if(null==s)return[];const f=s instanceof ArrayBuffer?new Uint8Array(s):"string"==typeof s?Tf(s):s;this.buffer=function uh(a){let s=0;for(const w of a)s+=w.length;const f=new Uint8Array(s);let _=0;for(const w of a)f.set(w,_),_+=w.length;return f}([this.buffer,f]);const _=[];let w;for(;null!=(w=qh(this.buffer,this.carriageReturnIndex));){if(w.carriage&&null==this.carriageReturnIndex){this.carriageReturnIndex=w.index;continue}if(null!=this.carriageReturnIndex&&(w.index!==this.carriageReturnIndex+1||w.carriage)){_.push(ch(this.buffer.subarray(0,this.carriageReturnIndex-1))),this.buffer=this.buffer.subarray(this.carriageReturnIndex),this.carriageReturnIndex=null;continue}const H=ch(this.buffer.subarray(0,null!==this.carriageReturnIndex?w.preceding-1:w.preceding));_.push(H),this.buffer=this.buffer.subarray(w.index),this.carriageReturnIndex=null}return _}flush(){return this.buffer.length?this.decode("\n"):[]}}function qh(a,s){for(let w=s??0;w<a.length;w++){if(10===a[w])return{preceding:w,index:w+1,carriage:!1};if(13===a[w])return{preceding:w,index:w+1,carriage:!0}}return null}function Yh(a){for(let _=0;_<a.length-1;_++){if(10===a[_]&&10===a[_+1]||13===a[_]&&13===a[_+1])return _+2;if(13===a[_]&&10===a[_+1]&&_+3<a.length&&13===a[_+2]&&10===a[_+3])return _+4}return-1}Jd.NEWLINE_CHARS=new Set(["\n","\r"]),Jd.NEWLINE_REGEXP=/\r\n|[\n\r]/g;const Md={off:0,error:200,warn:300,info:400,debug:500},Qh=(a,s,f)=>{if(a){if(function gc(a,s){return Object.prototype.hasOwnProperty.call(a,s)}(Md,a))return a;Ql(f).warn(`${s} was set to ${JSON.stringify(a)}, expected one of ${JSON.stringify(Object.keys(Md))}`)}};function dd(){}function Zd(a,s,f){return!s||Md[a]>Md[f]?dd:s[a].bind(s)}const ef={error:dd,warn:dd,info:dd,debug:dd};let dh=new WeakMap;function Ql(a){var s;const f=a.logger,_=null!==(s=a.logLevel)&&void 0!==s?s:"off";if(!f)return ef;const w=dh.get(f);if(w&&w[0]===_)return w[1];const k={error:Zd("error",f,_),warn:Zd("warn",f,_),info:Zd("info",f,_),debug:Zd("debug",f,_)};return dh.set(f,[_,k]),k}const Ac=a=>(a.options&&(a.options=Object.assign({},a.options),delete a.options.headers),a.headers&&(a.headers=Object.fromEntries((a.headers instanceof Headers?[...a.headers]:Object.entries(a.headers)).map(([s,f])=>[s,"x-goog-api-key"===s.toLowerCase()||"authorization"===s.toLowerCase()||"cookie"===s.toLowerCase()||"set-cookie"===s.toLowerCase()?"***":f]))),"retryOfRequestLogID"in a&&(a.retryOfRequestLogID&&(a.retryOf=a.retryOfRequestLogID),delete a.retryOfRequestLogID),a);class jc{constructor(s,f,_){this.iterator=s,this.controller=f,this.client=_}static fromSSEResponse(s,f,_){let w=!1;const k=_?Ql(_):console;return new jc(function H(){return Is(this,arguments,function*(){var J,re,Y;if(w)throw new Bn("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");w=!0;let $e=!1;try{try{for(var rr,Ne=!0,vn=cs(function Jh(a,s){return Is(this,arguments,function*(){var _,w,k;if(!a.body)throw s.abort(),typeof globalThis.navigator<"u"&&"ReactNative"===globalThis.navigator.product?new Bn("The default react-native fetch implementation does not support streaming. Please use expo/fetch: https://docs.expo.dev/versions/latest/sdk/expo/#expofetch-api"):new Bn("Attempted to iterate over a response with no body");const Q=new fh,J=new Jd,re=oh(a.body);try{for(var $e,Y=!0,fe=cs(function Zh(a){return Is(this,arguments,function*(){var f,_,w;let H=new Uint8Array;try{for(var re,Q=!0,J=cs(a);!(f=(re=yield Qn(J.next())).done);Q=!0){Q=!1;const Y=re.value;if(null==Y)continue;const fe=Y instanceof ArrayBuffer?new Uint8Array(Y):"string"==typeof Y?Tf(Y):Y;let Ne,$e=new Uint8Array(H.length+fe.length);for($e.set(H),$e.set(fe,H.length),H=$e;-1!==(Ne=Yh(H));)yield yield Qn(H.slice(0,Ne)),H=H.slice(Ne)}}catch(Y){_={error:Y}}finally{try{!Q&&!f&&(w=J.return)&&(yield Qn(w.call(J)))}finally{if(_)throw _.error}}H.length>0&&(yield yield Qn(H))})}(re));!(_=($e=yield Qn(fe.next())).done);Y=!0){Y=!1;const Ne=$e.value;for(const vn of J.decode(Ne)){const rr=Q.decode(vn);rr&&(yield yield Qn(rr))}}}catch(Ne){w={error:Ne}}finally{try{!Y&&!_&&(k=fe.return)&&(yield Qn(k.call(fe)))}finally{if(w)throw w.error}}for(const Ne of J.flush()){const vn=Q.decode(Ne);vn&&(yield yield Qn(vn))}})}(s,f));!(J=(rr=yield Qn(vn.next())).done);Ne=!0){Ne=!1;const Rn=rr.value;if(!$e){if(Rn.data.startsWith("[DONE]")){$e=!0;continue}try{yield yield Qn(JSON.parse(Rn.data))}catch(pr){throw k.error("Could not parse message into JSON:",Rn.data),k.error("From chunk:",Rn.raw),pr}}}}catch(Rn){re={error:Rn}}finally{try{!Ne&&!J&&(Y=vn.return)&&(yield Qn(Y.call(vn)))}finally{if(re)throw re.error}}$e=!0}catch(Rn){if(_n(Rn))return yield Qn(void 0);throw Rn}finally{$e||f.abort()}})},f,_)}static fromReadableStream(s,f,_){let w=!1;return new jc(function H(){return Is(this,arguments,function*(){var J,re,Y;if(w)throw new Bn("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");w=!0;let $e=!1;try{try{for(var rr,Ne=!0,vn=cs(function k(){return Is(this,arguments,function*(){var J,re,Y;const $e=new Jd,Ne=oh(s);try{for(var Rn,vn=!0,rr=cs(Ne);!(J=(Rn=yield Qn(rr.next())).done);vn=!0){vn=!1;const pr=Rn.value;for(const cr of $e.decode(pr))yield yield Qn(cr)}}catch(pr){re={error:pr}}finally{try{!vn&&!J&&(Y=rr.return)&&(yield Qn(Y.call(rr)))}finally{if(re)throw re.error}}for(const pr of $e.flush())yield yield Qn(pr)})}());!(J=(rr=yield Qn(vn.next())).done);Ne=!0){Ne=!1;const Rn=rr.value;$e||Rn&&(yield yield Qn(JSON.parse(Rn)))}}catch(Rn){re={error:Rn}}finally{try{!Ne&&!J&&(Y=vn.return)&&(yield Qn(Y.call(vn)))}finally{if(re)throw re.error}}$e=!0}catch(Rn){if(_n(Rn))return yield Qn(void 0);throw Rn}finally{$e||f.abort()}})},f,_)}[Symbol.asyncIterator](){return this.iterator()}tee(){const s=[],f=[],_=this.iterator(),w=k=>({next:()=>{if(0===k.length){const H=_.next();s.push(H),f.push(H)}return k.shift()}});return[new jc(()=>w(s),this.controller,this.client),new jc(()=>w(f),this.controller,this.client)]}toReadableStream(){const s=this;let f;return $h({start:()=>(0,L.A)(function*(){f=s[Symbol.asyncIterator]()})(),pull:_=>(0,L.A)(function*(){try{const{value:w,done:k}=yield f.next();if(k)return _.close();const H=Tf(JSON.stringify(w)+"\n");_.enqueue(H)}catch(w){_.error(w)}})(),cancel:()=>(0,L.A)(function*(){var _;yield null===(_=f.return)||void 0===_?void 0:_.call(f)})()})}}class fh{constructor(){this.event=null,this.data=[],this.chunks=[]}decode(s){if(s.endsWith("\r")&&(s=s.substring(0,s.length-1)),!s){if(!this.event&&!this.data.length)return null;const k={event:this.event,data:this.data.join("\n"),raw:this.chunks};return this.event=null,this.data=[],this.chunks=[],k}if(this.chunks.push(s),s.startsWith(":"))return null;let[f,_,w]=function Sf(a,s){const f=a.indexOf(s);return-1!==f?[a.substring(0,f),s,a.substring(f+s.length)]:[a,"",""]}(s,":");return w.startsWith(" ")&&(w=w.substring(1)),"event"===f?this.event=w:"data"===f&&this.data.push(w),null}}function hh(a,s){return Af.apply(this,arguments)}function Af(){return(Af=(0,L.A)(function*(a,s){const{response:f,requestLogID:_,retryOfRequestLogID:w,startTime:k}=s,H=yield(0,L.A)(function*(){var Q;if(s.options.stream)return Ql(a).debug("response",f.status,f.url,f.headers,f.body),s.options.__streamClass?s.options.__streamClass.fromSSEResponse(f,s.controller,a):jc.fromSSEResponse(f,s.controller,a);if(204===f.status)return null;if(s.options.__binaryResponse)return f;const J=f.headers.get("content-type"),re=null===(Q=J?.split(";")[0])||void 0===Q?void 0:Q.trim();return re?.includes("application/json")||re?.endsWith("+json")?yield f.json():yield f.text()})();return Ql(a).debug(`[${_}] response parsed`,Ac({retryOfRequestLogID:w,url:f.url,status:f.status,body:H,durationMs:Date.now()-k})),H})).apply(this,arguments)}class Mc extends Promise{constructor(s,f,_=hh){super(w=>{w(null)}),this.responsePromise=f,this.parseResponse=_,this.client=s}_thenUnwrap(s){var f=this;return new Mc(this.client,this.responsePromise,function(){var _=(0,L.A)(function*(w,k){return s(yield f.parseResponse(w,k),k)});return function(w,k){return _.apply(this,arguments)}}())}asResponse(){return this.responsePromise.then(s=>s.response)}withResponse(){var s=this;return(0,L.A)(function*(){const[f,_]=yield Promise.all([s.parse(),s.asResponse()]);return{data:f,response:_}})()}parse(){return this.parsedPromise||(this.parsedPromise=this.responsePromise.then(s=>this.parseResponse(this.client,s))),this.parsedPromise}then(s,f){return this.parse().then(s,f)}catch(s){return this.parse().catch(s)}finally(s){return this.parse().finally(s)}}const Mf=Symbol("brand.privateNullableHeaders");function*ph(a){if(!a)return;if(Mf in a){const{values:_,nulls:w}=a;yield*_.entries();for(const k of w)yield[k,null];return}let f,s=!1;a instanceof Headers?f=a.entries():Ts(a)?f=a:(s=!0,f=Object.entries(a??{}));for(let _ of f){const w=_[0];if("string"!=typeof w)throw new TypeError("expected header name to be a string");const k=Ts(_[1])?_[1]:[_[1]];let H=!1;for(const Q of k)void 0!==Q&&(s&&!H&&(H=!0,yield[w,null]),yield[w,Q])}}const Qu=a=>{const s=new Headers,f=new Set;for(const _ of a){const w=new Set;for(const[k,H]of ph(_)){const Q=k.toLowerCase();w.has(Q)||(s.delete(k),w.add(Q)),null===H?(s.delete(k),f.add(Q)):(s.append(k,H),f.delete(Q))}}return{[Mf]:!0,values:s,nulls:f}},Id=a=>{var s,f,_,w,k,H;return typeof globalThis.process<"u"?null!==(_=null===(f=null===(s=globalThis.process.env)||void 0===s?void 0:s[a])||void 0===f?void 0:f.trim())&&void 0!==_?_:void 0:typeof globalThis.Deno<"u"?null===(H=null===(k=null===(w=globalThis.Deno.env)||void 0===w?void 0:w.get)||void 0===k?void 0:k.call(w,a))||void 0===H?void 0:H.trim():void 0};let zp=(()=>{class a{constructor(f){var _,w,k,H,Q,J,re,{baseURL:Y=Id("GEMINI_NEXT_GEN_API_BASE_URL"),apiKey:fe=(null!==(_=Id("GEMINI_API_KEY"))&&void 0!==_?_:null),apiVersion:$e="v1beta"}=f,Ne=Jo(f,["baseURL","apiKey","apiVersion"]);const vn=Object.assign(Object.assign({apiKey:fe,apiVersion:$e},Ne),{baseURL:Y||"https://generativelanguage.googleapis.com"});this.baseURL=vn.baseURL,this.timeout=null!==(w=vn.timeout)&&void 0!==w?w:a.DEFAULT_TIMEOUT,this.logger=null!==(k=vn.logger)&&void 0!==k?k:console,this.logLevel="warn",this.logLevel=null!==(Q=null!==(H=Qh(vn.logLevel,"ClientOptions.logLevel",this))&&void 0!==H?H:Qh(Id("GEMINI_NEXT_GEN_API_LOG"),"process.env['GEMINI_NEXT_GEN_API_LOG']",this))&&void 0!==Q?Q:"warn",this.fetchOptions=vn.fetchOptions,this.maxRetries=null!==(J=vn.maxRetries)&&void 0!==J?J:2,this.fetch=null!==(re=vn.fetch)&&void 0!==re?re:function ih(){if(typeof fetch<"u")return fetch;throw new Error("`fetch` is not defined as a global; Either pass `fetch` to the client, `new GeminiNextGenAPIClient({ fetch })` or polyfill the global, `globalThis.fetch = fetch`")}(),this.encoder=Kh,this._options=vn,this.apiKey=fe,this.apiVersion=$e,this.clientAdapter=vn.clientAdapter}withOptions(f){return new this.constructor(Object.assign(Object.assign(Object.assign({},this._options),{baseURL:this.baseURL,maxRetries:this.maxRetries,timeout:this.timeout,logger:this.logger,logLevel:this.logLevel,fetch:this.fetch,fetchOptions:this.fetchOptions,apiKey:this.apiKey,apiVersion:this.apiVersion}),f))}baseURLOverridden(){return"https://generativelanguage.googleapis.com"!==this.baseURL}defaultQuery(){return this._options.defaultQuery}validateHeaders({values:f,nulls:_}){if(!(f.has("authorization")||f.has("x-goog-api-key")||this.apiKey&&f.get("x-goog-api-key")||_.has("x-goog-api-key")))throw new Error('Could not resolve authentication method. Expected the apiKey to be set. Or for the "x-goog-api-key" headers to be explicitly omitted')}authHeaders(f){var _=this;return(0,L.A)(function*(){const w=Qu([f.headers]);if(!w.values.has("authorization")&&!w.values.has("x-goog-api-key")){if(_.apiKey)return Qu([{"x-goog-api-key":_.apiKey}]);if(_.clientAdapter.isVertexAI())return Qu([yield _.clientAdapter.getAuthHeaders()])}})()}stringifyQuery(f){return Object.entries(f).filter(([_,w])=>typeof w<"u").map(([_,w])=>{if("string"==typeof w||"number"==typeof w||"boolean"==typeof w)return`${encodeURIComponent(_)}=${encodeURIComponent(w)}`;if(null===w)return`${encodeURIComponent(_)}=`;throw new Bn(`Cannot stringify type ${typeof w}; Expected string, number, boolean, or null. If you need to pass nested query parameters, you can manually encode them, e.g. { query: { 'foo[key1]': value1, 'foo[key2]': value2 } }, and please open a GitHub issue requesting better support for your use case.`)}).join("&")}getUserAgent(){return`${this.constructor.name}/JS ${Ss}`}defaultIdempotencyKey(){return`stainless-node-retry-${jt()}`}makeStatusError(f,_,w,k){return Kn.generate(f,_,w,k)}buildURL(f,_,w){const k=!this.baseURLOverridden()&&w||this.baseURL,H=(a=>Fs.test(a))(f)?new URL(f):new URL(k+(k.endsWith("/")&&f.startsWith("/")?f.slice(1):f)),Q=this.defaultQuery();return function Sa(a){if(!a)return!0;for(const s in a)return!1;return!0}(Q)||(_=Object.assign(Object.assign({},Q),_)),"object"==typeof _&&_&&!Array.isArray(_)&&(H.search=this.stringifyQuery(_)),H.toString()}prepareOptions(f){var _=this;return(0,L.A)(function*(){if(_.clientAdapter&&_.clientAdapter.isVertexAI()&&!f.path.startsWith(`/${_.apiVersion}/projects/`)){const w=f.path.slice(_.apiVersion.length+1);f.path=`/${_.apiVersion}/projects/${_.clientAdapter.getProject()}/locations/${_.clientAdapter.getLocation()}${w}`}})()}prepareRequest(f,_){return(0,L.A)(function*(w,{}){}).apply(this,arguments)}get(f,_){return this.methodRequest("get",f,_)}post(f,_){return this.methodRequest("post",f,_)}patch(f,_){return this.methodRequest("patch",f,_)}put(f,_){return this.methodRequest("put",f,_)}delete(f,_){return this.methodRequest("delete",f,_)}methodRequest(f,_,w){return this.request(Promise.resolve(w).then(k=>Object.assign({method:f,path:_},k)))}request(f,_=null){return new Mc(this,this.makeRequest(f,_,void 0))}makeRequest(f,_,w){var k=this;return(0,L.A)(function*(){var H,Q,J;const re=yield f,Y=null!==(H=re.maxRetries)&&void 0!==H?H:k.maxRetries;null==_&&(_=Y),yield k.prepareOptions(re);const{req:fe,url:$e,timeout:Ne}=yield k.buildRequest(re,{retryCount:Y-_});yield k.prepareRequest(fe,{url:$e,options:re});const vn="log_"+(Math.random()*(1<<24)|0).toString(16).padStart(6,"0"),rr=void 0===w?"":`, retryOf: ${w}`,Rn=Date.now();if(Ql(k).debug(`[${vn}] sending request`,Ac({retryOfRequestLogID:w,method:re.method,url:$e,options:re,headers:fe.headers})),null!==(Q=re.signal)&&void 0!==Q&&Q.aborted)throw new mr;const pr=new AbortController,cr=yield k.fetchWithTimeout($e,fe,Ne,pr).catch(An),$r=Date.now();if(cr instanceof globalThis.Error){const Ti=`retrying, ${_} attempts remaining`;if(null!==(J=re.signal)&&void 0!==J&&J.aborted)throw new mr;const vi=_n(cr)||/timed? ?out/i.test(String(cr)+("cause"in cr?String(cr.cause):""));if(_)return Ql(k).info(`[${vn}] connection ${vi?"timed out":"failed"} - ${Ti}`),Ql(k).debug(`[${vn}] connection ${vi?"timed out":"failed"} (${Ti})`,Ac({retryOfRequestLogID:w,url:$e,durationMs:$r-Rn,message:cr.message})),k.retryRequest(re,_,w??vn);throw Ql(k).info(`[${vn}] connection ${vi?"timed out":"failed"} - error; no more retries left`),Ql(k).debug(`[${vn}] connection ${vi?"timed out":"failed"} (error; no more retries left)`,Ac({retryOfRequestLogID:w,url:$e,durationMs:$r-Rn,message:cr.message})),vi?new xr:new ar({cause:cr})}const ri=`[${vn}${rr}] ${fe.method} ${$e} ${cr.ok?"succeeded":"failed"} with status ${cr.status} in ${$r-Rn}ms`;if(!cr.ok){const Ti=yield k.shouldRetry(cr);if(_&&Ti){const Mo=`retrying, ${_} attempts remaining`;return yield function zh(a){return Td.apply(this,arguments)}(cr.body),Ql(k).info(`${ri} - ${Mo}`),Ql(k).debug(`[${vn}] response error (${Mo})`,Ac({retryOfRequestLogID:w,url:cr.url,status:cr.status,headers:cr.headers,durationMs:$r-Rn})),k.retryRequest(re,_,w??vn,cr.headers)}const vi=Ti?"error; no more retries left":"error; not retryable";Ql(k).info(`${ri} - ${vi}`);const jo=yield cr.text().catch(Mo=>An(Mo).message),$s=(a=>{try{return JSON.parse(a)}catch{return}})(jo),za=$s?void 0:jo;throw Ql(k).debug(`[${vn}] response error (${vi})`,Ac({retryOfRequestLogID:w,url:cr.url,status:cr.status,headers:cr.headers,message:za,durationMs:Date.now()-Rn})),k.makeStatusError(cr.status,$s,za,cr.headers)}return Ql(k).info(ri),Ql(k).debug(`[${vn}] response start`,Ac({retryOfRequestLogID:w,url:cr.url,status:cr.status,headers:cr.headers,durationMs:$r-Rn})),{response:cr,options:re,controller:pr,requestLogID:vn,retryOfRequestLogID:w,startTime:Rn}})()}fetchWithTimeout(f,_,w,k){var H=this;return(0,L.A)(function*(){const Q=_||{},{signal:J,method:re}=Q,Y=Jo(Q,["signal","method"]);J&&J.addEventListener("abort",()=>k.abort());const fe=setTimeout(()=>k.abort(),w),$e=globalThis.ReadableStream&&Y.body instanceof globalThis.ReadableStream||"object"==typeof Y.body&&null!==Y.body&&Symbol.asyncIterator in Y.body,Ne=Object.assign(Object.assign(Object.assign({signal:k.signal},$e?{duplex:"half"}:{}),{method:"GET"}),Y);re&&(Ne.method=re.toUpperCase());try{return yield H.fetch.call(void 0,f,Ne)}finally{clearTimeout(fe)}})()}shouldRetry(f){return(0,L.A)(function*(){const _=f.headers.get("x-should-retry");return"true"===_||"false"!==_&&(408===f.status||409===f.status||429===f.status||f.status>=500)})()}retryRequest(f,_,w,k){var H=this;return(0,L.A)(function*(){var Q;let J;const re=k?.get("retry-after-ms");if(re){const fe=parseFloat(re);Number.isNaN(fe)||(J=fe)}const Y=k?.get("retry-after");if(Y&&!J){const fe=parseFloat(Y);J=Number.isNaN(fe)?Date.parse(Y)-Date.now():1e3*fe}if(!(J&&0<=J&&J<6e4)){const fe=null!==(Q=f.maxRetries)&&void 0!==Q?Q:H.maxRetries;J=H.calculateDefaultRetryTimeoutMillis(_,fe)}return yield(a=>new Promise(s=>setTimeout(s,a)))(J),H.makeRequest(f,_-1,w)})()}calculateDefaultRetryTimeoutMillis(f,_){return Math.min(.5*Math.pow(2,_-f),8)*(1-.25*Math.random())*1e3}buildRequest(f){var _=this;return(0,L.A)(function*(w,{retryCount:k=0}={}){var H,Q,J;const re=Object.assign({},w),{method:Y,path:fe,query:$e,defaultBaseURL:Ne}=re,vn=_.buildURL(fe,$e,Ne);"timeout"in re&&((a,s)=>{if("number"!=typeof s||!Number.isInteger(s))throw new Bn(`${a} must be an integer`);if(s<0)throw new Bn(`${a} must be a positive integer`)})("timeout",re.timeout),re.timeout=null!==(H=re.timeout)&&void 0!==H?H:_.timeout;const{bodyHeaders:rr,body:Rn}=_.buildBody({options:re}),pr=yield _.buildHeaders({options:w,method:Y,bodyHeaders:rr,retryCount:k});return{req:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({method:Y,headers:pr},re.signal&&{signal:re.signal}),globalThis.ReadableStream&&Rn instanceof globalThis.ReadableStream&&{duplex:"half"}),Rn&&{body:Rn}),null!==(Q=_.fetchOptions)&&void 0!==Q?Q:{}),null!==(J=re.fetchOptions)&&void 0!==J?J:{}),url:vn,timeout:re.timeout}}).apply(this,arguments)}buildHeaders(f){var _=this;return(0,L.A)(function*({options:w,method:k,bodyHeaders:H,retryCount:Q}){let J={};_.idempotencyHeader&&"get"!==k&&(w.idempotencyKey||(w.idempotencyKey=_.defaultIdempotencyKey()),J[_.idempotencyHeader]=w.idempotencyKey);const re=yield _.authHeaders(w);let Y=Qu([J,Object.assign(Object.assign({Accept:"application/json","User-Agent":_.getUserAgent(),"X-Stainless-Retry-Count":String(Q)},w.timeout?{"X-Stainless-Timeout":String(Math.trunc(w.timeout/1e3))}:{}),kr??(kr=Bu())),_._options.defaultHeaders,H,w.headers,re]);return _.validateHeaders(Y),Y.values}).apply(this,arguments)}buildBody({options:{body:f,headers:_}}){if(!f)return{bodyHeaders:void 0,body:void 0};const w=Qu([_]);return ArrayBuffer.isView(f)||f instanceof ArrayBuffer||f instanceof DataView||"string"==typeof f&&w.values.has("content-type")||globalThis.Blob&&f instanceof globalThis.Blob||f instanceof FormData||f instanceof URLSearchParams||globalThis.ReadableStream&&f instanceof globalThis.ReadableStream?{bodyHeaders:void 0,body:f}:"object"==typeof f&&(Symbol.asyncIterator in f||Symbol.iterator in f&&"next"in f&&"function"==typeof f.next)?{bodyHeaders:void 0,body:Wh(f)}:this.encoder({body:f,headers:w})}}return a.DEFAULT_TIMEOUT=6e4,a})();class gl extends zp{constructor(){super(...arguments),this.interactions=new lh(this)}}function pd(a,s){const f={},_=m(a,["sdkHttpResponse"]);null!=_&&v(f,["sdkHttpResponse"],_);const w=m(a,["name"]);null!=w&&v(f,["name"],w);const k=m(a,["state"]);null!=k&&v(f,["state"],ol(k));const H=m(a,["createTime"]);null!=H&&v(f,["createTime"],H);const Q=m(a,["tuningTask","startTime"]);null!=Q&&v(f,["startTime"],Q);const J=m(a,["tuningTask","completeTime"]);null!=J&&v(f,["endTime"],J);const re=m(a,["updateTime"]);null!=re&&v(f,["updateTime"],re);const Y=m(a,["description"]);null!=Y&&v(f,["description"],Y);const fe=m(a,["baseModel"]);null!=fe&&v(f,["baseModel"],fe);const $e=m(a,["_self"]);return null!=$e&&v(f,["tunedModel"],function ip(a){const f={},_=m(a,["name"]);null!=_&&v(f,["model"],_);const w=m(a,["name"]);return null!=w&&v(f,["endpoint"],w),f}($e)),f}function Rd(a,s){const f={},_=m(a,["sdkHttpResponse"]);null!=_&&v(f,["sdkHttpResponse"],_);const w=m(a,["name"]);null!=w&&v(f,["name"],w);const k=m(a,["state"]);null!=k&&v(f,["state"],ol(k));const H=m(a,["createTime"]);null!=H&&v(f,["createTime"],H);const Q=m(a,["startTime"]);null!=Q&&v(f,["startTime"],Q);const J=m(a,["endTime"]);null!=J&&v(f,["endTime"],J);const re=m(a,["updateTime"]);null!=re&&v(f,["updateTime"],re);const Y=m(a,["error"]);null!=Y&&v(f,["error"],Y);const fe=m(a,["description"]);null!=fe&&v(f,["description"],fe);const $e=m(a,["baseModel"]);null!=$e&&v(f,["baseModel"],$e);const Ne=m(a,["tunedModel"]);null!=Ne&&v(f,["tunedModel"],Ne);const vn=m(a,["preTunedModel"]);null!=vn&&v(f,["preTunedModel"],vn);const rr=m(a,["supervisedTuningSpec"]);null!=rr&&v(f,["supervisedTuningSpec"],rr);const Rn=m(a,["preferenceOptimizationSpec"]);null!=Rn&&v(f,["preferenceOptimizationSpec"],Rn);const pr=m(a,["tuningDataStats"]);null!=pr&&v(f,["tuningDataStats"],pr);const cr=m(a,["encryptionSpec"]);null!=cr&&v(f,["encryptionSpec"],cr);const $r=m(a,["partnerModelTuningSpec"]);null!=$r&&v(f,["partnerModelTuningSpec"],$r);const ri=m(a,["customBaseModel"]);null!=ri&&v(f,["customBaseModel"],ri);const Ti=m(a,["experiment"]);null!=Ti&&v(f,["experiment"],Ti);const vi=m(a,["labels"]);null!=vi&&v(f,["labels"],vi);const jo=m(a,["outputUri"]);null!=jo&&v(f,["outputUri"],jo);const $s=m(a,["pipelineJob"]);null!=$s&&v(f,["pipelineJob"],$s);const za=m(a,["serviceAccount"]);null!=za&&v(f,["serviceAccount"],za);const Ni=m(a,["tunedModelDisplayName"]);null!=Ni&&v(f,["tunedModelDisplayName"],Ni);const Mo=m(a,["veoTuningSpec"]);return null!=Mo&&v(f,["veoTuningSpec"],Mo),f}function tf(a,s){const f={},_=m(a,["gcsUri"]);null!=_&&v(f,["validationDatasetUri"],_);const w=m(a,["vertexDatasetResource"]);return null!=w&&v(f,["validationDatasetUri"],w),f}gl.GeminiNextGenAPIClient=gl,gl.GeminiNextGenAPIClientError=Bn,gl.APIError=Kn,gl.APIConnectionError=ar,gl.APIConnectionTimeoutError=xr,gl.APIUserAbortError=mr,gl.NotFoundError=Lo,gl.ConflictError=Ps,gl.RateLimitError=na,gl.BadRequestError=Qr,gl.AuthenticationError=Hr,gl.InternalServerError=rl,gl.PermissionDeniedError=Ri,gl.UnprocessableEntityError=rs,gl.toFile=function qd(a,s,f){return bf.apply(this,arguments)},gl.Interactions=lh;class Pd extends Ae{constructor(s){var f;super(),f=this,this.apiClient=s,this.list=(0,L.A)(function*(_={}){return new St(_t.PAGED_ITEM_TUNING_JOBS,w=>f.listInternal(w),yield f.listInternal(_),_)}),this.get=function(){var _=(0,L.A)(function*(w){return yield f.getInternal(w)});return function(w){return _.apply(this,arguments)}}(),this.tune=function(){var _=(0,L.A)(function*(w){var k;if(f.apiClient.isVertexAI()){if(w.baseModel.startsWith("projects/")){const H={tunedModelName:w.baseModel};null!==(k=w.config)&&void 0!==k&&k.preTunedModelCheckpointId&&(H.checkpointId=w.config.preTunedModelCheckpointId);const Q=Object.assign(Object.assign({},w),{preTunedModel:H});return Q.baseModel=void 0,yield f.tuneInternal(Q)}{const H=Object.assign({},w);return yield f.tuneInternal(H)}}{const H=Object.assign({},w),Q=yield f.tuneMldevInternal(H);let J="";return void 0!==Q.metadata&&void 0!==Q.metadata.tunedModel?J=Q.metadata.tunedModel:void 0!==Q.name&&Q.name.includes("/operations/")&&(J=Q.name.split("/operations/")[0]),{name:J,state:Un.JOB_STATE_QUEUED}}});return function(w){return _.apply(this,arguments)}}()}getInternal(s){var f=this;return(0,L.A)(function*(){var _,w,k,H;let Q,J="",re={};if(f.apiClient.isVertexAI()){const Y=function qp(a){const f={},_=m(a,["name"]);return null!=_&&v(f,["_url","name"],_),f}(s);return J=ee("{name}",Y._url),re=Y._query,delete Y._url,delete Y._query,Q=f.apiClient.request({path:J,queryParams:re,body:JSON.stringify(Y),httpMethod:"GET",httpOptions:null===(_=s.config)||void 0===_?void 0:_.httpOptions,abortSignal:null===(w=s.config)||void 0===w?void 0:w.abortSignal}).then(fe=>fe.json().then($e=>{const Ne=$e;return Ne.sdkHttpResponse={headers:fe.headers},Ne})),Q.then(fe=>Rd(fe))}{const Y=function Xp(a){const f={},_=m(a,["name"]);return null!=_&&v(f,["_url","name"],_),f}(s);return J=ee("{name}",Y._url),re=Y._query,delete Y._url,delete Y._query,Q=f.apiClient.request({path:J,queryParams:re,body:JSON.stringify(Y),httpMethod:"GET",httpOptions:null===(k=s.config)||void 0===k?void 0:k.httpOptions,abortSignal:null===(H=s.config)||void 0===H?void 0:H.abortSignal}).then(fe=>fe.json().then($e=>{const Ne=$e;return Ne.sdkHttpResponse={headers:fe.headers},Ne})),Q.then(fe=>pd(fe))}})()}listInternal(s){var f=this;return(0,L.A)(function*(){var _,w,k,H;let Q,J="",re={};if(f.apiClient.isVertexAI()){const Y=function Qp(a,s){const f={},_=m(a,["config"]);return null!=_&&function np(a,s){const w=m(a,["pageSize"]);void 0!==s&&null!=w&&v(s,["_query","pageSize"],w);const k=m(a,["pageToken"]);void 0!==s&&null!=k&&v(s,["_query","pageToken"],k);const H=m(a,["filter"]);void 0!==s&&null!=H&&v(s,["_query","filter"],H)}(_,f),f}(s);return J=ee("tuningJobs",Y._url),re=Y._query,delete Y._url,delete Y._query,Q=f.apiClient.request({path:J,queryParams:re,body:JSON.stringify(Y),httpMethod:"GET",httpOptions:null===(_=s.config)||void 0===_?void 0:_.httpOptions,abortSignal:null===(w=s.config)||void 0===w?void 0:w.abortSignal}).then(fe=>fe.json().then($e=>{const Ne=$e;return Ne.sdkHttpResponse={headers:fe.headers},Ne})),Q.then(fe=>{const $e=function rp(a){const f={},_=m(a,["sdkHttpResponse"]);null!=_&&v(f,["sdkHttpResponse"],_);const w=m(a,["nextPageToken"]);null!=w&&v(f,["nextPageToken"],w);const k=m(a,["tuningJobs"]);if(null!=k){let H=k;Array.isArray(H)&&(H=H.map(Q=>Rd(Q))),v(f,["tuningJobs"],H)}return f}(fe),Ne=new kt;return Object.assign(Ne,$e),Ne})}{const Y=function Yp(a,s){const f={},_=m(a,["config"]);return null!=_&&function tp(a,s){const w=m(a,["pageSize"]);void 0!==s&&null!=w&&v(s,["_query","pageSize"],w);const k=m(a,["pageToken"]);void 0!==s&&null!=k&&v(s,["_query","pageToken"],k);const H=m(a,["filter"]);void 0!==s&&null!=H&&v(s,["_query","filter"],H)}(_,f),f}(s);return J=ee("tunedModels",Y._url),re=Y._query,delete Y._url,delete Y._query,Q=f.apiClient.request({path:J,queryParams:re,body:JSON.stringify(Y),httpMethod:"GET",httpOptions:null===(k=s.config)||void 0===k?void 0:k.httpOptions,abortSignal:null===(H=s.config)||void 0===H?void 0:H.abortSignal}).then(fe=>fe.json().then($e=>{const Ne=$e;return Ne.sdkHttpResponse={headers:fe.headers},Ne})),Q.then(fe=>{const $e=function Jp(a){const f={},_=m(a,["sdkHttpResponse"]);null!=_&&v(f,["sdkHttpResponse"],_);const w=m(a,["nextPageToken"]);null!=w&&v(f,["nextPageToken"],w);const k=m(a,["tunedModels"]);if(null!=k){let H=k;Array.isArray(H)&&(H=H.map(Q=>pd(Q))),v(f,["tuningJobs"],H)}return f}(fe),Ne=new kt;return Object.assign(Ne,$e),Ne})}})()}cancel(s){var f=this;return(0,L.A)(function*(){var _,w,k,H;let Q,J="",re={};if(f.apiClient.isVertexAI()){const Y=function Kp(a){const f={},_=m(a,["name"]);return null!=_&&v(f,["_url","name"],_),f}(s);return J=ee("{name}:cancel",Y._url),re=Y._query,delete Y._url,delete Y._query,Q=f.apiClient.request({path:J,queryParams:re,body:JSON.stringify(Y),httpMethod:"POST",httpOptions:null===(_=s.config)||void 0===_?void 0:_.httpOptions,abortSignal:null===(w=s.config)||void 0===w?void 0:w.abortSignal}).then(fe=>fe.json().then($e=>{const Ne=$e;return Ne.sdkHttpResponse={headers:fe.headers},Ne})),Q.then(fe=>{const $e=function hd(a){const f={},_=m(a,["sdkHttpResponse"]);return null!=_&&v(f,["sdkHttpResponse"],_),f}(fe),Ne=new Tn;return Object.assign(Ne,$e),Ne})}{const Y=function If(a){const f={},_=m(a,["name"]);return null!=_&&v(f,["_url","name"],_),f}(s);return J=ee("{name}:cancel",Y._url),re=Y._query,delete Y._url,delete Y._query,Q=f.apiClient.request({path:J,queryParams:re,body:JSON.stringify(Y),httpMethod:"POST",httpOptions:null===(k=s.config)||void 0===k?void 0:k.httpOptions,abortSignal:null===(H=s.config)||void 0===H?void 0:H.abortSignal}).then(fe=>fe.json().then($e=>{const Ne=$e;return Ne.sdkHttpResponse={headers:fe.headers},Ne})),Q.then(fe=>{const $e=function Eu(a){const f={},_=m(a,["sdkHttpResponse"]);return null!=_&&v(f,["sdkHttpResponse"],_),f}(fe),Ne=new Tn;return Object.assign(Ne,$e),Ne})}})()}tuneInternal(s){var f=this;return(0,L.A)(function*(){var _,w;let k,H="",Q={};if(f.apiClient.isVertexAI()){const J=function ep(a,s){const f={},_=m(a,["baseModel"]);null!=_&&v(f,["baseModel"],_);const w=m(a,["preTunedModel"]);null!=w&&v(f,["preTunedModel"],w);const k=m(a,["trainingDataset"]);null!=k&&function Rf(a,s,f){let w=m(f,["config","method"]);if(void 0===w&&(w="SUPERVISED_FINE_TUNING"),"SUPERVISED_FINE_TUNING"===w){const H=m(a,["gcsUri"]);void 0!==s&&null!=H&&v(s,["supervisedTuningSpec","trainingDatasetUri"],H)}else if("PREFERENCE_TUNING"===w){const H=m(a,["gcsUri"]);void 0!==s&&null!=H&&v(s,["preferenceOptimizationSpec","trainingDatasetUri"],H)}let k=m(f,["config","method"]);if(void 0===k&&(k="SUPERVISED_FINE_TUNING"),"SUPERVISED_FINE_TUNING"===k){const H=m(a,["vertexDatasetResource"]);void 0!==s&&null!=H&&v(s,["supervisedTuningSpec","trainingDatasetUri"],H)}else if("PREFERENCE_TUNING"===k){const H=m(a,["vertexDatasetResource"]);void 0!==s&&null!=H&&v(s,["preferenceOptimizationSpec","trainingDatasetUri"],H)}if(void 0!==m(a,["examples"]))throw new Error("examples parameter is not supported in Vertex AI.")}(k,f,s);const H=m(a,["config"]);return null!=H&&function kd(a,s,f){let w=m(f,["config","method"]);if(void 0===w&&(w="SUPERVISED_FINE_TUNING"),"SUPERVISED_FINE_TUNING"===w){const Ne=m(a,["validationDataset"]);void 0!==s&&null!=Ne&&v(s,["supervisedTuningSpec"],tf(Ne))}else if("PREFERENCE_TUNING"===w){const Ne=m(a,["validationDataset"]);void 0!==s&&null!=Ne&&v(s,["preferenceOptimizationSpec"],tf(Ne))}const k=m(a,["tunedModelDisplayName"]);void 0!==s&&null!=k&&v(s,["tunedModelDisplayName"],k);const H=m(a,["description"]);void 0!==s&&null!=H&&v(s,["description"],H);let Q=m(f,["config","method"]);if(void 0===Q&&(Q="SUPERVISED_FINE_TUNING"),"SUPERVISED_FINE_TUNING"===Q){const Ne=m(a,["epochCount"]);void 0!==s&&null!=Ne&&v(s,["supervisedTuningSpec","hyperParameters","epochCount"],Ne)}else if("PREFERENCE_TUNING"===Q){const Ne=m(a,["epochCount"]);void 0!==s&&null!=Ne&&v(s,["preferenceOptimizationSpec","hyperParameters","epochCount"],Ne)}let J=m(f,["config","method"]);if(void 0===J&&(J="SUPERVISED_FINE_TUNING"),"SUPERVISED_FINE_TUNING"===J){const Ne=m(a,["learningRateMultiplier"]);void 0!==s&&null!=Ne&&v(s,["supervisedTuningSpec","hyperParameters","learningRateMultiplier"],Ne)}else if("PREFERENCE_TUNING"===J){const Ne=m(a,["learningRateMultiplier"]);void 0!==s&&null!=Ne&&v(s,["preferenceOptimizationSpec","hyperParameters","learningRateMultiplier"],Ne)}let re=m(f,["config","method"]);if(void 0===re&&(re="SUPERVISED_FINE_TUNING"),"SUPERVISED_FINE_TUNING"===re){const Ne=m(a,["exportLastCheckpointOnly"]);void 0!==s&&null!=Ne&&v(s,["supervisedTuningSpec","exportLastCheckpointOnly"],Ne)}else if("PREFERENCE_TUNING"===re){const Ne=m(a,["exportLastCheckpointOnly"]);void 0!==s&&null!=Ne&&v(s,["preferenceOptimizationSpec","exportLastCheckpointOnly"],Ne)}let Y=m(f,["config","method"]);if(void 0===Y&&(Y="SUPERVISED_FINE_TUNING"),"SUPERVISED_FINE_TUNING"===Y){const Ne=m(a,["adapterSize"]);void 0!==s&&null!=Ne&&v(s,["supervisedTuningSpec","hyperParameters","adapterSize"],Ne)}else if("PREFERENCE_TUNING"===Y){const Ne=m(a,["adapterSize"]);void 0!==s&&null!=Ne&&v(s,["preferenceOptimizationSpec","hyperParameters","adapterSize"],Ne)}if(void 0!==m(a,["batchSize"]))throw new Error("batchSize parameter is not supported in Vertex AI.");if(void 0!==m(a,["learningRate"]))throw new Error("learningRate parameter is not supported in Vertex AI.");const fe=m(a,["labels"]);void 0!==s&&null!=fe&&v(s,["labels"],fe);const $e=m(a,["beta"]);void 0!==s&&null!=$e&&v(s,["preferenceOptimizationSpec","hyperParameters","beta"],$e)}(H,f,s),f}(s,s);return H=ee("tuningJobs",J._url),Q=J._query,delete J._url,delete J._query,k=f.apiClient.request({path:H,queryParams:Q,body:JSON.stringify(J),httpMethod:"POST",httpOptions:null===(_=s.config)||void 0===_?void 0:_.httpOptions,abortSignal:null===(w=s.config)||void 0===w?void 0:w.abortSignal}).then(re=>re.json().then(Y=>{const fe=Y;return fe.sdkHttpResponse={headers:re.headers},fe})),k.then(re=>Rd(re))}throw new Error("This method is only supported by the Vertex AI.")})()}tuneMldevInternal(s){var f=this;return(0,L.A)(function*(){var _,w;let k,H="",Q={};if(f.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const J=function kf(a,s){const f={},_=m(a,["baseModel"]);null!=_&&v(f,["baseModel"],_);const w=m(a,["preTunedModel"]);null!=w&&v(f,["preTunedModel"],w);const k=m(a,["trainingDataset"]);null!=k&&function op(a){const f={};if(void 0!==m(a,["gcsUri"]))throw new Error("gcsUri parameter is not supported in Gemini API.");if(void 0!==m(a,["vertexDatasetResource"]))throw new Error("vertexDatasetResource parameter is not supported in Gemini API.");const _=m(a,["examples"]);if(null!=_){let w=_;Array.isArray(w)&&(w=w.map(k=>k)),v(f,["examples","examples"],w)}}(k);const H=m(a,["config"]);return null!=H&&function gh(a,s){const _={};if(void 0!==m(a,["validationDataset"]))throw new Error("validationDataset parameter is not supported in Gemini API.");const w=m(a,["tunedModelDisplayName"]);if(void 0!==s&&null!=w&&v(s,["displayName"],w),void 0!==m(a,["description"]))throw new Error("description parameter is not supported in Gemini API.");const k=m(a,["epochCount"]);void 0!==s&&null!=k&&v(s,["tuningTask","hyperparameters","epochCount"],k);const H=m(a,["learningRateMultiplier"]);if(null!=H&&v(_,["tuningTask","hyperparameters","learningRateMultiplier"],H),void 0!==m(a,["exportLastCheckpointOnly"]))throw new Error("exportLastCheckpointOnly parameter is not supported in Gemini API.");if(void 0!==m(a,["preTunedModelCheckpointId"]))throw new Error("preTunedModelCheckpointId parameter is not supported in Gemini API.");if(void 0!==m(a,["adapterSize"]))throw new Error("adapterSize parameter is not supported in Gemini API.");const Q=m(a,["batchSize"]);void 0!==s&&null!=Q&&v(s,["tuningTask","hyperparameters","batchSize"],Q);const J=m(a,["learningRate"]);if(void 0!==s&&null!=J&&v(s,["tuningTask","hyperparameters","learningRate"],J),void 0!==m(a,["labels"]))throw new Error("labels parameter is not supported in Gemini API.");if(void 0!==m(a,["beta"]))throw new Error("beta parameter is not supported in Gemini API.")}(H,f),f}(s);return H=ee("tunedModels",J._url),Q=J._query,delete J._url,delete J._query,k=f.apiClient.request({path:H,queryParams:Q,body:JSON.stringify(J),httpMethod:"POST",httpOptions:null===(_=s.config)||void 0===_?void 0:_.httpOptions,abortSignal:null===(w=s.config)||void 0===w?void 0:w.abortSignal}).then(re=>re.json().then(Y=>{const fe=Y;return fe.sdkHttpResponse={headers:re.headers},fe})),k.then(re=>function Gc(a){const f={},_=m(a,["sdkHttpResponse"]);null!=_&&v(f,["sdkHttpResponse"],_);const w=m(a,["name"]);null!=w&&v(f,["name"],w);const k=m(a,["metadata"]);null!=k&&v(f,["metadata"],k);const H=m(a,["done"]);null!=H&&v(f,["done"],H);const Q=m(a,["error"]);return null!=Q&&v(f,["error"],Q),f}(re))}})()}}class mh{download(s,f){return(0,L.A)(function*(){throw new Error("Download to file is not supported in the browser, please use a browser compliant download like an <a> tag.")})()}}const Ju="x-goog-upload-status";function Ff(){return(Ff=(0,L.A)(function*(a,s,f){var _;const w=yield Nf(a,s,f),k=yield w?.json();if("final"!==(null===(_=w?.headers)||void 0===_?void 0:_[Ju]))throw new Error("Failed to upload file: Upload status is not finalized.");return k.file})).apply(this,arguments)}function nf(){return(nf=(0,L.A)(function*(a,s,f){var _;const w=yield Nf(a,s,f),k=yield w?.json();if("final"!==(null===(_=w?.headers)||void 0===_?void 0:_[Ju]))throw new Error("Failed to upload file: Upload status is not finalized.");const H=It(k),Q=new Be;return Object.assign(Q,H),Q})).apply(this,arguments)}function Nf(a,s,f){return rf.apply(this,arguments)}function rf(){return(rf=(0,L.A)(function*(a,s,f){var _,w;let k=0,H=0,Q=new Bo(new Response),J="upload";for(k=a.size;H<k;){const re=Math.min(8388608,k-H),Y=a.slice(H,H+re);H+re>=k&&(J+=", finalize");let fe=0,$e=1e3;for(;fe<3&&(Q=yield f.request({path:"",body:Y,httpMethod:"POST",httpOptions:{apiVersion:"",baseUrl:s,headers:{"X-Goog-Upload-Command":J,"X-Goog-Upload-Offset":String(H),"Content-Length":String(re)}}}),null===(_=Q?.headers)||void 0===_||!_[Ju]);)fe++,yield Jl($e),$e*=2;if(H+=re,"active"!==(null===(w=Q?.headers)||void 0===w?void 0:w[Ju]))break;if(k<=H)throw new Error("All content has been uploaded, but the upload status is not finalized.")}return Q})).apply(this,arguments)}function Nd(){return(Nd=(0,L.A)(function*(a){return{size:a.size,type:a.type}})).apply(this,arguments)}function Jl(a){return new Promise(s=>setTimeout(s,a))}class lp{upload(s,f,_){return(0,L.A)(function*(){if("string"==typeof s)throw new Error("File path is not supported in browser uploader.");return yield function Pf(a,s,f){return Ff.apply(this,arguments)}(s,f,_)})()}uploadToFileSearchStore(s,f,_){return(0,L.A)(function*(){if("string"==typeof s)throw new Error("File path is not supported in browser uploader.");return yield function ap(a,s,f){return nf.apply(this,arguments)}(s,f,_)})()}stat(s){return(0,L.A)(function*(){if("string"==typeof s)throw new Error("File path is not supported in browser uploader.");return yield function Of(a){return Nd.apply(this,arguments)}(s)})()}}class Lf{create(s,f,_){return new oa(s,f,_)}}class oa{constructor(s,f,_){this.url=s,this.headers=f,this.callbacks=_}connect(){this.ws=new WebSocket(this.url),this.ws.onopen=this.callbacks.onopen,this.ws.onerror=this.callbacks.onerror,this.ws.onclose=this.callbacks.onclose,this.ws.onmessage=this.callbacks.onmessage}send(s){if(void 0===this.ws)throw new Error("WebSocket is not connected");this.ws.send(s)}close(){if(void 0===this.ws)throw new Error("WebSocket is not connected");this.ws.close()}}const ys="x-goog-api-key";class Bf{constructor(s){this.apiKey=s}addAuthHeaders(s,f){var _=this;return(0,L.A)(function*(){if(null===s.get(ys)){if(_.apiKey.startsWith("auth_tokens/"))throw new Error("Ephemeral tokens are only supported by the live API.");if(!_.apiKey)throw new Error("API key is missing. Please provide a valid API key.");s.append(ys,_.apiKey)}})()}}class yh{get interactions(){if(void 0!==this._interactions)return this._interactions;console.warn("GoogleGenAI.interactions: Interactions usage is experimental and may change in future versions.");const s=this.httpOptions;s?.extraBody&&console.warn("GoogleGenAI.interactions: Client level httpOptions.extraBody is not supported by the interactions client and will be ignored.");const f=new gl({baseURL:this.apiClient.getBaseUrl(),apiKey:this.apiKey,apiVersion:this.apiClient.getApiVersion(),clientAdapter:this.apiClient,defaultHeaders:this.apiClient.getDefaultHeaders(),timeout:s?.timeout});return this._interactions=f.interactions,this._interactions}constructor(s){var f;if(null==s.apiKey)throw new Error("An API Key must be set when running in a browser");if(s.project||s.location)throw new Error("Vertex AI project based authentication is not supported on browser runtimes. Please do not provide a project or location.");this.vertexai=null!==(f=s.vertexai)&&void 0!==f&&f,this.apiKey=s.apiKey;const _=function ke(a,s,f,_){var w,k;if(!a?.baseUrl){const H={geminiUrl:void 0,vertexUrl:void 0};return s?null!==(w=H.vertexUrl)&&void 0!==w?w:f:null!==(k=H.geminiUrl)&&void 0!==k?k:_}return a.baseUrl}(s.httpOptions,s.vertexai,void 0,void 0);_&&(s.httpOptions?s.httpOptions.baseUrl=_:s.httpOptions={baseUrl:_}),this.apiVersion=s.apiVersion,this.httpOptions=s.httpOptions;const w=new Bf(this.apiKey);this.apiClient=new rh({auth:w,apiVersion:this.apiVersion,apiKey:this.apiKey,vertexai:this.vertexai,httpOptions:this.httpOptions,userAgentExtra:"gl-node/web",uploader:new lp,downloader:new mh}),this.models=new qu(this.apiClient),this.live=new fc(this.apiClient,w,new Lf),this.batches=new Mt(this.apiClient),this.chats=new ll(this.models,this.apiClient),this.caches=new Rl(this.apiClient),this.files=new yl(this.apiClient),this.operations=new od(this.apiClient),this.authTokens=new y(this.apiClient),this.tunings=new Pd(this.apiClient),this.fileSearchStores=new ft(this.apiClient)}}},7017(on,ct,$){"use strict";$.d(ct,{Zf:()=>ee,EW:()=>m}),$(467);var r=$(375),R=$(5824);class ee{destroyed=!1;listeners=null;errorHandler=(0,r.WQX)(r.zcH,{optional:!0});destroyRef=(0,r.WQX)(r.abz);constructor(){this.destroyRef.onDestroy(()=>{this.destroyed=!0,this.listeners=null})}subscribe(Me){if(this.destroyed)throw new r.buA(953,!1);return(this.listeners??=[]).push(Me),{unsubscribe:()=>{const gt=this.listeners?.indexOf(Me);void 0!==gt&&-1!==gt&&this.listeners?.splice(gt,1)}}}emit(Me){if(this.destroyed)return void console.warn((0,r.OsK)(953,!1));if(null===this.listeners)return;const gt=(0,R.Ht)(null);try{for(const Ve of this.listeners)try{Ve(Me)}catch(en){this.errorHandler?.handleError(en)}}finally{(0,R.Ht)(gt)}}}function m(At,Me){return(0,R.KZ)(At,Me?.equal)}Error,Error},7441(on,ct,$){"use strict";$.d(ct,{X:()=>L});const L=r=>r&&"number"==typeof r.length&&"function"!=typeof r},7468(on,ct,$){"use strict";$.d(ct,{p:()=>ee});var L=$(1985),r=$(3073),R=$(8750),ve=$(9326),oe=$(4360),ke=$(6450),Ae=$(8496);function ee(...v){const m=(0,ve.ms)(v),{args:ie,keys:xe}=(0,r.D)(v),t=new L.c(Le=>{const{length:Se}=ie;if(!Se)return void Le.complete();const je=new Array(Se);let Te=Se,be=Se;for(let Oe=0;Oe<Se;Oe++){let at=!1;(0,R.Tg)(ie[Oe]).subscribe((0,oe._)(Le,ze=>{at||(at=!0,be--),je[Oe]=ze},()=>Te--,void 0,()=>{(!Te||!at)&&(be||Le.next(xe?(0,Ae.e)(xe,je):je),Le.complete())}))}});return m?t.pipe((0,ke.I)(m)):t}},7516(on,ct,$){var L;on.exports=(L=$(7656),$(2414),L.pad.Iso10126={pad:function(r,R){var ve=4*R,oe=ve-r.sigBytes%ve;r.concat(L.lib.WordArray.random(oe-1)).concat(L.lib.WordArray.create([oe<<24],1))},unpad:function(r){r.sigBytes-=255&r.words[r.sigBytes-1>>>2]}},L.pad.Iso10126)},7656(on,ct,$){var L;on.exports=(L=L||function(r){var ve;if(typeof window<"u"&&window.crypto&&(ve=window.crypto),typeof self<"u"&&self.crypto&&(ve=self.crypto),typeof globalThis<"u"&&globalThis.crypto&&(ve=globalThis.crypto),!ve&&typeof window<"u"&&window.msCrypto&&(ve=window.msCrypto),!ve&&typeof global<"u"&&global.crypto&&(ve=global.crypto),!ve)try{ve=$(477)}catch{}var oe=function(){if(ve){if("function"==typeof ve.getRandomValues)try{return ve.getRandomValues(new Uint32Array(1))[0]}catch{}if("function"==typeof ve.randomBytes)try{return ve.randomBytes(4).readInt32LE()}catch{}}throw new Error("Native crypto module could not be used to get secure random number.")},ke=Object.create||function(){function be(){}return function(Oe){var at;return be.prototype=Oe,at=new be,be.prototype=null,at}}(),Ae={},ee=Ae.lib={},v=ee.Base=function(){return{extend:function(be){var Oe=ke(this);return be&&Oe.mixIn(be),(!Oe.hasOwnProperty("init")||this.init===Oe.init)&&(Oe.init=function(){Oe.$super.init.apply(this,arguments)}),Oe.init.prototype=Oe,Oe.$super=this,Oe},create:function(){var be=this.extend();return be.init.apply(be,arguments),be},init:function(){},mixIn:function(be){for(var Oe in be)be.hasOwnProperty(Oe)&&(this[Oe]=be[Oe]);be.hasOwnProperty("toString")&&(this.toString=be.toString)},clone:function(){return this.init.prototype.extend(this)}}}(),m=ee.WordArray=v.extend({init:function(be,Oe){be=this.words=be||[],this.sigBytes=null!=Oe?Oe:4*be.length},toString:function(be){return(be||xe).stringify(this)},concat:function(be){var Oe=this.words,at=be.words,ze=this.sigBytes,et=be.sigBytes;if(this.clamp(),ze%4)for(var st=0;st<et;st++)Oe[ze+st>>>2]|=(at[st>>>2]>>>24-st%4*8&255)<<24-(ze+st)%4*8;else for(var It=0;It<et;It+=4)Oe[ze+It>>>2]=at[It>>>2];return this.sigBytes+=et,this},clamp:function(){var be=this.words,Oe=this.sigBytes;be[Oe>>>2]&=4294967295<<32-Oe%4*8,be.length=r.ceil(Oe/4)},clone:function(){var be=v.clone.call(this);return be.words=this.words.slice(0),be},random:function(be){for(var Oe=[],at=0;at<be;at+=4)Oe.push(oe());return new m.init(Oe,be)}}),ie=Ae.enc={},xe=ie.Hex={stringify:function(be){for(var Oe=be.words,at=be.sigBytes,ze=[],et=0;et<at;et++){var st=Oe[et>>>2]>>>24-et%4*8&255;ze.push((st>>>4).toString(16)),ze.push((15&st).toString(16))}return ze.join("")},parse:function(be){for(var Oe=be.length,at=[],ze=0;ze<Oe;ze+=2)at[ze>>>3]|=parseInt(be.substr(ze,2),16)<<24-ze%8*4;return new m.init(at,Oe/2)}},t=ie.Latin1={stringify:function(be){for(var Oe=be.words,at=be.sigBytes,ze=[],et=0;et<at;et++)ze.push(String.fromCharCode(Oe[et>>>2]>>>24-et%4*8&255));return ze.join("")},parse:function(be){for(var Oe=be.length,at=[],ze=0;ze<Oe;ze++)at[ze>>>2]|=(255&be.charCodeAt(ze))<<24-ze%4*8;return new m.init(at,Oe)}},Le=ie.Utf8={stringify:function(be){try{return decodeURIComponent(escape(t.stringify(be)))}catch{throw new Error("Malformed UTF-8 data")}},parse:function(be){return t.parse(unescape(encodeURIComponent(be)))}},Se=ee.BufferedBlockAlgorithm=v.extend({reset:function(){this._data=new m.init,this._nDataBytes=0},_append:function(be){"string"==typeof be&&(be=Le.parse(be)),this._data.concat(be),this._nDataBytes+=be.sigBytes},_process:function(be){var Oe,at=this._data,ze=at.words,et=at.sigBytes,st=this.blockSize,It=et/(4*st),Ht=(It=be?r.ceil(It):r.max((0|It)-this._minBufferSize,0))*st,At=r.min(4*Ht,et);if(Ht){for(var Me=0;Me<Ht;Me+=st)this._doProcessBlock(ze,Me);Oe=ze.splice(0,Ht),at.sigBytes-=At}return new m.init(Oe,At)},clone:function(){var be=v.clone.call(this);return be._data=this._data.clone(),be},_minBufferSize:0}),Te=(ee.Hasher=Se.extend({cfg:v.extend(),init:function(be){this.cfg=this.cfg.extend(be),this.reset()},reset:function(){Se.reset.call(this),this._doReset()},update:function(be){return this._append(be),this._process(),this},finalize:function(be){return be&&this._append(be),this._doFinalize()},blockSize:16,_createHelper:function(be){return function(Oe,at){return new be.init(at).finalize(Oe)}},_createHmacHelper:function(be){return function(Oe,at){return new Te.HMAC.init(be,at).finalize(Oe)}}}),Ae.algo={});return Ae}(Math),L)},7673(on,ct,$){"use strict";$.d(ct,{of:()=>R});var L=$(9326),r=$(6648);function R(...ve){const oe=(0,L.lI)(ve);return(0,r.H)(ve,oe)}},7705(on,ct,$){"use strict";$.d(ct,{CGW:()=>Te,ES_:()=>Le,HJs:()=>po,Jn2:()=>bn,L39:()=>yi,MKu:()=>Zi,TL3:()=>tn,_q3:()=>ss,a0P:()=>Ia,ebz:()=>st,gRc:()=>Lr,hFB:()=>at});var L=$(375),r=$(5824),R=$(5547),ve=$(7017),oe=$(8359);const ke=Symbol("InputSignalNode#UNSET"),Ae={...r.s0,transformFn:void 0,applyValueToInputSignal(we,de){(0,r.j2)(we,de)}};function v(we,de){const Ce=Object.create(Ae);function it(){if((0,r.mK)(Ce),Ce.value===ke)throw new L.buA(-950,null);return Ce.value}return Ce.value=we,Ce.transformFn=de?.transform,it[r.bh]=Ce,it}class Le{attributeName;constructor(de){this.attributeName=de}__NG_ELEMENT_ID__=()=>(0,R.kS0)(this.attributeName);toString(){return`HostAttributeToken ${this.attributeName}`}}function Te(we){return new ve.Zf}function be(we,de){return v(we,de)}const at=(be.required=function Oe(we){return v(ke,we)},be);function ze(we,de){return(0,R.mU9)(de)}const st=(ze.required=function et(we,de){return(0,R.hnC)(de)},ze);let yt=(()=>{class we{zone=(0,L.WQX)(L.SKi);changeDetectionScheduler=(0,L.WQX)(L.hk6);applicationRef=(0,L.WQX)(R.o8S);applicationErrorHandler=(0,L.WQX)(L.ZTf);_onMicrotaskEmptySubscription;initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.changeDetectionScheduler.runningTick||this.zone.run(()=>{try{this.applicationRef.dirtyFlags|=1,this.applicationRef._tick()}catch(Ce){this.applicationErrorHandler(Ce)}})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static \u0275fac=function(it){return new(it||we)};static \u0275prov=(0,L.jDH)({token:we,factory:we.\u0275fac,providedIn:"root"})}return we})();const Nt=new L.nKC("",{factory:()=>!1});function bn(we){const de=we?.scheduleInRootZone,Ce=function wn({ngZoneFactory:we,scheduleInRootZone:de}){return we??=()=>new L.SKi({...Gt(),scheduleInRootZone:de}),[{provide:L.Evm,useValue:!1},{provide:L.SKi,useFactory:we},{provide:L.Z63,multi:!0,useFactory:()=>{const Ce=(0,L.WQX)(yt,{optional:!0});return()=>Ce.initialize()}},{provide:L.Z63,multi:!0,useFactory:()=>{const Ce=(0,L.WQX)(kn);return()=>{Ce.initialize()}}},{provide:L.AQb,useValue:de??L.kHH}]}({ngZoneFactory:()=>{const it=Gt(we);return it.scheduleInRootZone=de,it.shouldCoalesceEventChangeDetection&&(0,R._jY)("NgZone_CoalesceEvent"),new L.SKi(it)},scheduleInRootZone:de});return(0,L.EmA)([{provide:Nt,useValue:!0},Ce])}function Gt(we){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:we?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:we?.runCoalescing??!1}}let kn=(()=>{class we{subscription=new oe.yU;initialized=!1;zone=(0,L.WQX)(L.SKi);pendingTasks=(0,L.WQX)(L.rev);initialize(){if(this.initialized)return;this.initialized=!0;let Ce=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(Ce=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{L.SKi.assertNotInAngularZone(),queueMicrotask(()=>{null!==Ce&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(Ce),Ce=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{L.SKi.assertInAngularZone(),Ce??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}static \u0275fac=function(it){return new(it||we)};static \u0275prov=(0,L.jDH)({token:we,factory:we.\u0275fac,providedIn:"root"})}return we})();const Kt=new L.nKC(""),Un=new L.nKC("");function fr(we){return!we.moduleRef}let yn=null;let Lr=(()=>class we{static __NG_ELEMENT_ID__=Pi})();function Pi(we){return function Vi(we,de,Ce){if((0,L.Qs1)(we)&&!Ce){const it=(0,L.KdJ)(we.index,de);return new R.NCX(it,it)}return 175&we.type?new R.NCX(de[L.b5C],de):null}((0,L.Mx4)(),(0,L.OAn)(),!(16&~we))}class Di{constructor(){}supports(de){return(0,R.ozJ)(de)}create(de){return new $i(de)}}const ui=(we,de)=>de;class $i{length=0;collection;_linkedRecords=null;_unlinkedRecords=null;_previousItHead=null;_itHead=null;_itTail=null;_additionsHead=null;_additionsTail=null;_movesHead=null;_movesTail=null;_removalsHead=null;_removalsTail=null;_identityChangesHead=null;_identityChangesTail=null;_trackByFn;constructor(de){this._trackByFn=de||ui}forEachItem(de){let Ce;for(Ce=this._itHead;null!==Ce;Ce=Ce._next)de(Ce)}forEachOperation(de){let Ce=this._itHead,it=this._removalsHead,$t=0,fn=null;for(;Ce||it;){const In=!it||Ce&&Ce.currentIndex<Io(it,$t,fn)?Ce:it,er=Io(In,$t,fn),lr=In.currentIndex;if(In===it)$t--,it=it._nextRemoved;else if(Ce=Ce._next,null==In.previousIndex)$t++;else{fn||(fn=[]);const Mr=er-$t,ci=lr-$t;if(Mr!=ci){for(let zi=0;zi<Mr;zi++){const Qi=zi<fn.length?fn[zi]:fn[zi]=0,Wo=Qi+zi;ci<=Wo&&Wo<Mr&&(fn[zi]=Qi+1)}fn[In.previousIndex]=ci-Mr}}er!==lr&&de(In,er,lr)}}forEachPreviousItem(de){let Ce;for(Ce=this._previousItHead;null!==Ce;Ce=Ce._nextPrevious)de(Ce)}forEachAddedItem(de){let Ce;for(Ce=this._additionsHead;null!==Ce;Ce=Ce._nextAdded)de(Ce)}forEachMovedItem(de){let Ce;for(Ce=this._movesHead;null!==Ce;Ce=Ce._nextMoved)de(Ce)}forEachRemovedItem(de){let Ce;for(Ce=this._removalsHead;null!==Ce;Ce=Ce._nextRemoved)de(Ce)}forEachIdentityChange(de){let Ce;for(Ce=this._identityChangesHead;null!==Ce;Ce=Ce._nextIdentityChange)de(Ce)}diff(de){if(null==de&&(de=[]),!(0,R.ozJ)(de))throw new L.buA(900,!1);return this.check(de)?this:null}onDestroy(){}check(de){this._reset();let $t,fn,In,Ce=this._itHead,it=!1;if(Array.isArray(de)){this.length=de.length;for(let er=0;er<this.length;er++)fn=de[er],In=this._trackByFn(er,fn),null!==Ce&&Object.is(Ce.trackById,In)?(it&&(Ce=this._verifyReinsertion(Ce,fn,In,er)),Object.is(Ce.item,fn)||this._addIdentityChange(Ce,fn)):(Ce=this._mismatch(Ce,fn,In,er),it=!0),Ce=Ce._next}else $t=0,(0,R.utN)(de,er=>{In=this._trackByFn($t,er),null!==Ce&&Object.is(Ce.trackById,In)?(it&&(Ce=this._verifyReinsertion(Ce,er,In,$t)),Object.is(Ce.item,er)||this._addIdentityChange(Ce,er)):(Ce=this._mismatch(Ce,er,In,$t),it=!0),Ce=Ce._next,$t++}),this.length=$t;return this._truncate(Ce),this.collection=de,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let de;for(de=this._previousItHead=this._itHead;null!==de;de=de._next)de._nextPrevious=de._next;for(de=this._additionsHead;null!==de;de=de._nextAdded)de.previousIndex=de.currentIndex;for(this._additionsHead=this._additionsTail=null,de=this._movesHead;null!==de;de=de._nextMoved)de.previousIndex=de.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(de,Ce,it,$t){let fn;return null===de?fn=this._itTail:(fn=de._prev,this._remove(de)),null!==(de=null===this._unlinkedRecords?null:this._unlinkedRecords.get(it,null))?(Object.is(de.item,Ce)||this._addIdentityChange(de,Ce),this._reinsertAfter(de,fn,$t)):null!==(de=null===this._linkedRecords?null:this._linkedRecords.get(it,$t))?(Object.is(de.item,Ce)||this._addIdentityChange(de,Ce),this._moveAfter(de,fn,$t)):de=this._addAfter(new _i(Ce,it),fn,$t),de}_verifyReinsertion(de,Ce,it,$t){let fn=null===this._unlinkedRecords?null:this._unlinkedRecords.get(it,null);return null!==fn?de=this._reinsertAfter(fn,de._prev,$t):de.currentIndex!=$t&&(de.currentIndex=$t,this._addToMoves(de,$t)),de}_truncate(de){for(;null!==de;){const Ce=de._next;this._addToRemovals(this._unlink(de)),de=Ce}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(de,Ce,it){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(de);const $t=de._prevRemoved,fn=de._nextRemoved;return null===$t?this._removalsHead=fn:$t._nextRemoved=fn,null===fn?this._removalsTail=$t:fn._prevRemoved=$t,this._insertAfter(de,Ce,it),this._addToMoves(de,it),de}_moveAfter(de,Ce,it){return this._unlink(de),this._insertAfter(de,Ce,it),this._addToMoves(de,it),de}_addAfter(de,Ce,it){return this._insertAfter(de,Ce,it),this._additionsTail=null===this._additionsTail?this._additionsHead=de:this._additionsTail._nextAdded=de,de}_insertAfter(de,Ce,it){const $t=null===Ce?this._itHead:Ce._next;return de._next=$t,de._prev=Ce,null===$t?this._itTail=de:$t._prev=de,null===Ce?this._itHead=de:Ce._next=de,null===this._linkedRecords&&(this._linkedRecords=new Xi),this._linkedRecords.put(de),de.currentIndex=it,de}_remove(de){return this._addToRemovals(this._unlink(de))}_unlink(de){null!==this._linkedRecords&&this._linkedRecords.remove(de);const Ce=de._prev,it=de._next;return null===Ce?this._itHead=it:Ce._next=it,null===it?this._itTail=Ce:it._prev=Ce,de}_addToMoves(de,Ce){return de.previousIndex===Ce||(this._movesTail=null===this._movesTail?this._movesHead=de:this._movesTail._nextMoved=de),de}_addToRemovals(de){return null===this._unlinkedRecords&&(this._unlinkedRecords=new Xi),this._unlinkedRecords.put(de),de.currentIndex=null,de._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=de,de._prevRemoved=null):(de._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=de),de}_addIdentityChange(de,Ce){return de.item=Ce,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=de:this._identityChangesTail._nextIdentityChange=de,de}}class _i{item;trackById;currentIndex=null;previousIndex=null;_nextPrevious=null;_prev=null;_next=null;_prevDup=null;_nextDup=null;_prevRemoved=null;_nextRemoved=null;_nextAdded=null;_nextMoved=null;_nextIdentityChange=null;constructor(de,Ce){this.item=de,this.trackById=Ce}}class Mi{_head=null;_tail=null;add(de){null===this._head?(this._head=this._tail=de,de._nextDup=null,de._prevDup=null):(this._tail._nextDup=de,de._prevDup=this._tail,de._nextDup=null,this._tail=de)}get(de,Ce){let it;for(it=this._head;null!==it;it=it._nextDup)if((null===Ce||Ce<=it.currentIndex)&&Object.is(it.trackById,de))return it;return null}remove(de){const Ce=de._prevDup,it=de._nextDup;return null===Ce?this._head=it:Ce._nextDup=it,null===it?this._tail=Ce:it._prevDup=Ce,null===this._head}}class Xi{map=new Map;put(de){const Ce=de.trackById;let it=this.map.get(Ce);it||(it=new Mi,this.map.set(Ce,it)),it.add(de)}get(de,Ce){const $t=this.map.get(de);return $t?$t.get(de,Ce):null}remove(de){const Ce=de.trackById;return this.map.get(Ce).remove(de)&&this.map.delete(Ce),de}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function Io(we,de,Ce){const it=we.previousIndex;if(null===it)return it;let $t=0;return Ce&&it<Ce.length&&($t=Ce[it]),it+de+$t}class Do{constructor(){}supports(de){return de instanceof Map||(0,R.vDg)(de)}create(){return new Wi}}class Wi{_records=new Map;_mapHead=null;_appendAfter=null;_previousMapHead=null;_changesHead=null;_changesTail=null;_additionsHead=null;_additionsTail=null;_removalsHead=null;_removalsTail=null;get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(de){let Ce;for(Ce=this._mapHead;null!==Ce;Ce=Ce._next)de(Ce)}forEachPreviousItem(de){let Ce;for(Ce=this._previousMapHead;null!==Ce;Ce=Ce._nextPrevious)de(Ce)}forEachChangedItem(de){let Ce;for(Ce=this._changesHead;null!==Ce;Ce=Ce._nextChanged)de(Ce)}forEachAddedItem(de){let Ce;for(Ce=this._additionsHead;null!==Ce;Ce=Ce._nextAdded)de(Ce)}forEachRemovedItem(de){let Ce;for(Ce=this._removalsHead;null!==Ce;Ce=Ce._nextRemoved)de(Ce)}diff(de){if(de){if(!(de instanceof Map||(0,R.vDg)(de)))throw new L.buA(900,!1)}else de=new Map;return this.check(de)?this:null}onDestroy(){}check(de){this._reset();let Ce=this._mapHead;if(this._appendAfter=null,this._forEach(de,(it,$t)=>{if(Ce&&Ce.key===$t)this._maybeAddToChanges(Ce,it),this._appendAfter=Ce,Ce=Ce._next;else{const fn=this._getOrCreateRecordForKey($t,it);Ce=this._insertBeforeOrAppend(Ce,fn)}}),Ce){Ce._prev&&(Ce._prev._next=null),this._removalsHead=Ce;for(let it=Ce;null!==it;it=it._nextRemoved)it===this._mapHead&&(this._mapHead=null),this._records.delete(it.key),it._nextRemoved=it._next,it.previousValue=it.currentValue,it.currentValue=null,it._prev=null,it._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(de,Ce){if(de){const it=de._prev;return Ce._next=de,Ce._prev=it,de._prev=Ce,it&&(it._next=Ce),de===this._mapHead&&(this._mapHead=Ce),this._appendAfter=de,de}return this._appendAfter?(this._appendAfter._next=Ce,Ce._prev=this._appendAfter):this._mapHead=Ce,this._appendAfter=Ce,null}_getOrCreateRecordForKey(de,Ce){if(this._records.has(de)){const $t=this._records.get(de);this._maybeAddToChanges($t,Ce);const fn=$t._prev,In=$t._next;return fn&&(fn._next=In),In&&(In._prev=fn),$t._next=null,$t._prev=null,$t}const it=new wo(de);return this._records.set(de,it),it.currentValue=Ce,this._addToAdditions(it),it}_reset(){if(this.isDirty){let de;for(this._previousMapHead=this._mapHead,de=this._previousMapHead;null!==de;de=de._next)de._nextPrevious=de._next;for(de=this._changesHead;null!==de;de=de._nextChanged)de.previousValue=de.currentValue;for(de=this._additionsHead;null!=de;de=de._nextAdded)de.previousValue=de.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(de,Ce){Object.is(Ce,de.currentValue)||(de.previousValue=de.currentValue,de.currentValue=Ce,this._addToChanges(de))}_addToAdditions(de){null===this._additionsHead?this._additionsHead=this._additionsTail=de:(this._additionsTail._nextAdded=de,this._additionsTail=de)}_addToChanges(de){null===this._changesHead?this._changesHead=this._changesTail=de:(this._changesTail._nextChanged=de,this._changesTail=de)}_forEach(de,Ce){de instanceof Map?de.forEach(Ce):Object.keys(de).forEach(it=>Ce(de[it],it))}}class wo{key;previousValue=null;currentValue=null;_nextPrevious=null;_next=null;_prev=null;_nextAdded=null;_nextRemoved=null;_nextChanged=null;constructor(de){this.key=de}}function wi(){return new ss([new Di])}let ss=(()=>{class we{factories;static \u0275prov=(0,L.jDH)({token:we,providedIn:"root",factory:wi});constructor(Ce){this.factories=Ce}static create(Ce,it){if(null!=it){const $t=it.factories.slice();Ce=Ce.concat($t)}return new we(Ce)}static extend(Ce){return{provide:we,useFactory:()=>{const it=(0,L.WQX)(we,{optional:!0,skipSelf:!0});return we.create(Ce,it||wi())}}}find(Ce){const it=this.factories.find($t=>$t.supports(Ce));if(null!=it)return it;throw new L.buA(901,!1)}}return we})();function Ji(){return new Zi([new Do])}let Zi=(()=>{class we{static \u0275prov=(0,L.jDH)({token:we,providedIn:"root",factory:Ji});factories;constructor(Ce){this.factories=Ce}static create(Ce,it){if(it){const $t=it.factories.slice();Ce=Ce.concat($t)}return new we(Ce)}static extend(Ce){return{provide:we,useFactory:()=>{const it=(0,L.WQX)(we,{optional:!0,skipSelf:!0});return we.create(Ce,it||Ji())}}}find(Ce){const it=this.factories.find($t=>$t.supports(Ce));if(it)return it;throw new L.buA(901,!1)}}return we})();function tn(we){const{rootComponent:de,appProviders:Ce,platformProviders:it,platformRef:$t}=we;(0,R.Ef8)(R.mS5.BootstrapApplicationStart);try{const fn=$t?.injector??function Zn(we=[]){if(yn)return yn;(0,R.pl0)();const de=function gn(we=[],de){return L.zZn.create({name:de,providers:[{provide:L.GBX,useValue:"platform"},{provide:Kt,useValue:new Set([()=>yn=null])},...we]})}(we);return yn=de,(0,R.ypd)(),function oo(we){const de=we.get(R.PLl,null);(0,L.N4e)(we,()=>{de?.forEach(Ce=>Ce())})}(de),de}(it),In=[(0,R.rpG)(),L.gv8,...Ce||[]];return function Pr(we){const de=fr(we)?we.r3Injector:we.moduleRef.injector,Ce=de.get(L.SKi);return Ce.run(()=>{fr(we)?we.r3Injector.resolveInjectorInitializers():we.moduleRef.resolveInjectorInitializers();const it=de.get(L.ZTf);let $t;if(Ce.runOutsideAngular(()=>{$t=Ce.onError.subscribe({next:it})}),fr(we)){const fn=()=>de.destroy(),In=we.platformInjector.get(Kt);In.add(fn),de.onDestroy(()=>{$t.unsubscribe(),In.delete(fn)})}else{const fn=()=>we.moduleRef.destroy(),In=we.platformInjector.get(Kt);In.add(fn),we.moduleRef.onDestroy(()=>{(0,R.TFI)(we.allPlatformModules,we.moduleRef),$t.unsubscribe(),In.delete(fn)})}return function Li(we,de,Ce){try{const it=Ce();return(0,R.yLl)(it)?it.catch($t=>{throw de.runOutsideAngular(()=>we($t)),$t}):it}catch(it){throw de.runOutsideAngular(()=>we(it)),it}}(it,Ce,()=>{const fn=de.get(L.rev),In=fn.add(),er=de.get(R.H1s);return er.runInitializers(),er.donePromise.then(()=>{const lr=de.get(R.xe9,R.DkB);if((0,R.e6s)(lr||R.DkB),!de.get(Un,!0))return fr(we)?de.get(R.o8S):(we.allPlatformModules.push(we.moduleRef),we.moduleRef);if(fr(we)){const ci=de.get(R.o8S);return void 0!==we.rootComponent&&ci.bootstrap(we.rootComponent),ci}return we.moduleRef}).finally(()=>{fn.remove(In)})})})}({r3Injector:new R.bH1({providers:In,parent:fn,debugName:"",runEnvironmentInitializers:!1}).injector,platformInjector:fn,rootComponent:de})}catch(fn){return Promise.reject(fn)}finally{(0,R.Ef8)(R.mS5.BootstrapApplicationEnd)}}function yi(we){return"boolean"==typeof we?we:null!=we&&"false"!==we}function Ia(we,de){const Ce=(0,L.xUg)(we),it=de.elementInjector||(0,L.WB9)();return new R.eHC(Ce).create(it,de.projectableNodes,de.hostElement,de.environmentInjector,de.directives,de.bindings)}function po(we){const de=(0,L.xUg)(we);if(!de)return null;const Ce=new R.eHC(de);return{get selector(){return Ce.selector},get type(){return Ce.componentType},get inputs(){return Ce.inputs},get outputs(){return Ce.outputs},get ngContentSelectors(){return Ce.ngContentSelectors},get isStandalone(){return de.standalone},get isSignal(){return de.signals}}}},7707(on,ct,$){"use strict";$.d(ct,{Ms:()=>je,vU:()=>xe});var L=$(8071),r=$(8359),R=$(1026),ve=$(5334),oe=$(5343);const ke=v("C",void 0,void 0);function v(ze,et,st){return{kind:ze,value:et,error:st}}var m=$(9270),ie=$(9786);class xe extends r.yU{constructor(et){super(),this.isStopped=!1,et?(this.destination=et,(0,r.Uv)(et)&&et.add(this)):this.destination=at}static create(et,st,rn){return new je(et,st,rn)}next(et){this.isStopped?Oe(function ee(ze){return v("N",ze,void 0)}(et),this):this._next(et)}error(et){this.isStopped?Oe(function Ae(ze){return v("E",void 0,ze)}(et),this):(this.isStopped=!0,this._error(et))}complete(){this.isStopped?Oe(ke,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(et){this.destination.next(et)}_error(et){try{this.destination.error(et)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const t=Function.prototype.bind;function Le(ze,et){return t.call(ze,et)}class Se{constructor(et){this.partialObserver=et}next(et){const{partialObserver:st}=this;if(st.next)try{st.next(et)}catch(rn){Te(rn)}}error(et){const{partialObserver:st}=this;if(st.error)try{st.error(et)}catch(rn){Te(rn)}else Te(et)}complete(){const{partialObserver:et}=this;if(et.complete)try{et.complete()}catch(st){Te(st)}}}class je extends xe{constructor(et,st,rn){let It;if(super(),(0,L.T)(et)||!et)It={next:et??void 0,error:st??void 0,complete:rn??void 0};else{let Ht;this&&R.$.useDeprecatedNextContext?(Ht=Object.create(et),Ht.unsubscribe=()=>this.unsubscribe(),It={next:et.next&&Le(et.next,Ht),error:et.error&&Le(et.error,Ht),complete:et.complete&&Le(et.complete,Ht)}):It=et}this.destination=new Se(It)}}function Te(ze){R.$.useDeprecatedSynchronousErrorHandling?(0,ie.l)(ze):(0,ve.m)(ze)}function Oe(ze,et){const{onStoppedNotification:st}=R.$;st&&m.f.setTimeout(()=>st(ze,et))}const at={closed:!0,next:oe.l,error:function be(ze){throw ze},complete:oe.l}},7738(on,ct,$){var r,R,ve,oe,ke,ee,v,L;on.exports=(L=$(7656),$(5168),$(7868),oe=(R=(r=L).lib).WordArray,ee=(ke=r.algo).HMAC,v=ke.PBKDF2=(ve=R.Base).extend({cfg:ve.extend({keySize:4,hasher:ke.SHA256,iterations:25e4}),init:function(m){this.cfg=this.cfg.extend(m)},compute:function(m,ie){for(var xe=this.cfg,t=ee.create(xe.hasher,m),Le=oe.create(),Se=oe.create([1]),je=Le.words,Te=Se.words,be=xe.keySize,Oe=xe.iterations;je.length<be;){var at=t.update(ie).finalize(Se);t.reset();for(var ze=at.words,et=ze.length,st=at,rn=1;rn<Oe;rn++){st=t.finalize(st),t.reset();for(var It=st.words,Ht=0;Ht<et;Ht++)ze[Ht]^=It[Ht]}Le.concat(at),Te[0]++}return Le.sigBytes=4*be,Le}}),r.PBKDF2=function(m,ie,xe){return v.create(xe).compute(m,ie)},L.PBKDF2)},7868(on,ct,$){var L,ke;on.exports=(L=$(7656),ke=L.enc.Utf8,void(L.algo.HMAC=L.lib.Base.extend({init:function(v,m){v=this._hasher=new v.init,"string"==typeof m&&(m=ke.parse(m));var ie=v.blockSize,xe=4*ie;m.sigBytes>xe&&(m=v.finalize(m)),m.clamp();for(var t=this._oKey=m.clone(),Le=this._iKey=m.clone(),Se=t.words,je=Le.words,Te=0;Te<ie;Te++)Se[Te]^=1549556828,je[Te]^=909522486;t.sigBytes=Le.sigBytes=xe,this.reset()},reset:function(){var v=this._hasher;v.reset(),v.update(this._iKey)},update:function(v){return this._hasher.update(v),this},finalize:function(v){var m=this._hasher,ie=m.finalize(v);return m.reset(),m.finalize(this._oKey.clone().concat(ie))}})))},7908(on,ct,$){"use strict";function L(r,R){if(r){const ve=r.indexOf(R);0<=ve&&r.splice(ve,1)}}$.d(ct,{o:()=>L})},7953(on,ct,$){"use strict";$.d(ct,{T:()=>r});var L=$(8071);function r(R){return Symbol.asyncIterator&&(0,L.T)(R?.[Symbol.asyncIterator])}},8071(on,ct,$){"use strict";function L(r){return"function"==typeof r}$.d(ct,{T:()=>L})},8141(on,ct,$){"use strict";$.d(ct,{M:()=>oe});var L=$(8071),r=$(9974),R=$(4360),ve=$(3669);function oe(ke,Ae,ee){const v=(0,L.T)(ke)||Ae||ee?{next:ke,error:Ae,complete:ee}:ke;return v?(0,r.N)((m,ie)=>{var xe;null===(xe=v.subscribe)||void 0===xe||xe.call(v);let t=!0;m.subscribe((0,R._)(ie,Le=>{var Se;null===(Se=v.next)||void 0===Se||Se.call(v,Le),ie.next(Le)},()=>{var Le;t=!1,null===(Le=v.complete)||void 0===Le||Le.call(v),ie.complete()},Le=>{var Se;t=!1,null===(Se=v.error)||void 0===Se||Se.call(v,Le),ie.error(Le)},()=>{var Le,Se;t&&(null===(Le=v.unsubscribe)||void 0===Le||Le.call(v)),null===(Se=v.finalize)||void 0===Se||Se.call(v)}))}):ve.D}},8359(on,ct,$){"use strict";$.d(ct,{Kn:()=>ke,yU:()=>oe,Uv:()=>Ae});var L=$(8071);const R=(0,$(1853).L)(v=>function(ie){v(this),this.message=ie?`${ie.length} errors occurred during unsubscription:\n${ie.map((xe,t)=>`${t+1}) ${xe.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=ie});var ve=$(7908);class oe{constructor(m){this.initialTeardown=m,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let m;if(!this.closed){this.closed=!0;const{_parentage:ie}=this;if(ie)if(this._parentage=null,Array.isArray(ie))for(const Le of ie)Le.remove(this);else ie.remove(this);const{initialTeardown:xe}=this;if((0,L.T)(xe))try{xe()}catch(Le){m=Le instanceof R?Le.errors:[Le]}const{_finalizers:t}=this;if(t){this._finalizers=null;for(const Le of t)try{ee(Le)}catch(Se){m=m??[],Se instanceof R?m=[...m,...Se.errors]:m.push(Se)}}if(m)throw new R(m)}}add(m){var ie;if(m&&m!==this)if(this.closed)ee(m);else{if(m instanceof oe){if(m.closed||m._hasParent(this))return;m._addParent(this)}(this._finalizers=null!==(ie=this._finalizers)&&void 0!==ie?ie:[]).push(m)}}_hasParent(m){const{_parentage:ie}=this;return ie===m||Array.isArray(ie)&&ie.includes(m)}_addParent(m){const{_parentage:ie}=this;this._parentage=Array.isArray(ie)?(ie.push(m),ie):ie?[ie,m]:m}_removeParent(m){const{_parentage:ie}=this;ie===m?this._parentage=null:Array.isArray(ie)&&(0,ve.o)(ie,m)}remove(m){const{_finalizers:ie}=this;ie&&(0,ve.o)(ie,m),m instanceof oe&&m._removeParent(this)}}oe.EMPTY=(()=>{const v=new oe;return v.closed=!0,v})();const ke=oe.EMPTY;function Ae(v){return v instanceof oe||v&&"closed"in v&&(0,L.T)(v.remove)&&(0,L.T)(v.add)&&(0,L.T)(v.unsubscribe)}function ee(v){(0,L.T)(v)?v():v.unsubscribe()}},8438(on,ct,$){"use strict";$.d(ct,{c:()=>L});const L={production:!1,api:{API_GATEWAY:"https://dev-gateway.aijunction.com",CUSTOMER_SERVICE:"https://dev-customer.aijunction.com",ACCOUNT_SERVICE:"https://dev-account.aijunction.com",SMART_TABLE:"https://localhost:7232",ITEM:"https://localhost:7232/api",CONTACT:"https://localhost:7232/api"}}},8496(on,ct,$){"use strict";function L(r,R){return r.reduce((ve,oe,ke)=>(ve[oe]=R[ke],ve),{})}$.d(ct,{e:()=>L})},8750(on,ct,$){"use strict";$.d(ct,{Tg:()=>t});var L=$(1635),r=$(7441),R=$(9858),ve=$(1985),oe=$(5055),ke=$(7953),Ae=$(591),ee=$(5397),v=$(5196),m=$(8071),ie=$(5334),xe=$(3494);function t(ze){if(ze instanceof ve.c)return ze;if(null!=ze){if((0,oe.l)(ze))return function Le(ze){return new ve.c(et=>{const st=ze[xe.s]();if((0,m.T)(st.subscribe))return st.subscribe(et);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(ze);if((0,r.X)(ze))return function Se(ze){return new ve.c(et=>{for(let st=0;st<ze.length&&!et.closed;st++)et.next(ze[st]);et.complete()})}(ze);if((0,R.y)(ze))return function je(ze){return new ve.c(et=>{ze.then(st=>{et.closed||(et.next(st),et.complete())},st=>et.error(st)).then(null,ie.m)})}(ze);if((0,ke.T)(ze))return be(ze);if((0,ee.x)(ze))return function Te(ze){return new ve.c(et=>{for(const st of ze)if(et.next(st),et.closed)return;et.complete()})}(ze);if((0,v.U)(ze))return function Oe(ze){return be((0,v.C)(ze))}(ze)}throw(0,Ae.L)(ze)}function be(ze){return new ve.c(et=>{(function at(ze,et){var st,rn,It,Ht;return(0,L.sH)(this,void 0,void 0,function*(){try{for(st=(0,L.xN)(ze);!(rn=yield st.next()).done;)if(et.next(rn.value),et.closed)return}catch(At){It={error:At}}finally{try{rn&&!rn.done&&(Ht=st.return)&&(yield Ht.call(st))}finally{if(It)throw It.error}}et.complete()})})(ze,et).catch(st=>et.error(st))})}},8793(on,ct,$){"use strict";$.d(ct,{x:()=>oe});var L=$(6365),R=$(9326),ve=$(6648);function oe(...ke){return function r(){return(0,L.U)(1)}()((0,ve.H)(ke,(0,R.lI)(ke)))}},8810(on,ct,$){"use strict";$.d(ct,{$:()=>R});var L=$(1985),r=$(8071);function R(ve,oe){const ke=(0,r.T)(ve)?ve:()=>ve,Ae=ee=>ee.error(ke());return new L.c(oe?ee=>oe.schedule(Ae,0,ee):Ae)}},8823(on,ct,$){var L;on.exports=(L=$(7656),function(){if("function"==typeof ArrayBuffer){var ve=L.lib.WordArray,oe=ve.init,ke=ve.init=function(Ae){if(Ae instanceof ArrayBuffer&&(Ae=new Uint8Array(Ae)),(Ae instanceof Int8Array||typeof Uint8ClampedArray<"u"&&Ae instanceof Uint8ClampedArray||Ae instanceof Int16Array||Ae instanceof Uint16Array||Ae instanceof Int32Array||Ae instanceof Uint32Array||Ae instanceof Float32Array||Ae instanceof Float64Array)&&(Ae=new Uint8Array(Ae.buffer,Ae.byteOffset,Ae.byteLength)),Ae instanceof Uint8Array){for(var ee=Ae.byteLength,v=[],m=0;m<ee;m++)v[m>>>2]|=Ae[m]<<24-m%4*8;oe.call(this,v,ee)}else oe.apply(this,arguments)};ke.prototype=ve}}(),L.lib.WordArray)},8855(on,ct,$){var L;on.exports=(L=$(7656),function(r){var R=L,ve=R.lib,oe=ve.WordArray,ke=ve.Hasher,Ae=R.algo,ee=[];!function(){for(var Le=0;Le<64;Le++)ee[Le]=4294967296*r.abs(r.sin(Le+1))|0}();var v=Ae.MD5=ke.extend({_doReset:function(){this._hash=new oe.init([1732584193,4023233417,2562383102,271733878])},_doProcessBlock:function(Le,Se){for(var je=0;je<16;je++){var Te=Se+je,be=Le[Te];Le[Te]=16711935&(be<<8|be>>>24)|4278255360&(be<<24|be>>>8)}var Oe=this._hash.words,at=Le[Se+0],ze=Le[Se+1],et=Le[Se+2],st=Le[Se+3],rn=Le[Se+4],It=Le[Se+5],Ht=Le[Se+6],At=Le[Se+7],Me=Le[Se+8],gt=Le[Se+9],Ve=Le[Se+10],en=Le[Se+11],Bt=Le[Se+12],Dt=Le[Se+13],ht=Le[Se+14],Ke=Le[Se+15],Ge=Oe[0],Ft=Oe[1],Xe=Oe[2],Ze=Oe[3];Ge=m(Ge,Ft,Xe,Ze,at,7,ee[0]),Ze=m(Ze,Ge,Ft,Xe,ze,12,ee[1]),Xe=m(Xe,Ze,Ge,Ft,et,17,ee[2]),Ft=m(Ft,Xe,Ze,Ge,st,22,ee[3]),Ge=m(Ge,Ft,Xe,Ze,rn,7,ee[4]),Ze=m(Ze,Ge,Ft,Xe,It,12,ee[5]),Xe=m(Xe,Ze,Ge,Ft,Ht,17,ee[6]),Ft=m(Ft,Xe,Ze,Ge,At,22,ee[7]),Ge=m(Ge,Ft,Xe,Ze,Me,7,ee[8]),Ze=m(Ze,Ge,Ft,Xe,gt,12,ee[9]),Xe=m(Xe,Ze,Ge,Ft,Ve,17,ee[10]),Ft=m(Ft,Xe,Ze,Ge,en,22,ee[11]),Ge=m(Ge,Ft,Xe,Ze,Bt,7,ee[12]),Ze=m(Ze,Ge,Ft,Xe,Dt,12,ee[13]),Xe=m(Xe,Ze,Ge,Ft,ht,17,ee[14]),Ge=ie(Ge,Ft=m(Ft,Xe,Ze,Ge,Ke,22,ee[15]),Xe,Ze,ze,5,ee[16]),Ze=ie(Ze,Ge,Ft,Xe,Ht,9,ee[17]),Xe=ie(Xe,Ze,Ge,Ft,en,14,ee[18]),Ft=ie(Ft,Xe,Ze,Ge,at,20,ee[19]),Ge=ie(Ge,Ft,Xe,Ze,It,5,ee[20]),Ze=ie(Ze,Ge,Ft,Xe,Ve,9,ee[21]),Xe=ie(Xe,Ze,Ge,Ft,Ke,14,ee[22]),Ft=ie(Ft,Xe,Ze,Ge,rn,20,ee[23]),Ge=ie(Ge,Ft,Xe,Ze,gt,5,ee[24]),Ze=ie(Ze,Ge,Ft,Xe,ht,9,ee[25]),Xe=ie(Xe,Ze,Ge,Ft,st,14,ee[26]),Ft=ie(Ft,Xe,Ze,Ge,Me,20,ee[27]),Ge=ie(Ge,Ft,Xe,Ze,Dt,5,ee[28]),Ze=ie(Ze,Ge,Ft,Xe,et,9,ee[29]),Xe=ie(Xe,Ze,Ge,Ft,At,14,ee[30]),Ge=xe(Ge,Ft=ie(Ft,Xe,Ze,Ge,Bt,20,ee[31]),Xe,Ze,It,4,ee[32]),Ze=xe(Ze,Ge,Ft,Xe,Me,11,ee[33]),Xe=xe(Xe,Ze,Ge,Ft,en,16,ee[34]),Ft=xe(Ft,Xe,Ze,Ge,ht,23,ee[35]),Ge=xe(Ge,Ft,Xe,Ze,ze,4,ee[36]),Ze=xe(Ze,Ge,Ft,Xe,rn,11,ee[37]),Xe=xe(Xe,Ze,Ge,Ft,At,16,ee[38]),Ft=xe(Ft,Xe,Ze,Ge,Ve,23,ee[39]),Ge=xe(Ge,Ft,Xe,Ze,Dt,4,ee[40]),Ze=xe(Ze,Ge,Ft,Xe,at,11,ee[41]),Xe=xe(Xe,Ze,Ge,Ft,st,16,ee[42]),Ft=xe(Ft,Xe,Ze,Ge,Ht,23,ee[43]),Ge=xe(Ge,Ft,Xe,Ze,gt,4,ee[44]),Ze=xe(Ze,Ge,Ft,Xe,Bt,11,ee[45]),Xe=xe(Xe,Ze,Ge,Ft,Ke,16,ee[46]),Ge=t(Ge,Ft=xe(Ft,Xe,Ze,Ge,et,23,ee[47]),Xe,Ze,at,6,ee[48]),Ze=t(Ze,Ge,Ft,Xe,At,10,ee[49]),Xe=t(Xe,Ze,Ge,Ft,ht,15,ee[50]),Ft=t(Ft,Xe,Ze,Ge,It,21,ee[51]),Ge=t(Ge,Ft,Xe,Ze,Bt,6,ee[52]),Ze=t(Ze,Ge,Ft,Xe,st,10,ee[53]),Xe=t(Xe,Ze,Ge,Ft,Ve,15,ee[54]),Ft=t(Ft,Xe,Ze,Ge,ze,21,ee[55]),Ge=t(Ge,Ft,Xe,Ze,Me,6,ee[56]),Ze=t(Ze,Ge,Ft,Xe,Ke,10,ee[57]),Xe=t(Xe,Ze,Ge,Ft,Ht,15,ee[58]),Ft=t(Ft,Xe,Ze,Ge,Dt,21,ee[59]),Ge=t(Ge,Ft,Xe,Ze,rn,6,ee[60]),Ze=t(Ze,Ge,Ft,Xe,en,10,ee[61]),Xe=t(Xe,Ze,Ge,Ft,et,15,ee[62]),Ft=t(Ft,Xe,Ze,Ge,gt,21,ee[63]),Oe[0]=Oe[0]+Ge|0,Oe[1]=Oe[1]+Ft|0,Oe[2]=Oe[2]+Xe|0,Oe[3]=Oe[3]+Ze|0},_doFinalize:function(){var Le=this._data,Se=Le.words,je=8*this._nDataBytes,Te=8*Le.sigBytes;Se[Te>>>5]|=128<<24-Te%32;var be=r.floor(je/4294967296),Oe=je;Se[15+(Te+64>>>9<<4)]=16711935&(be<<8|be>>>24)|4278255360&(be<<24|be>>>8),Se[14+(Te+64>>>9<<4)]=16711935&(Oe<<8|Oe>>>24)|4278255360&(Oe<<24|Oe>>>8),Le.sigBytes=4*(Se.length+1),this._process();for(var at=this._hash,ze=at.words,et=0;et<4;et++){var st=ze[et];ze[et]=16711935&(st<<8|st>>>24)|4278255360&(st<<24|st>>>8)}return at},clone:function(){var Le=ke.clone.call(this);return Le._hash=this._hash.clone(),Le}});function m(Le,Se,je,Te,be,Oe,at){var ze=Le+(Se&je|~Se&Te)+be+at;return(ze<<Oe|ze>>>32-Oe)+Se}function ie(Le,Se,je,Te,be,Oe,at){var ze=Le+(Se&Te|je&~Te)+be+at;return(ze<<Oe|ze>>>32-Oe)+Se}function xe(Le,Se,je,Te,be,Oe,at){var ze=Le+(Se^je^Te)+be+at;return(ze<<Oe|ze>>>32-Oe)+Se}function t(Le,Se,je,Te,be,Oe,at){var ze=Le+(je^(Se|~Te))+be+at;return(ze<<Oe|ze>>>32-Oe)+Se}R.MD5=ke._createHelper(v),R.HmacMD5=ke._createHmacHelper(v)}(Math),L.MD5)},8869(on,ct,$){"use strict";$.d(ct,{i3:()=>Ve,Wx:()=>ke,oX:()=>be,QU:()=>Bt,yM:()=>Te,o7:()=>et,jv:()=>ee});var L=$(467),r=$(4096),R=$(375);let ve=(()=>{class Dt extends r.Ay{TableMaster;ApiConfiguration;_recycleBin;RowContact;SyncLog;constructor(){super("AIJunctionDB_Refactored"),this.version(2).stores({TableMaster:"Table_Code, Table_Name, Sync_Frequency",ApiConfiguration:"API_CODE, Api_End_point",_recycleBin:"++id, originalTable, deletedAt",RowContact:"rowContactUniqueId, contactPerson, organizationName, mobileNumber, emailId, syncStatus",SyncLog:"++id, entityType, status, timestamp"})}ensureDynamicTables(){var Ke=this;return(0,L.A)(function*(){Ke.isOpen()||(yield Ke.open());const Ge=yield Ke.table("TableMaster").toArray(),Ft={TableMaster:"Table_Code, Table_Name, Sync_Frequency",ApiConfiguration:"API_CODE, Api_End_point",_recycleBin:"++id, originalTable, deletedAt",RowContact:"rowContactUniqueId, contactPerson, organizationName, mobileNumber, emailId, syncStatus",SyncLog:"++id, entityType, status, timestamp"};Ge.length>0&&Ge.forEach(Xe=>{Xe.Table_Schema&&(Ft[Xe.Table_Name]=Xe.Table_Schema)}),Ke.close(),Ke.version(101).stores(Ft),yield Ke.open()})()}static \u0275fac=function(Ge){return new(Ge||Dt)};static \u0275prov=R.jDH({token:Dt,factory:Dt.\u0275fac,providedIn:"root"})}return Dt})();var oe=$(6648);let ke=(()=>{class Dt{db;constructor(Ke){this.db=Ke}getAll(){return(0,oe.H)(this.db.ApiConfiguration.toArray())}put(Ke){var Ge=this;return(0,L.A)(function*(){return Ge.db.ApiConfiguration.put(Ke)})()}static \u0275fac=function(Ge){return new(Ge||Dt)(R.KVO(ve))};static \u0275prov=R.jDH({token:Dt,factory:Dt.\u0275fac,providedIn:"root"})}return Dt})(),ee=(()=>{class Dt{db;constructor(Ke){this.db=Ke}getAll(){return(0,oe.H)(this.db.TableMaster.toArray())}addOrUpdate(Ke){var Ge=this;return(0,L.A)(function*(){yield Ge.db.TableMaster.put(Ke),yield Ge.db.ensureDynamicTables()})()}delete(Ke){var Ge=this;return(0,L.A)(function*(){yield Ge.db.TableMaster.delete(Ke)})()}static \u0275fac=function(Ge){return new(Ge||Dt)(R.KVO(ve))};static \u0275prov=R.jDH({token:Dt,factory:Dt.\u0275fac,providedIn:"root"})}return Dt})();var v=$(1471);let ie=(()=>{class Dt{db;constructor(Ke){this.db=Ke}getAll(){return(0,r.Dd)(()=>this.db.RowContact.toArray())}getById(Ke){var Ge=this;return(0,L.A)(function*(){return Ge.db.RowContact.get(Ke)})()}add(Ke){var Ge=this;return(0,L.A)(function*(){return yield Ge.db.RowContact.add(Ke),Ke.rowContactUniqueId})()}update(Ke,Ge){var Ft=this;return(0,L.A)(function*(){return Ft.db.RowContact.update(Ke,Ge)})()}delete(Ke){var Ge=this;return(0,L.A)(function*(){return Ge.db.RowContact.delete(Ke)})()}count(){var Ke=this;return(0,L.A)(function*(){return Ke.db.RowContact.count()})()}static \u0275fac=function(Ge){return new(Ge||Dt)(R.KVO(ve))};static \u0275prov=R.jDH({token:Dt,factory:Dt.\u0275fac,providedIn:"root"})}return Dt})();class xe{static toEntity(ht){return{rowContactUniqueId:ht.row_contact_unique_id,communicationDetail:ht.communication_detail,communicationType:ht.communication_type,systemContactType:ht.system_contact_type,systemContactCategory:ht.system_contact_category,systemContactGroup:ht.system_contact_group,systemContactStatus:ht.system_contact_status,dndStatus:ht.dnd_status,contactPerson:ht.contact_person,organizationName:ht.organization_name,pinCode:ht.pin_code,landmark:ht.landmark,zone:ht.zone,country:ht.country,state:ht.state,city:ht.city,address:ht.address,latitude:ht.latitude,longitude:ht.longitude,createDate:ht.create_date?new Date(ht.create_date):void 0,verificationDate:ht.verification_date?new Date(ht.verification_date):void 0,nextVerificationDate:ht.next_verification_date?new Date(ht.next_verification_date):void 0,lastActivityDateTime:ht.last_activity_date_time?new Date(ht.last_activity_date_time):void 0,campaignCode:ht.campaign_code,licenceRegNo1:ht.licence_reg_no_1,licenceRegNo2:ht.licence_reg_no_2,licenceRegNo3:ht.licence_reg_no_3,licenceRegNo4:ht.licence_reg_no_4,licenceRegNo5:ht.licence_reg_no_5,organizationUniqueId:ht.organization_unique_id,contactUniqueId:ht.contact_unique_id,rowData:ht.row_data,noOfOrganization:ht.no_of_organization,noOfContact:ht.no_of_contact,verificationStatus:ht.verification_status,mappingRowToMainContact:ht.mapping_row_to_main_contact,mappingRowToMainOrganization:ht.mapping_row_to_main_organization,otherFieldA:ht.other_field_a,otherFieldB:ht.other_field_b,otherFieldC:ht.other_field_c,otherFieldD:ht.other_field_d,otherFieldE:ht.other_field_e,otherFieldF:ht.other_field_f,otherFieldG:ht.other_field_g,otherFieldH:ht.other_field_h,otherFieldI:ht.other_field_i,otherFieldJ:ht.other_field_j,otherFieldK:ht.other_field_k,otherFieldL:ht.other_field_l,otherFieldM:ht.other_field_m,mobileNumber:ht.mobile_number,emailId:ht.email_id,productDetailA:ht.product_detail_a,productDetailB:ht.product_detail_b,productDetailC:ht.product_detail_c,configJson:ht.config_json,syncStatus:"SYNCED",lastModified:Date.now()}}static toDto(ht){return{row_contact_unique_id:ht.rowContactUniqueId,contact_person:ht.contactPerson,organization_name:ht.organizationName,email_id:ht.emailId,mobile_number:ht.mobileNumber,communication_detail:ht.communicationDetail,create_date:ht.createDate?.toISOString(),verification_date:ht.verificationDate?.toISOString()}}static toModel(ht){return{id:ht.rowContactUniqueId,contactPerson:ht.contactPerson||"",organizationName:ht.organizationName||"",email:ht.emailId||"",phone:ht.mobileNumber||"",communicationDetail:ht.communicationDetail,communicationType:ht.communicationType,address:ht.address,city:ht.city,state:ht.state,country:ht.country,pinCode:ht.pinCode,status:ht.systemContactStatus,createdAt:ht.createDate,verifiedAt:ht.verificationDate,originalData:ht}}}var t=$(6354),Le=$(5707),Se=function(Dt){return Dt.PENDING="PENDING",Dt.IN_PROGRESS="IN_PROGRESS",Dt.FAILED="FAILED",Dt.COMPLETED="COMPLETED",Dt}(Se||{}),je=function(Dt){return Dt.CREATE="CREATE",Dt.UPDATE="UPDATE",Dt.DELETE="DELETE",Dt.SOFT_DELETE="SOFT_DELETE",Dt}(je||{});let Te=(()=>{class Dt{db;constructor(Ke){this.db=Ke}addLog(Ke){var Ge=this;return(0,L.A)(function*(){return Ge.db.SyncLog.add(Ke)})()}getPendingLogs(){var Ke=this;return(0,L.A)(function*(){return Ke.db.SyncLog.where("status").equals(Se.PENDING).toArray()})()}updateStatus(Ke,Ge,Ft){var Xe=this;return(0,L.A)(function*(){return Xe.db.SyncLog.update(Ke,{status:Ge,errorMessage:Ft,retryCount:Ge===Se.FAILED?void 0:0})})()}clearCompleted(){var Ke=this;return(0,L.A)(function*(){return Ke.db.SyncLog.where("status").equals(Se.COMPLETED).delete()})()}livePendingCount(){return(0,r.Dd)(()=>this.db.SyncLog.where("status").equals(Se.PENDING).count())}static \u0275fac=function(Ge){return new(Ge||Dt)(R.KVO(ve))};static \u0275prov=R.jDH({token:Dt,factory:Dt.\u0275fac,providedIn:"root"})}return Dt})(),be=(()=>{class Dt{offlineRepo;syncLogRepo;ENTITY_TYPE="ROW_CONTACT";configService=(0,R.WQX)(Le.we);constructor(Ke,Ge){this.offlineRepo=Ke,this.syncLogRepo=Ge}getAll(){return this.offlineRepo.getAll()}getById(Ke){var Ge=this;return(0,L.A)(function*(){return Ge.offlineRepo.getById(Ke)})()}create(Ke){var Ge=this;return(0,L.A)(function*(){const Ft=xe.toEntity(Ke);Ft.syncStatus="PENDING";const Xe=yield Ge.offlineRepo.add(Ft),Ze={entityType:Ge.ENTITY_TYPE,entityId:Xe,operation:"CREATE",data:Ke,timestamp:Date.now(),status:"PENDING",retryCount:0};return yield Ge.syncLogRepo.addLog(Ze),Xe})()}update(Ke,Ge){var Ft=this;return(0,L.A)(function*(){if(!(yield Ft.offlineRepo.getById(Ke)))throw new Error("Entity not found");yield Ft.offlineRepo.update(Ke,{...Ge,syncStatus:"PENDING",lastModified:Date.now()});const Ze={entityType:Ft.ENTITY_TYPE,entityId:Ke,operation:"UPDATE",data:Ge,timestamp:Date.now(),status:"PENDING",retryCount:0};yield Ft.syncLogRepo.addLog(Ze)})()}delete(Ke){var Ge=this;return(0,L.A)(function*(){yield Ge.offlineRepo.delete(Ke);const Ft={entityType:Ge.ENTITY_TYPE,entityId:Ke,operation:"DELETE",data:{rowContactUniqueId:Ke},timestamp:Date.now(),status:"PENDING",retryCount:0};yield Ge.syncLogRepo.addLog(Ft)})()}bulkUpsert(Ke){const Ge=Ke.map(Ft=>({...Ft,syncStatus:"SYNCED",lastModified:Date.now()}));return(0,oe.H)(this.offlineRepo.db.RowContact.bulkPut(Ge)).pipe((0,t.T)(()=>{}))}getData(Ke){const Ge=this.offlineRepo.db.RowContact,Ft=function(){var Xe=(0,L.A)(function*(){const{page_number:Ze,page_size:dt,sort_column:Et,search_filters:yt}=Ke;let Nt;if(Et.length>0&&Et[0].coloum_id){let{coloum_id:Jn,short_type:Pt}=Et[0];Jn.includes("_")&&(Jn=Jn.replace(/_([a-z])/g,Kt=>Kt[1].toUpperCase())),Nt=Ge.orderBy(Jn),"desc"===Pt&&(Nt=Nt.reverse())}else Nt=Ge.toCollection();yt.length>0&&(Nt=Nt.filter(Jn=>yt.every(Pt=>{if(!Pt.parameter_code||!Pt.parameter_value)return!0;const Kt=Pt.parameter_value.toLowerCase();return String(Jn[Pt.parameter_code]||"").toLowerCase().includes(Kt)})));const wn=Nt.count(),bn=Number(Ze),Gt=Number(dt),On=Nt.offset((bn-1)*Gt).limit(Gt).toArray(),[Er,mi]=yield Promise.all([wn,On]);return{data:mi,total_records:Er}});return function(){return Xe.apply(this,arguments)}}();return(0,oe.H)(Ft())}static \u0275fac=function(Ge){return new(Ge||Dt)(R.KVO(ie),R.KVO(Te))};static \u0275prov=R.jDH({token:Dt,factory:Dt.\u0275fac,providedIn:"root"})}return Dt})();var Oe=$(5547),at=$(177),ze=$(4412);let et=(()=>{class Dt{handlers=new Map;isProcessing=!1;syncStateSubject=new ze.t(Se.PENDING);syncState$=this.syncStateSubject.asObservable();isOnline=(0,R.vPA)(!0);logRepo=(0,R.WQX)(Te);platformId=(0,R.WQX)(Oe.Agw);constructor(){(0,at.UE)(this.platformId)&&(this.isOnline.set(navigator.onLine),window.addEventListener("online",()=>this.handleConnectionChange(!0)),window.addEventListener("offline",()=>this.handleConnectionChange(!1))),(0,R.QZP)(()=>{this.isOnline()&&this.processQueue()})}getPendingCount(){return(0,oe.H)(this.logRepo.livePendingCount())}handleConnectionChange(Ke){this.isOnline.set(Ke),Ke?(console.log("[SyncManager] Online. Attempting sync..."),this.processQueue()):console.log("[SyncManager] Offline. Sync paused.")}registerHandler(Ke,Ge){this.handlers.set(Ke,Ge)}processQueue(){var Ke=this;return(0,L.A)(function*(){if(!Ke.isProcessing&&Ke.isOnline())try{Ke.isProcessing=!0,Ke.syncStateSubject.next(Se.IN_PROGRESS);const Ge=yield Ke.logRepo.getPendingLogs();if(0===Ge.length)return Ke.isProcessing=!1,void Ke.syncStateSubject.next(Se.COMPLETED);console.log(`[SyncManager] Processing ${Ge.length} pending operations...`);for(const Xe of Ge)yield Ke.processLog(Xe);(yield Ke.logRepo.getPendingLogs()).length>0?yield Ke.processQueue():Ke.syncStateSubject.next(Se.COMPLETED)}catch(Ge){console.error("[SyncManager] Queue processing error",Ge),Ke.syncStateSubject.next(Se.FAILED)}finally{Ke.isProcessing=!1}})()}processLog(Ke){var Ge=this;return(0,L.A)(function*(){const Ft=Ge.handlers.get(Ke.entityType);if(Ft)try{yield Ge.logRepo.updateStatus(Ke.id,Se.IN_PROGRESS),yield Ft.sync(Ke.operation,Ke.data),yield Ge.logRepo.updateStatus(Ke.id,Se.COMPLETED),console.log(`[SyncManager] Synced log #${Ke.id} (${Ke.entityType} - ${Ke.operation})`)}catch(Xe){console.error(`[SyncManager] Failed to sync log #${Ke.id}`,Xe),yield Ge.logRepo.updateStatus(Ke.id,Se.FAILED,Xe.message||"Unknown error")}else console.warn(`[SyncManager] No handler registered for entity type: ${Ke.entityType}`)})()}ngOnDestroy(){(0,at.UE)(this.platformId)&&(window.removeEventListener("online",()=>{}),window.removeEventListener("offline",()=>{}))}static \u0275fac=function(Ge){return new(Ge||Dt)};static \u0275prov=R.jDH({token:Dt,factory:Dt.\u0275fac,providedIn:"root"})}return Dt})();var st=$(9350);function rn(Dt,ht){const Ke="object"==typeof ht;return new Promise((Ge,Ft)=>{let Ze,Xe=!1;Dt.subscribe({next:dt=>{Ze=dt,Xe=!0},error:Ft,complete:()=>{Xe?Ge(Ze):Ke?Ge(ht.defaultValue):Ft(new st.G)}})})}var It=$(3794),Ht=$(9437);let At=(()=>{class Dt{isBrowser;SECRET="AVINYA_ERP_2025_SECRET_KEY";constructor(Ke){this.isBrowser=(0,at.UE)(Ke)}encrypt(Ke){return v.AES.encrypt(Ke,this.SECRET).toString()}decrypt(Ke){try{return v.AES.decrypt(Ke,this.SECRET).toString(v.enc.Utf8)||null}catch{return null}}saveData(Ke,Ge){if(!this.isBrowser)return;const Ft="string"==typeof Ge?Ge:JSON.stringify(Ge),Xe=this.encrypt(Ft);localStorage.setItem(Ke,Xe)}getData(Ke){if(!this.isBrowser)return null;const Ge=localStorage.getItem(Ke);if(!Ge)return null;const Ft=this.decrypt(Ge);if(!Ft)return null;try{return JSON.parse(Ft)}catch{return Ft}}removeData(Ke){this.isBrowser&&localStorage.removeItem(Ke)}clearData(){this.isBrowser&&localStorage.clear()}static \u0275fac=function(Ge){return new(Ge||Dt)(R.KVO(Oe.Agw))};static \u0275prov=R.jDH({token:Dt,factory:Dt.\u0275fac,providedIn:"root"})}return Dt})();var Me=$(8810);let gt=(()=>{class Dt{unwrapResponse(Ke){return Ke&&"object"==typeof Ke&&"data"in Ke?Ke.data:Ke}handleError(Ke){console.error("An error occurred:",Ke);let Ge="Unknown Error";return Ge=Ke.error instanceof ErrorEvent?Ke.error.message:`Error Code: ${Ke.status}\nMessage: ${Ke.message}`,(0,Me.$)(()=>new Error(Ge))}static \u0275fac=function(Ge){return new(Ge||Dt)};static \u0275prov=R.jDH({token:Dt,factory:Dt.\u0275fac,providedIn:"root"})}return Dt})();const Ve=new R.nKC("API_CONFIG");let en=(()=>{class Dt{http=(0,R.WQX)(It.Qq);localStorageService=(0,R.WQX)(At);apiHelper=(0,R.WQX)(gt);apiConfig=(0,R.WQX)(Ve);constructor(){}resolveBaseUrl(Ke){const Ge=this.apiConfig;switch(Ke){case"CUSTOMER":return Ge.CUSTOMER_SERVICE||Ke;case"INVENTORY":return Ge.INVENTORY||Ke;case"CONTACT":return Ge.CONTACT||Ke;case"TRAVEL":return Ge.TRAVEL||Ke;case"MASTERDATA":return Ge.MASTERDATA||Ke;default:return Ge[Ke]?Ge[Ke]:Ke||""}}buildHeaders(){return new It.Lr({"Content-Type":"application/json",session_id:this.localStorageService.getData("sessionId")??"",company_id:this.localStorageService.getData("companyId")??"",work_mode:"Demo"})}buildOptions(Ke,Ge){let Ft;return Ke instanceof It.Nl?Ft=Ke:Ke&&"object"==typeof Ke&&(Ft=new It.Nl({fromObject:Ke})),{headers:this.buildHeaders(),params:Ft,body:Ge,context:new It._y}}request(Ke,Ge,Ft,Xe){const dt=`${this.resolveBaseUrl(Ke)}${Ft}`,Et=this.buildOptions(Xe?.params,Xe?.body);return this.http.request(Ge,dt,Et).pipe((0,t.T)(yt=>this.apiHelper.unwrapResponse(yt)),(0,Ht.W)(yt=>this.apiHelper.handleError(yt)))}getAll(Ke,Ge,Ft){return this.request(Ke,"GET",Ft,{params:Ge})}create(Ke,Ge,Ft){return this.request(Ke,"POST",Ft,{body:Ge})}updatePost(Ke,Ge,Ft){return this.request(Ke,"POST",Ft,{body:Ge})}update(Ke,Ge,Ft){return this.request(Ke,"PATCH",Ft,{body:Ge})}delete(Ke,Ge,Ft){return this.request(Ke,"DELETE",Ft,{body:Ge})}static \u0275fac=function(Ge){return new(Ge||Dt)};static \u0275prov=R.jDH({token:Dt,factory:Dt.\u0275fac,providedIn:"root"})}return Dt})(),Bt=(()=>{class Dt{syncManager;ENTITY_TYPE="ROW_CONTACT";http=(0,R.WQX)(en);MODULE_KEY="CONTACT";API_PATH="/RowContact";constructor(Ke){this.syncManager=Ke,this.syncManager.registerHandler(this.ENTITY_TYPE,this)}sync(Ke,Ge){var Ft=this;return(0,L.A)(function*(){switch(Ke){case je.CREATE:return rn(Ft.http.create(Ft.MODULE_KEY,Ge,Ft.API_PATH));case je.UPDATE:return rn(Ft.http.update(Ft.MODULE_KEY,Ge,`${Ft.API_PATH}/${Ge.rowContactUniqueId}`));case je.DELETE:return rn(Ft.http.delete(Ft.MODULE_KEY,Ge,`${Ft.API_PATH}/${Ge.rowContactUniqueId}`));case"SOFT_DELETE":return rn(Ft.http.updatePost(Ft.MODULE_KEY,{...Ge,isDeleted:!0},`${Ft.API_PATH}/${Ge.rowContactUniqueId}`));default:throw new Error(`Unsupported sync operation: ${Ke}`)}})()}static \u0275fac=function(Ge){return new(Ge||Dt)(R.KVO(et))};static \u0275prov=R.jDH({token:Dt,factory:Dt.\u0275fac,providedIn:"root"})}return Dt})()},8891(on,ct,$){var L,ve;on.exports=(L=$(7656),ve=L.lib.WordArray,L.enc.Base64={stringify:function(ee){var v=ee.words,m=ee.sigBytes,ie=this._map;ee.clamp();for(var xe=[],t=0;t<m;t+=3)for(var Te=(v[t>>>2]>>>24-t%4*8&255)<<16|(v[t+1>>>2]>>>24-(t+1)%4*8&255)<<8|v[t+2>>>2]>>>24-(t+2)%4*8&255,be=0;be<4&&t+.75*be<m;be++)xe.push(ie.charAt(Te>>>6*(3-be)&63));var Oe=ie.charAt(64);if(Oe)for(;xe.length%4;)xe.push(Oe);return xe.join("")},parse:function(ee){var v=ee.length,m=this._map,ie=this._reverseMap;if(!ie){ie=this._reverseMap=[];for(var xe=0;xe<m.length;xe++)ie[m.charCodeAt(xe)]=xe}var t=m.charAt(64);if(t){var Le=ee.indexOf(t);-1!==Le&&(v=Le)}return function Ae(ee,v,m){for(var ie=[],xe=0,t=0;t<v;t++)if(t%4){var Le=m[ee.charCodeAt(t-1)]<<t%4*2,Se=m[ee.charCodeAt(t)]>>>6-t%4*2;ie[xe>>>2]|=(Le|Se)<<24-xe%4*8,xe++}return ve.create(ie,xe)}(ee,v,ie)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="},L.enc.Base64)},9030(on,ct,$){"use strict";$.d(ct,{v:()=>R});var L=$(1985),r=$(8750);function R(ve){return new L.c(oe=>{(0,r.Tg)(ve()).subscribe(oe)})}},9047(on,ct,$){var L;on.exports=(L=$(7656),$(2414),L.pad.Iso97971={pad:function(r,R){r.concat(L.lib.WordArray.create([2147483648],1)),L.pad.ZeroPadding.pad(r,R)},unpad:function(r){L.pad.ZeroPadding.unpad(r),r.sigBytes--}},L.pad.Iso97971)},9098(on,ct,$){var r,R,L;on.exports=(L=$(7656),$(2414),L.mode.CTR=(R=(r=L.lib.BlockCipherMode.extend()).Encryptor=r.extend({processBlock:function(ve,oe){var ke=this._cipher,Ae=ke.blockSize,ee=this._iv,v=this._counter;ee&&(v=this._counter=ee.slice(0),this._iv=void 0);var m=v.slice(0);ke.encryptBlock(m,0),v[Ae-1]=v[Ae-1]+1|0;for(var ie=0;ie<Ae;ie++)ve[oe+ie]^=m[ie]}}),r.Decryptor=R,r),L.mode.CTR)},9172(on,ct,$){"use strict";$.d(ct,{Z:()=>ve});var L=$(8793),r=$(9326),R=$(9974);function ve(...oe){const ke=(0,r.lI)(oe);return(0,R.N)((Ae,ee)=>{(ke?(0,L.x)(oe,Ae,ke):(0,L.x)(oe,Ae)).subscribe(ee)})}},9225(on,ct,$){var r,ve,oe,ke,Ae,L;on.exports=(L=$(7656),$(5168),ve=(r=L).lib.WordArray,Ae=(oe=r.algo).SHA224=(ke=oe.SHA256).extend({_doReset:function(){this._hash=new ve.init([3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428])},_doFinalize:function(){var ee=ke._doFinalize.call(this);return ee.sigBytes-=4,ee}}),r.SHA224=ke._createHelper(Ae),r.HmacSHA224=ke._createHmacHelper(Ae),L.SHA224)},9270(on,ct,$){"use strict";$.d(ct,{f:()=>L});const L={setTimeout(r,R,...ve){const{delegate:oe}=L;return oe?.setTimeout?oe.setTimeout(r,R,...ve):setTimeout(r,R,...ve)},clearTimeout(r){const{delegate:R}=L;return(R?.clearTimeout||clearTimeout)(r)},delegate:void 0}},9326(on,ct,$){"use strict";$.d(ct,{lI:()=>oe,ms:()=>ve});var L=$(8071),r=$(9470);function R(Ae){return Ae[Ae.length-1]}function ve(Ae){return(0,L.T)(R(Ae))?Ae.pop():void 0}function oe(Ae){return(0,r.m)(R(Ae))?Ae.pop():void 0}},9350(on,ct,$){"use strict";$.d(ct,{G:()=>r});const r=(0,$(1853).L)(R=>function(){R(this),this.name="EmptyError",this.message="no elements in sequence"})},9417(on,ct,$){"use strict";$.d(ct,{BC:()=>Pr,Fm:()=>ti,JD:()=>fa,MJ:()=>qr,MR:()=>zr,X1:()=>sl,YN:()=>Ys,Zm:()=>Le,cb:()=>fi,gE:()=>yo,j4:()=>La,k0:()=>rn,l_:()=>Ls,me:()=>be,ok:()=>Ra,qT:()=>dn,tU:()=>Po,vS:()=>Be,wz:()=>Ma,xH:()=>Ia,y7:()=>Ms});var L=$(375),r=$(5547),R=$(7705),ve=$(7017),oe=$(6494),ke=$(1413),Ae=$(7468),ee=$(6648),v=$(6354);let m=(()=>{class le{_renderer;_elementRef;onChange=K=>{};onTouched=()=>{};constructor(K,Re){this._renderer=K,this._elementRef=Re}setProperty(K,Re){this._renderer.setProperty(this._elementRef.nativeElement,K,Re)}registerOnTouched(K){this.onTouched=K}registerOnChange(K){this.onChange=K}setDisabledState(K){this.setProperty("disabled",K)}static \u0275fac=function(Re){return new(Re||le)(r.rXU(r.sFG),r.rXU(r.aKT))};static \u0275dir=r.FsC({type:le})}return le})(),ie=(()=>{class le extends m{static \u0275fac=(()=>{let K;return function(mt){return(K||(K=r.xGo(le)))(mt||le)}})();static \u0275dir=r.FsC({type:le,features:[r.Vt3]})}return le})();const xe=new L.nKC(""),t={provide:xe,useExisting:(0,L.Rfq)(()=>Le),multi:!0};let Le=(()=>{class le extends ie{writeValue(K){this.setProperty("checked",K)}static \u0275fac=(()=>{let K;return function(mt){return(K||(K=r.xGo(le)))(mt||le)}})();static \u0275dir=r.FsC({type:le,selectors:[["input","type","checkbox","formControlName",""],["input","type","checkbox","formControl",""],["input","type","checkbox","ngModel",""]],hostBindings:function(Re,mt){1&Re&&r.bIt("change",function(Zr){return mt.onChange(Zr.target.checked)})("blur",function(){return mt.onTouched()})},standalone:!1,features:[r.Jv_([t]),r.Vt3]})}return le})();const Se={provide:xe,useExisting:(0,L.Rfq)(()=>be),multi:!0},Te=new L.nKC("");let be=(()=>{class le extends m{_compositionMode;_composing=!1;constructor(K,Re,mt){super(K,Re),this._compositionMode=mt,null==this._compositionMode&&(this._compositionMode=!function je(){const le=(0,oe.rb)()?(0,oe.rb)().getUserAgent():"";return/android (\d+)/.test(le.toLowerCase())}())}writeValue(K){this.setProperty("value",K??"")}_handleInput(K){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(K)}_compositionStart(){this._composing=!0}_compositionEnd(K){this._composing=!1,this._compositionMode&&this.onChange(K)}static \u0275fac=function(Re){return new(Re||le)(r.rXU(r.sFG),r.rXU(r.aKT),r.rXU(Te,8))};static \u0275dir=r.FsC({type:le,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(Re,mt){1&Re&&r.bIt("input",function(Zr){return mt._handleInput(Zr.target.value)})("blur",function(){return mt.onTouched()})("compositionstart",function(){return mt._compositionStart()})("compositionend",function(Zr){return mt._compositionEnd(Zr.target.value)})},standalone:!1,features:[r.Jv_([Se]),r.Vt3]})}return le})();function Oe(le){return null==le||0===at(le)}function at(le){return null==le?null:Array.isArray(le)||"string"==typeof le?le.length:le instanceof Set?le.size:null}const ze=new L.nKC(""),et=new L.nKC(""),st=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class rn{static min(he){return function It(le){return he=>{if(null==he.value||null==le)return null;const K=parseFloat(he.value);return!isNaN(K)&&K<le?{min:{min:le,actual:he.value}}:null}}(he)}static max(he){return function Ht(le){return he=>{if(null==he.value||null==le)return null;const K=parseFloat(he.value);return!isNaN(K)&&K>le?{max:{max:le,actual:he.value}}:null}}(he)}static required(he){return function At(le){return Oe(le.value)?{required:!0}:null}(he)}static requiredTrue(he){return function Me(le){return!0===le.value?null:{required:!0}}(he)}static email(he){return function gt(le){return Oe(le.value)||st.test(le.value)?null:{email:!0}}(he)}static minLength(he){return function Ve(le){return he=>{const K=he.value?.length??at(he.value);return null===K||0===K?null:K<le?{minlength:{requiredLength:le,actualLength:K}}:null}}(he)}static maxLength(he){return en(he)}static pattern(he){return function Bt(le){if(!le)return Dt;let he,K;return"string"==typeof le?(K="","^"!==le.charAt(0)&&(K+="^"),K+=le,"$"!==le.charAt(le.length-1)&&(K+="$"),he=new RegExp(K)):(K=le.toString(),he=le),Re=>{if(Oe(Re.value))return null;const mt=Re.value;return he.test(mt)?null:{pattern:{requiredPattern:K,actualValue:mt}}}}(he)}static nullValidator(he){return null}static compose(he){return dt(he)}static composeAsync(he){return yt(he)}}function en(le){return he=>{const K=he.value?.length??at(he.value);return null!==K&&K>le?{maxlength:{requiredLength:le,actualLength:K}}:null}}function Dt(le){return null}function ht(le){return null!=le}function Ke(le){return(0,r.yLl)(le)?(0,ee.H)(le):le}function Ge(le){let he={};return le.forEach(K=>{he=null!=K?{...he,...K}:he}),0===Object.keys(he).length?null:he}function Ft(le,he){return he.map(K=>K(le))}function Ze(le){return le.map(he=>function Xe(le){return!le.validate}(he)?he:K=>he.validate(K))}function dt(le){if(!le)return null;const he=le.filter(ht);return 0==he.length?null:function(K){return Ge(Ft(K,he))}}function Et(le){return null!=le?dt(Ze(le)):null}function yt(le){if(!le)return null;const he=le.filter(ht);return 0==he.length?null:function(K){const Re=Ft(K,he).map(Ke);return(0,Ae.p)(Re).pipe((0,v.T)(Ge))}}function Nt(le){return null!=le?yt(Ze(le)):null}function wn(le,he){return null===le?[he]:Array.isArray(le)?[...le,he]:[le,he]}function bn(le){return le._rawValidators}function Gt(le){return le._rawAsyncValidators}function kn(le){return le?Array.isArray(le)?le:[le]:[]}function On(le,he){return Array.isArray(le)?le.includes(he):le===he}function Er(le,he){const K=kn(he);return kn(le).forEach(mt=>{On(K,mt)||K.push(mt)}),K}function mi(le,he){return kn(he).filter(K=>!On(le,K))}class Jn{get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators=[];_rawAsyncValidators=[];_setValidators(he){this._rawValidators=he||[],this._composedValidatorFn=Et(this._rawValidators)}_setAsyncValidators(he){this._rawAsyncValidators=he||[],this._composedAsyncValidatorFn=Nt(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_onDestroyCallbacks=[];_registerOnDestroy(he){this._onDestroyCallbacks.push(he)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(he=>he()),this._onDestroyCallbacks=[]}reset(he=void 0){this.control&&this.control.reset(he)}hasError(he,K){return!!this.control&&this.control.hasError(he,K)}getError(he,K){return this.control?this.control.getError(he,K):null}}class Pt extends Jn{name;get formDirective(){return null}get path(){return null}}class Kt extends Jn{_parent=null;name=null;valueAccessor=null}class Un{_cd;constructor(he){this._cd=he}get isTouched(){return this._cd?.control?._touched?.(),!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return this._cd?.control?._pristine?.(),!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return this._cd?.control?._status?.(),!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return this._cd?._submitted?.(),!!this._cd?.submitted}}let Pr=(()=>{class le extends Un{constructor(K){super(K)}static \u0275fac=function(Re){return new(Re||le)(r.rXU(Kt,2))};static \u0275dir=r.FsC({type:le,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(Re,mt){2&Re&&r.AVh("ng-untouched",mt.isUntouched)("ng-touched",mt.isTouched)("ng-pristine",mt.isPristine)("ng-dirty",mt.isDirty)("ng-valid",mt.isValid)("ng-invalid",mt.isInvalid)("ng-pending",mt.isPending)},standalone:!1,features:[r.Vt3]})}return le})(),fi=(()=>{class le extends Un{constructor(K){super(K)}static \u0275fac=function(Re){return new(Re||le)(r.rXU(Pt,10))};static \u0275dir=r.FsC({type:le,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["","formArray",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(Re,mt){2&Re&&r.AVh("ng-untouched",mt.isUntouched)("ng-touched",mt.isTouched)("ng-pristine",mt.isPristine)("ng-dirty",mt.isDirty)("ng-valid",mt.isValid)("ng-invalid",mt.isInvalid)("ng-pending",mt.isPending)("ng-submitted",mt.isSubmitted)},standalone:!1,features:[r.Vt3]})}return le})();const fo="VALID",Ai="INVALID",Lr="PENDING",Pi="DISABLED";class Vi{}class vo extends Vi{value;source;constructor(he,K){super(),this.value=he,this.source=K}}class Ui extends Vi{pristine;source;constructor(he,K){super(),this.pristine=he,this.source=K}}class Di extends Vi{touched;source;constructor(he,K){super(),this.touched=he,this.source=K}}class ui extends Vi{status;source;constructor(he,K){super(),this.status=he,this.source=K}}class $i extends Vi{source;constructor(he){super(),this.source=he}}class _i extends Vi{source;constructor(he){super(),this.source=he}}function Mi(le){return(Wi(le)?le.validators:le)||null}function Io(le,he){return(Wi(he)?he.asyncValidators:le)||null}function Wi(le){return null!=le&&!Array.isArray(le)&&"object"==typeof le}function wo(le,he,K){const Re=le.controls;if(!(he?Object.keys(Re):Re).length)throw new L.buA(1e3,"");if(!Re[K])throw new L.buA(1001,"")}function wi(le,he,K){le._forEachChild((Re,mt)=>{if(void 0===K[mt])throw new L.buA(1002,"")})}class ss{_pendingDirty=!1;_hasOwnPendingAsyncValidator=null;_pendingTouched=!1;_onCollectionChange=()=>{};_updateOn;_parent=null;_asyncValidationSubscription;_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators;_rawAsyncValidators;value;constructor(he,K){this._assignValidators(he),this._assignAsyncValidators(K)}get validator(){return this._composedValidatorFn}set validator(he){this._rawValidators=this._composedValidatorFn=he}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(he){this._rawAsyncValidators=this._composedAsyncValidatorFn=he}get parent(){return this._parent}get status(){return(0,L.O8t)(this.statusReactive)}set status(he){(0,L.O8t)(()=>this.statusReactive.set(he))}_status=(0,ve.EW)(()=>this.statusReactive());statusReactive=(0,L.vPA)(void 0);get valid(){return this.status===fo}get invalid(){return this.status===Ai}get pending(){return this.status==Lr}get disabled(){return this.status===Pi}get enabled(){return this.status!==Pi}errors;get pristine(){return(0,L.O8t)(this.pristineReactive)}set pristine(he){(0,L.O8t)(()=>this.pristineReactive.set(he))}_pristine=(0,ve.EW)(()=>this.pristineReactive());pristineReactive=(0,L.vPA)(!0);get dirty(){return!this.pristine}get touched(){return(0,L.O8t)(this.touchedReactive)}set touched(he){(0,L.O8t)(()=>this.touchedReactive.set(he))}_touched=(0,ve.EW)(()=>this.touchedReactive());touchedReactive=(0,L.vPA)(!1);get untouched(){return!this.touched}_events=new ke.B;events=this._events.asObservable();valueChanges;statusChanges;get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(he){this._assignValidators(he)}setAsyncValidators(he){this._assignAsyncValidators(he)}addValidators(he){this.setValidators(Er(he,this._rawValidators))}addAsyncValidators(he){this.setAsyncValidators(Er(he,this._rawAsyncValidators))}removeValidators(he){this.setValidators(mi(he,this._rawValidators))}removeAsyncValidators(he){this.setAsyncValidators(mi(he,this._rawAsyncValidators))}hasValidator(he){return On(this._rawValidators,he)}hasAsyncValidator(he){return On(this._rawAsyncValidators,he)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(he={}){const K=!1===this.touched;this.touched=!0;const Re=he.sourceControl??this;this._parent&&!he.onlySelf&&this._parent.markAsTouched({...he,sourceControl:Re}),K&&!1!==he.emitEvent&&this._events.next(new Di(!0,Re))}markAllAsDirty(he={}){this.markAsDirty({onlySelf:!0,emitEvent:he.emitEvent,sourceControl:this}),this._forEachChild(K=>K.markAllAsDirty(he))}markAllAsTouched(he={}){this.markAsTouched({onlySelf:!0,emitEvent:he.emitEvent,sourceControl:this}),this._forEachChild(K=>K.markAllAsTouched(he))}markAsUntouched(he={}){const K=!0===this.touched;this.touched=!1,this._pendingTouched=!1;const Re=he.sourceControl??this;this._forEachChild(mt=>{mt.markAsUntouched({onlySelf:!0,emitEvent:he.emitEvent,sourceControl:Re})}),this._parent&&!he.onlySelf&&this._parent._updateTouched(he,Re),K&&!1!==he.emitEvent&&this._events.next(new Di(!1,Re))}markAsDirty(he={}){const K=!0===this.pristine;this.pristine=!1;const Re=he.sourceControl??this;this._parent&&!he.onlySelf&&this._parent.markAsDirty({...he,sourceControl:Re}),K&&!1!==he.emitEvent&&this._events.next(new Ui(!1,Re))}markAsPristine(he={}){const K=!1===this.pristine;this.pristine=!0,this._pendingDirty=!1;const Re=he.sourceControl??this;this._forEachChild(mt=>{mt.markAsPristine({onlySelf:!0,emitEvent:he.emitEvent})}),this._parent&&!he.onlySelf&&this._parent._updatePristine(he,Re),K&&!1!==he.emitEvent&&this._events.next(new Ui(!0,Re))}markAsPending(he={}){this.status=Lr;const K=he.sourceControl??this;!1!==he.emitEvent&&(this._events.next(new ui(this.status,K)),this.statusChanges.emit(this.status)),this._parent&&!he.onlySelf&&this._parent.markAsPending({...he,sourceControl:K})}disable(he={}){const K=this._parentMarkedDirty(he.onlySelf);this.status=Pi,this.errors=null,this._forEachChild(mt=>{mt.disable({...he,onlySelf:!0})}),this._updateValue();const Re=he.sourceControl??this;!1!==he.emitEvent&&(this._events.next(new vo(this.value,Re)),this._events.next(new ui(this.status,Re)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...he,skipPristineCheck:K},this),this._onDisabledChange.forEach(mt=>mt(!0))}enable(he={}){const K=this._parentMarkedDirty(he.onlySelf);this.status=fo,this._forEachChild(Re=>{Re.enable({...he,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:he.emitEvent}),this._updateAncestors({...he,skipPristineCheck:K},this),this._onDisabledChange.forEach(Re=>Re(!1))}_updateAncestors(he,K){this._parent&&!he.onlySelf&&(this._parent.updateValueAndValidity(he),he.skipPristineCheck||this._parent._updatePristine({},K),this._parent._updateTouched({},K))}setParent(he){this._parent=he}getRawValue(){return this.value}updateValueAndValidity(he={}){if(this._setInitialStatus(),this._updateValue(),this.enabled){const Re=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===fo||this.status===Lr)&&this._runAsyncValidator(Re,he.emitEvent)}const K=he.sourceControl??this;!1!==he.emitEvent&&(this._events.next(new vo(this.value,K)),this._events.next(new ui(this.status,K)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!he.onlySelf&&this._parent.updateValueAndValidity({...he,sourceControl:K})}_updateTreeValidity(he={emitEvent:!0}){this._forEachChild(K=>K._updateTreeValidity(he)),this.updateValueAndValidity({onlySelf:!0,emitEvent:he.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Pi:fo}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(he,K){if(this.asyncValidator){this.status=Lr,this._hasOwnPendingAsyncValidator={emitEvent:!1!==K,shouldHaveEmitted:!1!==he};const Re=Ke(this.asyncValidator(this));this._asyncValidationSubscription=Re.subscribe(mt=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(mt,{emitEvent:K,shouldHaveEmitted:he})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){this._asyncValidationSubscription.unsubscribe();const he=(this._hasOwnPendingAsyncValidator?.emitEvent||this._hasOwnPendingAsyncValidator?.shouldHaveEmitted)??!1;return this._hasOwnPendingAsyncValidator=null,he}return!1}setErrors(he,K={}){this.errors=he,this._updateControlsErrors(!1!==K.emitEvent,this,K.shouldHaveEmitted)}get(he){let K=he;return null==K||(Array.isArray(K)||(K=K.split(".")),0===K.length)?null:K.reduce((Re,mt)=>Re&&Re._find(mt),this)}getError(he,K){const Re=K?this.get(K):this;return Re&&Re.errors?Re.errors[he]:null}hasError(he,K){return!!this.getError(he,K)}get root(){let he=this;for(;he._parent;)he=he._parent;return he}_updateControlsErrors(he,K,Re){this.status=this._calculateStatus(),he&&this.statusChanges.emit(this.status),(he||Re)&&this._events.next(new ui(this.status,K)),this._parent&&this._parent._updateControlsErrors(he,K,Re)}_initObservables(){this.valueChanges=new L.bkB,this.statusChanges=new L.bkB}_calculateStatus(){return this._allControlsDisabled()?Pi:this.errors?Ai:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Lr)?Lr:this._anyControlsHaveStatus(Ai)?Ai:fo}_anyControlsHaveStatus(he){return this._anyControls(K=>K.status===he)}_anyControlsDirty(){return this._anyControls(he=>he.dirty)}_anyControlsTouched(){return this._anyControls(he=>he.touched)}_updatePristine(he,K){const Re=!this._anyControlsDirty(),mt=this.pristine!==Re;this.pristine=Re,this._parent&&!he.onlySelf&&this._parent._updatePristine(he,K),mt&&this._events.next(new Ui(this.pristine,K))}_updateTouched(he={},K){this.touched=this._anyControlsTouched(),this._events.next(new Di(this.touched,K)),this._parent&&!he.onlySelf&&this._parent._updateTouched(he,K)}_onDisabledChange=[];_registerOnCollectionChange(he){this._onCollectionChange=he}_setUpdateStrategy(he){Wi(he)&&null!=he.updateOn&&(this._updateOn=he.updateOn)}_parentMarkedDirty(he){return!he&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(he){return null}_assignValidators(he){this._rawValidators=Array.isArray(he)?he.slice():he,this._composedValidatorFn=function Xi(le){return Array.isArray(le)?Et(le):le||null}(this._rawValidators)}_assignAsyncValidators(he){this._rawAsyncValidators=Array.isArray(he)?he.slice():he,this._composedAsyncValidatorFn=function Do(le){return Array.isArray(le)?Nt(le):le||null}(this._rawAsyncValidators)}}class yo extends ss{constructor(he,K,Re){super(Mi(K),Io(Re,K)),this.controls=he,this._initObservables(),this._setUpdateStrategy(K),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}controls;registerControl(he,K){return this.controls[he]?this.controls[he]:(this.controls[he]=K,K.setParent(this),K._registerOnCollectionChange(this._onCollectionChange),K)}addControl(he,K,Re={}){this.registerControl(he,K),this.updateValueAndValidity({emitEvent:Re.emitEvent}),this._onCollectionChange()}removeControl(he,K={}){this.controls[he]&&this.controls[he]._registerOnCollectionChange(()=>{}),delete this.controls[he],this.updateValueAndValidity({emitEvent:K.emitEvent}),this._onCollectionChange()}setControl(he,K,Re={}){this.controls[he]&&this.controls[he]._registerOnCollectionChange(()=>{}),delete this.controls[he],K&&this.registerControl(he,K),this.updateValueAndValidity({emitEvent:Re.emitEvent}),this._onCollectionChange()}contains(he){return this.controls.hasOwnProperty(he)&&this.controls[he].enabled}setValue(he,K={}){wi(this,0,he),Object.keys(he).forEach(Re=>{wo(this,!0,Re),this.controls[Re].setValue(he[Re],{onlySelf:!0,emitEvent:K.emitEvent})}),this.updateValueAndValidity(K)}patchValue(he,K={}){null!=he&&(Object.keys(he).forEach(Re=>{const mt=this.controls[Re];mt&&mt.patchValue(he[Re],{onlySelf:!0,emitEvent:K.emitEvent})}),this.updateValueAndValidity(K))}reset(he={},K={}){this._forEachChild((Re,mt)=>{Re.reset(he?he[mt]:null,{...K,onlySelf:!0})}),this._updatePristine(K,this),this._updateTouched(K,this),this.updateValueAndValidity(K),!1!==K?.emitEvent&&this._events.next(new _i(this))}getRawValue(){return this._reduceChildren({},(he,K,Re)=>(he[Re]=K.getRawValue(),he))}_syncPendingControls(){let he=this._reduceChildren(!1,(K,Re)=>!!Re._syncPendingControls()||K);return he&&this.updateValueAndValidity({onlySelf:!0}),he}_forEachChild(he){Object.keys(this.controls).forEach(K=>{const Re=this.controls[K];Re&&he(Re,K)})}_setUpControls(){this._forEachChild(he=>{he.setParent(this),he._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(he){for(const[K,Re]of Object.entries(this.controls))if(this.contains(K)&&he(Re))return!0;return!1}_reduceValue(){return this._reduceChildren({},(K,Re,mt)=>((Re.enabled||this.disabled)&&(K[mt]=Re.value),K))}_reduceChildren(he,K){let Re=he;return this._forEachChild((mt,vr)=>{Re=K(Re,mt,vr)}),Re}_allControlsDisabled(){for(const he of Object.keys(this.controls))if(this.controls[he].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(he){return this.controls.hasOwnProperty(he)?this.controls[he]:null}}class Xr extends yo{}const He=new L.nKC("",{factory:()=>pt}),pt="always";function lt(le,he){return[...he.path,le]}function tn(le,he,K=pt){Rr(le,he),he.valueAccessor.writeValue(le.value),(le.disabled||"always"===K)&&he.valueAccessor.setDisabledState?.(le.disabled),function Wt(le,he){he.valueAccessor.registerOnChange(K=>{le._pendingValue=K,le._pendingChange=!0,le._pendingDirty=!0,"change"===le.updateOn&&Cn(le,he)})}(le,he),function ge(le,he){const K=(Re,mt)=>{he.valueAccessor.writeValue(Re),mt&&he.viewToModelUpdate(Re)};le.registerOnChange(K),he._registerOnDestroy(()=>{le._unregisterOnChange(K)})}(le,he),function Qt(le,he){he.valueAccessor.registerOnTouched(()=>{le._pendingTouched=!0,"blur"===le.updateOn&&le._pendingChange&&Cn(le,he),"submit"!==le.updateOn&&le.markAsTouched()})}(le,he),function an(le,he){if(he.valueAccessor.setDisabledState){const K=Re=>{he.valueAccessor.setDisabledState(Re)};le.registerOnDisabledChange(K),he._registerOnDestroy(()=>{le._unregisterOnDisabledChange(K)})}}(le,he)}function hn(le,he,K=!0){const Re=()=>{};he.valueAccessor&&(he.valueAccessor.registerOnChange(Re),he.valueAccessor.registerOnTouched(Re)),rt(le,he),le&&(he._invokeOnDestroyCallbacks(),le._registerOnCollectionChange(()=>{}))}function un(le,he){le.forEach(K=>{K.registerOnValidatorChange&&K.registerOnValidatorChange(he)})}function Rr(le,he){const K=bn(le);null!==he.validator?le.setValidators(wn(K,he.validator)):"function"==typeof K&&le.setValidators([K]);const Re=Gt(le);null!==he.asyncValidator?le.setAsyncValidators(wn(Re,he.asyncValidator)):"function"==typeof Re&&le.setAsyncValidators([Re]);const mt=()=>le.updateValueAndValidity();un(he._rawValidators,mt),un(he._rawAsyncValidators,mt)}function rt(le,he){let K=!1;if(null!==le){if(null!==he.validator){const mt=bn(le);if(Array.isArray(mt)&&mt.length>0){const vr=mt.filter(Zr=>Zr!==he.validator);vr.length!==mt.length&&(K=!0,le.setValidators(vr))}}if(null!==he.asyncValidator){const mt=Gt(le);if(Array.isArray(mt)&&mt.length>0){const vr=mt.filter(Zr=>Zr!==he.asyncValidator);vr.length!==mt.length&&(K=!0,le.setAsyncValidators(vr))}}}const Re=()=>{};return un(he._rawValidators,Re),un(he._rawAsyncValidators,Re),K}function Cn(le,he){le._pendingDirty&&le.markAsDirty(),le.setValue(le._pendingValue,{emitModelToViewChange:!1}),he.viewToModelUpdate(le._pendingValue),le._pendingChange=!1}function qn(le,he){if(!le.hasOwnProperty("model"))return!1;const K=le.model;return!!K.isFirstChange()||!Object.is(he,K.currentValue)}function hi(le,he){if(!he)return null;let K,Re,mt;return Array.isArray(he),he.forEach(vr=>{vr.constructor===be?K=vr:function tr(le){return Object.getPrototypeOf(le.constructor)===ie}(vr)?Re=vr:mt=vr}),mt||Re||K||null}function Co(le,he){const K=le.indexOf(he);K>-1&&le.splice(K,1)}function As(le){return"object"==typeof le&&null!==le&&2===Object.keys(le).length&&"value"in le&&"disabled"in le}Promise.resolve();const qr=class extends ss{defaultValue=null;_onChange=[];_pendingValue;_pendingChange=!1;constructor(he=null,K,Re){super(Mi(K),Io(Re,K)),this._applyFormState(he),this._setUpdateStrategy(K),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Wi(K)&&(K.nonNullable||K.initialValueIsDefault)&&(this.defaultValue=As(he)?he.value:he)}setValue(he,K={}){this.value=this._pendingValue=he,this._onChange.length&&!1!==K.emitModelToViewChange&&this._onChange.forEach(Re=>Re(this.value,!1!==K.emitViewToModelChange)),this.updateValueAndValidity(K)}patchValue(he,K={}){this.setValue(he,K)}reset(he=this.defaultValue,K={}){this._applyFormState(he),this.markAsPristine(K),this.markAsUntouched(K),this.setValue(this.value,K),K.overwriteDefaultValue&&(this.defaultValue=this.value),this._pendingChange=!1,!1!==K?.emitEvent&&this._events.next(new _i(this))}_updateValue(){}_anyControls(he){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(he){this._onChange.push(he)}_unregisterOnChange(he){Co(this._onChange,he)}registerOnDisabledChange(he){this._onDisabledChange.push(he)}_unregisterOnDisabledChange(he){Co(this._onDisabledChange,he)}_forEachChild(he){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(he){As(he)?(this.value=this._pendingValue=he.value,he.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=he}},qe={provide:Kt,useExisting:(0,L.Rfq)(()=>Be)},De=Promise.resolve();let Be=(()=>{class le extends Kt{_changeDetectorRef;callSetDisabledState;control=new qr;static ngAcceptInputType_isDisabled;_registered=!1;viewModel;name="";isDisabled;model;options;update=new L.bkB;constructor(K,Re,mt,vr,Zr,Ko){super(),this._changeDetectorRef=Zr,this.callSetDisabledState=Ko,this._parent=K,this._setValidators(Re),this._setAsyncValidators(mt),this.valueAccessor=hi(0,vr)}ngOnChanges(K){if(this._checkForErrors(),!this._registered||"name"in K){if(this._registered&&(this._checkName(),this.formDirective)){const Re=K.name.previousValue;this.formDirective.removeControl({name:Re,path:this._getPath(Re)})}this._setUpControl()}"isDisabled"in K&&this._updateDisabled(K),qn(K,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(K){this.viewModel=K,this.update.emit(K)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){tn(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._checkName()}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(K){De.then(()=>{this.control.setValue(K,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(K){const Re=K.isDisabled.currentValue,mt=0!==Re&&(0,R.L39)(Re);De.then(()=>{mt&&!this.control.disabled?this.control.disable():!mt&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(K){return this._parent?lt(K,this._parent):[K]}static \u0275fac=function(Re){return new(Re||le)(r.rXU(Pt,9),r.rXU(ze,10),r.rXU(et,10),r.rXU(xe,10),r.rXU(R.gRc,8),r.rXU(He,8))};static \u0275dir=r.FsC({type:le,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"],options:[0,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],standalone:!1,features:[r.Jv_([qe]),r.Vt3,r.OA$]})}return le})(),dn=(()=>{class le{static \u0275fac=function(Re){return new(Re||le)};static \u0275dir=r.FsC({type:le,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""],standalone:!1})}return le})();const yi={provide:xe,useExisting:(0,L.Rfq)(()=>ti),multi:!0};let Si=(()=>{class le{_accessors=[];add(K,Re){this._accessors.push([K,Re])}remove(K){for(let Re=this._accessors.length-1;Re>=0;--Re)if(this._accessors[Re][1]===K)return void this._accessors.splice(Re,1)}select(K){this._accessors.forEach(Re=>{this._isSameGroup(Re,K)&&Re[1]!==K&&Re[1].fireUncheck(K.value)})}_isSameGroup(K,Re){return!!K[0].control&&K[0]._parent===Re._control._parent&&K[1].name===Re.name}static \u0275fac=function(Re){return new(Re||le)};static \u0275prov=L.jDH({token:le,factory:le.\u0275fac,providedIn:"root"})}return le})(),ti=(()=>{class le extends ie{_registry;_injector;_state;_control;_fn;setDisabledStateFired=!1;onChange=()=>{};name;formControlName;value;callSetDisabledState=(0,L.WQX)(He,{optional:!0})??pt;constructor(K,Re,mt,vr){super(K,Re),this._registry=mt,this._injector=vr}ngOnInit(){this._control=this._injector.get(Kt),this._checkName(),this._registry.add(this._control,this)}ngOnDestroy(){this._registry.remove(this)}writeValue(K){this._state=K===this.value,this.setProperty("checked",this._state)}registerOnChange(K){this._fn=K,this.onChange=()=>{K(this.value),this._registry.select(this)}}setDisabledState(K){(this.setDisabledStateFired||K||"whenDisabledForLegacyCode"===this.callSetDisabledState)&&this.setProperty("disabled",K),this.setDisabledStateFired=!0}fireUncheck(K){this.writeValue(K)}_checkName(){!this.name&&this.formControlName&&(this.name=this.formControlName)}static \u0275fac=function(Re){return new(Re||le)(r.rXU(r.sFG),r.rXU(r.aKT),r.rXU(Si),r.rXU(L.zZn))};static \u0275dir=r.FsC({type:le,selectors:[["input","type","radio","formControlName",""],["input","type","radio","formControl",""],["input","type","radio","ngModel",""]],hostBindings:function(Re,mt){1&Re&&r.bIt("change",function(){return mt.onChange()})("blur",function(){return mt.onTouched()})},inputs:{name:"name",formControlName:"formControlName",value:"value"},standalone:!1,features:[r.Jv_([yi]),r.Vt3]})}return le})();const Hi={provide:xe,useExisting:(0,L.Rfq)(()=>zr),multi:!0};let zr=(()=>{class le extends ie{writeValue(K){this.setProperty("value",parseFloat(K))}registerOnChange(K){this.onChange=Re=>{K(""==Re?null:parseFloat(Re))}}static \u0275fac=(()=>{let K;return function(mt){return(K||(K=r.xGo(le)))(mt||le)}})();static \u0275dir=r.FsC({type:le,selectors:[["input","type","range","formControlName",""],["input","type","range","formControl",""],["input","type","range","ngModel",""]],hostBindings:function(Re,mt){1&Re&&r.bIt("change",function(Zr){return mt.onChange(Zr.target.value)})("input",function(Zr){return mt.onChange(Zr.target.value)})("blur",function(){return mt.onTouched()})},standalone:!1,features:[r.Jv_([Hi]),r.Vt3]})}return le})();class Ii extends ss{constructor(he,K,Re){super(Mi(K),Io(Re,K)),this.controls=he,this._initObservables(),this._setUpdateStrategy(K),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}controls;at(he){return this.controls[this._adjustIndex(he)]}push(he,K={}){Array.isArray(he)?he.forEach(Re=>{this.controls.push(Re),this._registerControl(Re)}):(this.controls.push(he),this._registerControl(he)),this.updateValueAndValidity({emitEvent:K.emitEvent}),this._onCollectionChange()}insert(he,K,Re={}){this.controls.splice(he,0,K),this._registerControl(K),this.updateValueAndValidity({emitEvent:Re.emitEvent})}removeAt(he,K={}){let Re=this._adjustIndex(he);Re<0&&(Re=0),this.controls[Re]&&this.controls[Re]._registerOnCollectionChange(()=>{}),this.controls.splice(Re,1),this.updateValueAndValidity({emitEvent:K.emitEvent})}setControl(he,K,Re={}){let mt=this._adjustIndex(he);mt<0&&(mt=0),this.controls[mt]&&this.controls[mt]._registerOnCollectionChange(()=>{}),this.controls.splice(mt,1),K&&(this.controls.splice(mt,0,K),this._registerControl(K)),this.updateValueAndValidity({emitEvent:Re.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(he,K={}){wi(this,0,he),he.forEach((Re,mt)=>{wo(this,!1,mt),this.at(mt).setValue(Re,{onlySelf:!0,emitEvent:K.emitEvent})}),this.updateValueAndValidity(K)}patchValue(he,K={}){null!=he&&(he.forEach((Re,mt)=>{this.at(mt)&&this.at(mt).patchValue(Re,{onlySelf:!0,emitEvent:K.emitEvent})}),this.updateValueAndValidity(K))}reset(he=[],K={}){this._forEachChild((Re,mt)=>{Re.reset(he[mt],{...K,onlySelf:!0})}),this._updatePristine(K,this),this._updateTouched(K,this),this.updateValueAndValidity(K),!1!==K?.emitEvent&&this._events.next(new _i(this))}getRawValue(){return this.controls.map(he=>he.getRawValue())}clear(he={}){this.controls.length<1||(this._forEachChild(K=>K._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:he.emitEvent}))}_adjustIndex(he){return he<0?he+this.length:he}_syncPendingControls(){let he=this.controls.reduce((K,Re)=>!!Re._syncPendingControls()||K,!1);return he&&this.updateValueAndValidity({onlySelf:!0}),he}_forEachChild(he){this.controls.forEach((K,Re)=>{he(K,Re)})}_updateValue(){this.value=this.controls.filter(he=>he.enabled||this.disabled).map(he=>he.value)}_anyControls(he){return this.controls.some(K=>K.enabled&&he(K))}_setUpControls(){this._forEachChild(he=>this._registerControl(he))}_allControlsDisabled(){for(const he of this.controls)if(he.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(he){he.setParent(this),he._registerOnCollectionChange(this._onCollectionChange)}_find(he){return this.at(he)??null}}let ao=(()=>{class le extends Pt{callSetDisabledState;get submitted(){return(0,L.O8t)(this._submittedReactive)}set submitted(K){this._submittedReactive.set(K)}_submitted=(0,ve.EW)(()=>this._submittedReactive());_submittedReactive=(0,L.vPA)(!1);_oldForm;_onCollectionChange=()=>this._updateDomValue();directives=[];constructor(K,Re,mt){super(),this.callSetDisabledState=mt,this._setValidators(K),this._setAsyncValidators(Re)}ngOnChanges(K){this.onChanges(K)}ngOnDestroy(){this.onDestroy()}onChanges(K){this._checkFormPresent(),K.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}onDestroy(){this.form&&(rt(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get path(){return[]}addControl(K){const Re=this.form.get(K.path);return tn(Re,K,this.callSetDisabledState),Re.updateValueAndValidity({emitEvent:!1}),this.directives.push(K),Re}getControl(K){return this.form.get(K.path)}removeControl(K){hn(K.control||null,K,!1),function To(le,he){const K=le.indexOf(he);K>-1&&le.splice(K,1)}(this.directives,K)}addFormGroup(K){this._setUpFormContainer(K)}removeFormGroup(K){this._cleanUpFormContainer(K)}getFormGroup(K){return this.form.get(K.path)}getFormArray(K){return this.form.get(K.path)}addFormArray(K){this._setUpFormContainer(K)}removeFormArray(K){this._cleanUpFormContainer(K)}updateModel(K,Re){this.form.get(K.path).setValue(Re)}onReset(){this.resetForm()}resetForm(K=void 0,Re={}){this.form.reset(K,Re),this._submittedReactive.set(!1)}onSubmit(K){return this.submitted=!0,function Yi(le,he){le._syncPendingControls(),he.forEach(K=>{const Re=K.control;"submit"===Re.updateOn&&Re._pendingChange&&(K.viewToModelUpdate(Re._pendingValue),Re._pendingChange=!1)})}(this.form,this.directives),this.ngSubmit.emit(K),this.form._events.next(new $i(this.control)),"dialog"===K?.target?.method}_updateDomValue(){this.directives.forEach(K=>{const Re=K.control,mt=this.form.get(K.path);Re!==mt&&(hn(Re||null,K),(le=>le instanceof qr)(mt)&&(tn(mt,K,this.callSetDisabledState),K.control=mt))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(K){const Re=this.form.get(K.path);(function Ye(le,he){Rr(le,he)})(Re,K),Re.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(K){if(this.form){const Re=this.form.get(K.path);Re&&function ot(le,he){return rt(le,he)}(Re,K)&&Re.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){Rr(this.form,this),this._oldForm&&rt(this._oldForm,this)}_checkFormPresent(){}static \u0275fac=function(Re){return new(Re||le)(r.rXU(ze,10),r.rXU(et,10),r.rXU(He,8))};static \u0275dir=r.FsC({type:le,features:[r.Vt3,r.OA$]})}return le})();const bo=new L.nKC(""),So={provide:Kt,useExisting:(0,L.Rfq)(()=>Ls)};let Ls=(()=>{class le extends Kt{_ngModelWarningConfig;callSetDisabledState;viewModel;form;set isDisabled(K){}model;update=new L.bkB;static _ngModelWarningSentOnce=!1;_ngModelWarningSent=!1;constructor(K,Re,mt,vr,Zr){super(),this._ngModelWarningConfig=vr,this.callSetDisabledState=Zr,this._setValidators(K),this._setAsyncValidators(Re),this.valueAccessor=hi(0,mt)}ngOnChanges(K){if(this._isControlChanged(K)){const Re=K.form.previousValue;Re&&hn(Re,this,!1),tn(this.form,this,this.callSetDisabledState),this.form.updateValueAndValidity({emitEvent:!1})}qn(K,this.viewModel)&&(this.form.setValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.form&&hn(this.form,this,!1)}get path(){return[]}get control(){return this.form}viewToModelUpdate(K){this.viewModel=K,this.update.emit(K)}_isControlChanged(K){return K.hasOwnProperty("form")}static \u0275fac=function(Re){return new(Re||le)(r.rXU(ze,10),r.rXU(et,10),r.rXU(xe,10),r.rXU(bo,8),r.rXU(He,8))};static \u0275dir=r.FsC({type:le,selectors:[["","formControl",""]],inputs:{form:[0,"formControl","form"],isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"]},outputs:{update:"ngModelChange"},exportAs:["ngForm"],standalone:!1,features:[r.Jv_([So]),r.Vt3,r.OA$]})}return le})();const Ro={provide:Kt,useExisting:(0,L.Rfq)(()=>fa)};let fa=(()=>{class le extends Kt{_ngModelWarningConfig;_added=!1;viewModel;control;name=null;set isDisabled(K){}model;update=new L.bkB;static _ngModelWarningSentOnce=!1;_ngModelWarningSent=!1;constructor(K,Re,mt,vr,Zr){super(),this._ngModelWarningConfig=Zr,this._parent=K,this._setValidators(Re),this._setAsyncValidators(mt),this.valueAccessor=hi(0,vr)}ngOnChanges(K){this._added||this._setUpControl(),qn(K,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(K){this.viewModel=K,this.update.emit(K)}get path(){return lt(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_setUpControl(){this.control=this.formDirective.addControl(this),this._added=!0}static \u0275fac=function(Re){return new(Re||le)(r.rXU(Pt,13),r.rXU(ze,10),r.rXU(et,10),r.rXU(xe,10),r.rXU(bo,8))};static \u0275dir=r.FsC({type:le,selectors:[["","formControlName",""]],inputs:{name:[0,"formControlName","name"],isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"]},outputs:{update:"ngModelChange"},standalone:!1,features:[r.Jv_([Ro]),r.Vt3,r.OA$]})}return le})();const Qo={provide:Pt,useExisting:(0,L.Rfq)(()=>La)};let La=(()=>{class le extends ao{form=null;ngSubmit=new L.bkB;get control(){return this.form}static \u0275fac=(()=>{let K;return function(mt){return(K||(K=r.xGo(le)))(mt||le)}})();static \u0275dir=r.FsC({type:le,selectors:[["","formGroup",""]],hostBindings:function(Re,mt){1&Re&&r.bIt("submit",function(Zr){return mt.onSubmit(Zr)})("reset",function(){return mt.onReset()})},inputs:{form:[0,"formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],standalone:!1,features:[r.Jv_([Qo]),r.Vt3]})}return le})();const qs={provide:xe,useExisting:(0,L.Rfq)(()=>Ma),multi:!0};function qa(le,he){return null==le?`${he}`:(he&&"object"==typeof he&&(he="Object"),`${le}: ${he}`.slice(0,50))}let Ma=(()=>{class le extends ie{value;_optionMap=new Map;_idCounter=0;set compareWith(K){this._compareWith=K}_compareWith=Object.is;appRefInjector=(0,L.WQX)(r.o8S).injector;destroyRef=(0,L.WQX)(L.abz);cdr=(0,L.WQX)(R.gRc);_queuedWrite=!1;_writeValueAfterRender(){this._queuedWrite||this.appRefInjector.destroyed||(this._queuedWrite=!0,(0,r.mal)({write:()=>{this.destroyRef.destroyed||(this._queuedWrite=!1,this.writeValue(this.value))}},{injector:this.appRefInjector}))}writeValue(K){this.cdr.markForCheck(),this.value=K;const mt=qa(this._getOptionId(K),K);this.setProperty("value",mt)}registerOnChange(K){this.onChange=Re=>{this.value=this._getOptionValue(Re),K(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(K){for(const Re of this._optionMap.keys())if(this._compareWith(this._optionMap.get(Re),K))return Re;return null}_getOptionValue(K){const Re=function Ea(le){return le.split(":")[0]}(K);return this._optionMap.has(Re)?this._optionMap.get(Re):K}static \u0275fac=(()=>{let K;return function(mt){return(K||(K=r.xGo(le)))(mt||le)}})();static \u0275dir=r.FsC({type:le,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(Re,mt){1&Re&&r.bIt("change",function(Zr){return mt.onChange(Zr.target.value)})("blur",function(){return mt.onTouched()})},inputs:{compareWith:"compareWith"},standalone:!1,features:[r.Jv_([qs]),r.Vt3]})}return le})(),Ia=(()=>{class le{_element;_renderer;_select;id;constructor(K,Re,mt){this._element=K,this._renderer=Re,this._select=mt,this._select&&(this.id=this._select._registerOption())}set ngValue(K){null!=this._select&&(this._select._optionMap.set(this.id,K),this._setElementValue(qa(this.id,K)),this._select._writeValueAfterRender())}set value(K){this._setElementValue(K),this._select&&this._select._writeValueAfterRender()}_setElementValue(K){this._renderer.setProperty(this._element.nativeElement,"value",K)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select._writeValueAfterRender())}static \u0275fac=function(Re){return new(Re||le)(r.rXU(r.aKT),r.rXU(r.sFG),r.rXU(Ma,9))};static \u0275dir=r.FsC({type:le,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"},standalone:!1})}return le})();const po={provide:xe,useExisting:(0,L.Rfq)(()=>no),multi:!0};function Bs(le,he){return null==le?`${he}`:("string"==typeof he&&(he=`'${he}'`),he&&"object"==typeof he&&(he="Object"),`${le}: ${he}`.slice(0,50))}let no=(()=>{class le extends ie{value;_optionMap=new Map;_idCounter=0;set compareWith(K){this._compareWith=K}_compareWith=Object.is;writeValue(K){let Re;if(this.value=K,Array.isArray(K)){const mt=K.map(vr=>this._getOptionId(vr));Re=(vr,Zr)=>{vr._setSelected(mt.indexOf(Zr.toString())>-1)}}else Re=(mt,vr)=>{mt._setSelected(!1)};this._optionMap.forEach(Re)}registerOnChange(K){this.onChange=Re=>{const mt=[],vr=Re.selectedOptions;if(void 0!==vr){const Zr=vr;for(let Ko=0;Ko<Zr.length;Ko++){const ha=this._getOptionValue(Zr[Ko].value);mt.push(ha)}}else{const Zr=Re.options;for(let Ko=0;Ko<Zr.length;Ko++){const gs=Zr[Ko];if(gs.selected){const ha=this._getOptionValue(gs.value);mt.push(ha)}}}this.value=mt,K(mt)}}_registerOption(K){const Re=(this._idCounter++).toString();return this._optionMap.set(Re,K),Re}_getOptionId(K){for(const Re of this._optionMap.keys())if(this._compareWith(this._optionMap.get(Re)._value,K))return Re;return null}_getOptionValue(K){const Re=function ls(le){return le.split(":")[0]}(K);return this._optionMap.has(Re)?this._optionMap.get(Re)._value:K}static \u0275fac=(()=>{let K;return function(mt){return(K||(K=r.xGo(le)))(mt||le)}})();static \u0275dir=r.FsC({type:le,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(Re,mt){1&Re&&r.bIt("change",function(Zr){return mt.onChange(Zr.target)})("blur",function(){return mt.onTouched()})},inputs:{compareWith:"compareWith"},standalone:!1,features:[r.Jv_([po]),r.Vt3]})}return le})(),Ms=(()=>{class le{_element;_renderer;_select;id;_value;constructor(K,Re,mt){this._element=K,this._renderer=Re,this._select=mt,this._select&&(this.id=this._select._registerOption(this))}set ngValue(K){null!=this._select&&(this._value=K,this._setElementValue(Bs(this.id,K)),this._select.writeValue(this._select.value))}set value(K){this._select?(this._value=K,this._setElementValue(Bs(this.id,K)),this._select.writeValue(this._select.value)):this._setElementValue(K)}_setElementValue(K){this._renderer.setProperty(this._element.nativeElement,"value",K)}_setSelected(K){this._renderer.setProperty(this._element.nativeElement,"selected",K)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static \u0275fac=function(Re){return new(Re||le)(r.rXU(r.aKT),r.rXU(r.sFG),r.rXU(no,9))};static \u0275dir=r.FsC({type:le,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"},standalone:!1})}return le})();let Ce=(()=>{class le{_validator=Dt;_onChange;_enabled;ngOnChanges(K){if(this.inputName in K){const Re=this.normalizeInput(K[this.inputName].currentValue);this._enabled=this.enabled(Re),this._validator=this._enabled?this.createValidator(Re):Dt,this._onChange&&this._onChange()}}validate(K){return this._validator(K)}registerOnValidatorChange(K){this._onChange=K}enabled(K){return null!=K}static \u0275fac=function(Re){return new(Re||le)};static \u0275dir=r.FsC({type:le,features:[r.OA$]})}return le})();const zo={provide:ze,useExisting:(0,L.Rfq)(()=>Po),multi:!0};let Po=(()=>{class le extends Ce{maxlength;inputName="maxlength";normalizeInput=K=>function we(le){return"number"==typeof le?le:parseInt(le,10)}(K);createValidator=K=>en(K);static \u0275fac=(()=>{let K;return function(mt){return(K||(K=r.xGo(le)))(mt||le)}})();static \u0275dir=r.FsC({type:le,selectors:[["","maxlength","","formControlName",""],["","maxlength","","formControl",""],["","maxlength","","ngModel",""]],hostVars:1,hostBindings:function(Re,mt){2&Re&&r.BMQ("maxlength",mt._enabled?mt.maxlength:null)},inputs:{maxlength:"maxlength"},standalone:!1,features:[r.Jv_([zo]),r.Vt3]})}return le})(),Vs=(()=>{class le{static \u0275fac=function(Re){return new(Re||le)};static \u0275mod=r.$C({type:le});static \u0275inj=L.G2t({})}return le})();function bs(le){return!!le&&(void 0!==le.asyncValidators||void 0!==le.validators||void 0!==le.updateOn)}let Ra=(()=>{class le{useNonNullable=!1;get nonNullable(){const K=new le;return K.useNonNullable=!0,K}group(K,Re=null){const mt=this._reduceControls(K);let vr={};return bs(Re)?vr=Re:null!==Re&&(vr.validators=Re.validator,vr.asyncValidators=Re.asyncValidator),new yo(mt,vr)}record(K,Re=null){const mt=this._reduceControls(K);return new Xr(mt,Re)}control(K,Re,mt){let vr={};return this.useNonNullable?(bs(Re)?vr=Re:(vr.validators=Re,vr.asyncValidators=mt),new qr(K,{...vr,nonNullable:!0})):new qr(K,Re,mt)}array(K,Re,mt){const vr=K.map(Zr=>this._createControl(Zr));return new Ii(vr,Re,mt)}_reduceControls(K){const Re={};return Object.keys(K).forEach(mt=>{Re[mt]=this._createControl(K[mt])}),Re}_createControl(K){return K instanceof qr||K instanceof ss?K:Array.isArray(K)?this.control(K[0],K.length>1?K[1]:null,K.length>2?K[2]:null):this.control(K)}static \u0275fac=function(Re){return new(Re||le)};static \u0275prov=L.jDH({token:le,factory:le.\u0275fac,providedIn:"root"})}return le})(),Ys=(()=>{class le{static withConfig(K){return{ngModule:le,providers:[{provide:He,useValue:K.callSetDisabledState??pt}]}}static \u0275fac=function(Re){return new(Re||le)};static \u0275mod=r.$C({type:le});static \u0275inj=L.G2t({imports:[Vs]})}return le})(),sl=(()=>{class le{static withConfig(K){return{ngModule:le,providers:[{provide:bo,useValue:K.warnOnNgModelWithFormControl??"always"},{provide:He,useValue:K.callSetDisabledState??pt}]}}static \u0275fac=function(Re){return new(Re||le)};static \u0275mod=r.$C({type:le});static \u0275inj=L.G2t({imports:[Vs]})}return le})()},9437(on,ct,$){"use strict";$.d(ct,{W:()=>ve});var L=$(8750),r=$(4360),R=$(9974);function ve(oe){return(0,R.N)((ke,Ae)=>{let m,ee=null,v=!1;ee=ke.subscribe((0,r._)(Ae,void 0,void 0,ie=>{m=(0,L.Tg)(oe(ie,ve(oe)(ke))),ee?(ee.unsubscribe(),ee=null,m.subscribe(Ae)):v=!0})),v&&(ee.unsubscribe(),ee=null,m.subscribe(Ae))})}},9470(on,ct,$){"use strict";$.d(ct,{m:()=>r});var L=$(8071);function r(R){return R&&(0,L.T)(R.schedule)}},9687(on,ct,$){"use strict";$.d(ct,{q:()=>R});var L=$(6129);class r{constructor(oe,ke=r.now){this.schedulerActionCtor=oe,this.now=ke}schedule(oe,ke=0,Ae){return new this.schedulerActionCtor(this,oe).schedule(Ae,ke)}}r.now=L.U.now;class R extends r{constructor(oe,ke=r.now){super(oe,ke),this.actions=[],this._active=!1}flush(oe){const{actions:ke}=this;if(this._active)return void ke.push(oe);let Ae;this._active=!0;do{if(Ae=oe.execute(oe.state,oe.delay))break}while(oe=ke.shift());if(this._active=!1,Ae){for(;oe=ke.shift();)oe.unsubscribe();throw Ae}}}},9769(on,ct,$){"use strict";$.d(ct,{MD:()=>Cs,OI:()=>wi,PV:()=>Ur,QX:()=>Os,Sq:()=>Ji,TG:()=>Vo,YU:()=>wo,bT:()=>Xr,fw:()=>ke,vh:()=>To});var L=$(7705),r=$(375),R=$(5547),ve=$(5984),oe=$(6494);let ke=(()=>{class pe extends ve.hb{_platformLocation;_baseHref="";_removeListenerFns=[];constructor(De,Be){super(),this._platformLocation=De,null!=Be&&(this._baseHref=Be)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(De){this._removeListenerFns.push(this._platformLocation.onPopState(De),this._platformLocation.onHashChange(De))}getBaseHref(){return this._baseHref}path(De=!1){const Be=this._platformLocation.hash??"#";return Be.length>0?Be.substring(1):Be}prepareExternalUrl(De){const Be=(0,ve.om)(this._baseHref,De);return Be.length>0?"#"+Be:Be}pushState(De,Be,xt,dn){const Ln=this.prepareExternalUrl(xt+(0,ve.Q)(dn))||this._platformLocation.pathname;this._platformLocation.pushState(De,Be,Ln)}replaceState(De,Be,xt,dn){const Ln=this.prepareExternalUrl(xt+(0,ve.Q)(dn))||this._platformLocation.pathname;this._platformLocation.replaceState(De,Be,Ln)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(De=0){this._platformLocation.historyGo?.(De)}static \u0275fac=function(Be){return new(Be||pe)(r.KVO(oe.Vw),r.KVO(ve.kB,8))};static \u0275prov=r.jDH({token:pe,factory:pe.\u0275fac})}return pe})();var ee=function(pe){return pe[pe.Decimal=0]="Decimal",pe[pe.Percent=1]="Percent",pe[pe.Currency=2]="Currency",pe[pe.Scientific=3]="Scientific",pe}(ee||{}),m=function(pe){return pe[pe.Format=0]="Format",pe[pe.Standalone=1]="Standalone",pe}(m||{}),ie=function(pe){return pe[pe.Narrow=0]="Narrow",pe[pe.Abbreviated=1]="Abbreviated",pe[pe.Wide=2]="Wide",pe[pe.Short=3]="Short",pe}(ie||{}),xe=function(pe){return pe[pe.Short=0]="Short",pe[pe.Medium=1]="Medium",pe[pe.Long=2]="Long",pe[pe.Full=3]="Full",pe}(xe||{});function et(pe,qe){return Ge((0,R.kBR)(pe)[R.NSC.DateFormat],qe)}function st(pe,qe){return Ge((0,R.kBR)(pe)[R.NSC.TimeFormat],qe)}function rn(pe,qe){return Ge((0,R.kBR)(pe)[R.NSC.DateTimeFormat],qe)}function It(pe,qe){const De=(0,R.kBR)(pe),Be=De[R.NSC.NumberSymbols][qe];if(typeof Be>"u"){if(12===qe)return De[R.NSC.NumberSymbols][0];if(13===qe)return De[R.NSC.NumberSymbols][1]}return Be}function Bt(pe){if(!pe[R.NSC.ExtraData])throw new r.buA(2303,!1)}function Ge(pe,qe){for(let De=qe;De>-1;De--)if(typeof pe[De]<"u")return pe[De];throw new r.buA(2304,!1)}function Ft(pe){const[qe,De]=pe.split(":");return{hours:+qe,minutes:+De}}const Et=/^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,yt={},Nt=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;function wn(pe,qe,De,Be){let xt=function sr(pe){if(Zn(pe))return pe;if("number"==typeof pe&&!isNaN(pe))return new Date(pe);if("string"==typeof pe){if(pe=pe.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(pe)){const[xt,dn=1,Ln=1]=pe.split("-").map(hr=>+hr);return Gt(xt,dn-1,Ln)}const De=parseFloat(pe);if(!isNaN(pe-De))return new Date(De);let Be;if(Be=pe.match(Et))return function Tr(pe){const qe=new Date(0);let De=0,Be=0;const xt=pe[8]?qe.setUTCFullYear:qe.setFullYear,dn=pe[8]?qe.setUTCHours:qe.setHours;pe[9]&&(De=Number(pe[9]+pe[10]),Be=Number(pe[9]+pe[11])),xt.call(qe,Number(pe[1]),Number(pe[2])-1,Number(pe[3]));const Ln=Number(pe[4]||0)-De,hr=Number(pe[5]||0)-Be,yi=Number(pe[6]||0),bi=Math.floor(1e3*parseFloat("0."+(pe[7]||0)));return dn.call(qe,Ln,hr,yi,bi),qe}(Be)}const qe=new Date(pe);if(!Zn(qe))throw new r.buA(2311,!1);return qe}(pe);qe=kn(De,qe)||qe;let hr,Ln=[];for(;qe;){if(hr=Nt.exec(qe),!hr){Ln.push(qe);break}{Ln=Ln.concat(hr.slice(1));const Si=Ln.pop();if(!Si)break;qe=Si}}let yi=xt.getTimezoneOffset();Be&&(yi=ln(Be,yi),xt=function zn(pe,qe){const xt=pe.getTimezoneOffset();return function gn(pe,qe){return(pe=new Date(pe.getTime())).setMinutes(pe.getMinutes()+qe),pe}(pe,-1*(ln(qe,xt)-xt))}(xt,Be));let bi="";return Ln.forEach(Si=>{const ti=function or(pe){if(yn[pe])return yn[pe];let qe;switch(pe){case"G":case"GG":case"GGG":qe=Kt(3,ie.Abbreviated);break;case"GGGG":qe=Kt(3,ie.Wide);break;case"GGGGG":qe=Kt(3,ie.Narrow);break;case"y":qe=Jn(0,1,0,!1,!0);break;case"yy":qe=Jn(0,2,0,!0,!0);break;case"yyy":qe=Jn(0,3,0,!1,!0);break;case"yyyy":qe=Jn(0,4,0,!1,!0);break;case"Y":qe=oi(1);break;case"YY":qe=oi(2,!0);break;case"YYY":qe=oi(3);break;case"YYYY":qe=oi(4);break;case"M":case"L":qe=Jn(1,1,1);break;case"MM":case"LL":qe=Jn(1,2,1);break;case"MMM":qe=Kt(2,ie.Abbreviated);break;case"MMMM":qe=Kt(2,ie.Wide);break;case"MMMMM":qe=Kt(2,ie.Narrow);break;case"LLL":qe=Kt(2,ie.Abbreviated,m.Standalone);break;case"LLLL":qe=Kt(2,ie.Wide,m.Standalone);break;case"LLLLL":qe=Kt(2,ie.Narrow,m.Standalone);break;case"w":qe=Li(1);break;case"ww":qe=Li(2);break;case"W":qe=Li(1,!0);break;case"d":qe=Jn(2,1);break;case"dd":qe=Jn(2,2);break;case"c":case"cc":qe=Jn(7,1);break;case"ccc":qe=Kt(1,ie.Abbreviated,m.Standalone);break;case"cccc":qe=Kt(1,ie.Wide,m.Standalone);break;case"ccccc":qe=Kt(1,ie.Narrow,m.Standalone);break;case"cccccc":qe=Kt(1,ie.Short,m.Standalone);break;case"E":case"EE":case"EEE":qe=Kt(1,ie.Abbreviated);break;case"EEEE":qe=Kt(1,ie.Wide);break;case"EEEEE":qe=Kt(1,ie.Narrow);break;case"EEEEEE":qe=Kt(1,ie.Short);break;case"a":case"aa":case"aaa":qe=Kt(0,ie.Abbreviated);break;case"aaaa":qe=Kt(0,ie.Wide);break;case"aaaaa":qe=Kt(0,ie.Narrow);break;case"b":case"bb":case"bbb":qe=Kt(0,ie.Abbreviated,m.Standalone,!0);break;case"bbbb":qe=Kt(0,ie.Wide,m.Standalone,!0);break;case"bbbbb":qe=Kt(0,ie.Narrow,m.Standalone,!0);break;case"B":case"BB":case"BBB":qe=Kt(0,ie.Abbreviated,m.Format,!0);break;case"BBBB":qe=Kt(0,ie.Wide,m.Format,!0);break;case"BBBBB":qe=Kt(0,ie.Narrow,m.Format,!0);break;case"h":qe=Jn(3,1,-12);break;case"hh":qe=Jn(3,2,-12);break;case"H":qe=Jn(3,1);break;case"HH":qe=Jn(3,2);break;case"m":qe=Jn(4,1);break;case"mm":qe=Jn(4,2);break;case"s":qe=Jn(5,1);break;case"ss":qe=Jn(5,2);break;case"S":qe=Jn(6,1);break;case"SS":qe=Jn(6,2);break;case"SSS":qe=Jn(6,3);break;case"Z":case"ZZ":case"ZZZ":qe=fr(0);break;case"ZZZZZ":qe=fr(3);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":qe=fr(1);break;case"OOOO":case"ZZZZ":case"zzzz":qe=fr(2);break;default:return null}return yn[pe]=qe,qe}(Si);bi+=ti?ti(xt,De,yi):"''"===Si?"'":Si.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),bi}function Gt(pe,qe,De){const Be=new Date(0);return Be.setFullYear(pe,qe,De),Be.setHours(0,0,0),Be}function kn(pe,qe){const De=function Se(pe){return(0,R.kBR)(pe)[R.NSC.LocaleId]}(pe);if(yt[De]??={},yt[De][qe])return yt[De][qe];let Be="";switch(qe){case"shortDate":Be=et(pe,xe.Short);break;case"mediumDate":Be=et(pe,xe.Medium);break;case"longDate":Be=et(pe,xe.Long);break;case"fullDate":Be=et(pe,xe.Full);break;case"shortTime":Be=st(pe,xe.Short);break;case"mediumTime":Be=st(pe,xe.Medium);break;case"longTime":Be=st(pe,xe.Long);break;case"fullTime":Be=st(pe,xe.Full);break;case"short":const xt=kn(pe,"shortTime"),dn=kn(pe,"shortDate");Be=On(rn(pe,xe.Short),[xt,dn]);break;case"medium":const Ln=kn(pe,"mediumTime"),hr=kn(pe,"mediumDate");Be=On(rn(pe,xe.Medium),[Ln,hr]);break;case"long":const yi=kn(pe,"longTime"),bi=kn(pe,"longDate");Be=On(rn(pe,xe.Long),[yi,bi]);break;case"full":const Si=kn(pe,"fullTime"),ti=kn(pe,"fullDate");Be=On(rn(pe,xe.Full),[Si,ti])}return Be&&(yt[De][qe]=Be),Be}function On(pe,qe){return qe&&(pe=pe.replace(/\{([^}]+)}/g,function(De,Be){return null!=qe&&Be in qe?qe[Be]:De})),pe}function Er(pe,qe,De="-",Be,xt){let dn="";(pe<0||xt&&pe<=0)&&(xt?pe=1-pe:(pe=-pe,dn=De));let Ln=String(pe);for(;Ln.length<qe;)Ln="0"+Ln;return Be&&(Ln=Ln.slice(Ln.length-qe)),dn+Ln}function Jn(pe,qe,De=0,Be=!1,xt=!1){return function(dn,Ln){let hr=function Pt(pe,qe){switch(pe){case 0:return qe.getFullYear();case 1:return qe.getMonth();case 2:return qe.getDate();case 3:return qe.getHours();case 4:return qe.getMinutes();case 5:return qe.getSeconds();case 6:return qe.getMilliseconds();case 7:return qe.getDay();default:throw new r.buA(2301,!1)}}(pe,dn);if((De>0||hr>-De)&&(hr+=De),3===pe)0===hr&&-12===De&&(hr=12);else if(6===pe)return function mi(pe,qe){return Er(pe,3).substring(0,qe)}(hr,qe);const yi=It(Ln,5);return Er(hr,qe,yi,Be,xt)}}function Kt(pe,qe,De=m.Format,Be=!1){return function(xt,dn){return function Un(pe,qe,De,Be,xt,dn){switch(De){case 2:return function be(pe,qe,De){const Be=(0,R.kBR)(pe),dn=Ge([Be[R.NSC.MonthsFormat],Be[R.NSC.MonthsStandalone]],qe);return Ge(dn,De)}(qe,xt,Be)[pe.getMonth()];case 1:return function Te(pe,qe,De){const Be=(0,R.kBR)(pe),dn=Ge([Be[R.NSC.DaysFormat],Be[R.NSC.DaysStandalone]],qe);return Ge(dn,De)}(qe,xt,Be)[pe.getDay()];case 0:const Ln=pe.getHours(),hr=pe.getMinutes();if(dn){const bi=function Dt(pe){const qe=(0,R.kBR)(pe);return Bt(qe),(qe[R.NSC.ExtraData][2]||[]).map(Be=>"string"==typeof Be?Ft(Be):[Ft(Be[0]),Ft(Be[1])])}(qe),Si=function ht(pe,qe,De){const Be=(0,R.kBR)(pe);Bt(Be);const dn=Ge([Be[R.NSC.ExtraData][0],Be[R.NSC.ExtraData][1]],qe)||[];return Ge(dn,De)||[]}(qe,xt,Be),ti=bi.findIndex(Hi=>{if(Array.isArray(Hi)){const[zr,Ii]=Hi,to=Ln>=zr.hours&&hr>=zr.minutes,Yo=Ln<Ii.hours||Ln===Ii.hours&&hr<Ii.minutes;if(zr.hours<Ii.hours){if(to&&Yo)return!0}else if(to||Yo)return!0}else if(Hi.hours===Ln&&Hi.minutes===hr)return!0;return!1});if(-1!==ti)return Si[ti]}return function je(pe,qe,De){const Be=(0,R.kBR)(pe),dn=Ge([Be[R.NSC.DayPeriodsFormat],Be[R.NSC.DayPeriodsStandalone]],qe);return Ge(dn,De)}(qe,xt,Be)[Ln<12?0:1];case 3:return function Oe(pe,qe){return Ge((0,R.kBR)(pe)[R.NSC.Eras],qe)}(qe,Be)[pe.getFullYear()<=0?0:1];default:throw new r.buA(2302,!1)}}(xt,dn,pe,qe,De,Be)}}function fr(pe){return function(qe,De,Be){const xt=-1*Be,dn=It(De,5),Ln=xt>0?Math.floor(xt/60):Math.ceil(xt/60);switch(pe){case 0:return(xt>=0?"+":"")+Er(Ln,2,dn)+Er(Math.abs(xt%60),2,dn);case 1:return"GMT"+(xt>=0?"+":"")+Er(Ln,1,dn);case 2:return"GMT"+(xt>=0?"+":"")+Er(Ln,2,dn)+":"+Er(Math.abs(xt%60),2,dn);case 3:return 0===Be?"Z":(xt>=0?"+":"")+Er(Ln,2,dn)+":"+Er(Math.abs(xt%60),2,dn);default:throw new r.buA(2310,!1)}}}function Gi(pe){const qe=pe.getDay(),De=0===qe?-3:4-qe;return Gt(pe.getFullYear(),pe.getMonth(),pe.getDate()+De)}function Li(pe,qe=!1){return function(De,Be){let xt;if(qe){const dn=new Date(De.getFullYear(),De.getMonth(),1).getDay()-1,Ln=De.getDate();xt=1+Math.floor((Ln+dn)/7)}else{const dn=Gi(De),Ln=function li(pe){const qe=Gt(pe,0,1).getDay();return Gt(pe,0,1+(qe<=4?4:11)-qe)}(dn.getFullYear()),hr=dn.getTime()-Ln.getTime();xt=1+Math.round(hr/6048e5)}return Er(xt,pe,It(Be,5))}}function oi(pe,qe=!1){return function(De,Be){return Er(Gi(De).getFullYear(),pe,It(Be,5),qe)}}const yn={};function ln(pe,qe){pe=pe.replace(/:/g,"");const De=Date.parse("Jan 01, 1970 00:00:00 "+pe)/6e4;return isNaN(De)?qe:De}function Zn(pe){return pe instanceof Date&&!isNaN(pe.valueOf())}const Fi=/^(\d+)?\.((\d+)(-(\d+))?)?$/;function _i(pe){const qe=parseInt(pe);if(isNaN(qe))throw new r.buA(2305,!1);return qe}const Do=/\s+/,Wi=[];let wo=(()=>{class pe{_ngEl;_renderer;initialClasses=Wi;rawClass;stateMap=new Map;constructor(De,Be){this._ngEl=De,this._renderer=Be}set klass(De){this.initialClasses=null!=De?De.trim().split(Do):Wi}set ngClass(De){this.rawClass="string"==typeof De?De.trim().split(Do):De}ngDoCheck(){for(const Be of this.initialClasses)this._updateState(Be,!0);const De=this.rawClass;if(Array.isArray(De)||De instanceof Set)for(const Be of De)this._updateState(Be,!0);else if(null!=De)for(const Be of Object.keys(De))this._updateState(Be,!!De[Be]);this._applyStateDiff()}_updateState(De,Be){const xt=this.stateMap.get(De);void 0!==xt?(xt.enabled!==Be&&(xt.changed=!0,xt.enabled=Be),xt.touched=!0):this.stateMap.set(De,{enabled:Be,changed:!0,touched:!0})}_applyStateDiff(){for(const De of this.stateMap){const Be=De[0],xt=De[1];xt.changed?(this._toggleClass(Be,xt.enabled),xt.changed=!1):xt.touched||(xt.enabled&&this._toggleClass(Be,!1),this.stateMap.delete(Be)),xt.touched=!1}}_toggleClass(De,Be){(De=De.trim()).length>0&&De.split(Do).forEach(xt=>{Be?this._renderer.addClass(this._ngEl.nativeElement,xt):this._renderer.removeClass(this._ngEl.nativeElement,xt)})}static \u0275fac=function(Be){return new(Be||pe)(R.rXU(R.aKT),R.rXU(R.sFG))};static \u0275dir=R.FsC({type:pe,selectors:[["","ngClass",""]],inputs:{klass:[0,"class","klass"],ngClass:"ngClass"}})}return pe})(),wi=(()=>{class pe{_viewContainerRef;ngComponentOutlet=null;ngComponentOutletInputs;ngComponentOutletInjector;ngComponentOutletEnvironmentInjector;ngComponentOutletContent;ngComponentOutletNgModule;_componentRef;_moduleRef;_inputsUsed=new Map;get componentInstance(){return this._componentRef?.instance??null}constructor(De){this._viewContainerRef=De}_needToReCreateNgModuleInstance(De){return void 0!==De.ngComponentOutletNgModule}_needToReCreateComponentInstance(De){return void 0!==De.ngComponentOutlet||void 0!==De.ngComponentOutletContent||void 0!==De.ngComponentOutletInjector||void 0!==De.ngComponentOutletEnvironmentInjector||this._needToReCreateNgModuleInstance(De)}ngOnChanges(De){if(this._needToReCreateComponentInstance(De)&&(this._viewContainerRef.clear(),this._inputsUsed.clear(),this._componentRef=void 0,this.ngComponentOutlet)){const Be=this.ngComponentOutletInjector||this._viewContainerRef.parentInjector;this._needToReCreateNgModuleInstance(De)&&(this._moduleRef?.destroy(),this._moduleRef=this.ngComponentOutletNgModule?(0,R.w6W)(this.ngComponentOutletNgModule,function ss(pe){return pe.get(R.Ab1).injector}(Be)):void 0),this._componentRef=this._viewContainerRef.createComponent(this.ngComponentOutlet,{injector:Be,ngModuleRef:this._moduleRef,projectableNodes:this.ngComponentOutletContent,environmentInjector:this.ngComponentOutletEnvironmentInjector})}}ngDoCheck(){if(this._componentRef){if(this.ngComponentOutletInputs)for(const De of Object.keys(this.ngComponentOutletInputs))this._inputsUsed.set(De,!0);this._applyInputStateDiff(this._componentRef)}}ngOnDestroy(){this._moduleRef?.destroy()}_applyInputStateDiff(De){for(const[Be,xt]of this._inputsUsed)xt?(De.setInput(Be,this.ngComponentOutletInputs[Be]),this._inputsUsed.set(Be,!1)):(De.setInput(Be,void 0),this._inputsUsed.delete(Be))}static \u0275fac=function(Be){return new(Be||pe)(R.rXU(R.c1b))};static \u0275dir=R.FsC({type:pe,selectors:[["","ngComponentOutlet",""]],inputs:{ngComponentOutlet:"ngComponentOutlet",ngComponentOutletInputs:"ngComponentOutletInputs",ngComponentOutletInjector:"ngComponentOutletInjector",ngComponentOutletEnvironmentInjector:"ngComponentOutletEnvironmentInjector",ngComponentOutletContent:"ngComponentOutletContent",ngComponentOutletNgModule:"ngComponentOutletNgModule"},exportAs:["ngComponentOutlet"],features:[R.OA$]})}return pe})();class yo{$implicit;ngForOf;index;count;constructor(qe,De,Be,xt){this.$implicit=qe,this.ngForOf=De,this.index=Be,this.count=xt}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Ji=(()=>{class pe{_viewContainer;_template;_differs;set ngForOf(De){this._ngForOf=De,this._ngForOfDirty=!0}set ngForTrackBy(De){this._trackByFn=De}get ngForTrackBy(){return this._trackByFn}_ngForOf=null;_ngForOfDirty=!0;_differ=null;_trackByFn;constructor(De,Be,xt){this._viewContainer=De,this._template=Be,this._differs=xt}set ngForTemplate(De){De&&(this._template=De)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const De=this._ngForOf;!this._differ&&De&&(this._differ=this._differs.find(De).create(this.ngForTrackBy))}if(this._differ){const De=this._differ.diff(this._ngForOf);De&&this._applyChanges(De)}}_applyChanges(De){const Be=this._viewContainer;De.forEachOperation((xt,dn,Ln)=>{if(null==xt.previousIndex)Be.createEmbeddedView(this._template,new yo(xt.item,this._ngForOf,-1,-1),null===Ln?void 0:Ln);else if(null==Ln)Be.remove(null===dn?void 0:dn);else if(null!==dn){const hr=Be.get(dn);Be.move(hr,Ln),Zi(hr,xt)}});for(let xt=0,dn=Be.length;xt<dn;xt++){const hr=Be.get(xt).context;hr.index=xt,hr.count=dn,hr.ngForOf=this._ngForOf}De.forEachIdentityChange(xt=>{Zi(Be.get(xt.currentIndex),xt)})}static ngTemplateContextGuard(De,Be){return!0}static \u0275fac=function(Be){return new(Be||pe)(R.rXU(R.c1b),R.rXU(R.C4Q),R.rXU(L._q3))};static \u0275dir=R.FsC({type:pe,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}})}return pe})();function Zi(pe,qe){pe.context.$implicit=qe.item}let Xr=(()=>{class pe{_viewContainer;_context=new Bo;_thenTemplateRef=null;_elseTemplateRef=null;_thenViewRef=null;_elseViewRef=null;constructor(De,Be){this._viewContainer=De,this._thenTemplateRef=Be}set ngIf(De){this._context.$implicit=this._context.ngIf=De,this._updateView()}set ngIfThen(De){He(De),this._thenTemplateRef=De,this._thenViewRef=null,this._updateView()}set ngIfElse(De){He(De),this._elseTemplateRef=De,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngIfUseIfTypeGuard;static ngTemplateGuard_ngIf;static ngTemplateContextGuard(De,Be){return!0}static \u0275fac=function(Be){return new(Be||pe)(R.rXU(R.c1b),R.rXU(R.C4Q))};static \u0275dir=R.FsC({type:pe,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}})}return pe})();class Bo{$implicit=null;ngIf=null}function He(pe,qe){if(pe&&!pe.createEmbeddedView)throw new r.buA(2020,!1)}function Cn(pe,qe){return new r.buA(2100,!1)}const _r=/(?:[0-9A-Za-z\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u0870-\u0887\u0889-\u088E\u08A0-\u08C9\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C5D\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D04-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16F1-\u16F8\u1700-\u1711\u171F-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1878\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4C\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C88\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184\u2C00-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u31A0-\u31BF\u31F0-\u31FF\u3400-\u4DBF\u4E00-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788\uA78B-\uA7CA\uA7D0\uA7D1\uA7D3\uA7D5-\uA7D9\uA7F2-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF2D-\uDF40\uDF42-\uDF49\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF]|\uD801[\uDC00-\uDC9D\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDD70-\uDD7A\uDD7C-\uDD8A\uDD8C-\uDD92\uDD94\uDD95\uDD97-\uDDA1\uDDA3-\uDDB1\uDDB3-\uDDB9\uDDBB\uDDBC\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67\uDF80-\uDF85\uDF87-\uDFB0\uDFB2-\uDFBA]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDD00-\uDD23\uDE80-\uDEA9\uDEB0\uDEB1\uDF00-\uDF1C\uDF27\uDF30-\uDF45\uDF70-\uDF81\uDFB0-\uDFC4\uDFE0-\uDFF6]|\uD804[\uDC03-\uDC37\uDC71\uDC72\uDC75\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD44\uDD47\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE2B\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC5F-\uDC61\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE80-\uDEAA\uDEB8\uDF00-\uDF1A\uDF40-\uDF46]|\uD806[\uDC00-\uDC2B\uDCA0-\uDCDF\uDCFF-\uDD06\uDD09\uDD0C-\uDD13\uDD15\uDD16\uDD18-\uDD2F\uDD3F\uDD41\uDDA0-\uDDA7\uDDAA-\uDDD0\uDDE1\uDDE3\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE89\uDE9D\uDEB0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD89\uDD98\uDEE0-\uDEF2\uDFB0]|\uD808[\uDC00-\uDF99]|\uD809[\uDC80-\uDD43]|\uD80B[\uDF90-\uDFF0]|[\uD80C\uD81C-\uD820\uD822\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879\uD880-\uD883][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE70-\uDEBE\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDE40-\uDE7F\uDF00-\uDF4A\uDF50\uDF93-\uDF9F\uDFE0\uDFE1\uDFE3]|\uD821[\uDC00-\uDFF7]|\uD823[\uDC00-\uDCD5\uDD00-\uDD08]|\uD82B[\uDFF0-\uDFF3\uDFF5-\uDFFB\uDFFD\uDFFE]|\uD82C[\uDC00-\uDD22\uDD50-\uDD52\uDD64-\uDD67\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD837[\uDF00-\uDF1E]|\uD838[\uDD00-\uDD2C\uDD37-\uDD3D\uDD4E\uDE90-\uDEAD\uDEC0-\uDEEB]|\uD839[\uDFE0-\uDFE6\uDFE8-\uDFEB\uDFED\uDFEE\uDFF0-\uDFFE]|\uD83A[\uDC00-\uDCC4\uDD00-\uDD43\uDD4B]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDEDF\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF38\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A])\S*/g;let Ur=(()=>{class pe{transform(De){if(null==De)return null;if("string"!=typeof De)throw Cn();return De.replace(_r,Be=>Be[0].toUpperCase()+Be.slice(1).toLowerCase())}static \u0275fac=function(Be){return new(Be||pe)};static \u0275pipe=R.EJ8({name:"titlecase",type:pe,pure:!0})}return pe})();const Yi=new r.nKC(""),hi=new r.nKC("");let To=(()=>{class pe{locale;defaultTimezone;defaultOptions;constructor(De,Be,xt){this.locale=De,this.defaultTimezone=Be,this.defaultOptions=xt}transform(De,Be,xt,dn){if(null==De||""===De||De!=De)return null;try{return wn(De,Be??this.defaultOptions?.dateFormat??"mediumDate",dn||this.locale,xt??this.defaultOptions?.timezone??this.defaultTimezone??void 0)}catch(Ln){throw Cn()}}static \u0275fac=function(Be){return new(Be||pe)(R.rXU(R.xe9,16),R.rXU(Yi,24),R.rXU(hi,24))};static \u0275pipe=R.EJ8({name:"date",type:pe,pure:!0})}return pe})(),Vo=(()=>{class pe{transform(De){return JSON.stringify(De,null,2)}static \u0275fac=function(Be){return new(Be||pe)};static \u0275pipe=R.EJ8({name:"json",type:pe,pure:!1})}return pe})(),Os=(()=>{class pe{_locale;constructor(De){this._locale=De}transform(De,Be,xt){if(!function so(pe){return!(null==pe||""===pe||pe!=pe)}(De))return null;xt||=this._locale;try{return function vo(pe,qe,De){return function Lr(pe,qe,De,Be,xt,dn,Ln=!1){let hr="",yi=!1;if(isFinite(pe)){let bi=function ui(pe){let Be,xt,dn,Ln,hr,qe=Math.abs(pe)+"",De=0;for((xt=qe.indexOf("."))>-1&&(qe=qe.replace(".","")),(dn=qe.search(/e/i))>0?(xt<0&&(xt=dn),xt+=+qe.slice(dn+1),qe=qe.substring(0,dn)):xt<0&&(xt=qe.length),dn=0;"0"===qe.charAt(dn);dn++);if(dn===(hr=qe.length))Be=[0],xt=1;else{for(hr--;"0"===qe.charAt(hr);)hr--;for(xt-=dn,Be=[],Ln=0;dn<=hr;dn++,Ln++)Be[Ln]=Number(qe.charAt(dn))}return xt>22&&(Be=Be.splice(0,21),De=xt-1,xt=1),{digits:Be,exponent:De,integerLen:xt}}(pe);Ln&&(bi=function Di(pe){if(0===pe.digits[0])return pe;const qe=pe.digits.length-pe.integerLen;return pe.exponent?pe.exponent+=2:(0===qe?pe.digits.push(0,0):1===qe&&pe.digits.push(0),pe.integerLen+=2),pe}(bi));let Si=qe.minInt,ti=qe.minFrac,Hi=qe.maxFrac;if(dn){const Es=dn.match(Fi);if(null===Es)throw new r.buA(2306,!1);const Eo=Es[1],bo=Es[3],So=Es[5];null!=Eo&&(Si=_i(Eo)),null!=bo&&(ti=_i(bo)),null!=So?Hi=_i(So):null!=bo&&ti>Hi&&(Hi=ti)}!function $i(pe,qe,De){if(qe>De)throw new r.buA(2307,!1);let Be=pe.digits,xt=Be.length-pe.integerLen;const dn=Math.min(Math.max(qe,xt),De);let Ln=dn+pe.integerLen,hr=Be[Ln];if(Ln>0){Be.splice(Math.max(pe.integerLen,Ln));for(let ti=Ln;ti<Be.length;ti++)Be[ti]=0}else{xt=Math.max(0,xt),pe.integerLen=1,Be.length=Math.max(1,Ln=dn+1),Be[0]=0;for(let ti=1;ti<Ln;ti++)Be[ti]=0}if(hr>=5)if(Ln-1<0){for(let ti=0;ti>Ln;ti--)Be.unshift(0),pe.integerLen++;Be.unshift(1),pe.integerLen++}else Be[Ln-1]++;for(;xt<Math.max(0,dn);xt++)Be.push(0);let yi=0!==dn;const bi=qe+pe.integerLen,Si=Be.reduceRight(function(ti,Hi,zr,Ii){return Ii[zr]=(Hi+=ti)<10?Hi:Hi-10,yi&&(0===Ii[zr]&&zr>=bi?Ii.pop():yi=!1),Hi>=10?1:0},0);Si&&(Be.unshift(Si),pe.integerLen++)}(bi,ti,Hi);let zr=bi.digits,Ii=bi.integerLen;const to=bi.exponent;let Yo=[];for(yi=zr.every(Es=>!Es);Ii<Si;Ii++)zr.unshift(0);for(;Ii<0;Ii++)zr.unshift(0);Ii>0?Yo=zr.splice(Ii,zr.length):(Yo=zr,zr=[0]);const ao=[];for(zr.length>=qe.lgSize&&ao.unshift(zr.splice(-qe.lgSize,zr.length).join(""));zr.length>qe.gSize;)ao.unshift(zr.splice(-qe.gSize,zr.length).join(""));zr.length&&ao.unshift(zr.join("")),hr=ao.join(It(De,Be)),Yo.length&&(hr+=It(De,xt)+Yo.join("")),to&&(hr+=It(De,6)+"+"+to)}else hr=It(De,9);return hr=pe<0&&!yi?qe.negPre+hr+qe.negSuf:qe.posPre+hr+qe.posSuf,hr}(pe,function Ui(pe,qe="-"){const De={minInt:1,minFrac:0,maxFrac:0,posPre:"",posSuf:"",negPre:"",negSuf:"",gSize:0,lgSize:0},Be=pe.split(";"),xt=Be[0],dn=Be[1],Ln=-1!==xt.indexOf(".")?xt.split("."):[xt.substring(0,xt.lastIndexOf("0")+1),xt.substring(xt.lastIndexOf("0")+1)],hr=Ln[0],yi=Ln[1]||"";De.posPre=hr.substring(0,hr.indexOf("#"));for(let Si=0;Si<yi.length;Si++){const ti=yi.charAt(Si);"0"===ti?De.minFrac=De.maxFrac=Si+1:"#"===ti?De.maxFrac=Si+1:De.posSuf+=ti}const bi=hr.split(",");if(De.gSize=bi[1]?bi[1].length:0,De.lgSize=bi[2]||bi[1]?(bi[2]||bi[1]).length:0,dn){const Si=xt.length-De.posPre.length-De.posSuf.length,ti=dn.indexOf("#");De.negPre=dn.substring(0,ti).replace(/'/g,""),De.negSuf=dn.slice(ti+Si).replace(/'/g,"")}else De.negPre=qe+De.posPre,De.negSuf=De.posSuf;return De}(function Ht(pe,qe){return(0,R.kBR)(pe)[R.NSC.NumberFormats][qe]}(qe,ee.Decimal),It(qe,5)),qe,1,0,De)}(function zs(pe){if("string"==typeof pe&&!isNaN(Number(pe)-parseFloat(pe)))return Number(pe);if("number"!=typeof pe)throw new r.buA(2309,!1);return pe}(De),xt,Be)}catch(dn){throw Cn()}}static \u0275fac=function(Be){return new(Be||pe)(R.rXU(R.xe9,16))};static \u0275pipe=R.EJ8({name:"number",type:pe,pure:!0})}return pe})();let Cs=(()=>{class pe{static \u0275fac=function(Be){return new(Be||pe)};static \u0275mod=R.$C({type:pe});static \u0275inj=r.G2t({})}return pe})()},9786(on,ct,$){"use strict";$.d(ct,{Y:()=>R,l:()=>ve});var L=$(1026);let r=null;function R(oe){if(L.$.useDeprecatedSynchronousErrorHandling){const ke=!r;if(ke&&(r={errorThrown:!1,error:null}),oe(),ke){const{errorThrown:Ae,error:ee}=r;if(r=null,Ae)throw ee}}else oe()}function ve(oe){L.$.useDeprecatedSynchronousErrorHandling&&r&&(r.errorThrown=!0,r.error=oe)}},9858(on,ct,$){"use strict";$.d(ct,{y:()=>r});var L=$(8071);function r(R){return(0,L.T)(R?.then)}},9974(on,ct,$){"use strict";$.d(ct,{N:()=>R});var L=$(8071);function R(ve){return oe=>{if(function r(ve){return(0,L.T)(ve?.lift)}(oe))return oe.lift(function(ke){try{return ve(ke,this)}catch(Ae){this.error(Ae)}});throw new TypeError("Unable to lift unknown Observable type")}}},9986(on,ct,$){var r,R,ve,oe,Ae,ee,L;on.exports=(L=$(7656),ve=(R=(r=L).lib).WordArray,Ae=[],ee=r.algo.SHA1=(oe=R.Hasher).extend({_doReset:function(){this._hash=new ve.init([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(v,m){for(var ie=this._hash.words,xe=ie[0],t=ie[1],Le=ie[2],Se=ie[3],je=ie[4],Te=0;Te<80;Te++){if(Te<16)Ae[Te]=0|v[m+Te];else{var be=Ae[Te-3]^Ae[Te-8]^Ae[Te-14]^Ae[Te-16];Ae[Te]=be<<1|be>>>31}var Oe=(xe<<5|xe>>>27)+je+Ae[Te];Oe+=Te<20?1518500249+(t&Le|~t&Se):Te<40?1859775393+(t^Le^Se):Te<60?(t&Le|t&Se|Le&Se)-1894007588:(t^Le^Se)-899497514,je=Se,Se=Le,Le=t<<30|t>>>2,t=xe,xe=Oe}ie[0]=ie[0]+xe|0,ie[1]=ie[1]+t|0,ie[2]=ie[2]+Le|0,ie[3]=ie[3]+Se|0,ie[4]=ie[4]+je|0},_doFinalize:function(){var v=this._data,m=v.words,ie=8*this._nDataBytes,xe=8*v.sigBytes;return m[xe>>>5]|=128<<24-xe%32,m[14+(xe+64>>>9<<4)]=Math.floor(ie/4294967296),m[15+(xe+64>>>9<<4)]=ie,v.sigBytes=4*m.length,this._process(),this._hash},clone:function(){var v=oe.clone.call(this);return v._hash=this._hash.clone(),v}}),r.SHA1=oe._createHelper(ee),r.HmacSHA1=oe._createHmacHelper(ee),L.SHA1)}},on=>{on(on.s=5463)}]);