"use strict";(self.webpackChunkshell=self.webpackChunkshell||[]).push([[201],{5201(f,i,c){c.d(i,{SyncLogPage:()=>m});var o=c(9769),l=c(375),p=c(4809),t=c(5547);const g=(n,r,e)=>({"bg-green-50 text-green-700 border-green-200":n,"bg-blue-50 text-blue-700 border-blue-200":r,"bg-red-50 text-red-700 border-red-200":e}),b=(n,r,e,s)=>({"bg-yellow-100 text-yellow-800":n,"bg-blue-100 text-blue-800":r,"bg-green-100 text-green-800":e,"bg-red-100 text-red-800":s});function u(n,r){if(1&n&&(t.j41(0,"tr",13)(1,"td",14),t.EFF(2),t.k0s(),t.j41(3,"td",15),t.EFF(4),t.k0s(),t.j41(5,"td",10)(6,"span",16),t.EFF(7),t.k0s()(),t.j41(8,"td",14),t.EFF(9),t.nI1(10,"date"),t.k0s(),t.j41(11,"td",10)(12,"span",17),t.EFF(13),t.k0s()(),t.j41(14,"td",18),t.EFF(15),t.k0s()()),2&n){const e=r.$implicit;t.R7$(2),t.SpI("#",e.id),t.R7$(2),t.JRh(e.entityType),t.R7$(2),t.Y8G("ngClass",t.sMw(11,g,"CREATE"===e.operation,"UPDATE"===e.operation,"DELETE"===e.operation)),t.R7$(),t.SpI(" ",e.operation," "),t.R7$(2),t.JRh(t.i5U(10,8,e.timestamp,"mediumTime")),t.R7$(3),t.Y8G("ngClass",t.ziG(15,b,"PENDING"===e.status,"IN_PROGRESS"===e.status,"COMPLETED"===e.status,"FAILED"===e.status)),t.R7$(),t.SpI(" ",e.status," "),t.R7$(2),t.SpI(" ",e.errorMessage||"-"," ")}}function h(n,r){1&n&&(t.j41(0,"tr")(1,"td",19),t.EFF(2,"No sync logs found."),t.k0s()())}let y=(()=>{class n{facade=(0,l.WQX)(p.k);logs=(0,l.vPA)([]);ngOnInit(){this.refresh()}refresh(){this.facade.getAllLogs().then(e=>this.logs.set(e))}retry(){this.facade.retrySync().then(()=>{setTimeout(()=>this.refresh(),1e3)})}clear(){this.facade.clearCompletedLogs().then(()=>this.refresh())}static \u0275fac=function(s){return new(s||n)};static \u0275cmp=t.VBU({type:n,selectors:[["app-sync-dashboard"]],decls:30,vars:2,consts:[[1,"border","p-4","bg-white","rounded","mt-4"],[1,"flex","justify-between","items-center","mb-4"],[1,"font-bold"],[1,"gap-2","flex"],[1,"bg-gray-200","px-3","py-1","rounded","text-sm","hover:bg-gray-300",3,"click"],[1,"bg-blue-600","text-white","px-3","py-1","rounded","text-sm","hover:bg-blue-700",3,"click"],[1,"bg-red-100","text-red-600","px-3","py-1","rounded","text-sm","hover:bg-red-200",3,"click"],[1,"overflow-x-auto"],[1,"w-full","text-sm","text-left"],[1,"bg-gray-50","text-gray-700","uppercase"],[1,"px-4","py-2"],["class","border-b hover:bg-gray-50",4,"ngFor","ngForOf"],[4,"ngIf"],[1,"border-b","hover:bg-gray-50"],[1,"px-4","py-2","text-gray-500"],[1,"px-4","py-2","font-medium"],[1,"px-2","py-0.5","rounded","text-xs","border",3,"ngClass"],[1,"px-2","py-1","rounded-full","text-xs","font-bold",3,"ngClass"],[1,"px-4","py-2","text-xs","text-gray-400","max-w-xs","truncate"],["colspan","6",1,"px-4","py-8","text-center","text-gray-500"]],template:function(s,a){1&s&&(t.j41(0,"div",0)(1,"div",1)(2,"h2",2),t.EFF(3,"Sync Activity Log"),t.k0s(),t.j41(4,"div",3)(5,"button",4),t.bIt("click",function(){return a.refresh()}),t.EFF(6,"Refresh"),t.k0s(),t.j41(7,"button",5),t.bIt("click",function(){return a.retry()}),t.EFF(8,"Retry Pending"),t.k0s(),t.j41(9,"button",6),t.bIt("click",function(){return a.clear()}),t.EFF(10,"Clear Completed"),t.k0s()()(),t.j41(11,"div",7)(12,"table",8)(13,"thead",9)(14,"tr")(15,"th",10),t.EFF(16,"ID"),t.k0s(),t.j41(17,"th",10),t.EFF(18,"Entity"),t.k0s(),t.j41(19,"th",10),t.EFF(20,"Operation"),t.k0s(),t.j41(21,"th",10),t.EFF(22,"Time"),t.k0s(),t.j41(23,"th",10),t.EFF(24,"Status"),t.k0s(),t.j41(25,"th",10),t.EFF(26,"Info"),t.k0s()()(),t.j41(27,"tbody"),t.DNE(28,u,16,20,"tr",11)(29,h,3,0,"tr",12),t.k0s()()()()),2&s&&(t.R7$(28),t.Y8G("ngForOf",a.logs()),t.R7$(),t.Y8G("ngIf",0===a.logs().length))},dependencies:[o.MD,o.YU,o.Sq,o.bT,o.vh],encapsulation:2})}return n})(),m=(()=>{class n{static \u0275fac=function(s){return new(s||n)};static \u0275cmp=t.VBU({type:n,selectors:[["app-sync-log-page"]],decls:6,vars:0,consts:[[1,"p-6"],[1,"text-2xl","font-bold","mb-4"],[1,"text-sm","text-gray-500","mb-6"]],template:function(s,a){1&s&&(t.j41(0,"div",0)(1,"h1",1),t.EFF(2,"Synchronization Logs"),t.k0s(),t.j41(3,"p",2),t.EFF(4,"Monitor and manage offline data synchronization."),t.k0s(),t.nrm(5,"app-sync-dashboard"),t.k0s())},dependencies:[o.MD,y],encapsulation:2})}return n})()}}]);